function a0_0x2af9(){const _0x4f50e1=['1262rbARdz','../public/language/languages.json','36kQoNxl','/supplier','/room','body','express','json','$_id','aggregate','INC-','7057060RJJFaD','post','find','$room','../models/all_models','message','/invoice','path','$name','exports','table\x20page','1424292GSeKVv','Router','1234420pGdLPz','status','nodemailer','16346860llMWdN','../middleware/auth','log','Enabled','ejs','Raw\x20Materials','random','1769388fWgDTP','28xAsAqX','3171AuFOqV','3080872bhpLTl','Return\x20Goods'];a0_0x2af9=function(){return _0x4f50e1;};return a0_0x2af9();}const a0_0x140571=a0_0x5cf0;(function(_0x1e73fc,_0x26e0b6){const _0x500e5c=a0_0x5cf0,_0x14ff9f=_0x1e73fc();while(!![]){try{const _0x54e0ea=parseInt(_0x500e5c(0xec))/0x1+parseInt(_0x500e5c(0xfb))/0x2*(-parseInt(_0x500e5c(0xf8))/0x3)+-parseInt(_0x500e5c(0xea))/0x4+-parseInt(_0x500e5c(0x106))/0x5+parseInt(_0x500e5c(0xf6))/0x6*(-parseInt(_0x500e5c(0xf7))/0x7)+-parseInt(_0x500e5c(0xf9))/0x8*(-parseInt(_0x500e5c(0xfd))/0x9)+parseInt(_0x500e5c(0xef))/0xa;if(_0x54e0ea===_0x26e0b6)break;else _0x14ff9f['push'](_0x14ff9f['shift']());}catch(_0x1a4144){_0x14ff9f['push'](_0x14ff9f['shift']());}}}(a0_0x2af9,0xc236a));const express=require(a0_0x140571(0x101)),app=express(),router=express[a0_0x140571(0xeb)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x140571(0x10a)),auth=require(a0_0x140571(0xf0)),nodemailer=require(a0_0x140571(0xee));var ejs=require(a0_0x140571(0xf3));const path=require(a0_0x140571(0x10d)),users=require(a0_0x140571(0xfc));function a0_0x5cf0(_0x1071a2,_0x31b27c){const _0x2af9b0=a0_0x2af9();return a0_0x5cf0=function(_0x5cf029,_0x3fb308){_0x5cf029=_0x5cf029-0xe8;let _0x29eefc=_0x2af9b0[_0x5cf029];return _0x29eefc;},a0_0x5cf0(_0x1071a2,_0x31b27c);}router['post']('/view',async(_0x244a9a,_0x5d7261)=>{const _0x43ccd5=a0_0x140571;try{const {warehouse_category:_0x59f6d4}=_0x244a9a['body'];if(_0x59f6d4=='RM'){const _0x4e849f=await warehouse['aggregate']([{'$match':{'status':_0x43ccd5(0xf2),'warehouse_category':_0x43ccd5(0xf4),'name':{'$ne':_0x43ccd5(0xfa)}}},{'$group':{'_id':_0x43ccd5(0x10e),'name':{'$first':'$name'}}}]);_0x5d7261[_0x43ccd5(0x102)](_0x4e849f);}else{const _0x1f146f=await warehouse[_0x43ccd5(0x104)]([{'$match':{'status':_0x43ccd5(0xf2),'warehouse_category':'Finished\x20Goods','name':{'$ne':_0x43ccd5(0xfa)}}},{'$group':{'_id':'$name','name':{'$first':_0x43ccd5(0x10e)}}}]);_0x5d7261['json'](_0x1f146f);}}catch(_0x2c3a65){console[_0x43ccd5(0xf1)]('table\x20page',_0x2c3a65),_0x5d7261[_0x43ccd5(0xed)](0xc8)[_0x43ccd5(0x102)]({'message':_0x2c3a65['message']});}}),router[a0_0x140571(0x107)](a0_0x140571(0xfe),async(_0x44c597,_0x38a977)=>{const _0x3bdb21=a0_0x140571;try{const _0x2b066d=await suppliers[_0x3bdb21(0x108)]({});_0x38a977['status'](0xc8)[_0x3bdb21(0x102)](_0x2b066d);}catch(_0x11fede){console[_0x3bdb21(0xf1)]('table\x20page',_0x11fede),_0x38a977[_0x3bdb21(0xed)](0xc8)[_0x3bdb21(0x102)]({'message':_0x11fede[_0x3bdb21(0x10b)]});}}),router[a0_0x140571(0x107)](a0_0x140571(0xff),async(_0x4e0abe,_0x63736e)=>{const _0x2b596b=a0_0x140571;try{const {wahouse_data:_0x3c79d1}=_0x4e0abe[_0x2b596b(0x100)],_0x49db24=[{'$match':{'name':_0x3c79d1,'status':_0x2b596b(0xf2)}},{'$group':{'_id':_0x2b596b(0x103),'room_name':{'$first':_0x2b596b(0x109)}}},{'$sort':{'room_name':0x1}}],_0xb6fa17=await warehouse[_0x2b596b(0x104)](_0x49db24);_0x63736e['status'](0xc8)[_0x2b596b(0x102)](_0xb6fa17);}catch(_0x34673e){console['log'](_0x2b596b(0xe9),_0x34673e),_0x63736e[_0x2b596b(0xed)](0xc8)[_0x2b596b(0x102)]({'message':_0x34673e[_0x2b596b(0x10b)]});}}),router[a0_0x140571(0x107)](a0_0x140571(0x10c),async(_0x2beadd,_0x4eb355)=>{const _0x2bd340=a0_0x140571;try{const _0x2199c9=0x989680,_0x31a4aa=0x5f5e0ff,_0x297f18=Math['floor'](Math[_0x2bd340(0xf5)]()*(_0x31a4aa-_0x2199c9+0x1))+_0x2199c9;var _0x33dbc6;const _0x2ceefc=await purchases['findOne']({'invoice':'INC-'+_0x297f18});return _0x2ceefc&&_0x2ceefc['length']>0x0?_0x33dbc6=_0x2bd340(0x105)+_0x297f18:_0x33dbc6='INC-'+_0x297f18,_0x4eb355[_0x2bd340(0x102)]({'incoming_invoice':_0x33dbc6}),_0x33dbc6;}catch(_0x1530b9){console[_0x2bd340(0xf1)](_0x2bd340(0xe9),_0x1530b9),_0x4eb355['status'](0xc8)[_0x2bd340(0x102)]({'message':_0x1530b9['message']});}}),module[a0_0x140571(0xe8)]=router;