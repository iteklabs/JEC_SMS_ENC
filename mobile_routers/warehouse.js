function a0_0x39ae(){const _0x5f28c2=['find','4OfxuVh','/room','116846SdWEcp','status','/view','$name','$_id','$room','INC-','187410cOaLzP','690flZRJs','exports','Return\x20Goods','199901kjtEJj','json','../models/all_models','../middleware/auth','message','/supplier','post','3531170TFEhno','table\x20page','Enabled','nodemailer','length','Router','random','9GfPogd','Finished\x20Goods','floor','249798NILnNV','body','/invoice','ejs','aggregate','143BKUJBF','express','log','2148dCAQhD','52906golukm','21BNNZAj','2352768IlLZIQ','findOne'];a0_0x39ae=function(){return _0x5f28c2;};return a0_0x39ae();}const a0_0x310e1e=a0_0x5c08;function a0_0x5c08(_0x132160,_0x43af48){const _0x39aef6=a0_0x39ae();return a0_0x5c08=function(_0x5c088c,_0x307c03){_0x5c088c=_0x5c088c-0x19f;let _0x1bf6e8=_0x39aef6[_0x5c088c];return _0x1bf6e8;},a0_0x5c08(_0x132160,_0x43af48);}(function(_0x5abb0b,_0x12b06f){const _0x36e251=a0_0x5c08,_0x2c49ec=_0x5abb0b();while(!![]){try{const _0x413670=-parseInt(_0x36e251(0x1af))/0x1+parseInt(_0x36e251(0x1bf))/0x2*(-parseInt(_0x36e251(0x1b9))/0x3)+parseInt(_0x36e251(0x1bd))/0x4*(-parseInt(_0x36e251(0x1a5))/0x5)+parseInt(_0x36e251(0x1c7))/0x6*(-parseInt(_0x36e251(0x1b8))/0x7)+parseInt(_0x36e251(0x1ba))/0x8*(-parseInt(_0x36e251(0x1ac))/0x9)+-parseInt(_0x36e251(0x1c6))/0xa*(-parseInt(_0x36e251(0x1b4))/0xb)+parseInt(_0x36e251(0x1b7))/0xc*(parseInt(_0x36e251(0x1ca))/0xd);if(_0x413670===_0x12b06f)break;else _0x2c49ec['push'](_0x2c49ec['shift']());}catch(_0x53db92){_0x2c49ec['push'](_0x2c49ec['shift']());}}}(a0_0x39ae,0x72391));const express=require(a0_0x310e1e(0x1b5)),app=express(),router=express[a0_0x310e1e(0x1aa)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x310e1e(0x1a0)),auth=require(a0_0x310e1e(0x1a1)),nodemailer=require(a0_0x310e1e(0x1a8));var ejs=require(a0_0x310e1e(0x1b2));const path=require('path'),users=require('../public/language/languages.json');router[a0_0x310e1e(0x1a4)](a0_0x310e1e(0x1c1),async(_0x392fdd,_0x507483)=>{const _0x41f09a=a0_0x310e1e;try{const {warehouse_category:_0x259eee}=_0x392fdd[_0x41f09a(0x1b0)];if(_0x259eee=='RM'){const _0x360779=await warehouse[_0x41f09a(0x1b3)]([{'$match':{'status':_0x41f09a(0x1a7),'warehouse_category':'Raw\x20Materials','name':{'$ne':_0x41f09a(0x1c9)}}},{'$group':{'_id':_0x41f09a(0x1c2),'name':{'$first':_0x41f09a(0x1c2)}}}]);_0x507483['json'](_0x360779);}else{const _0x262690=await warehouse[_0x41f09a(0x1b3)]([{'$match':{'status':_0x41f09a(0x1a7),'warehouse_category':_0x41f09a(0x1ad),'name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':_0x41f09a(0x1c2),'name':{'$first':_0x41f09a(0x1c2)}}}]);_0x507483[_0x41f09a(0x19f)](_0x262690);}}catch(_0x65bdd1){console[_0x41f09a(0x1b6)](_0x41f09a(0x1a6),_0x65bdd1),_0x507483[_0x41f09a(0x1c0)](0xc8)[_0x41f09a(0x19f)]({'message':_0x65bdd1[_0x41f09a(0x1a2)]});}}),router[a0_0x310e1e(0x1a4)](a0_0x310e1e(0x1a3),async(_0x3ac3bc,_0x219410)=>{const _0x53fac4=a0_0x310e1e;try{const _0x4d5436=await suppliers[_0x53fac4(0x1bc)]({});_0x219410[_0x53fac4(0x1c0)](0xc8)[_0x53fac4(0x19f)](_0x4d5436);}catch(_0x23cd03){console[_0x53fac4(0x1b6)](_0x53fac4(0x1a6),_0x23cd03),_0x219410[_0x53fac4(0x1c0)](0xc8)[_0x53fac4(0x19f)]({'message':_0x23cd03[_0x53fac4(0x1a2)]});}}),router['post'](a0_0x310e1e(0x1be),async(_0x24392d,_0x991dd)=>{const _0x4528f9=a0_0x310e1e;try{const {wahouse_data:_0x19e423}=_0x24392d[_0x4528f9(0x1b0)],_0x281d6f=[{'$match':{'name':_0x19e423,'status':_0x4528f9(0x1a7)}},{'$group':{'_id':_0x4528f9(0x1c3),'room_name':{'$first':_0x4528f9(0x1c4)}}},{'$sort':{'room_name':0x1}}],_0x58080c=await warehouse[_0x4528f9(0x1b3)](_0x281d6f);_0x991dd[_0x4528f9(0x1c0)](0xc8)[_0x4528f9(0x19f)](_0x58080c);}catch(_0x3ff96f){console[_0x4528f9(0x1b6)](_0x4528f9(0x1a6),_0x3ff96f),_0x991dd['status'](0xc8)[_0x4528f9(0x19f)]({'message':_0x3ff96f[_0x4528f9(0x1a2)]});}}),router[a0_0x310e1e(0x1a4)](a0_0x310e1e(0x1b1),async(_0x423356,_0x24adcb)=>{const _0x11a3ee=a0_0x310e1e;try{const _0x1b97e2=0x989680,_0xcbeea4=0x5f5e0ff,_0x2fe397=Math[_0x11a3ee(0x1ae)](Math[_0x11a3ee(0x1ab)]()*(_0xcbeea4-_0x1b97e2+0x1))+_0x1b97e2;var _0x32d99e;const _0x3dec87=await purchases[_0x11a3ee(0x1bb)]({'invoice':_0x11a3ee(0x1c5)+_0x2fe397});return _0x3dec87&&_0x3dec87[_0x11a3ee(0x1a9)]>0x0?_0x32d99e=_0x11a3ee(0x1c5)+_0x2fe397:_0x32d99e=_0x11a3ee(0x1c5)+_0x2fe397,_0x24adcb[_0x11a3ee(0x19f)]({'incoming_invoice':_0x32d99e}),_0x32d99e;}catch(_0x35533a){console[_0x11a3ee(0x1b6)](_0x11a3ee(0x1a6),_0x35533a),_0x24adcb['status'](0xc8)['json']({'message':_0x35533a['message']});}}),module[a0_0x310e1e(0x1c8)]=router;