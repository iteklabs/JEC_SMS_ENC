const a0_0x51ef44=a0_0x156e;(function(_0x1e1ac4,_0x57f3c5){const _0x54f701=a0_0x156e,_0x187b4e=_0x1e1ac4();while(!![]){try{const _0x4b9f8a=parseInt(_0x54f701(0x7d))/0x1*(-parseInt(_0x54f701(0x90))/0x2)+-parseInt(_0x54f701(0x8a))/0x3*(parseInt(_0x54f701(0x92))/0x4)+-parseInt(_0x54f701(0x91))/0x5*(parseInt(_0x54f701(0x71))/0x6)+-parseInt(_0x54f701(0x75))/0x7*(parseInt(_0x54f701(0x79))/0x8)+-parseInt(_0x54f701(0x85))/0x9+-parseInt(_0x54f701(0x77))/0xa+parseInt(_0x54f701(0x8b))/0xb*(parseInt(_0x54f701(0x8f))/0xc);if(_0x4b9f8a===_0x57f3c5)break;else _0x187b4e['push'](_0x187b4e['shift']());}catch(_0x2916d6){_0x187b4e['push'](_0x187b4e['shift']());}}}(a0_0x3f78,0xdac47));function a0_0x3f78(){const _0x2c2d1a=['14457010hEjvaj','/view','58024siOglc','$name','ejs','json','538MaoDHt','Router','../public/language/languages.json','../models/all_models','$_id','aggregate','Finished\x20Goods','length','8642619ysNqSM','express','Raw\x20Materials','INC-','Enabled','5385LjZNnM','1268047MJXDmc','log','../middleware/auth','findOne','612NhlMbL','2490PkGqbY','3645730wooOtV','508zeOHkk','nodemailer','random','$room','post','table\x20page','/room','Return\x20Goods','6RSFjkm','message','floor','exports','917CtxTcw','status'];a0_0x3f78=function(){return _0x2c2d1a;};return a0_0x3f78();}const express=require(a0_0x51ef44(0x86)),app=express(),router=express[a0_0x51ef44(0x7e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x51ef44(0x80)),auth=require(a0_0x51ef44(0x8d)),nodemailer=require(a0_0x51ef44(0x93));var ejs=require(a0_0x51ef44(0x7b));const path=require('path'),users=require(a0_0x51ef44(0x7f));function a0_0x156e(_0x414480,_0x114b38){const _0x3f780b=a0_0x3f78();return a0_0x156e=function(_0x156ef6,_0x1a57b4){_0x156ef6=_0x156ef6-0x6e;let _0x516599=_0x3f780b[_0x156ef6];return _0x516599;},a0_0x156e(_0x414480,_0x114b38);}router[a0_0x51ef44(0x96)](a0_0x51ef44(0x78),async(_0x4bc52a,_0x73fc92)=>{const _0x2024f7=a0_0x51ef44;try{const {warehouse_category:_0x3a1cfa}=_0x4bc52a['body'];if(_0x3a1cfa=='RM'){const _0x4ea3ae=await warehouse[_0x2024f7(0x82)]([{'$match':{'status':'Enabled','warehouse_category':_0x2024f7(0x87),'name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':_0x2024f7(0x7a),'name':{'$first':_0x2024f7(0x7a)}}}]);_0x73fc92['json'](_0x4ea3ae);}else{const _0x112d2c=await warehouse[_0x2024f7(0x82)]([{'$match':{'status':_0x2024f7(0x89),'warehouse_category':_0x2024f7(0x83),'name':{'$ne':_0x2024f7(0x70)}}},{'$group':{'_id':_0x2024f7(0x7a),'name':{'$first':'$name'}}}]);_0x73fc92[_0x2024f7(0x7c)](_0x112d2c);}}catch(_0x9e7cac){console['log'](_0x2024f7(0x6e),_0x9e7cac),_0x73fc92[_0x2024f7(0x76)](0xc8)[_0x2024f7(0x7c)]({'message':_0x9e7cac[_0x2024f7(0x72)]});}}),router['post']('/supplier',async(_0xdc3f1d,_0x5dcb54)=>{const _0x128221=a0_0x51ef44;try{const _0x18ead8=await suppliers['find']({});_0x5dcb54['status'](0xc8)[_0x128221(0x7c)](_0x18ead8);}catch(_0x5d210e){console[_0x128221(0x8c)](_0x128221(0x6e),_0x5d210e),_0x5dcb54['status'](0xc8)[_0x128221(0x7c)]({'message':_0x5d210e[_0x128221(0x72)]});}}),router['post'](a0_0x51ef44(0x6f),async(_0x4c842e,_0x231ebb)=>{const _0x481830=a0_0x51ef44;try{const {wahouse_data:_0x2c1b4b}=_0x4c842e['body'],_0x27e443=[{'$match':{'name':_0x2c1b4b,'status':_0x481830(0x89)}},{'$group':{'_id':_0x481830(0x81),'room_name':{'$first':_0x481830(0x95)}}},{'$sort':{'room_name':0x1}}],_0x575726=await warehouse[_0x481830(0x82)](_0x27e443);_0x231ebb[_0x481830(0x76)](0xc8)[_0x481830(0x7c)](_0x575726);}catch(_0x5a2784){console['log']('table\x20page',_0x5a2784),_0x231ebb[_0x481830(0x76)](0xc8)[_0x481830(0x7c)]({'message':_0x5a2784[_0x481830(0x72)]});}}),router[a0_0x51ef44(0x96)]('/invoice',async(_0x2e6a7d,_0x28aa3f)=>{const _0x406a8d=a0_0x51ef44;try{const _0x2c23f2=0x989680,_0x1dcd54=0x5f5e0ff,_0x2f0d33=Math[_0x406a8d(0x73)](Math[_0x406a8d(0x94)]()*(_0x1dcd54-_0x2c23f2+0x1))+_0x2c23f2;var _0x4c08f6;const _0x37f560=await purchases[_0x406a8d(0x8e)]({'invoice':_0x406a8d(0x88)+_0x2f0d33});return _0x37f560&&_0x37f560[_0x406a8d(0x84)]>0x0?_0x4c08f6=_0x406a8d(0x88)+_0x2f0d33:_0x4c08f6=_0x406a8d(0x88)+_0x2f0d33,_0x28aa3f['json']({'incoming_invoice':_0x4c08f6}),_0x4c08f6;}catch(_0x38565d){console[_0x406a8d(0x8c)](_0x406a8d(0x6e),_0x38565d),_0x28aa3f[_0x406a8d(0x76)](0xc8)['json']({'message':_0x38565d[_0x406a8d(0x72)]});}}),module[a0_0x51ef44(0x74)]=router;