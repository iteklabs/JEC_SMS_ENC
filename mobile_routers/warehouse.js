const a0_0x293efb=a0_0xbcfa;(function(_0xf26c54,_0x4dad32){const _0x1d6359=a0_0xbcfa,_0x8913ae=_0xf26c54();while(!![]){try{const _0x318ef7=-parseInt(_0x1d6359(0xae))/0x1+parseInt(_0x1d6359(0xb3))/0x2*(-parseInt(_0x1d6359(0xa4))/0x3)+-parseInt(_0x1d6359(0xaf))/0x4+parseInt(_0x1d6359(0xb2))/0x5*(parseInt(_0x1d6359(0x9f))/0x6)+parseInt(_0x1d6359(0xab))/0x7+-parseInt(_0x1d6359(0xba))/0x8*(-parseInt(_0x1d6359(0xaa))/0x9)+parseInt(_0x1d6359(0xa7))/0xa;if(_0x318ef7===_0x4dad32)break;else _0x8913ae['push'](_0x8913ae['shift']());}catch(_0xef2c05){_0x8913ae['push'](_0x8913ae['shift']());}}}(a0_0x2bf8,0xf2583));const express=require(a0_0x293efb(0xb7)),app=express(),router=express[a0_0x293efb(0xc1)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x293efb(0xbd)),auth=require(a0_0x293efb(0xa1)),nodemailer=require(a0_0x293efb(0xc3));function a0_0xbcfa(_0xbc0929,_0x25fa64){const _0x2bf86e=a0_0x2bf8();return a0_0xbcfa=function(_0xbcfa66,_0x26c834){_0xbcfa66=_0xbcfa66-0x9e;let _0x413c35=_0x2bf86e[_0xbcfa66];return _0x413c35;},a0_0xbcfa(_0xbc0929,_0x25fa64);}function a0_0x2bf8(){const _0x55b0f8=['Enabled','express','/supplier','../public/language/languages.json','8pIPgma','random','aggregate','../models/all_models','findOne','$_id','table\x20page','Router','$room','nodemailer','Return\x20Goods','Finished\x20Goods','json','status','post','$name','24KJHrQK','path','../middleware/auth','log','/room','54MTvmsr','floor','Raw\x20Materials','3779790bQCsUp','/view','exports','13597596bDdToz','9126677xxTtIb','INC-','body','394700JnlbUV','4236388yWdQbi','message','find','1005115mbpioR','172254NPtxCQ','ejs','/invoice'];a0_0x2bf8=function(){return _0x55b0f8;};return a0_0x2bf8();}var ejs=require(a0_0x293efb(0xb4));const path=require(a0_0x293efb(0xa0)),users=require(a0_0x293efb(0xb9));router['post'](a0_0x293efb(0xa8),async(_0x10f3b4,_0x17f825)=>{const _0x3175df=a0_0x293efb;try{const {warehouse_category:_0x365a72}=_0x10f3b4[_0x3175df(0xad)];if(_0x365a72=='RM'){const _0x40ede1=await warehouse[_0x3175df(0xbc)]([{'$match':{'status':_0x3175df(0xb6),'warehouse_category':_0x3175df(0xa6),'name':{'$ne':_0x3175df(0xc4)}}},{'$group':{'_id':_0x3175df(0x9e),'name':{'$first':_0x3175df(0x9e)}}}]);_0x17f825[_0x3175df(0xc6)](_0x40ede1);}else{const _0x4b42bd=await warehouse[_0x3175df(0xbc)]([{'$match':{'status':'Enabled','warehouse_category':_0x3175df(0xc5),'name':{'$ne':_0x3175df(0xc4)}}},{'$group':{'_id':_0x3175df(0x9e),'name':{'$first':_0x3175df(0x9e)}}}]);_0x17f825[_0x3175df(0xc6)](_0x4b42bd);}}catch(_0x23a9bc){console[_0x3175df(0xa2)](_0x3175df(0xc0),_0x23a9bc),_0x17f825['status'](0xc8)['json']({'message':_0x23a9bc[_0x3175df(0xb0)]});}}),router[a0_0x293efb(0xc8)](a0_0x293efb(0xb8),async(_0x465660,_0xe052)=>{const _0x3d406a=a0_0x293efb;try{const _0x5eae94=await suppliers[_0x3d406a(0xb1)]({});_0xe052[_0x3d406a(0xc7)](0xc8)[_0x3d406a(0xc6)](_0x5eae94);}catch(_0x5fc926){console['log']('table\x20page',_0x5fc926),_0xe052[_0x3d406a(0xc7)](0xc8)[_0x3d406a(0xc6)]({'message':_0x5fc926[_0x3d406a(0xb0)]});}}),router[a0_0x293efb(0xc8)](a0_0x293efb(0xa3),async(_0x407b3e,_0x11f46e)=>{const _0x5c8395=a0_0x293efb;try{const {wahouse_data:_0x21527b}=_0x407b3e[_0x5c8395(0xad)],_0x308a15=[{'$match':{'name':_0x21527b,'status':_0x5c8395(0xb6)}},{'$group':{'_id':_0x5c8395(0xbf),'room_name':{'$first':_0x5c8395(0xc2)}}},{'$sort':{'room_name':0x1}}],_0x3ed222=await warehouse['aggregate'](_0x308a15);_0x11f46e[_0x5c8395(0xc7)](0xc8)['json'](_0x3ed222);}catch(_0x1a7d82){console['log'](_0x5c8395(0xc0),_0x1a7d82),_0x11f46e[_0x5c8395(0xc7)](0xc8)[_0x5c8395(0xc6)]({'message':_0x1a7d82[_0x5c8395(0xb0)]});}}),router[a0_0x293efb(0xc8)](a0_0x293efb(0xb5),async(_0x436c00,_0x3312d5)=>{const _0x22e307=a0_0x293efb;try{const _0x287cbb=0x989680,_0x2f74b1=0x5f5e0ff,_0x53c13a=Math[_0x22e307(0xa5)](Math[_0x22e307(0xbb)]()*(_0x2f74b1-_0x287cbb+0x1))+_0x287cbb;var _0x4c85e7;const _0x3d9aed=await purchases[_0x22e307(0xbe)]({'invoice':'INC-'+_0x53c13a});return _0x3d9aed&&_0x3d9aed['length']>0x0?_0x4c85e7=_0x22e307(0xac)+_0x53c13a:_0x4c85e7=_0x22e307(0xac)+_0x53c13a,_0x3312d5[_0x22e307(0xc6)]({'incoming_invoice':_0x4c85e7}),_0x4c85e7;}catch(_0x3474b8){console[_0x22e307(0xa2)](_0x22e307(0xc0),_0x3474b8),_0x3312d5[_0x22e307(0xc7)](0xc8)[_0x22e307(0xc6)]({'message':_0x3474b8[_0x22e307(0xb0)]});}}),module[a0_0x293efb(0xa9)]=router;