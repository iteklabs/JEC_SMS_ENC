const a0_0x105eb8=a0_0x2278;(function(_0x28f9f8,_0x206804){const _0x592263=a0_0x2278,_0x4dc2c2=_0x28f9f8();while(!![]){try{const _0x2c5db1=-parseInt(_0x592263(0xd2))/0x1+parseInt(_0x592263(0xcc))/0x2+-parseInt(_0x592263(0xdc))/0x3*(parseInt(_0x592263(0xdf))/0x4)+-parseInt(_0x592263(0xee))/0x5+-parseInt(_0x592263(0xcd))/0x6+-parseInt(_0x592263(0xe2))/0x7*(-parseInt(_0x592263(0xd1))/0x8)+parseInt(_0x592263(0xe1))/0x9*(parseInt(_0x592263(0xc8))/0xa);if(_0x2c5db1===_0x206804)break;else _0x4dc2c2['push'](_0x4dc2c2['shift']());}catch(_0x17d236){_0x4dc2c2['push'](_0x4dc2c2['shift']());}}}(a0_0x38d1,0x40a26));const express=require(a0_0x105eb8(0xe5)),app=express(),router=express[a0_0x105eb8(0xcf)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x105eb8(0xca)),auth=require(a0_0x105eb8(0xe9)),nodemailer=require(a0_0x105eb8(0xce));function a0_0x38d1(){const _0x9253dc=['../public/language/languages.json','aggregate','1640YPknhC','ejs','513CwhBMQ','969353MaDYLT','Raw\x20Materials','status','express','exports','Enabled','random','../middleware/auth','table\x20page','$_id','find','length','1349425MTErHA','body','/supplier','$name','110330AYGVpS','path','../models/all_models','Return\x20Goods','1015236QynonC','1141200mOKUiu','nodemailer','Router','json','8rnBWZT','304971ESFcvt','/view','INC-','$room','/invoice','post','Finished\x20Goods','log','/room','message','1794jiLcts'];a0_0x38d1=function(){return _0x9253dc;};return a0_0x38d1();}function a0_0x2278(_0x217780,_0x31afc6){const _0x38d1f3=a0_0x38d1();return a0_0x2278=function(_0x22783b,_0xefe1ab){_0x22783b=_0x22783b-0xc8;let _0x1cff5b=_0x38d1f3[_0x22783b];return _0x1cff5b;},a0_0x2278(_0x217780,_0x31afc6);}var ejs=require(a0_0x105eb8(0xe0));const path=require(a0_0x105eb8(0xc9)),users=require(a0_0x105eb8(0xdd));router[a0_0x105eb8(0xd7)](a0_0x105eb8(0xd3),async(_0x19d20e,_0xc3d09a)=>{const _0x66fca5=a0_0x105eb8;try{const {warehouse_category:_0x1705d2}=_0x19d20e[_0x66fca5(0xef)];if(_0x1705d2=='RM'){const _0x589d54=await warehouse[_0x66fca5(0xde)]([{'$match':{'status':_0x66fca5(0xe7),'warehouse_category':_0x66fca5(0xe3),'name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);_0xc3d09a[_0x66fca5(0xd0)](_0x589d54);}else{const _0x1df134=await warehouse[_0x66fca5(0xde)]([{'$match':{'status':_0x66fca5(0xe7),'warehouse_category':_0x66fca5(0xd8),'name':{'$ne':_0x66fca5(0xcb)}}},{'$group':{'_id':_0x66fca5(0xf1),'name':{'$first':_0x66fca5(0xf1)}}}]);_0xc3d09a['json'](_0x1df134);}}catch(_0x2fe9b5){console[_0x66fca5(0xd9)](_0x66fca5(0xea),_0x2fe9b5),_0xc3d09a[_0x66fca5(0xe4)](0xc8)['json']({'message':_0x2fe9b5['message']});}}),router['post'](a0_0x105eb8(0xf0),async(_0x4c1859,_0x103c0a)=>{const _0x3c7303=a0_0x105eb8;try{const _0x52ee68=await suppliers[_0x3c7303(0xec)]({});_0x103c0a['status'](0xc8)[_0x3c7303(0xd0)](_0x52ee68);}catch(_0x231381){console[_0x3c7303(0xd9)](_0x3c7303(0xea),_0x231381),_0x103c0a['status'](0xc8)[_0x3c7303(0xd0)]({'message':_0x231381[_0x3c7303(0xdb)]});}}),router[a0_0x105eb8(0xd7)](a0_0x105eb8(0xda),async(_0x3793d1,_0x3f00fd)=>{const _0xafadd2=a0_0x105eb8;try{const {wahouse_data:_0x4e2515}=_0x3793d1[_0xafadd2(0xef)],_0x412be4=[{'$match':{'name':_0x4e2515,'status':_0xafadd2(0xe7)}},{'$group':{'_id':_0xafadd2(0xeb),'room_name':{'$first':_0xafadd2(0xd5)}}},{'$sort':{'room_name':0x1}}],_0x3cbc71=await warehouse[_0xafadd2(0xde)](_0x412be4);_0x3f00fd[_0xafadd2(0xe4)](0xc8)[_0xafadd2(0xd0)](_0x3cbc71);}catch(_0x2e9e1c){console['log'](_0xafadd2(0xea),_0x2e9e1c),_0x3f00fd[_0xafadd2(0xe4)](0xc8)[_0xafadd2(0xd0)]({'message':_0x2e9e1c[_0xafadd2(0xdb)]});}}),router['post'](a0_0x105eb8(0xd6),async(_0x2a9f2c,_0x3d84a0)=>{const _0x13e13c=a0_0x105eb8;try{const _0x268c7f=0x989680,_0x44a129=0x5f5e0ff,_0x1283e3=Math['floor'](Math[_0x13e13c(0xe8)]()*(_0x44a129-_0x268c7f+0x1))+_0x268c7f;var _0x10dd1f;const _0x664236=await purchases['findOne']({'invoice':_0x13e13c(0xd4)+_0x1283e3});return _0x664236&&_0x664236[_0x13e13c(0xed)]>0x0?_0x10dd1f=_0x13e13c(0xd4)+_0x1283e3:_0x10dd1f=_0x13e13c(0xd4)+_0x1283e3,_0x3d84a0['json']({'incoming_invoice':_0x10dd1f}),_0x10dd1f;}catch(_0x14f54a){console[_0x13e13c(0xd9)](_0x13e13c(0xea),_0x14f54a),_0x3d84a0[_0x13e13c(0xe4)](0xc8)[_0x13e13c(0xd0)]({'message':_0x14f54a['message']});}}),module[a0_0x105eb8(0xe6)]=router;