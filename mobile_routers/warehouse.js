const a0_0x29e394=a0_0x3da0;(function(_0x40430a,_0xb6d722){const _0x20bec6=a0_0x3da0,_0x1df63f=_0x40430a();while(!![]){try{const _0x34d5ac=parseInt(_0x20bec6(0x8f))/0x1+-parseInt(_0x20bec6(0x9b))/0x2+-parseInt(_0x20bec6(0xb2))/0x3*(-parseInt(_0x20bec6(0x99))/0x4)+-parseInt(_0x20bec6(0x8b))/0x5*(parseInt(_0x20bec6(0x8e))/0x6)+parseInt(_0x20bec6(0xa6))/0x7+-parseInt(_0x20bec6(0xad))/0x8*(-parseInt(_0x20bec6(0x9a))/0x9)+parseInt(_0x20bec6(0xab))/0xa*(-parseInt(_0x20bec6(0xa3))/0xb);if(_0x34d5ac===_0xb6d722)break;else _0x1df63f['push'](_0x1df63f['shift']());}catch(_0x4929d6){_0x1df63f['push'](_0x1df63f['shift']());}}}(a0_0x4fb5,0x918d8));const express=require(a0_0x29e394(0xa4)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x29e394(0xb1)),auth=require(a0_0x29e394(0xac)),nodemailer=require(a0_0x29e394(0x91));function a0_0x3da0(_0x441779,_0x3c5ed4){const _0x4fb570=a0_0x4fb5();return a0_0x3da0=function(_0x3da0aa,_0x23be7f){_0x3da0aa=_0x3da0aa-0x8b;let _0x5ea890=_0x4fb570[_0x3da0aa];return _0x5ea890;},a0_0x3da0(_0x441779,_0x3c5ed4);}var ejs=require(a0_0x29e394(0xa1));function a0_0x4fb5(){const _0xbbe37d=['/supplier','nodemailer','exports','$room','/view','INC-','findOne','/invoice','Raw\x20Materials','16292TiHcKA','18VFPaNZ','2244820qDrRtv','path','table\x20page','aggregate','status','post','ejs','Return\x20Goods','124421eCUdML','express','Enabled','6395312cMZdis','body','$name','log','Finished\x20Goods','890XxheCD','../middleware/auth','3618272BbHzEa','message','$_id','floor','../models/all_models','753ruGyTY','../public/language/languages.json','16630hucvwc','random','json','894PIhBGY','380340ENiHOU'];a0_0x4fb5=function(){return _0xbbe37d;};return a0_0x4fb5();}const path=require(a0_0x29e394(0x9c)),users=require(a0_0x29e394(0xb3));router[a0_0x29e394(0xa0)](a0_0x29e394(0x94),async(_0x5b99d6,_0x3f760c)=>{const _0x58c599=a0_0x29e394;try{const {warehouse_category:_0x4e3c99}=_0x5b99d6[_0x58c599(0xa7)];if(_0x4e3c99=='RM'){const _0xc53b89=await warehouse[_0x58c599(0x9e)]([{'$match':{'status':_0x58c599(0xa5),'warehouse_category':_0x58c599(0x98),'name':{'$ne':_0x58c599(0xa2)}}},{'$group':{'_id':_0x58c599(0xa8),'name':{'$first':_0x58c599(0xa8)}}}]);_0x3f760c[_0x58c599(0x8d)](_0xc53b89);}else{const _0x4e7dfc=await warehouse[_0x58c599(0x9e)]([{'$match':{'status':'Enabled','warehouse_category':_0x58c599(0xaa),'name':{'$ne':_0x58c599(0xa2)}}},{'$group':{'_id':_0x58c599(0xa8),'name':{'$first':_0x58c599(0xa8)}}}]);_0x3f760c['json'](_0x4e7dfc);}}catch(_0x33254a){console['log'](_0x58c599(0x9d),_0x33254a),_0x3f760c[_0x58c599(0x9f)](0xc8)[_0x58c599(0x8d)]({'message':_0x33254a[_0x58c599(0xae)]});}}),router[a0_0x29e394(0xa0)](a0_0x29e394(0x90),async(_0x4de2e6,_0x362b9d)=>{const _0x3c0514=a0_0x29e394;try{const _0x2cf75b=await suppliers['find']({});_0x362b9d[_0x3c0514(0x9f)](0xc8)['json'](_0x2cf75b);}catch(_0xc5fcb9){console[_0x3c0514(0xa9)](_0x3c0514(0x9d),_0xc5fcb9),_0x362b9d[_0x3c0514(0x9f)](0xc8)[_0x3c0514(0x8d)]({'message':_0xc5fcb9[_0x3c0514(0xae)]});}}),router[a0_0x29e394(0xa0)]('/room',async(_0x304534,_0x21fed2)=>{const _0x5db9ef=a0_0x29e394;try{const {wahouse_data:_0x591453}=_0x304534['body'],_0x173a7e=[{'$match':{'name':_0x591453,'status':'Enabled'}},{'$group':{'_id':_0x5db9ef(0xaf),'room_name':{'$first':_0x5db9ef(0x93)}}},{'$sort':{'room_name':0x1}}],_0x37c5f2=await warehouse[_0x5db9ef(0x9e)](_0x173a7e);_0x21fed2[_0x5db9ef(0x9f)](0xc8)[_0x5db9ef(0x8d)](_0x37c5f2);}catch(_0x370c94){console[_0x5db9ef(0xa9)](_0x5db9ef(0x9d),_0x370c94),_0x21fed2[_0x5db9ef(0x9f)](0xc8)[_0x5db9ef(0x8d)]({'message':_0x370c94[_0x5db9ef(0xae)]});}}),router[a0_0x29e394(0xa0)](a0_0x29e394(0x97),async(_0x2168b2,_0xe19171)=>{const _0x45ec45=a0_0x29e394;try{const _0x16c78e=0x989680,_0x3e83b8=0x5f5e0ff,_0x375a9e=Math[_0x45ec45(0xb0)](Math[_0x45ec45(0x8c)]()*(_0x3e83b8-_0x16c78e+0x1))+_0x16c78e;var _0x21308b;const _0x57b422=await purchases[_0x45ec45(0x96)]({'invoice':'INC-'+_0x375a9e});return _0x57b422&&_0x57b422['length']>0x0?_0x21308b=_0x45ec45(0x95)+_0x375a9e:_0x21308b=_0x45ec45(0x95)+_0x375a9e,_0xe19171[_0x45ec45(0x8d)]({'incoming_invoice':_0x21308b}),_0x21308b;}catch(_0x34952a){console[_0x45ec45(0xa9)]('table\x20page',_0x34952a),_0xe19171[_0x45ec45(0x9f)](0xc8)[_0x45ec45(0x8d)]({'message':_0x34952a[_0x45ec45(0xae)]});}}),module[a0_0x29e394(0x92)]=router;