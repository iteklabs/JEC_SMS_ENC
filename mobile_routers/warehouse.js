const a0_0x418a64=a0_0x2e2a;function a0_0x2e2a(_0x16c737,_0x30b426){const _0x4e6fa3=a0_0x4e6f();return a0_0x2e2a=function(_0x2e2a7e,_0x51d596){_0x2e2a7e=_0x2e2a7e-0x17c;let _0x72310e=_0x4e6fa3[_0x2e2a7e];return _0x72310e;},a0_0x2e2a(_0x16c737,_0x30b426);}(function(_0x38ab2e,_0x5d5b03){const _0x297b1a=a0_0x2e2a,_0x20461d=_0x38ab2e();while(!![]){try{const _0x1ba85d=parseInt(_0x297b1a(0x194))/0x1*(parseInt(_0x297b1a(0x192))/0x2)+-parseInt(_0x297b1a(0x17e))/0x3+-parseInt(_0x297b1a(0x1a1))/0x4+parseInt(_0x297b1a(0x180))/0x5*(parseInt(_0x297b1a(0x188))/0x6)+-parseInt(_0x297b1a(0x199))/0x7*(parseInt(_0x297b1a(0x197))/0x8)+-parseInt(_0x297b1a(0x19d))/0x9+parseInt(_0x297b1a(0x19a))/0xa;if(_0x1ba85d===_0x5d5b03)break;else _0x20461d['push'](_0x20461d['shift']());}catch(_0x52a492){_0x20461d['push'](_0x20461d['shift']());}}}(a0_0x4e6f,0x8d046));function a0_0x4e6f(){const _0xeeaa22=['post','table\x20page','$room','Router','/supplier','2qSLkiU','/invoice','360989FxKeof','Return\x20Goods','exports','2104JpudjL','body','22141VqRWcI','10467390iejfLJ','aggregate','INC-','312003QqZAZA','floor','ejs','Finished\x20Goods','1306816abqott','/view','express','json','../middleware/auth','random','1299237Jiaxal','$name','15PtCKZK','log','$_id','/room','length','nodemailer','path','status','1592394wglfHV','message','find','Enabled','../models/all_models'];a0_0x4e6f=function(){return _0xeeaa22;};return a0_0x4e6f();}const express=require(a0_0x418a64(0x1a3)),app=express(),router=express[a0_0x418a64(0x190)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x418a64(0x18c)),auth=require(a0_0x418a64(0x17c)),nodemailer=require(a0_0x418a64(0x185));var ejs=require(a0_0x418a64(0x19f));const path=require(a0_0x418a64(0x186)),users=require('../public/language/languages.json');router[a0_0x418a64(0x18d)](a0_0x418a64(0x1a2),async(_0x1b2ae0,_0xde6938)=>{const _0x5a511d=a0_0x418a64;try{const {warehouse_category:_0x54e7e7}=_0x1b2ae0[_0x5a511d(0x198)];if(_0x54e7e7=='RM'){const _0x326dde=await warehouse[_0x5a511d(0x19b)]([{'$match':{'status':_0x5a511d(0x18b),'warehouse_category':'Raw\x20Materials','name':{'$ne':_0x5a511d(0x195)}}},{'$group':{'_id':_0x5a511d(0x17f),'name':{'$first':_0x5a511d(0x17f)}}}]);_0xde6938[_0x5a511d(0x1a4)](_0x326dde);}else{const _0x14e259=await warehouse['aggregate']([{'$match':{'status':'Enabled','warehouse_category':_0x5a511d(0x1a0),'name':{'$ne':_0x5a511d(0x195)}}},{'$group':{'_id':_0x5a511d(0x17f),'name':{'$first':_0x5a511d(0x17f)}}}]);_0xde6938['json'](_0x14e259);}}catch(_0x157d3f){console[_0x5a511d(0x181)](_0x5a511d(0x18e),_0x157d3f),_0xde6938['status'](0xc8)[_0x5a511d(0x1a4)]({'message':_0x157d3f[_0x5a511d(0x189)]});}}),router[a0_0x418a64(0x18d)](a0_0x418a64(0x191),async(_0x26ce24,_0xf5f17c)=>{const _0x3cddd=a0_0x418a64;try{const _0x3acb73=await suppliers[_0x3cddd(0x18a)]({});_0xf5f17c[_0x3cddd(0x187)](0xc8)['json'](_0x3acb73);}catch(_0x1fcf8d){console[_0x3cddd(0x181)](_0x3cddd(0x18e),_0x1fcf8d),_0xf5f17c[_0x3cddd(0x187)](0xc8)['json']({'message':_0x1fcf8d[_0x3cddd(0x189)]});}}),router[a0_0x418a64(0x18d)](a0_0x418a64(0x183),async(_0x493f9c,_0x2180b5)=>{const _0x1db98b=a0_0x418a64;try{const {wahouse_data:_0x5bfaf2}=_0x493f9c[_0x1db98b(0x198)],_0xbde6c7=[{'$match':{'name':_0x5bfaf2,'status':_0x1db98b(0x18b)}},{'$group':{'_id':_0x1db98b(0x182),'room_name':{'$first':_0x1db98b(0x18f)}}},{'$sort':{'room_name':0x1}}],_0x25b10b=await warehouse[_0x1db98b(0x19b)](_0xbde6c7);_0x2180b5[_0x1db98b(0x187)](0xc8)[_0x1db98b(0x1a4)](_0x25b10b);}catch(_0x480070){console['log']('table\x20page',_0x480070),_0x2180b5[_0x1db98b(0x187)](0xc8)[_0x1db98b(0x1a4)]({'message':_0x480070[_0x1db98b(0x189)]});}}),router[a0_0x418a64(0x18d)](a0_0x418a64(0x193),async(_0x1f61f5,_0x29f1fb)=>{const _0x3dcecb=a0_0x418a64;try{const _0x1bb3de=0x989680,_0x44739a=0x5f5e0ff,_0x1f222a=Math[_0x3dcecb(0x19e)](Math[_0x3dcecb(0x17d)]()*(_0x44739a-_0x1bb3de+0x1))+_0x1bb3de;var _0x36cdea;const _0x4c413d=await purchases['findOne']({'invoice':_0x3dcecb(0x19c)+_0x1f222a});return _0x4c413d&&_0x4c413d[_0x3dcecb(0x184)]>0x0?_0x36cdea='INC-'+_0x1f222a:_0x36cdea='INC-'+_0x1f222a,_0x29f1fb['json']({'incoming_invoice':_0x36cdea}),_0x36cdea;}catch(_0xd84e98){console['log'](_0x3dcecb(0x18e),_0xd84e98),_0x29f1fb[_0x3dcecb(0x187)](0xc8)[_0x3dcecb(0x1a4)]({'message':_0xd84e98[_0x3dcecb(0x189)]});}}),module[a0_0x418a64(0x196)]=router;