function a0_0x3f8e(_0x6ef044,_0x4caa08){const _0x425a34=a0_0x425a();return a0_0x3f8e=function(_0x3f8e2e,_0xf15c2b){_0x3f8e2e=_0x3f8e2e-0x1b6;let _0x56a8fb=_0x425a34[_0x3f8e2e];return _0x56a8fb;},a0_0x3f8e(_0x6ef044,_0x4caa08);}function a0_0x425a(){const _0x497018=['/room','13592CMwDoQ','table\x20page','findOne','3482100XXNekW','1701516yXXEMv','2286HzoZSR','aggregate','Router','14350EJpXVO','path','214TBTlkp','Raw\x20Materials','606lFtwHJ','/supplier','2979LJzINE','json','Enabled','$room','body','exports','log','Return\x20Goods','status','99WKOzqc','$name','212250reSVSY','ejs','/invoice','post','1096cLDYSo','INC-','message','8743pCQEPN'];a0_0x425a=function(){return _0x497018;};return a0_0x425a();}const a0_0xf9deef=a0_0x3f8e;(function(_0x42d4bf,_0x3c5eeb){const _0x5ce42a=a0_0x3f8e,_0x21071a=_0x42d4bf();while(!![]){try{const _0x1cfd5f=-parseInt(_0x5ce42a(0x1c5))/0x1*(-parseInt(_0x5ce42a(0x1d1))/0x2)+parseInt(_0x5ce42a(0x1d3))/0x3*(parseInt(_0x5ce42a(0x1c7))/0x4)+-parseInt(_0x5ce42a(0x1ca))/0x5+-parseInt(_0x5ce42a(0x1cc))/0x6*(-parseInt(_0x5ce42a(0x1cf))/0x7)+-parseInt(_0x5ce42a(0x1c2))/0x8*(-parseInt(_0x5ce42a(0x1d5))/0x9)+parseInt(_0x5ce42a(0x1be))/0xa+parseInt(_0x5ce42a(0x1bc))/0xb*(-parseInt(_0x5ce42a(0x1cb))/0xc);if(_0x1cfd5f===_0x3c5eeb)break;else _0x21071a['push'](_0x21071a['shift']());}catch(_0x2a4d20){_0x21071a['push'](_0x21071a['shift']());}}}(a0_0x425a,0x79542));const express=require('express'),app=express(),router=express[a0_0xf9deef(0x1ce)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require('../models/all_models'),auth=require('../middleware/auth'),nodemailer=require('nodemailer');var ejs=require(a0_0xf9deef(0x1bf));const path=require(a0_0xf9deef(0x1d0)),users=require('../public/language/languages.json');router[a0_0xf9deef(0x1c1)]('/view',async(_0x39fe83,_0x40cc5a)=>{const _0x459202=a0_0xf9deef;try{const {warehouse_category:_0x5e8dfc}=_0x39fe83[_0x459202(0x1b7)];if(_0x5e8dfc=='RM'){const _0x1fb7c0=await warehouse['aggregate']([{'$match':{'status':'Enabled','warehouse_category':_0x459202(0x1d2),'name':{'$ne':_0x459202(0x1ba)}}},{'$group':{'_id':'$name','name':{'$first':_0x459202(0x1bd)}}}]);_0x40cc5a[_0x459202(0x1d6)](_0x1fb7c0);}else{const _0x447174=await warehouse[_0x459202(0x1cd)]([{'$match':{'status':_0x459202(0x1d7),'warehouse_category':'Finished\x20Goods','name':{'$ne':_0x459202(0x1ba)}}},{'$group':{'_id':_0x459202(0x1bd),'name':{'$first':'$name'}}}]);_0x40cc5a[_0x459202(0x1d6)](_0x447174);}}catch(_0x19e370){console[_0x459202(0x1b9)](_0x459202(0x1c8),_0x19e370),_0x40cc5a[_0x459202(0x1bb)](0xc8)[_0x459202(0x1d6)]({'message':_0x19e370[_0x459202(0x1c4)]});}}),router[a0_0xf9deef(0x1c1)](a0_0xf9deef(0x1d4),async(_0x1917fe,_0x50cb3c)=>{const _0xbf609b=a0_0xf9deef;try{const _0x521214=await suppliers['find']({});_0x50cb3c[_0xbf609b(0x1bb)](0xc8)[_0xbf609b(0x1d6)](_0x521214);}catch(_0x47dcf1){console[_0xbf609b(0x1b9)]('table\x20page',_0x47dcf1),_0x50cb3c[_0xbf609b(0x1bb)](0xc8)[_0xbf609b(0x1d6)]({'message':_0x47dcf1['message']});}}),router[a0_0xf9deef(0x1c1)](a0_0xf9deef(0x1c6),async(_0x13720e,_0x10e5dc)=>{const _0x12e160=a0_0xf9deef;try{const {wahouse_data:_0x5d7697}=_0x13720e[_0x12e160(0x1b7)],_0x25fded=[{'$match':{'name':_0x5d7697,'status':_0x12e160(0x1d7)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x12e160(0x1b6)}}},{'$sort':{'room_name':0x1}}],_0x3f5686=await warehouse[_0x12e160(0x1cd)](_0x25fded);_0x10e5dc[_0x12e160(0x1bb)](0xc8)['json'](_0x3f5686);}catch(_0x20ea12){console[_0x12e160(0x1b9)](_0x12e160(0x1c8),_0x20ea12),_0x10e5dc[_0x12e160(0x1bb)](0xc8)[_0x12e160(0x1d6)]({'message':_0x20ea12[_0x12e160(0x1c4)]});}}),router['post'](a0_0xf9deef(0x1c0),async(_0x451bd7,_0x622aba)=>{const _0x433472=a0_0xf9deef;try{const _0x467985=0x989680,_0x4ebb47=0x5f5e0ff,_0x1ff177=Math['floor'](Math['random']()*(_0x4ebb47-_0x467985+0x1))+_0x467985;var _0x56fb06;const _0x53dd11=await purchases[_0x433472(0x1c9)]({'invoice':_0x433472(0x1c3)+_0x1ff177});return _0x53dd11&&_0x53dd11['length']>0x0?_0x56fb06=_0x433472(0x1c3)+_0x1ff177:_0x56fb06=_0x433472(0x1c3)+_0x1ff177,_0x622aba[_0x433472(0x1d6)]({'incoming_invoice':_0x56fb06}),_0x56fb06;}catch(_0x19e7f){console[_0x433472(0x1b9)]('table\x20page',_0x19e7f),_0x622aba[_0x433472(0x1bb)](0xc8)[_0x433472(0x1d6)]({'message':_0x19e7f[_0x433472(0x1c4)]});}}),module[a0_0xf9deef(0x1b8)]=router;