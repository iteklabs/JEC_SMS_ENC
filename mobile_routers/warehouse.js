function a0_0x1907(_0x3bd71a,_0x109720){const _0x12d139=a0_0x12d1();return a0_0x1907=function(_0x190714,_0x117a21){_0x190714=_0x190714-0x1bf;let _0x70b1e0=_0x12d139[_0x190714];return _0x70b1e0;},a0_0x1907(_0x3bd71a,_0x109720);}const a0_0x344e82=a0_0x1907;(function(_0x29513f,_0x4006f1){const _0x685f81=a0_0x1907,_0x2b30b7=_0x29513f();while(!![]){try{const _0x5cdf8e=parseInt(_0x685f81(0x1e0))/0x1+parseInt(_0x685f81(0x1ce))/0x2+-parseInt(_0x685f81(0x1d7))/0x3+-parseInt(_0x685f81(0x1dd))/0x4*(parseInt(_0x685f81(0x1ca))/0x5)+parseInt(_0x685f81(0x1cd))/0x6+parseInt(_0x685f81(0x1df))/0x7*(parseInt(_0x685f81(0x1dc))/0x8)+parseInt(_0x685f81(0x1d0))/0x9*(parseInt(_0x685f81(0x1d4))/0xa);if(_0x5cdf8e===_0x4006f1)break;else _0x2b30b7['push'](_0x2b30b7['shift']());}catch(_0x39234b){_0x2b30b7['push'](_0x2b30b7['shift']());}}}(a0_0x12d1,0xeb441));const express=require(a0_0x344e82(0x1c6)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x344e82(0x1d8)),auth=require('../middleware/auth'),nodemailer=require(a0_0x344e82(0x1cb));var ejs=require('ejs');const path=require(a0_0x344e82(0x1c0)),users=require(a0_0x344e82(0x1db));router[a0_0x344e82(0x1c8)](a0_0x344e82(0x1c4),async(_0xd22831,_0x12f81b)=>{const _0x3251e3=a0_0x344e82;try{const {warehouse_category:_0x33001b}=_0xd22831[_0x3251e3(0x1c9)];if(_0x33001b=='RM'){const _0x4a9bef=await warehouse[_0x3251e3(0x1e4)]([{'$match':{'status':_0x3251e3(0x1de),'warehouse_category':_0x3251e3(0x1d5),'name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':_0x3251e3(0x1e5),'name':{'$first':_0x3251e3(0x1e5)}}}]);_0x12f81b[_0x3251e3(0x1d2)](_0x4a9bef);}else{const _0x4321b2=await warehouse[_0x3251e3(0x1e4)]([{'$match':{'status':_0x3251e3(0x1de),'warehouse_category':_0x3251e3(0x1e2),'name':{'$ne':_0x3251e3(0x1cc)}}},{'$group':{'_id':_0x3251e3(0x1e5),'name':{'$first':_0x3251e3(0x1e5)}}}]);_0x12f81b[_0x3251e3(0x1d2)](_0x4321b2);}}catch(_0x1588b7){console[_0x3251e3(0x1c2)](_0x3251e3(0x1c3),_0x1588b7),_0x12f81b[_0x3251e3(0x1d6)](0xc8)[_0x3251e3(0x1d2)]({'message':_0x1588b7['message']});}}),router[a0_0x344e82(0x1c8)](a0_0x344e82(0x1d3),async(_0x2916cb,_0xa01cb1)=>{const _0x499a45=a0_0x344e82;try{const _0x1fe156=await suppliers['find']({});_0xa01cb1[_0x499a45(0x1d6)](0xc8)[_0x499a45(0x1d2)](_0x1fe156);}catch(_0x4d2ac0){console['log']('table\x20page',_0x4d2ac0),_0xa01cb1['status'](0xc8)[_0x499a45(0x1d2)]({'message':_0x4d2ac0[_0x499a45(0x1e1)]});}}),router[a0_0x344e82(0x1c8)](a0_0x344e82(0x1d9),async(_0x55abc2,_0x3d5b21)=>{const _0x515a0b=a0_0x344e82;try{const {wahouse_data:_0x858083}=_0x55abc2[_0x515a0b(0x1c9)],_0xf4ba84=[{'$match':{'name':_0x858083,'status':_0x515a0b(0x1de)}},{'$group':{'_id':_0x515a0b(0x1e3),'room_name':{'$first':_0x515a0b(0x1da)}}},{'$sort':{'room_name':0x1}}],_0x38a795=await warehouse[_0x515a0b(0x1e4)](_0xf4ba84);_0x3d5b21[_0x515a0b(0x1d6)](0xc8)[_0x515a0b(0x1d2)](_0x38a795);}catch(_0x3afe50){console[_0x515a0b(0x1c2)](_0x515a0b(0x1c3),_0x3afe50),_0x3d5b21[_0x515a0b(0x1d6)](0xc8)[_0x515a0b(0x1d2)]({'message':_0x3afe50['message']});}}),router[a0_0x344e82(0x1c8)]('/invoice',async(_0x54f3f5,_0x4f5d51)=>{const _0x28f99c=a0_0x344e82;try{const _0x4a390f=0x989680,_0x292506=0x5f5e0ff,_0x3dc9cc=Math[_0x28f99c(0x1c1)](Math[_0x28f99c(0x1c7)]()*(_0x292506-_0x4a390f+0x1))+_0x4a390f;var _0x6b8bfa;const _0xa66cc8=await purchases[_0x28f99c(0x1c5)]({'invoice':_0x28f99c(0x1bf)+_0x3dc9cc});return _0xa66cc8&&_0xa66cc8[_0x28f99c(0x1cf)]>0x0?_0x6b8bfa=_0x28f99c(0x1bf)+_0x3dc9cc:_0x6b8bfa='INC-'+_0x3dc9cc,_0x4f5d51['json']({'incoming_invoice':_0x6b8bfa}),_0x6b8bfa;}catch(_0x1d9e01){console[_0x28f99c(0x1c2)](_0x28f99c(0x1c3),_0x1d9e01),_0x4f5d51[_0x28f99c(0x1d6)](0xc8)[_0x28f99c(0x1d2)]({'message':_0x1d9e01[_0x28f99c(0x1e1)]});}}),module[a0_0x344e82(0x1d1)]=router;function a0_0x12d1(){const _0x5c32e0=['Return\x20Goods','9746088yslhpV','2023038ilGIZu','length','6759rGISMs','exports','json','/supplier','1290FFNgAq','Raw\x20Materials','status','3180621WchNoc','../models/all_models','/room','$room','../public/language/languages.json','548176vhtTYB','9652dcNqhn','Enabled','7XBYiyO','680040igjOXL','message','Finished\x20Goods','$_id','aggregate','$name','INC-','path','floor','log','table\x20page','/view','findOne','express','random','post','body','3020wgEOxx','nodemailer'];a0_0x12d1=function(){return _0x5c32e0;};return a0_0x12d1();}