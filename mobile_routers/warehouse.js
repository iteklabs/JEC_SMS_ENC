const a0_0x56ccb4=a0_0x1338;(function(_0x39e6d9,_0x58705f){const _0x381b88=a0_0x1338,_0x53fc4f=_0x39e6d9();while(!![]){try{const _0x41d767=-parseInt(_0x381b88(0x137))/0x1*(parseInt(_0x381b88(0x138))/0x2)+parseInt(_0x381b88(0x12a))/0x3*(parseInt(_0x381b88(0x147))/0x4)+-parseInt(_0x381b88(0x141))/0x5+-parseInt(_0x381b88(0x13d))/0x6+parseInt(_0x381b88(0x13e))/0x7+parseInt(_0x381b88(0x134))/0x8+parseInt(_0x381b88(0x13c))/0x9;if(_0x41d767===_0x58705f)break;else _0x53fc4f['push'](_0x53fc4f['shift']());}catch(_0x586bb8){_0x53fc4f['push'](_0x53fc4f['shift']());}}}(a0_0x24f9,0x6f107));function a0_0x1338(_0x17bd90,_0x3575b2){const _0x24f958=a0_0x24f9();return a0_0x1338=function(_0x133804,_0x27b745){_0x133804=_0x133804-0x124;let _0x4575f0=_0x24f958[_0x133804];return _0x4575f0;},a0_0x1338(_0x17bd90,_0x3575b2);}const express=require('express'),app=express(),router=express[a0_0x56ccb4(0x124)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x56ccb4(0x13b)),auth=require('../middleware/auth'),nodemailer=require(a0_0x56ccb4(0x127));var ejs=require('ejs');const path=require(a0_0x56ccb4(0x149)),users=require(a0_0x56ccb4(0x148));router[a0_0x56ccb4(0x136)](a0_0x56ccb4(0x126),async(_0x253408,_0x1a9572)=>{const _0x1d3206=a0_0x56ccb4;try{const {warehouse_category:_0x2e162d}=_0x253408[_0x1d3206(0x135)];if(_0x2e162d=='RM'){const _0x4d81d3=await warehouse[_0x1d3206(0x125)]([{'$match':{'status':_0x1d3206(0x146),'warehouse_category':_0x1d3206(0x140),'name':{'$ne':_0x1d3206(0x129)}}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);_0x1a9572[_0x1d3206(0x130)](_0x4d81d3);}else{const _0x5ed652=await warehouse[_0x1d3206(0x125)]([{'$match':{'status':'Enabled','warehouse_category':_0x1d3206(0x12c),'name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':_0x1d3206(0x139),'name':{'$first':_0x1d3206(0x139)}}}]);_0x1a9572[_0x1d3206(0x130)](_0x5ed652);}}catch(_0x175d35){console[_0x1d3206(0x142)](_0x1d3206(0x143),_0x175d35),_0x1a9572[_0x1d3206(0x12b)](0xc8)[_0x1d3206(0x130)]({'message':_0x175d35['message']});}}),router['post']('/supplier',async(_0x42221e,_0x3eb54f)=>{const _0x3e1e62=a0_0x56ccb4;try{const _0x441a43=await suppliers[_0x3e1e62(0x13f)]({});_0x3eb54f[_0x3e1e62(0x12b)](0xc8)[_0x3e1e62(0x130)](_0x441a43);}catch(_0xcd65bd){console[_0x3e1e62(0x142)](_0x3e1e62(0x143),_0xcd65bd),_0x3eb54f[_0x3e1e62(0x12b)](0xc8)['json']({'message':_0xcd65bd['message']});}}),router[a0_0x56ccb4(0x136)](a0_0x56ccb4(0x13a),async(_0x15be2b,_0x108380)=>{const _0x1d1260=a0_0x56ccb4;try{const {wahouse_data:_0x3d0165}=_0x15be2b[_0x1d1260(0x135)],_0x1a8148=[{'$match':{'name':_0x3d0165,'status':_0x1d1260(0x146)}},{'$group':{'_id':_0x1d1260(0x145),'room_name':{'$first':_0x1d1260(0x12e)}}},{'$sort':{'room_name':0x1}}],_0x59ce2f=await warehouse[_0x1d1260(0x125)](_0x1a8148);_0x108380[_0x1d1260(0x12b)](0xc8)[_0x1d1260(0x130)](_0x59ce2f);}catch(_0x343908){console[_0x1d1260(0x142)]('table\x20page',_0x343908),_0x108380[_0x1d1260(0x12b)](0xc8)[_0x1d1260(0x130)]({'message':_0x343908[_0x1d1260(0x12d)]});}}),router[a0_0x56ccb4(0x136)]('/invoice',async(_0x18c112,_0x3e6f06)=>{const _0x429d3=a0_0x56ccb4;try{const _0x11490b=0x989680,_0x21dfd4=0x5f5e0ff,_0x41904d=Math[_0x429d3(0x133)](Math[_0x429d3(0x131)]()*(_0x21dfd4-_0x11490b+0x1))+_0x11490b;var _0x34be20;const _0x1d6176=await purchases[_0x429d3(0x12f)]({'invoice':_0x429d3(0x132)+_0x41904d});return _0x1d6176&&_0x1d6176[_0x429d3(0x128)]>0x0?_0x34be20=_0x429d3(0x132)+_0x41904d:_0x34be20=_0x429d3(0x132)+_0x41904d,_0x3e6f06['json']({'incoming_invoice':_0x34be20}),_0x34be20;}catch(_0x23c38b){console[_0x429d3(0x142)](_0x429d3(0x143),_0x23c38b),_0x3e6f06[_0x429d3(0x12b)](0xc8)[_0x429d3(0x130)]({'message':_0x23c38b[_0x429d3(0x12d)]});}}),module[a0_0x56ccb4(0x144)]=router;function a0_0x24f9(){const _0x2181c1=['3988sYlQTg','$name','/room','../models/all_models','16315083YVctMs','5274948MKuDgP','3457650obuuHd','find','Raw\x20Materials','4217005dtsaVM','log','table\x20page','exports','$_id','Enabled','4ASlKzN','../public/language/languages.json','path','Router','aggregate','/view','nodemailer','length','Return\x20Goods','746457bKrXuU','status','Finished\x20Goods','message','$room','findOne','json','random','INC-','floor','2734048HRDAdf','body','post','361gRmtjp'];a0_0x24f9=function(){return _0x2181c1;};return a0_0x24f9();}