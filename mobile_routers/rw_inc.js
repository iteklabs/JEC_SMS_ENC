function a0_0x12ab(){const _0x13e62d=['Raw\x20Materials','2968460cBNdpK','$secondary_unit','$product.floorlevel','$product.bay','path','end','$maxStocks','table\x20page','express','$primary_code','message','57fGRJCP','$paid_amount','4254411WeknEV','$category','aggregate','$date','$due_amount','$suppliers','20638SnUKOo','$return_data','/view','status','$product.quantity','$product_code','$expiry_date','$suppliers_docs','Router','2951562SlReSG','$maxProdPerUnit','$secondary_code','get','$brand','body','5gWugGG','$product.bin','../models/all_models','$product.room_name','log','1646516XtaJMW','$_id','json','exports','$alertquantity','start','$invoice','length','144yHDkdE','$name','1308321ccJjuW','/barcode_scanner','755326IjTABR','$batch_code','name','9PFoeWD','$warehouse_name','query','post','8WYDlNl','$product','$unit','../middleware/auth'];a0_0x12ab=function(){return _0x13e62d;};return a0_0x12ab();}const a0_0x464fa4=a0_0x19ab;(function(_0x5b439f,_0x1ebf06){const _0x39558e=a0_0x19ab,_0x33b4b1=_0x5b439f();while(!![]){try{const _0x443844=parseInt(_0x39558e(0x1a8))/0x1*(parseInt(_0x39558e(0x1b0))/0x2)+-parseInt(_0x39558e(0x1aa))/0x3+parseInt(_0x39558e(0x1c4))/0x4*(parseInt(_0x39558e(0x1bf))/0x5)+parseInt(_0x39558e(0x1b9))/0x6+-parseInt(_0x39558e(0x18f))/0x7*(-parseInt(_0x39558e(0x198))/0x8)+-parseInt(_0x39558e(0x194))/0x9*(parseInt(_0x39558e(0x19d))/0xa)+-parseInt(_0x39558e(0x191))/0xb*(-parseInt(_0x39558e(0x18d))/0xc);if(_0x443844===_0x1ebf06)break;else _0x33b4b1['push'](_0x33b4b1['shift']());}catch(_0x2a7db0){_0x33b4b1['push'](_0x33b4b1['shift']());}}}(a0_0x12ab,0xc04c3));const express=require(a0_0x464fa4(0x1a5)),app=express(),router=express[a0_0x464fa4(0x1b8)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x464fa4(0x1c1)),auth=require(a0_0x464fa4(0x19b)),nodemailer=require('nodemailer');function a0_0x19ab(_0x4a6cc1,_0x1f3b26){const _0x12ab68=a0_0x12ab();return a0_0x19ab=function(_0x19ab4d,_0x3c964f){_0x19ab4d=_0x19ab4d-0x187;let _0x392824=_0x12ab68[_0x19ab4d];return _0x392824;},a0_0x19ab(_0x4a6cc1,_0x1f3b26);}var ejs=require('ejs');const path=require(a0_0x464fa4(0x1a1)),users=require('../public/language/languages.json');router[a0_0x464fa4(0x1bc)](a0_0x464fa4(0x1b2),async(_0x532cf8,_0x5b4a72)=>{const _0x3781d9=a0_0x464fa4;try{const _0x2b66a3=parseInt(_0x532cf8[_0x3781d9(0x196)][_0x3781d9(0x18a)])||0x0,_0x307b39=parseInt(_0x532cf8['query'][_0x3781d9(0x1a2)])||0xa;let _0x449c2e;_0x449c2e=await purchases[_0x3781d9(0x1ac)]([{'$lookup':{'from':'suppliers','localField':'suppliers','foreignField':_0x3781d9(0x193),'as':'suppliers_docs'}},{'$unwind':_0x3781d9(0x1b7)},{'$unwind':'$product'},{'$group':{'_id':_0x3781d9(0x1c5),'invoice':{'$first':_0x3781d9(0x18b)},'suppliers':{'$first':_0x3781d9(0x1af)},'date':{'$first':_0x3781d9(0x1ad)},'warehouse_name':{'$first':_0x3781d9(0x195)},'room':{'$addToSet':_0x3781d9(0x1c2)},'product':{'$push':_0x3781d9(0x199)},'note':{'$first':'$note'},'paid_amount':{'$first':_0x3781d9(0x1a9)},'due_amount':{'$first':_0x3781d9(0x1ae)},'return_data':{'$first':_0x3781d9(0x1b1)},'batch_code':{'$first':_0x3781d9(0x192)},'expiry_date':{'$first':_0x3781d9(0x1b6)},'suppliers_docs':{'$first':_0x3781d9(0x1b7)},'total_product_quantity':{'$sum':_0x3781d9(0x1b4)},'level':{'$addToSet':_0x3781d9(0x1a0)},'isle':{'$addToSet':_0x3781d9(0x1c0)},'type':{'$addToSet':'$product.type'},'floorlevel':{'$addToSet':_0x3781d9(0x19f)},'finalize':{'$first':'$finalize'}}},{'$sort':{'_id':0x1}},{'$project':{'_id':0x1,'invoice':0x1,'suppliers':0x1,'date':0x1,'warehouse_name':0x1,'room':0x1,'product':0x1,'note':0x1,'paid_amount':0x1,'due_amount':0x1,'return_data':0x1,'batch_code':0x1,'expiry_date':0x1,'suppliers_docs':0x1,'total_product_quantity':0x1,'level':0x1,'isle':0x1,'type':0x1,'floorlevel':0x1,'finalize':0x1}},{'$skip':_0x2b66a3},{'$limit':_0x307b39-_0x2b66a3}]),_0x5b4a72[_0x3781d9(0x187)](_0x449c2e);}catch(_0x2b3cd9){console[_0x3781d9(0x1c3)](_0x3781d9(0x1a4),_0x2b3cd9),_0x5b4a72[_0x3781d9(0x1b3)](0xc8)[_0x3781d9(0x187)]({'message':_0x2b3cd9[_0x3781d9(0x1a7)]});}}),router[a0_0x464fa4(0x197)](a0_0x464fa4(0x190),async(_0x4d2c3b,_0x1b457c)=>{const _0x28b5d6=a0_0x464fa4,{product_code:_0x36e6ba}=_0x4d2c3b[_0x28b5d6(0x1be)];var _0x447153;const _0x12be4c=await product[_0x28b5d6(0x1ac)]([{'$match':{'primary_code':_0x36e6ba,'product_category':_0x28b5d6(0x19c)}},{'$group':{'_id':_0x28b5d6(0x1c5),'name':{'$first':_0x28b5d6(0x18e)},'category':{'$first':_0x28b5d6(0x1ab)},'brand':{'$first':_0x28b5d6(0x1bd)},'unit':{'$first':'$unit'},'alertquantity':{'$first':_0x28b5d6(0x189)},'product_code':{'$first':_0x28b5d6(0x1b5)},'primary_code':{'$first':'$primary_code'},'secondary_code':{'$first':'$secondary_code'},'maxStocks':{'$first':_0x28b5d6(0x1a3)},'maxProdPerUnit':{'$first':'$maxProdPerUnit'},'product_cat':{'$first':'P'},'secondary_unit':{'$first':_0x28b5d6(0x19e)}}},{'$project':{'_id':0x1,'name':0x1,'category':0x1,'brand':0x1,'unit':0x1,'alertquantity':0x1,'product_code':0x1,'primary_code':0x1,'secondary_code':0x1,'maxStocks':0x1,'maxProdPerUnit':0x1,'product_cat':0x1,'secondary_unit':0x1}}]),_0x53ef9f=await product[_0x28b5d6(0x1ac)]([{'$match':{'secondary_code':_0x36e6ba,'product_category':_0x28b5d6(0x19c)}},{'$group':{'_id':_0x28b5d6(0x1c5),'name':{'$first':'$name'},'category':{'$first':_0x28b5d6(0x1ab)},'brand':{'$first':_0x28b5d6(0x1bd)},'unit':{'$first':_0x28b5d6(0x19a)},'alertquantity':{'$first':_0x28b5d6(0x189)},'product_code':{'$first':'$product_code'},'primary_code':{'$first':_0x28b5d6(0x1a6)},'secondary_code':{'$first':_0x28b5d6(0x1bb)},'maxStocks':{'$first':_0x28b5d6(0x1a3)},'maxProdPerUnit':{'$first':_0x28b5d6(0x1ba)},'product_cat':{'$first':'S'},'secondary_unit':{'$first':_0x28b5d6(0x19e)}}},{'$project':{'_id':0x1,'name':0x1,'category':0x1,'brand':0x1,'unit':0x1,'alertquantity':0x1,'product_code':0x1,'primary_code':0x1,'secondary_code':0x1,'maxStocks':0x1,'maxProdPerUnit':0x1,'product_cat':0x1,'secondary_unit':0x1}}]);if(_0x12be4c[_0x28b5d6(0x18c)]>0x0)_0x447153=_0x12be4c;else _0x53ef9f[_0x28b5d6(0x18c)]>0x0&&(_0x447153=_0x53ef9f);_0x1b457c[_0x28b5d6(0x187)](_0x447153);}),module[a0_0x464fa4(0x188)]=router;