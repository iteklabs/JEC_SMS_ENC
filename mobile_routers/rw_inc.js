function a0_0x207b(){const _0x3677d3=['Raw\x20Materials','$brand','/barcode_scanner','$_id','express','nodemailer','end','message','$return_data','$product.quantity','path','exports','360hQGXpB','suppliers','$product.bay','7NSruNE','$product','$finalize','16014HahClu','query','$alertquantity','start','body','length','$maxProdPerUnit','$primary_code','3630552jlCaiK','post','$expiry_date','$note','$secondary_unit','10418598jWCiem','../models/all_models','$product.room_name','ejs','json','$secondary_code','$suppliers_docs','$warehouse_name','Router','10378270QeOFWb','$category','2228679LTGkna','aggregate','../middleware/auth','/view','$unit','$batch_code','$product.bin','status','2gGIKxw','$due_amount','11DDeTzh','$invoice','$paid_amount','$product_code','$name','table\x20page','$product.type','log','896984VgYybz','$suppliers','$maxStocks','../public/language/languages.json','660197MVUbug'];a0_0x207b=function(){return _0x3677d3;};return a0_0x207b();}const a0_0x75c73e=a0_0x2910;(function(_0x16af22,_0x55be56){const _0x229cde=a0_0x2910,_0x1a7f1b=_0x16af22();while(!![]){try{const _0xb4a300=-parseInt(_0x229cde(0x11c))/0x1+parseInt(_0x229cde(0x10e))/0x2*(parseInt(_0x229cde(0x106))/0x3)+parseInt(_0x229cde(0xf6))/0x4+-parseInt(_0x229cde(0x129))/0x5*(parseInt(_0x229cde(0x12f))/0x6)+parseInt(_0x229cde(0x12c))/0x7*(parseInt(_0x229cde(0x118))/0x8)+-parseInt(_0x229cde(0xfb))/0x9+-parseInt(_0x229cde(0x104))/0xa*(-parseInt(_0x229cde(0x110))/0xb);if(_0xb4a300===_0x55be56)break;else _0x1a7f1b['push'](_0x1a7f1b['shift']());}catch(_0x9923ef){_0x1a7f1b['push'](_0x1a7f1b['shift']());}}}(a0_0x207b,0xc0fde));function a0_0x2910(_0x565160,_0x594fcf){const _0x207b01=a0_0x207b();return a0_0x2910=function(_0x2910ab,_0x554d77){_0x2910ab=_0x2910ab-0xf5;let _0x273fb6=_0x207b01[_0x2910ab];return _0x273fb6;},a0_0x2910(_0x565160,_0x594fcf);}const express=require(a0_0x75c73e(0x121)),app=express(),router=express[a0_0x75c73e(0x103)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x75c73e(0xfc)),auth=require(a0_0x75c73e(0x108)),nodemailer=require(a0_0x75c73e(0x122));var ejs=require(a0_0x75c73e(0xfe));const path=require(a0_0x75c73e(0x127)),users=require(a0_0x75c73e(0x11b));router['get'](a0_0x75c73e(0x109),async(_0x2bb18f,_0xfe9603)=>{const _0x8fe2fb=a0_0x75c73e;try{const _0x550cbb=parseInt(_0x2bb18f[_0x8fe2fb(0x130)][_0x8fe2fb(0x132)])||0x0,_0x2ee331=parseInt(_0x2bb18f[_0x8fe2fb(0x130)][_0x8fe2fb(0x123)])||0xa;let _0x1389dd;_0x1389dd=await purchases[_0x8fe2fb(0x107)]([{'$lookup':{'from':_0x8fe2fb(0x12a),'localField':_0x8fe2fb(0x12a),'foreignField':'name','as':'suppliers_docs'}},{'$unwind':_0x8fe2fb(0x101)},{'$unwind':_0x8fe2fb(0x12d)},{'$group':{'_id':_0x8fe2fb(0x120),'invoice':{'$first':_0x8fe2fb(0x111)},'suppliers':{'$first':_0x8fe2fb(0x119)},'date':{'$first':'$date'},'warehouse_name':{'$first':_0x8fe2fb(0x102)},'room':{'$addToSet':_0x8fe2fb(0xfd)},'product':{'$push':_0x8fe2fb(0x12d)},'note':{'$first':_0x8fe2fb(0xf9)},'paid_amount':{'$first':_0x8fe2fb(0x112)},'due_amount':{'$first':_0x8fe2fb(0x10f)},'return_data':{'$first':_0x8fe2fb(0x125)},'batch_code':{'$first':_0x8fe2fb(0x10b)},'expiry_date':{'$first':_0x8fe2fb(0xf8)},'suppliers_docs':{'$first':'$suppliers_docs'},'total_product_quantity':{'$sum':_0x8fe2fb(0x126)},'level':{'$addToSet':_0x8fe2fb(0x12b)},'isle':{'$addToSet':_0x8fe2fb(0x10c)},'type':{'$addToSet':_0x8fe2fb(0x116)},'floorlevel':{'$addToSet':'$product.floorlevel'},'finalize':{'$first':_0x8fe2fb(0x12e)}}},{'$sort':{'_id':0x1}},{'$project':{'_id':0x1,'invoice':0x1,'suppliers':0x1,'date':0x1,'warehouse_name':0x1,'room':0x1,'product':0x1,'note':0x1,'paid_amount':0x1,'due_amount':0x1,'return_data':0x1,'batch_code':0x1,'expiry_date':0x1,'suppliers_docs':0x1,'total_product_quantity':0x1,'level':0x1,'isle':0x1,'type':0x1,'floorlevel':0x1,'finalize':0x1}},{'$skip':_0x550cbb},{'$limit':_0x2ee331-_0x550cbb}]),_0xfe9603['json'](_0x1389dd);}catch(_0x50be1f){console[_0x8fe2fb(0x117)](_0x8fe2fb(0x115),_0x50be1f),_0xfe9603[_0x8fe2fb(0x10d)](0xc8)[_0x8fe2fb(0xff)]({'message':_0x50be1f[_0x8fe2fb(0x124)]});}}),router[a0_0x75c73e(0xf7)](a0_0x75c73e(0x11f),async(_0x1c43e9,_0x46e5bb)=>{const _0x11b1c5=a0_0x75c73e,{product_code:_0x42ce07}=_0x1c43e9[_0x11b1c5(0x133)];var _0xf82343;const _0x3abbc8=await product[_0x11b1c5(0x107)]([{'$match':{'primary_code':_0x42ce07,'product_category':_0x11b1c5(0x11d)}},{'$group':{'_id':_0x11b1c5(0x120),'name':{'$first':_0x11b1c5(0x114)},'category':{'$first':_0x11b1c5(0x105)},'brand':{'$first':'$brand'},'unit':{'$first':'$unit'},'alertquantity':{'$first':'$alertquantity'},'product_code':{'$first':'$product_code'},'primary_code':{'$first':_0x11b1c5(0xf5)},'secondary_code':{'$first':_0x11b1c5(0x100)},'maxStocks':{'$first':_0x11b1c5(0x11a)},'maxProdPerUnit':{'$first':_0x11b1c5(0x135)},'product_cat':{'$first':'P'},'secondary_unit':{'$first':_0x11b1c5(0xfa)}}},{'$project':{'_id':0x1,'name':0x1,'category':0x1,'brand':0x1,'unit':0x1,'alertquantity':0x1,'product_code':0x1,'primary_code':0x1,'secondary_code':0x1,'maxStocks':0x1,'maxProdPerUnit':0x1,'product_cat':0x1,'secondary_unit':0x1}}]),_0x42ba20=await product[_0x11b1c5(0x107)]([{'$match':{'secondary_code':_0x42ce07,'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x11b1c5(0x120),'name':{'$first':_0x11b1c5(0x114)},'category':{'$first':_0x11b1c5(0x105)},'brand':{'$first':_0x11b1c5(0x11e)},'unit':{'$first':_0x11b1c5(0x10a)},'alertquantity':{'$first':_0x11b1c5(0x131)},'product_code':{'$first':_0x11b1c5(0x113)},'primary_code':{'$first':'$primary_code'},'secondary_code':{'$first':_0x11b1c5(0x100)},'maxStocks':{'$first':_0x11b1c5(0x11a)},'maxProdPerUnit':{'$first':_0x11b1c5(0x135)},'product_cat':{'$first':'S'},'secondary_unit':{'$first':'$secondary_unit'}}},{'$project':{'_id':0x1,'name':0x1,'category':0x1,'brand':0x1,'unit':0x1,'alertquantity':0x1,'product_code':0x1,'primary_code':0x1,'secondary_code':0x1,'maxStocks':0x1,'maxProdPerUnit':0x1,'product_cat':0x1,'secondary_unit':0x1}}]);if(_0x3abbc8[_0x11b1c5(0x134)]>0x0)_0xf82343=_0x3abbc8;else _0x42ba20[_0x11b1c5(0x134)]>0x0&&(_0xf82343=_0x42ba20);_0x46e5bb[_0x11b1c5(0xff)](_0xf82343);}),module[a0_0x75c73e(0x128)]=router;