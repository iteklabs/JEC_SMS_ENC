const a0_0x1caa7b=a0_0x5493;(function(_0x4e513c,_0x41bf99){const _0x234824=a0_0x5493,_0x21d708=_0x4e513c();while(!![]){try{const _0x3fcad5=-parseInt(_0x234824(0x135))/0x1+-parseInt(_0x234824(0x136))/0x2+parseInt(_0x234824(0x13e))/0x3+-parseInt(_0x234824(0x120))/0x4+parseInt(_0x234824(0x12c))/0x5+-parseInt(_0x234824(0x121))/0x6+parseInt(_0x234824(0x13f))/0x7;if(_0x3fcad5===_0x41bf99)break;else _0x21d708['push'](_0x21d708['shift']());}catch(_0x1bbae0){_0x21d708['push'](_0x21d708['shift']());}}}(a0_0x4d3e,0x3f342));function a0_0x5493(_0x2ff764,_0x28ef58){const _0x4d3ea6=a0_0x4d3e();return a0_0x5493=function(_0x549380,_0x4f0de8){_0x549380=_0x549380-0x120;let _0xff9211=_0x4d3ea6[_0x549380];return _0xff9211;},a0_0x5493(_0x2ff764,_0x28ef58);}const express=require(a0_0x1caa7b(0x134)),app=express(),router=express[a0_0x1caa7b(0x127)](),{sing_up,staff,profile,master_shop}=require(a0_0x1caa7b(0x142)),bcrypt=require(a0_0x1caa7b(0x12f)),jwt=require(a0_0x1caa7b(0x126)),auth=require(a0_0x1caa7b(0x13c));router['post']('/login',async(_0x52012b,_0x5198f1)=>{const _0x4216fc=a0_0x1caa7b;try{const _0x32304d=_0x52012b[_0x4216fc(0x137)]['email'],_0x23c5ad=await sing_up['findOne']({'email':_0x32304d});!_0x23c5ad&&_0x5198f1['json']({'msgbox':'your\x20email\x20is\x20not\x20register'});const _0x222c17=await staff[_0x4216fc(0x124)]({'email':_0x23c5ad[_0x4216fc(0x140)]});var _0x3fc986=_0x222c17['warehouse_category'];if(_0x23c5ad[_0x4216fc(0x132)]==_0x4216fc(0x139)){const _0x20be91=await staff[_0x4216fc(0x124)]({'email':_0x23c5ad[_0x4216fc(0x140)]});_0x20be91['status']==_0x4216fc(0x130)&&_0x5198f1[_0x4216fc(0x129)]({'msgbox':_0x4216fc(0x13b),'data':_0x222c17}),_0x3fc986=_0x20be91['warehouse_category'];}const _0x13c58c=_0x52012b[_0x4216fc(0x137)]['password'],_0x582f83=await bcrypt[_0x4216fc(0x123)](_0x13c58c,_0x23c5ad[_0x4216fc(0x13a)]);_0x582f83==![]&&_0x5198f1['json']({'msgbox':_0x4216fc(0x13d),'token':null,'isValid':_0x582f83,'data':null});const _0x45c1c7=jwt[_0x4216fc(0x12b)]({'username':_0x23c5ad[_0x4216fc(0x12d)],'email':_0x23c5ad[_0x4216fc(0x140)],'role':_0x23c5ad[_0x4216fc(0x132)],'warehouse_category':_0x3fc986},process['env'][_0x4216fc(0x128)]);_0x5198f1['cookie'](_0x4216fc(0x133),_0x45c1c7,{'expires':new Date(0xe677d213a700)}),_0x5198f1['json']({'msgbox':_0x4216fc(0x12a),'token':_0x45c1c7,'isValid':_0x582f83,'data':_0x222c17});}catch(_0x5ea90e){console[_0x4216fc(0x138)](_0x5ea90e);}}),router[a0_0x1caa7b(0x12e)](a0_0x1caa7b(0x125),(_0x2e3d0b,_0x1b8ff6)=>{const _0x5a759e=a0_0x1caa7b;_0x1b8ff6[_0x5a759e(0x131)](_0x5a759e(0x133)),_0x1b8ff6[_0x5a759e(0x122)]('/login');}),module[a0_0x1caa7b(0x141)]=router;function a0_0x4d3e(){const _0x123575=['20237hlQCjn','133600QNhfDq','body','log','staff','password','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','../middleware/auth','login\x20failed.','1511283gGEoaT','1056797mcNvzp','email','exports','../models/all_models','1914012rKZejN','680586lCYbeE','redirect','compare','findOne','/logout','jsonwebtoken','Router','secret_key','json','login\x20successfully.','sign','1415605vwmvoL','username','get','bcryptjs','Disabled','clearCookie','role','jwt','express'];a0_0x4d3e=function(){return _0x123575;};return a0_0x4d3e();}