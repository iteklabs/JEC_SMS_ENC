function a0_0x34d4(){const _0x490f84=['login\x20successfully.','your\x20email\x20is\x20not\x20register','30zqqtpm','staff','4272UHVvxP','2380uJSZlD','Router','status','json','post','Disabled','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','115360bQtNQL','2rAubTp','findOne','../middleware/auth','redirect','clearCookie','8987615PkYEoF','email','env','warehouse_category','username','jsonwebtoken','../models/all_models','exports','body','80201oFRkOf','1276271NkRkNg','role','290nfRfyU','express','815185HOObJS','sign','jwt','/login','secret_key','log','49347TeYRXg','1506tmWVWi'];a0_0x34d4=function(){return _0x490f84;};return a0_0x34d4();}const a0_0x6bbda4=a0_0x5291;function a0_0x5291(_0x3944c0,_0x1a8b97){const _0x34d4fb=a0_0x34d4();return a0_0x5291=function(_0x529139,_0x58244e){_0x529139=_0x529139-0xe7;let _0x491f42=_0x34d4fb[_0x529139];return _0x491f42;},a0_0x5291(_0x3944c0,_0x1a8b97);}(function(_0x30e213,_0x13ce44){const _0x1ddaa1=a0_0x5291,_0x5c7628=_0x30e213();while(!![]){try{const _0x248233=parseInt(_0x1ddaa1(0xef))/0x1*(-parseInt(_0x1ddaa1(0x108))/0x2)+parseInt(_0x1ddaa1(0xfa))/0x3*(-parseInt(_0x1ddaa1(0x100))/0x4)+-parseInt(_0x1ddaa1(0xf3))/0x5*(-parseInt(_0x1ddaa1(0xfd))/0x6)+-parseInt(_0x1ddaa1(0x10d))/0x7+-parseInt(_0x1ddaa1(0x107))/0x8+-parseInt(_0x1ddaa1(0xf9))/0x9*(-parseInt(_0x1ddaa1(0xf1))/0xa)+-parseInt(_0x1ddaa1(0xee))/0xb*(-parseInt(_0x1ddaa1(0xff))/0xc);if(_0x248233===_0x13ce44)break;else _0x5c7628['push'](_0x5c7628['shift']());}catch(_0x271ce2){_0x5c7628['push'](_0x5c7628['shift']());}}}(a0_0x34d4,0xaa08e));const express=require(a0_0x6bbda4(0xf2)),app=express(),router=express[a0_0x6bbda4(0x101)](),{sing_up,staff,profile,master_shop}=require(a0_0x6bbda4(0xeb)),bcrypt=require('bcryptjs'),jwt=require(a0_0x6bbda4(0xea)),auth=require(a0_0x6bbda4(0x10a));router[a0_0x6bbda4(0x104)](a0_0x6bbda4(0xf6),async(_0x4c60c0,_0x2f1dd5)=>{const _0x311304=a0_0x6bbda4;try{const _0x58209f=_0x4c60c0[_0x311304(0xed)]['email'],_0x3c09a6=await sing_up[_0x311304(0x109)]({'email':_0x58209f});!_0x3c09a6&&_0x2f1dd5['json']({'msgbox':_0x311304(0xfc)});const _0x3e4bf6=await staff[_0x311304(0x109)]({'email':_0x3c09a6[_0x311304(0x10e)]});var _0x1c321f=_0x3e4bf6['warehouse_category'];if(_0x3c09a6['role']==_0x311304(0xfe)){const _0x55b285=await staff[_0x311304(0x109)]({'email':_0x3c09a6[_0x311304(0x10e)]});_0x55b285[_0x311304(0x102)]==_0x311304(0x105)&&_0x2f1dd5[_0x311304(0x103)]({'msgbox':_0x311304(0x106),'data':_0x3e4bf6}),_0x1c321f=_0x55b285[_0x311304(0xe8)];}const _0x909456=_0x4c60c0[_0x311304(0xed)]['password'],_0x3b1bc8=await bcrypt['compare'](_0x909456,_0x3c09a6['password']);_0x3b1bc8==![]&&_0x2f1dd5[_0x311304(0x103)]({'msgbox':'login\x20failed.','token':null,'isValid':_0x3b1bc8,'data':null});const _0x13ba83=jwt[_0x311304(0xf4)]({'username':_0x3c09a6[_0x311304(0xe9)],'email':_0x3c09a6['email'],'role':_0x3c09a6[_0x311304(0xf0)],'warehouse_category':_0x1c321f},process[_0x311304(0xe7)][_0x311304(0xf7)]);_0x2f1dd5['cookie']('jwt',_0x13ba83,{'expires':new Date(0xe677d213a700)}),_0x2f1dd5['json']({'msgbox':_0x311304(0xfb),'token':_0x13ba83,'isValid':_0x3b1bc8,'data':_0x3e4bf6});}catch(_0x14ca05){console[_0x311304(0xf8)](_0x14ca05);}}),router['get']('/logout',(_0x10474e,_0x311825)=>{const _0x23aed4=a0_0x6bbda4;_0x311825[_0x23aed4(0x10c)](_0x23aed4(0xf5)),_0x311825[_0x23aed4(0x10b)](_0x23aed4(0xf6));}),module[a0_0x6bbda4(0xec)]=router;