const a0_0x1957b3=a0_0x1d0a;(function(_0x2edb0e,_0x2735a2){const _0x4dbb88=a0_0x1d0a,_0x5c924f=_0x2edb0e();while(!![]){try{const _0x567f39=parseInt(_0x4dbb88(0x150))/0x1*(-parseInt(_0x4dbb88(0x152))/0x2)+parseInt(_0x4dbb88(0x14d))/0x3*(parseInt(_0x4dbb88(0x13b))/0x4)+parseInt(_0x4dbb88(0x148))/0x5*(-parseInt(_0x4dbb88(0x14a))/0x6)+-parseInt(_0x4dbb88(0x157))/0x7*(-parseInt(_0x4dbb88(0x149))/0x8)+parseInt(_0x4dbb88(0x14c))/0x9+-parseInt(_0x4dbb88(0x15b))/0xa+-parseInt(_0x4dbb88(0x144))/0xb*(-parseInt(_0x4dbb88(0x15c))/0xc);if(_0x567f39===_0x2735a2)break;else _0x5c924f['push'](_0x5c924f['shift']());}catch(_0x2ba696){_0x5c924f['push'](_0x5c924f['shift']());}}}(a0_0x191b,0xe0572));const express=require(a0_0x1957b3(0x15e)),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require(a0_0x1957b3(0x13c)),bcrypt=require(a0_0x1957b3(0x14f)),jwt=require(a0_0x1957b3(0x143)),auth=require('../middleware/auth');function a0_0x191b(){const _0x5b5642=['1682010YlqvWQ','6TFpvPG','json','bcryptjs','864580zNGPhu','jwt','2mabYyo','email','role','login\x20failed.','exports','7HGsjCu','secret_key','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','login\x20successfully.','7113210ykxKIF','24SYYyrQ','status','express','compare','env','warehouse_category','1350560EIZXBk','../models/all_models','cookie','get','redirect','staff','your\x20email\x20is\x20not\x20register','log','jsonwebtoken','2964280VExdQU','Disabled','findOne','body','460UPtqZx','11780936mTmdOA','24714JTqlrY','/logout'];a0_0x191b=function(){return _0x5b5642;};return a0_0x191b();}function a0_0x1d0a(_0x120833,_0x3aaccd){const _0x191b79=a0_0x191b();return a0_0x1d0a=function(_0x1d0a32,_0x165ef9){_0x1d0a32=_0x1d0a32-0x13b;let _0x2773d1=_0x191b79[_0x1d0a32];return _0x2773d1;},a0_0x1d0a(_0x120833,_0x3aaccd);}router['post']('/login',async(_0x31a096,_0x5653a2)=>{const _0x1e9aeb=a0_0x1957b3;try{const _0x2dfa17=_0x31a096[_0x1e9aeb(0x147)][_0x1e9aeb(0x153)],_0x35f154=await sing_up['findOne']({'email':_0x2dfa17});!_0x35f154&&_0x5653a2[_0x1e9aeb(0x14e)]({'msgbox':_0x1e9aeb(0x141)});const _0x3f8fb7=await staff[_0x1e9aeb(0x146)]({'email':_0x35f154['email']});var _0x134707=_0x3f8fb7['warehouse_category'];if(_0x35f154[_0x1e9aeb(0x154)]==_0x1e9aeb(0x140)){const _0x172fbb=await staff[_0x1e9aeb(0x146)]({'email':_0x35f154[_0x1e9aeb(0x153)]});_0x172fbb[_0x1e9aeb(0x15d)]==_0x1e9aeb(0x145)&&_0x5653a2[_0x1e9aeb(0x14e)]({'msgbox':_0x1e9aeb(0x159),'data':_0x3f8fb7}),_0x134707=_0x172fbb[_0x1e9aeb(0x161)];}const _0x478596=_0x31a096['body']['password'],_0x176faa=await bcrypt[_0x1e9aeb(0x15f)](_0x478596,_0x35f154['password']);_0x176faa==![]&&_0x5653a2[_0x1e9aeb(0x14e)]({'msgbox':_0x1e9aeb(0x155),'token':null,'isValid':_0x176faa,'data':null});const _0x405567=jwt['sign']({'username':_0x35f154['username'],'email':_0x35f154['email'],'role':_0x35f154[_0x1e9aeb(0x154)],'warehouse_category':_0x134707},process[_0x1e9aeb(0x160)][_0x1e9aeb(0x158)]);_0x5653a2[_0x1e9aeb(0x13d)]('jwt',_0x405567,{'expires':new Date(0xe677d213a700)}),_0x5653a2[_0x1e9aeb(0x14e)]({'msgbox':_0x1e9aeb(0x15a),'token':_0x405567,'isValid':_0x176faa,'data':_0x3f8fb7});}catch(_0x3ffe7c){console[_0x1e9aeb(0x142)](_0x3ffe7c);}}),router[a0_0x1957b3(0x13e)](a0_0x1957b3(0x14b),(_0x526a5c,_0x26db98)=>{const _0x52814b=a0_0x1957b3;_0x26db98['clearCookie'](_0x52814b(0x151)),_0x26db98[_0x52814b(0x13f)]('/login');}),module[a0_0x1957b3(0x156)]=router;