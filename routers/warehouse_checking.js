const a0_0x13d199=a0_0x55cd;(function(_0x8c9cc3,_0x12d39b){const _0x28b352=a0_0x55cd,_0x1a8daa=_0x8c9cc3();while(!![]){try{const _0x25b504=-parseInt(_0x28b352(0x184))/0x1+-parseInt(_0x28b352(0x1b0))/0x2+parseInt(_0x28b352(0x1a4))/0x3+parseInt(_0x28b352(0x1b6))/0x4+parseInt(_0x28b352(0x182))/0x5+-parseInt(_0x28b352(0x1a5))/0x6*(-parseInt(_0x28b352(0x1ad))/0x7)+-parseInt(_0x28b352(0x188))/0x8;if(_0x25b504===_0x12d39b)break;else _0x1a8daa['push'](_0x1a8daa['shift']());}catch(_0x510068){_0x1a8daa['push'](_0x1a8daa['shift']());}}}(a0_0x8605,0x765df));const express=require(a0_0x13d199(0x1bc)),app=express(),router=express[a0_0x13d199(0x195)](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require(a0_0x13d199(0x18b)),auth=require('../middleware/auth'),nodemailer=require(a0_0x13d199(0x190));var ejs=require(a0_0x13d199(0x1cf));const path=require(a0_0x13d199(0x198)),users=require(a0_0x13d199(0x1c0));function a0_0x55cd(_0x123a35,_0x289525){const _0x8605c0=a0_0x8605();return a0_0x55cd=function(_0x55cddd,_0x45c824){_0x55cddd=_0x55cddd-0x182;let _0x3fc850=_0x8605c0[_0x55cddd];return _0x3fc850;},a0_0x55cd(_0x123a35,_0x289525);}router['get'](a0_0x13d199(0x1ae),auth,async(_0x38be0b,_0x5e3b8d)=>{const _0x148138=a0_0x13d199;try{const {username:_0x57b9d2,email:_0x53516b,role:_0x36e8e7}=_0x38be0b['user'],_0x3e5b2b=_0x38be0b[_0x148138(0x1ab)],_0x2883d6=await profile[_0x148138(0x1a9)]({'email':_0x3e5b2b[_0x148138(0x183)]}),_0x4644c2=await master_shop[_0x148138(0x191)]();if(_0x4644c2[0x0][_0x148138(0x1b3)]==_0x148138(0x19c))var _0x1f5c35=users[_0x148138(0x1c5)];else{if(_0x4644c2[0x0][_0x148138(0x1b3)]==_0x148138(0x1c9))var _0x1f5c35=users[_0x148138(0x1c9)];else{if(_0x4644c2[0x0][_0x148138(0x1b3)]==_0x148138(0x18c))var _0x1f5c35=users[_0x148138(0x18c)];else{if(_0x4644c2[0x0][_0x148138(0x1b3)]==_0x148138(0x18f))var _0x1f5c35=users['Spanish'];else{if(_0x4644c2[0x0]['language']==_0x148138(0x1b8))var _0x1f5c35=users[_0x148138(0x1b8)];else{if(_0x4644c2[0x0][_0x148138(0x1b3)]=='Portuguese\x20(BR)')var _0x1f5c35=users[_0x148138(0x1a0)];else{if(_0x4644c2[0x0][_0x148138(0x1b3)]==_0x148138(0x1b7))var _0x1f5c35=users[_0x148138(0x1b7)];else{if(_0x4644c2[0x0][_0x148138(0x1b3)]=='Arabic\x20(ae)')var _0x1f5c35=users[_0x148138(0x1c1)];}}}}}}}_0x5e3b8d['render'](_0x148138(0x1bb),{'success':_0x38be0b[_0x148138(0x1ca)](_0x148138(0x1b1)),'errors':_0x38be0b[_0x148138(0x1ca)]('errors'),'profile':_0x2883d6,'master_shop':_0x4644c2,'role':_0x3e5b2b,'language':_0x1f5c35});}catch(_0xa51ac4){console[_0x148138(0x19d)](_0xa51ac4);}}),router[a0_0x13d199(0x1bf)](a0_0x13d199(0x194),auth,async(_0x5ef106,_0x2933d9)=>{const _0x3a7aba=a0_0x13d199;try{const {product_code:_0x363694,type_of_process:_0x458704}=_0x5ef106[_0x3a7aba(0x1a2)];var _0x4952c9=_0x363694[_0x3a7aba(0x1c8)]('~');const _0x4f5c66=_0x4952c9[0x0],_0x52163f=_0x4952c9[0x1],_0x2708fe=_0x4952c9[0x2],_0x2eb525=_0x4952c9[0x3],_0x130d02=await warehouse_temporary[_0x3a7aba(0x191)]({'warehouse':_0x4f5c66,'room_name':_0x52163f,'level':_0x2708fe,'bay':_0x2eb525,'data_type':_0x458704,'isConfirm':_0x3a7aba(0x19a)});_0x2933d9[_0x3a7aba(0x1a6)](_0x130d02);}catch(_0x255136){console[_0x3a7aba(0x19d)](_0x255136);}}),router[a0_0x13d199(0x1bf)](a0_0x13d199(0x1a1),auth,async(_0x27cdeb,_0x221c4d)=>{const _0x2469b9=a0_0x13d199;try{const {id_data:_0x25dc28}=_0x27cdeb[_0x2469b9(0x1a2)],_0x1c0524=await warehouse_temporary[_0x2469b9(0x191)]({'_id':_0x25dc28}),_0x17306f=_0x27cdeb[_0x2469b9(0x1ab)],_0xee376c=new Date();for(let _0x47a6e6=0x0;_0x47a6e6<=_0x1c0524[_0x2469b9(0x18a)]-0x1;_0x47a6e6++){const _0x581cea=_0x1c0524[_0x47a6e6];var _0x12aa30=0x0;if(_0x581cea[_0x2469b9(0x186)]=='inc'){var _0x241661=await warehouse['findOne']({'name':_0x581cea[_0x2469b9(0x187)],'room':_0x581cea['room_name']});const _0x5de003=_0x241661['product_details'][_0x2469b9(0x1b5)](_0x55b8e0=>{const _0x43c571=_0x2469b9;_0x55b8e0[_0x43c571(0x1c3)]==_0x581cea[_0x43c571(0x1c3)]&&_0x55b8e0[_0x43c571(0x18d)]==_0x581cea[_0x43c571(0x18d)]&&_0x55b8e0[_0x43c571(0x1bd)]==_0x581cea[_0x43c571(0x1bd)]&&_0x55b8e0[_0x43c571(0x18e)]==_0x581cea['product_code']&&_0x55b8e0[_0x43c571(0x1cd)]==_0x581cea[_0x43c571(0x1cd)]&&_0x55b8e0[_0x43c571(0x19e)]==_0x581cea[_0x43c571(0x19e)]&&_0x55b8e0[_0x43c571(0x19b)]==_0x581cea[_0x43c571(0x19b)]&&(_0x55b8e0[_0x43c571(0x189)]=parseInt(_0x55b8e0[_0x43c571(0x189)])+parseInt(_0x581cea[_0x43c571(0x189)]),_0x12aa30++);});_0x12aa30=='0'&&(_0x241661[_0x2469b9(0x197)]=_0x241661[_0x2469b9(0x197)]['concat']({'product_name':_0x581cea[_0x2469b9(0x1c3)],'product_stock':_0x581cea[_0x2469b9(0x189)],'primary_code':_0x581cea[_0x2469b9(0x18d)],'secondary_code':_0x581cea['secondary_code'],'product_code':_0x581cea[_0x2469b9(0x18e)],'bay':_0x581cea[_0x2469b9(0x1cd)],'level':_0x581cea[_0x2469b9(0x19e)],'maxProducts':_0x581cea[_0x2469b9(0x1d0)],'unit':_0x581cea[_0x2469b9(0x1a8)],'secondary_unit':_0x581cea[_0x2469b9(0x1c7)],'maxPerUnit':_0x581cea[_0x2469b9(0x1c4)],'alertQTY':_0x581cea[_0x2469b9(0x1a3)],'production_date':_0x581cea['production_date'],'expiry_date':_0x581cea['expiry_date'],'batch_code':_0x581cea[_0x2469b9(0x1a7)],'invoice':_0x581cea['invoice'],'product_cat':_0x581cea[_0x2469b9(0x1ba)],'uuid':_0x581cea[_0x2469b9(0x1cc)],'gross_price':_0x581cea['gross_price'],'date_recieved':_0x581cea[_0x2469b9(0x19b)],'isAvailable':_0x2469b9(0x1b2),'isUsed':'false','warehouse_id_temp_inc':_0x581cea[_0x2469b9(0x1b9)]})),_0x1c0524[_0x47a6e6][_0x2469b9(0x1cb)]=_0x2469b9(0x1b2),_0x1c0524[_0x47a6e6][_0x2469b9(0x1ac)]=_0x17306f[_0x2469b9(0x183)],_0x1c0524[_0x47a6e6][_0x2469b9(0x193)]=_0xee376c,await _0x1c0524[_0x47a6e6][_0x2469b9(0x1c2)](),await _0x241661[_0x2469b9(0x1c2)]();}else{if(_0x581cea['data_type']==_0x2469b9(0x192)){var _0x241661=await warehouse[_0x2469b9(0x1a9)]({'name':_0x581cea[_0x2469b9(0x187)],'room':_0x581cea['room_name']});const _0x46ba65=_0x241661[_0x2469b9(0x197)][_0x2469b9(0x1b5)](_0x3a823c=>{const _0x288df9=_0x2469b9;_0x3a823c[_0x288df9(0x1c3)]==_0x581cea[_0x288df9(0x1c3)]&&_0x3a823c[_0x288df9(0x18d)]==_0x581cea[_0x288df9(0x18d)]&&_0x3a823c[_0x288df9(0x1bd)]==_0x581cea[_0x288df9(0x1bd)]&&_0x3a823c[_0x288df9(0x18e)]==_0x581cea[_0x288df9(0x18e)]&&_0x3a823c[_0x288df9(0x1b9)]==_0x581cea['warehouse_id_detl']&&(_0x3a823c[_0x288df9(0x189)]=parseInt(_0x3a823c[_0x288df9(0x189)])-parseInt(_0x581cea['product_stock']),_0x3a823c[_0x288df9(0x189)]==0x0?(_0x3a823c[_0x288df9(0x19f)]='false',_0x1c0524[_0x47a6e6][_0x288df9(0x19f)]=_0x288df9(0x19a),_0x1c0524[_0x47a6e6][_0x288df9(0x1b4)]=_0x288df9(0x1b2)):_0x1c0524[_0x47a6e6][_0x288df9(0x1b4)]='false',_0x3a823c[_0x288df9(0x1b4)]='false',_0x12aa30++);});_0x1c0524[_0x47a6e6][_0x2469b9(0x1cb)]=_0x2469b9(0x1b2),_0x1c0524[_0x47a6e6][_0x2469b9(0x1ac)]=_0x17306f[_0x2469b9(0x183)],_0x1c0524[_0x47a6e6][_0x2469b9(0x193)]=_0xee376c,await _0x1c0524[_0x47a6e6]['save'](),await _0x241661[_0x2469b9(0x1c2)]();}}}_0x221c4d[_0x2469b9(0x1a6)]({'data_main':_0x1c0524,'data_warehouse':_0x241661});}catch(_0x32f64a){console[_0x2469b9(0x19d)](_0x32f64a);}}),router[a0_0x13d199(0x1bf)](a0_0x13d199(0x185),auth,async(_0x5791e7,_0x3ef3c7)=>{const _0x40527b=a0_0x13d199;try{const {id_data:_0x358c12}=_0x5791e7['body'],_0x131314=await warehouse_temporary['find']({'_id':_0x358c12}),_0x511cac=_0x5791e7[_0x40527b(0x1ab)],_0x357f86=new Date();for(let _0x96ae34=0x0;_0x96ae34<=_0x131314[_0x40527b(0x18a)]-0x1;_0x96ae34++){const _0x485e8b=_0x131314[_0x96ae34];var _0x5b54ca=0x0;if(_0x485e8b[_0x40527b(0x186)]==_0x40527b(0x192)){var _0x17c79a=await warehouse[_0x40527b(0x1a9)]({'name':_0x485e8b[_0x40527b(0x187)],'room':_0x485e8b[_0x40527b(0x199)]});const _0x15b4c4=_0x17c79a[_0x40527b(0x197)][_0x40527b(0x1b5)](_0x25cd92=>{const _0x315aad=_0x40527b;_0x25cd92[_0x315aad(0x1c3)]==_0x485e8b[_0x315aad(0x1c3)]&&_0x25cd92[_0x315aad(0x18d)]==_0x485e8b[_0x315aad(0x18d)]&&_0x25cd92[_0x315aad(0x1bd)]==_0x485e8b['secondary_code']&&_0x25cd92['product_code']==_0x485e8b['product_code']&&_0x25cd92[_0x315aad(0x1b9)]==_0x485e8b[_0x315aad(0x1c6)]&&(_0x25cd92[_0x315aad(0x19f)]=_0x315aad(0x1b2),_0x131314[_0x96ae34][_0x315aad(0x19f)]=_0x315aad(0x1af),_0x131314[_0x96ae34][_0x315aad(0x1b4)]=_0x315aad(0x1b2),_0x131314[_0x96ae34][_0x315aad(0x1ac)]=_0x511cac[_0x315aad(0x183)],_0x131314[_0x96ae34]['date_time']=_0x357f86,_0x25cd92['isUsed']=_0x315aad(0x19a),_0x5b54ca++);});_0x131314[_0x96ae34][_0x40527b(0x1cb)]=_0x40527b(0x1b2),await _0x131314[_0x96ae34][_0x40527b(0x1c2)](),await _0x17c79a[_0x40527b(0x1c2)]();}}_0x3ef3c7[_0x40527b(0x1a6)]({'data_main':_0x131314,'data_warehouse':_0x17c79a});}catch(_0x4fab0a){console[_0x40527b(0x19d)](_0x4fab0a);}}),router[a0_0x13d199(0x1bf)](a0_0x13d199(0x196),auth,async(_0x1dacac,_0x1d690b)=>{const _0x51161c=a0_0x13d199;try{const {data_show:_0x110ee2,type_proc:_0x1a6dd3}=_0x1dacac[_0x51161c(0x1a2)];if(_0x110ee2==_0x51161c(0x1aa)){const _0x6aeb15=await warehouse_temporary[_0x51161c(0x191)]({'isConfirm':_0x51161c(0x1b2),'data_type':_0x1a6dd3})[_0x51161c(0x1ce)]({'level':0x1,'bin':0x1});_0x1d690b['json'](_0x6aeb15);}else{const _0x4ca7b4=await warehouse_temporary[_0x51161c(0x191)]({'isConfirm':_0x110ee2,'data_type':_0x1a6dd3})[_0x51161c(0x1ce)]({'level':0x1,'bin':0x1});_0x1d690b[_0x51161c(0x1a6)](_0x4ca7b4);}}catch(_0x355a88){console[_0x51161c(0x19d)](_0x355a88);}}),module[a0_0x13d199(0x1be)]=router;function a0_0x8605(){const _0x3ae855=['English','warehouse_id_detl','secondary_unit','split','Hindi','flash','isConfirm','uuid','bay','sort','ejs','maxStocks','4010515PEzlll','email','271033lXiDnC','/cancel_data','data_type','warehouse','8026968dGmHiz','product_stock','length','../models/all_models','German','primary_code','product_code','Spanish','nodemailer','find','out','date_time','/check_to_confirm','Router','/view_data_all','product_details','path','room_name','false','date_recieved','English\x20(US)','log','level','isAvailable','Portuguese','/confirm_data','body','alertQTY','1615452jMVDyv','6UtWFYQ','json','batch_code','unit','findOne','All','user','confirm_by','2034277zcYxAi','/view/','cancel','159798KqotLn','success','true','language','isUsed','map','831744guKyav','Chinese','French','_id','product_cat','warehouse_checking','express','secondary_code','exports','post','../public/language/languages.json','Arabic','save','product_name','maxperunit'];a0_0x8605=function(){return _0x3ae855;};return a0_0x8605();}