const a0_0x41ad01=a0_0x2029;(function(_0x3f77b4,_0x8d89ff){const _0xe8fd71=a0_0x2029,_0x39ed31=_0x3f77b4();while(!![]){try{const _0x513c62=parseInt(_0xe8fd71(0xa5))/0x1+parseInt(_0xe8fd71(0x9b))/0x2+-parseInt(_0xe8fd71(0x98))/0x3+parseInt(_0xe8fd71(0xbb))/0x4*(-parseInt(_0xe8fd71(0xb6))/0x5)+parseInt(_0xe8fd71(0xc8))/0x6+parseInt(_0xe8fd71(0x97))/0x7+parseInt(_0xe8fd71(0xb1))/0x8*(-parseInt(_0xe8fd71(0xa4))/0x9);if(_0x513c62===_0x8d89ff)break;else _0x39ed31['push'](_0x39ed31['shift']());}catch(_0x2a4c91){_0x39ed31['push'](_0x39ed31['shift']());}}}(a0_0x4a3e,0x768b5));const express=require(a0_0x41ad01(0x96)),app=express(),router=express[a0_0x41ad01(0xd4)](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require(a0_0x41ad01(0xcc)),auth=require(a0_0x41ad01(0xb7)),nodemailer=require(a0_0x41ad01(0xa7));var ejs=require('ejs');function a0_0x2029(_0xe717b,_0x234d27){const _0x4a3ee0=a0_0x4a3e();return a0_0x2029=function(_0x202920,_0x4f9f9a){_0x202920=_0x202920-0x93;let _0x3bee0d=_0x4a3ee0[_0x202920];return _0x3bee0d;},a0_0x2029(_0xe717b,_0x234d27);}const path=require(a0_0x41ad01(0xaf)),users=require(a0_0x41ad01(0xd3));router[a0_0x41ad01(0xb8)](a0_0x41ad01(0xc7),auth,async(_0x5c4f9c,_0x5d33ac)=>{const _0x1c4120=a0_0x41ad01;try{const {username:_0xd4ab45,email:_0x25f299,role:_0xa47261}=_0x5c4f9c['user'],_0x24cf57=_0x5c4f9c[_0x1c4120(0xb0)],_0x38598d=await profile[_0x1c4120(0xa1)]({'email':_0x24cf57[_0x1c4120(0xc6)]}),_0x35bb37=await master_shop['find']();if(_0x35bb37[0x0]['language']==_0x1c4120(0xc2))var _0x22491b=users[_0x1c4120(0xbe)];else{if(_0x35bb37[0x0]['language']=='Hindi')var _0x22491b=users[_0x1c4120(0xd2)];else{if(_0x35bb37[0x0][_0x1c4120(0xd5)]==_0x1c4120(0xca))var _0x22491b=users[_0x1c4120(0xca)];else{if(_0x35bb37[0x0][_0x1c4120(0xd5)]==_0x1c4120(0xad))var _0x22491b=users[_0x1c4120(0xad)];else{if(_0x35bb37[0x0]['language']==_0x1c4120(0xd6))var _0x22491b=users[_0x1c4120(0xd6)];else{if(_0x35bb37[0x0][_0x1c4120(0xd5)]=='Portuguese\x20(BR)')var _0x22491b=users[_0x1c4120(0xd1)];else{if(_0x35bb37[0x0][_0x1c4120(0xd5)]==_0x1c4120(0x99))var _0x22491b=users['Chinese'];else{if(_0x35bb37[0x0]['language']==_0x1c4120(0xa0))var _0x22491b=users[_0x1c4120(0xac)];}}}}}}}_0x5d33ac[_0x1c4120(0xd0)](_0x1c4120(0xb2),{'success':_0x5c4f9c[_0x1c4120(0x95)](_0x1c4120(0xb3)),'errors':_0x5c4f9c[_0x1c4120(0x95)](_0x1c4120(0xcb)),'profile':_0x38598d,'master_shop':_0x35bb37,'role':_0x24cf57,'language':_0x22491b});}catch(_0x433d63){console[_0x1c4120(0xc0)](_0x433d63);}}),router[a0_0x41ad01(0xae)](a0_0x41ad01(0x9c),auth,async(_0x24b029,_0x34ef61)=>{const _0x2021fb=a0_0x41ad01;try{const {product_code:_0x255973}=_0x24b029[_0x2021fb(0xb9)];var _0x5e7e86=_0x255973[_0x2021fb(0xce)]('~');const _0x4468a4=_0x5e7e86[0x0],_0x5409bb=_0x5e7e86[0x1],_0x84a327=_0x5e7e86[0x2],_0x5ed069=_0x5e7e86[0x3],_0x1f9b2d=await warehouse_temporary[_0x2021fb(0x93)]({'warehouse':_0x4468a4,'room_name':_0x5409bb,'level':_0x84a327,'bay':_0x5ed069,'data_type':'inc'});_0x34ef61['json'](_0x1f9b2d);}catch(_0x3d2bf6){console[_0x2021fb(0xc0)](_0x3d2bf6);}}),router['post'](a0_0x41ad01(0xba),auth,async(_0x5e949a,_0x1b0fe2)=>{const _0x240fb0=a0_0x41ad01;try{const {id_data:_0x1ce7ca}=_0x5e949a[_0x240fb0(0xb9)],_0x3d9293=await warehouse_temporary[_0x240fb0(0x93)]({'_id':_0x1ce7ca});for(let _0x587629=0x0;_0x587629<=_0x3d9293[_0x240fb0(0xa8)]-0x1;_0x587629++){const _0x342875=_0x3d9293[_0x587629];var _0x376d5f=await warehouse[_0x240fb0(0xa1)]({'name':_0x342875[_0x240fb0(0xbc)],'room':_0x342875['room_name']}),_0x41887c=0x0;const _0x25cb71=_0x376d5f['product_details'][_0x240fb0(0xa6)](_0x5c3eea=>{const _0x4c7eed=_0x240fb0;_0x5c3eea[_0x4c7eed(0xbd)]==_0x342875[_0x4c7eed(0xbd)]&&_0x5c3eea[_0x4c7eed(0xab)]==_0x342875[_0x4c7eed(0xab)]&&_0x5c3eea[_0x4c7eed(0xc1)]==_0x342875[_0x4c7eed(0xc1)]&&_0x5c3eea[_0x4c7eed(0xa3)]==_0x342875[_0x4c7eed(0xa3)]&&_0x5c3eea[_0x4c7eed(0x94)]==_0x342875[_0x4c7eed(0x94)]&&_0x5c3eea[_0x4c7eed(0x9a)]==_0x342875[_0x4c7eed(0x9a)]&&_0x5c3eea[_0x4c7eed(0xbf)]==_0x342875[_0x4c7eed(0xbf)]&&(_0x5c3eea[_0x4c7eed(0xb5)]=parseInt(_0x5c3eea[_0x4c7eed(0xb5)])+parseInt(_0x342875[_0x4c7eed(0xb5)]),_0x41887c++);});_0x41887c=='0'&&(_0x376d5f[_0x240fb0(0xc5)]=_0x376d5f[_0x240fb0(0xc5)][_0x240fb0(0xcd)]({'product_name':_0x342875[_0x240fb0(0xbd)],'product_stock':_0x342875[_0x240fb0(0xc3)],'primary_code':_0x342875['primary_code'],'secondary_code':_0x342875['secondary_code'],'product_code':_0x342875[_0x240fb0(0xa3)],'storage':_0x342875['storage'],'rack':_0x342875[_0x240fb0(0x9e)],'bay':_0x342875[_0x240fb0(0x94)],'bin':_0x342875[_0x240fb0(0xa9)],'type':_0x342875[_0x240fb0(0xa2)],'floorlevel':_0x342875[_0x240fb0(0x9d)],'maxProducts':_0x342875['maxStocks'],'unit':_0x342875[_0x240fb0(0xcf)],'secondary_unit':_0x342875[_0x240fb0(0xb4)],'expiry_date':_0x342875[_0x240fb0(0xaa)],'maxPerUnit':_0x342875['maxperunit'],'batch_code':_0x342875['batch_code'],'alertQTY':_0x342875['alertQTY'],'production_date':_0x342875['production_date'],'delivery_date':_0x342875['delivery_date'],'delivery_code':_0x342875[_0x240fb0(0x9f)]})),console[_0x240fb0(0xc0)](_0x376d5f);}_0x1b0fe2[_0x240fb0(0xc9)](_0x3d9293);}catch(_0x3338ed){console[_0x240fb0(0xc0)](_0x3338ed);}}),module[a0_0x41ad01(0xc4)]=router;function a0_0x4a3e(){const _0x4e0bc2=['map','nodemailer','length','bin','expiry_date','primary_code','Arabic','Spanish','post','path','user','83552DtLotp','warehouse_checking','success','secondary_unit','product_stock','145hNZRIo','../middleware/auth','get','body','/confirm_data','34300SQIbWX','warehouse_name','product_name','English','date_recieved','log','secondary_code','English\x20(US)','quantity','exports','product_details','email','/view/','5660130TCGRjm','json','German','errors','../models/all_models','concat','split','standard_unit','render','Portuguese','Hindi','../public/language/languages.json','Router','language','French','find','bay','flash','express','1981476AzOvpb','1411071xUVUeK','Chinese','level','551242RvqPhp','/check_to_confirm','floorlevel','rack','delivery_code','Arabic\x20(ae)','findOne','type','product_code','918OpqlMo','767833fMoNUO'];a0_0x4a3e=function(){return _0x4e0bc2;};return a0_0x4a3e();}