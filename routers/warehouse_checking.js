function a0_0x4faf(){const _0x3e347a=['find','room_name','1hMXIbn','sort','Hindi','Chinese','bay','../models/all_models','email','nodemailer','502202fuewbA','production_date','isUsed','../public/language/languages.json','Spanish','1096152XhScBx','../middleware/auth','21108fovTPB','date_recieved','invoice','910880JwCIpf','French','map','findOne','1881MOTsFx','uuid','render','gross_price','secondary_code','Arabic\x20(ae)','12QYEAIU','path','/view_data_all','isConfirm','language','Router','German','unit','post','product_cat','maxperunit','isAvailable','product_name','ejs','save','split','date_time','Portuguese','exports','alertQTY','flash','data_type','613123NeGZZP','_id','body','primary_code','111771BdXDOY','level','cancel','All','product_code','true','warehouse_id_detl','user','json','185OZeYrn','false','product_details','confirm_by','log','success','secondary_unit','product_stock','length','inc','expiry_date','11990YGicPw','batch_code','warehouse','77azOiLL','concat'];a0_0x4faf=function(){return _0x3e347a;};return a0_0x4faf();}const a0_0x44f170=a0_0xdd14;(function(_0x3dfc3a,_0x366075){const _0x3f040b=a0_0xdd14,_0x1c1562=_0x3dfc3a();while(!![]){try{const _0x5b2c28=-parseInt(_0x3f040b(0xef))/0x1*(parseInt(_0x3f040b(0xf7))/0x2)+-parseInt(_0x3f040b(0x125))/0x3*(parseInt(_0x3f040b(0x10b))/0x4)+parseInt(_0x3f040b(0xdd))/0x5*(parseInt(_0x3f040b(0xfe))/0x6)+parseInt(_0x3f040b(0x121))/0x7+-parseInt(_0x3f040b(0x101))/0x8+-parseInt(_0x3f040b(0x105))/0x9*(parseInt(_0x3f040b(0xe8))/0xa)+parseInt(_0x3f040b(0xeb))/0xb*(parseInt(_0x3f040b(0xfc))/0xc);if(_0x5b2c28===_0x366075)break;else _0x1c1562['push'](_0x1c1562['shift']());}catch(_0x29adf7){_0x1c1562['push'](_0x1c1562['shift']());}}}(a0_0x4faf,0x1fb3e));function a0_0xdd14(_0x2f2434,_0x33aeb0){const _0x4faf19=a0_0x4faf();return a0_0xdd14=function(_0xdd146,_0x38aff8){_0xdd146=_0xdd146-0xd7;let _0x4a3588=_0x4faf19[_0xdd146];return _0x4a3588;},a0_0xdd14(_0x2f2434,_0x33aeb0);}const express=require('express'),app=express(),router=express[a0_0x44f170(0x110)](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require(a0_0x44f170(0xf4)),auth=require(a0_0x44f170(0xfd)),nodemailer=require(a0_0x44f170(0xf6));var ejs=require(a0_0x44f170(0x118));const path=require(a0_0x44f170(0x10c)),users=require(a0_0x44f170(0xfa));router['get']('/view/',auth,async(_0x15c212,_0x1e8f5b)=>{const _0x52ee94=a0_0x44f170;try{const {username:_0x548e66,email:_0x53bcb5,role:_0x5d4af2}=_0x15c212[_0x52ee94(0xdb)],_0x5b26d0=_0x15c212[_0x52ee94(0xdb)],_0x39848b=await profile[_0x52ee94(0x104)]({'email':_0x5b26d0[_0x52ee94(0xf5)]}),_0x1f61ff=await master_shop[_0x52ee94(0xed)]();if(_0x1f61ff[0x0][_0x52ee94(0x10f)]=='English\x20(US)')var _0x527252=users['English'];else{if(_0x1f61ff[0x0][_0x52ee94(0x10f)]==_0x52ee94(0xf1))var _0x527252=users[_0x52ee94(0xf1)];else{if(_0x1f61ff[0x0][_0x52ee94(0x10f)]==_0x52ee94(0x111))var _0x527252=users[_0x52ee94(0x111)];else{if(_0x1f61ff[0x0]['language']==_0x52ee94(0xfb))var _0x527252=users['Spanish'];else{if(_0x1f61ff[0x0][_0x52ee94(0x10f)]==_0x52ee94(0x102))var _0x527252=users['French'];else{if(_0x1f61ff[0x0]['language']=='Portuguese\x20(BR)')var _0x527252=users[_0x52ee94(0x11c)];else{if(_0x1f61ff[0x0][_0x52ee94(0x10f)]==_0x52ee94(0xf2))var _0x527252=users[_0x52ee94(0xf2)];else{if(_0x1f61ff[0x0][_0x52ee94(0x10f)]==_0x52ee94(0x10a))var _0x527252=users['Arabic'];}}}}}}}_0x1e8f5b[_0x52ee94(0x107)]('warehouse_checking',{'success':_0x15c212['flash'](_0x52ee94(0xe2)),'errors':_0x15c212[_0x52ee94(0x11f)]('errors'),'profile':_0x39848b,'master_shop':_0x1f61ff,'role':_0x5b26d0,'language':_0x527252});}catch(_0x5c6c62){console['log'](_0x5c6c62);}}),router['post']('/check_to_confirm',auth,async(_0x3e3d29,_0x16603c)=>{const _0x27e7f8=a0_0x44f170;try{const {product_code:_0x5a1ad4,type_of_process:_0x4dbab5}=_0x3e3d29['body'];var _0x1330d4=_0x5a1ad4[_0x27e7f8(0x11a)]('~');const _0x4bce52=_0x1330d4[0x0],_0x5828cd=_0x1330d4[0x1],_0x50a057=_0x1330d4[0x2],_0x35c60d=_0x1330d4[0x3],_0x3aefdd=await warehouse_temporary['find']({'warehouse':_0x4bce52,'room_name':_0x5828cd,'level':_0x50a057,'bay':_0x35c60d,'data_type':_0x4dbab5,'isConfirm':_0x27e7f8(0xde)});_0x16603c[_0x27e7f8(0xdc)](_0x3aefdd);}catch(_0x4cc179){console[_0x27e7f8(0xe1)](_0x4cc179);}}),router[a0_0x44f170(0x113)]('/confirm_data',auth,async(_0x155e7f,_0x56205c)=>{const _0x28c999=a0_0x44f170;try{const {id_data:_0x598141}=_0x155e7f[_0x28c999(0x123)],_0x334145=await warehouse_temporary[_0x28c999(0xed)]({'_id':_0x598141}),_0x5f2e57=_0x155e7f[_0x28c999(0xdb)],_0x1ce39d=new Date();for(let _0x12e9bc=0x0;_0x12e9bc<=_0x334145[_0x28c999(0xe5)]-0x1;_0x12e9bc++){const _0x220f15=_0x334145[_0x12e9bc];var _0xacc63b=0x0;if(_0x220f15[_0x28c999(0x120)]==_0x28c999(0xe6)){var _0x4fd913=await warehouse['findOne']({'name':_0x220f15['warehouse'],'room':_0x220f15[_0x28c999(0xee)]});const _0x4b96fb=_0x4fd913[_0x28c999(0xdf)][_0x28c999(0x103)](_0x1e737c=>{const _0x45394e=_0x28c999;_0x1e737c['product_name']==_0x220f15[_0x45394e(0x117)]&&_0x1e737c[_0x45394e(0x124)]==_0x220f15['primary_code']&&_0x1e737c[_0x45394e(0x109)]==_0x220f15[_0x45394e(0x109)]&&_0x1e737c['product_code']==_0x220f15[_0x45394e(0xd8)]&&_0x1e737c[_0x45394e(0xf3)]==_0x220f15[_0x45394e(0xf3)]&&_0x1e737c[_0x45394e(0x126)]==_0x220f15[_0x45394e(0x126)]&&_0x1e737c[_0x45394e(0xff)]==_0x220f15[_0x45394e(0xff)]&&(_0x1e737c['product_stock']=parseInt(_0x1e737c[_0x45394e(0xe4)])+parseInt(_0x220f15[_0x45394e(0xe4)]),_0xacc63b++);});_0xacc63b=='0'&&(_0x4fd913[_0x28c999(0xdf)]=_0x4fd913[_0x28c999(0xdf)][_0x28c999(0xec)]({'product_name':_0x220f15[_0x28c999(0x117)],'product_stock':_0x220f15['product_stock'],'primary_code':_0x220f15[_0x28c999(0x124)],'secondary_code':_0x220f15[_0x28c999(0x109)],'product_code':_0x220f15['product_code'],'bay':_0x220f15[_0x28c999(0xf3)],'level':_0x220f15[_0x28c999(0x126)],'maxProducts':_0x220f15['maxStocks'],'unit':_0x220f15[_0x28c999(0x112)],'secondary_unit':_0x220f15[_0x28c999(0xe3)],'maxPerUnit':_0x220f15[_0x28c999(0x115)],'alertQTY':_0x220f15[_0x28c999(0x11e)],'production_date':_0x220f15[_0x28c999(0xf8)],'expiry_date':_0x220f15[_0x28c999(0xe7)],'batch_code':_0x220f15[_0x28c999(0xe9)],'invoice':_0x220f15[_0x28c999(0x100)],'product_cat':_0x220f15[_0x28c999(0x114)],'uuid':_0x220f15[_0x28c999(0x106)],'gross_price':_0x220f15[_0x28c999(0x108)],'date_recieved':_0x220f15['date_recieved'],'isAvailable':_0x28c999(0xd9),'isUsed':_0x28c999(0xde),'warehouse_id_temp_inc':_0x220f15[_0x28c999(0x122)]})),_0x334145[_0x12e9bc][_0x28c999(0x10e)]='true',_0x334145[_0x12e9bc][_0x28c999(0xe0)]=_0x5f2e57[_0x28c999(0xf5)],_0x334145[_0x12e9bc]['date_time']=_0x1ce39d,await _0x334145[_0x12e9bc]['save'](),await _0x4fd913[_0x28c999(0x119)]();}else{if(_0x220f15[_0x28c999(0x120)]=='out'){var _0x4fd913=await warehouse['findOne']({'name':_0x220f15['warehouse'],'room':_0x220f15['room_name']});const _0x271cb1=_0x4fd913[_0x28c999(0xdf)][_0x28c999(0x103)](_0x15fd5f=>{const _0x481118=_0x28c999;_0x15fd5f[_0x481118(0x117)]==_0x220f15[_0x481118(0x117)]&&_0x15fd5f[_0x481118(0x124)]==_0x220f15['primary_code']&&_0x15fd5f[_0x481118(0x109)]==_0x220f15[_0x481118(0x109)]&&_0x15fd5f[_0x481118(0xd8)]==_0x220f15[_0x481118(0xd8)]&&_0x15fd5f[_0x481118(0x122)]==_0x220f15[_0x481118(0xda)]&&(_0x15fd5f[_0x481118(0xe4)]=parseInt(_0x15fd5f['product_stock'])-parseInt(_0x220f15['product_stock']),_0x15fd5f['product_stock']==0x0?(_0x15fd5f[_0x481118(0x116)]=_0x481118(0xde),_0x334145[_0x12e9bc]['isAvailable']=_0x481118(0xde),_0x334145[_0x12e9bc]['isUsed']='true'):_0x334145[_0x12e9bc][_0x481118(0xf9)]='false',_0x15fd5f[_0x481118(0xf9)]=_0x481118(0xde),_0xacc63b++);});_0x334145[_0x12e9bc][_0x28c999(0x10e)]=_0x28c999(0xd9),_0x334145[_0x12e9bc]['confirm_by']=_0x5f2e57[_0x28c999(0xf5)],_0x334145[_0x12e9bc][_0x28c999(0x11b)]=_0x1ce39d,await _0x334145[_0x12e9bc][_0x28c999(0x119)](),await _0x4fd913['save']();}}}_0x56205c[_0x28c999(0xdc)]({'data_main':_0x334145,'data_warehouse':_0x4fd913});}catch(_0xd59abd){console[_0x28c999(0xe1)](_0xd59abd);}}),router[a0_0x44f170(0x113)]('/cancel_data',auth,async(_0xba44df,_0xc76e5b)=>{const _0x29c32c=a0_0x44f170;try{const {id_data:_0x34f5bc}=_0xba44df[_0x29c32c(0x123)],_0xee5750=await warehouse_temporary[_0x29c32c(0xed)]({'_id':_0x34f5bc}),_0x196017=_0xba44df[_0x29c32c(0xdb)],_0x221044=new Date();for(let _0x9c6cfb=0x0;_0x9c6cfb<=_0xee5750[_0x29c32c(0xe5)]-0x1;_0x9c6cfb++){const _0x48abe8=_0xee5750[_0x9c6cfb];var _0x597c51=0x0;if(_0x48abe8[_0x29c32c(0x120)]=='out'){var _0x16b989=await warehouse[_0x29c32c(0x104)]({'name':_0x48abe8[_0x29c32c(0xea)],'room':_0x48abe8['room_name']});const _0xdf808d=_0x16b989[_0x29c32c(0xdf)][_0x29c32c(0x103)](_0x1524a8=>{const _0x22263f=_0x29c32c;_0x1524a8[_0x22263f(0x117)]==_0x48abe8[_0x22263f(0x117)]&&_0x1524a8[_0x22263f(0x124)]==_0x48abe8['primary_code']&&_0x1524a8[_0x22263f(0x109)]==_0x48abe8[_0x22263f(0x109)]&&_0x1524a8[_0x22263f(0xd8)]==_0x48abe8['product_code']&&_0x1524a8[_0x22263f(0x122)]==_0x48abe8[_0x22263f(0xda)]&&(_0x1524a8[_0x22263f(0x116)]='true',_0xee5750[_0x9c6cfb][_0x22263f(0x116)]=_0x22263f(0x127),_0xee5750[_0x9c6cfb][_0x22263f(0xf9)]=_0x22263f(0xd9),_0xee5750[_0x9c6cfb][_0x22263f(0xe0)]=_0x196017[_0x22263f(0xf5)],_0xee5750[_0x9c6cfb][_0x22263f(0x11b)]=_0x221044,_0x1524a8[_0x22263f(0xf9)]=_0x22263f(0xde),_0x597c51++);});_0xee5750[_0x9c6cfb][_0x29c32c(0x10e)]=_0x29c32c(0xd9),await _0xee5750[_0x9c6cfb][_0x29c32c(0x119)](),await _0x16b989[_0x29c32c(0x119)]();}}_0xc76e5b[_0x29c32c(0xdc)]({'data_main':_0xee5750,'data_warehouse':_0x16b989});}catch(_0x117465){console[_0x29c32c(0xe1)](_0x117465);}}),router[a0_0x44f170(0x113)](a0_0x44f170(0x10d),auth,async(_0x483868,_0x368159)=>{const _0x372462=a0_0x44f170;try{const {data_show:_0x19fdd7,type_proc:_0x35c097}=_0x483868[_0x372462(0x123)];if(_0x19fdd7==_0x372462(0xd7)){const _0x5bc8ba=await warehouse_temporary[_0x372462(0xed)]({'isConfirm':_0x372462(0xd9),'data_type':_0x35c097})[_0x372462(0xf0)]({'level':0x1,'bin':0x1});_0x368159[_0x372462(0xdc)](_0x5bc8ba);}else{const _0x3617fe=await warehouse_temporary[_0x372462(0xed)]({'isConfirm':_0x19fdd7,'data_type':_0x35c097})['sort']({'level':0x1,'bin':0x1});_0x368159[_0x372462(0xdc)](_0x3617fe);}}catch(_0xe88d1e){console['log'](_0xe88d1e);}}),module[a0_0x44f170(0x11d)]=router;