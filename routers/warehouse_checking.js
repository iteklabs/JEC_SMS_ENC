function a0_0x1b44(){const _0x29e448=['French','846290IqgpWH','body','log','isConfirm','Arabic','save','262360IkkIUO','bay','Arabic\x20(ae)','84926YeeiUN','confirm_by','Portuguese','product_name','batch_code','alertQTY','user','data_type','gross_price','out','language','production_date','json','Chinese','secondary_unit','isUsed','product_code','date_time','142083iKezYX','false','German','Spanish','../middleware/auth','findOne','/view_data_all','uuid','secondary_code','warehouse_id_detl','level','product_cat','/cancel_data','date_recieved','285908UDENQD','4MWoTZI','room_name','613935KkMMah','post','warehouse','exports','isAvailable','363111CyNPWC','flash','email','map','English','sort','length','primary_code','cancel','/view/','_id','expiry_date','errors','/confirm_data','6zUJRXM','get','unit','Portuguese\x20(BR)','product_stock','express','true','product_details','nodemailer','ejs','path','/check_to_confirm','find'];a0_0x1b44=function(){return _0x29e448;};return a0_0x1b44();}const a0_0x15e09b=a0_0xb33d;(function(_0x1b95f0,_0x1222d2){const _0x285248=a0_0xb33d,_0x50ad37=_0x1b95f0();while(!![]){try{const _0x508c38=parseInt(_0x285248(0x114))/0x1*(-parseInt(_0x285248(0x140))/0x2)+parseInt(_0x285248(0x11b))/0x3+parseInt(_0x285248(0x113))/0x4+parseInt(_0x285248(0x137))/0x5+-parseInt(_0x285248(0x129))/0x6*(parseInt(_0x285248(0x116))/0x7)+parseInt(_0x285248(0x13d))/0x8+-parseInt(_0x285248(0x152))/0x9;if(_0x508c38===_0x1222d2)break;else _0x50ad37['push'](_0x50ad37['shift']());}catch(_0x4cfc7f){_0x50ad37['push'](_0x50ad37['shift']());}}}(a0_0x1b44,0x1d987));const express=require(a0_0x15e09b(0x12e)),app=express(),router=express['Router'](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require('../models/all_models'),auth=require(a0_0x15e09b(0x156)),nodemailer=require(a0_0x15e09b(0x131));function a0_0xb33d(_0x6bc0d,_0x54246c){const _0x1b4492=a0_0x1b44();return a0_0xb33d=function(_0xb33dc4,_0x35c1cf){_0xb33dc4=_0xb33dc4-0x10c;let _0x429834=_0x1b4492[_0xb33dc4];return _0x429834;},a0_0xb33d(_0x6bc0d,_0x54246c);}var ejs=require(a0_0x15e09b(0x132));const path=require(a0_0x15e09b(0x133)),users=require('../public/language/languages.json');router[a0_0x15e09b(0x12a)](a0_0x15e09b(0x124),auth,async(_0x21a362,_0xe66619)=>{const _0x2618da=a0_0x15e09b;try{const {username:_0x566927,email:_0x5aab70,role:_0x166310}=_0x21a362[_0x2618da(0x146)],_0x150f99=_0x21a362['user'],_0x5f2a2c=await profile[_0x2618da(0x157)]({'email':_0x150f99['email']}),_0x26bf5f=await master_shop['find']();if(_0x26bf5f[0x0][_0x2618da(0x14a)]=='English\x20(US)')var _0x3d12b5=users[_0x2618da(0x11f)];else{if(_0x26bf5f[0x0][_0x2618da(0x14a)]=='Hindi')var _0x3d12b5=users['Hindi'];else{if(_0x26bf5f[0x0][_0x2618da(0x14a)]==_0x2618da(0x154))var _0x3d12b5=users[_0x2618da(0x154)];else{if(_0x26bf5f[0x0][_0x2618da(0x14a)]==_0x2618da(0x155))var _0x3d12b5=users['Spanish'];else{if(_0x26bf5f[0x0]['language']==_0x2618da(0x136))var _0x3d12b5=users['French'];else{if(_0x26bf5f[0x0][_0x2618da(0x14a)]==_0x2618da(0x12c))var _0x3d12b5=users[_0x2618da(0x142)];else{if(_0x26bf5f[0x0][_0x2618da(0x14a)]==_0x2618da(0x14d))var _0x3d12b5=users[_0x2618da(0x14d)];else{if(_0x26bf5f[0x0][_0x2618da(0x14a)]==_0x2618da(0x13f))var _0x3d12b5=users[_0x2618da(0x13b)];}}}}}}}_0xe66619['render']('warehouse_checking',{'success':_0x21a362[_0x2618da(0x11c)]('success'),'errors':_0x21a362[_0x2618da(0x11c)](_0x2618da(0x127)),'profile':_0x5f2a2c,'master_shop':_0x26bf5f,'role':_0x150f99,'language':_0x3d12b5});}catch(_0x342b74){console[_0x2618da(0x139)](_0x342b74);}}),router[a0_0x15e09b(0x117)](a0_0x15e09b(0x134),auth,async(_0x6599e5,_0x16a9ab)=>{const _0x5487db=a0_0x15e09b;try{const {product_code:_0x49ab92,type_of_process:_0x19655f}=_0x6599e5[_0x5487db(0x138)];var _0x19acf6=_0x49ab92['split']('~');const _0x52e58b=_0x19acf6[0x0],_0x39f32f=_0x19acf6[0x1],_0x3aeeb9=_0x19acf6[0x2],_0x23f9c0=_0x19acf6[0x3],_0x1c6f18=await warehouse_temporary[_0x5487db(0x135)]({'warehouse':_0x52e58b,'room_name':_0x39f32f,'level':_0x3aeeb9,'bay':_0x23f9c0,'data_type':_0x19655f,'isConfirm':'false'});_0x16a9ab[_0x5487db(0x14c)](_0x1c6f18);}catch(_0x2361fe){console[_0x5487db(0x139)](_0x2361fe);}}),router[a0_0x15e09b(0x117)](a0_0x15e09b(0x128),auth,async(_0x4834eb,_0x5c86e2)=>{const _0x374c54=a0_0x15e09b;try{const {id_data:_0x52c6bd}=_0x4834eb[_0x374c54(0x138)],_0x2896de=await warehouse_temporary[_0x374c54(0x135)]({'_id':_0x52c6bd}),_0x1bf232=_0x4834eb[_0x374c54(0x146)],_0x1398a0=new Date();for(let _0x457ccb=0x0;_0x457ccb<=_0x2896de['length']-0x1;_0x457ccb++){const _0x38ba10=_0x2896de[_0x457ccb];var _0x11fb22=0x0;if(_0x38ba10[_0x374c54(0x147)]=='inc'){var _0x8fbadd=await warehouse[_0x374c54(0x157)]({'name':_0x38ba10[_0x374c54(0x118)],'room':_0x38ba10['room_name']});const _0x3bd01f=_0x8fbadd[_0x374c54(0x130)][_0x374c54(0x11e)](_0x8579a9=>{const _0x4b7b58=_0x374c54;_0x8579a9[_0x4b7b58(0x143)]==_0x38ba10[_0x4b7b58(0x143)]&&_0x8579a9[_0x4b7b58(0x122)]==_0x38ba10['primary_code']&&_0x8579a9[_0x4b7b58(0x10d)]==_0x38ba10[_0x4b7b58(0x10d)]&&_0x8579a9['product_code']==_0x38ba10[_0x4b7b58(0x150)]&&_0x8579a9['bay']==_0x38ba10[_0x4b7b58(0x13e)]&&_0x8579a9[_0x4b7b58(0x10f)]==_0x38ba10[_0x4b7b58(0x10f)]&&_0x8579a9[_0x4b7b58(0x112)]==_0x38ba10['date_recieved']&&(_0x8579a9['product_stock']=parseInt(_0x8579a9[_0x4b7b58(0x12d)])+parseInt(_0x38ba10[_0x4b7b58(0x12d)]),_0x11fb22++);});_0x11fb22=='0'&&(_0x8fbadd[_0x374c54(0x130)]=_0x8fbadd['product_details']['concat']({'product_name':_0x38ba10[_0x374c54(0x143)],'product_stock':_0x38ba10[_0x374c54(0x12d)],'primary_code':_0x38ba10[_0x374c54(0x122)],'secondary_code':_0x38ba10[_0x374c54(0x10d)],'product_code':_0x38ba10['product_code'],'bay':_0x38ba10[_0x374c54(0x13e)],'level':_0x38ba10[_0x374c54(0x10f)],'maxProducts':_0x38ba10['maxStocks'],'unit':_0x38ba10[_0x374c54(0x12b)],'secondary_unit':_0x38ba10[_0x374c54(0x14e)],'maxPerUnit':_0x38ba10['maxperunit'],'alertQTY':_0x38ba10[_0x374c54(0x145)],'production_date':_0x38ba10[_0x374c54(0x14b)],'expiry_date':_0x38ba10[_0x374c54(0x126)],'batch_code':_0x38ba10[_0x374c54(0x144)],'invoice':_0x38ba10['invoice'],'product_cat':_0x38ba10[_0x374c54(0x110)],'uuid':_0x38ba10[_0x374c54(0x10c)],'gross_price':_0x38ba10[_0x374c54(0x148)],'date_recieved':_0x38ba10[_0x374c54(0x112)],'isAvailable':'true','isUsed':'false','warehouse_id_temp_inc':_0x38ba10['_id']})),_0x2896de[_0x457ccb][_0x374c54(0x13a)]=_0x374c54(0x12f),_0x2896de[_0x457ccb][_0x374c54(0x141)]=_0x1bf232[_0x374c54(0x11d)],_0x2896de[_0x457ccb][_0x374c54(0x151)]=_0x1398a0,await _0x2896de[_0x457ccb][_0x374c54(0x13c)](),await _0x8fbadd['save']();}else{if(_0x38ba10[_0x374c54(0x147)]==_0x374c54(0x149)){var _0x8fbadd=await warehouse['findOne']({'name':_0x38ba10[_0x374c54(0x118)],'room':_0x38ba10['room_name']});const _0x10eeac=_0x8fbadd[_0x374c54(0x130)][_0x374c54(0x11e)](_0x281bf5=>{const _0x8d078f=_0x374c54;_0x281bf5['product_name']==_0x38ba10[_0x8d078f(0x143)]&&_0x281bf5['primary_code']==_0x38ba10[_0x8d078f(0x122)]&&_0x281bf5[_0x8d078f(0x10d)]==_0x38ba10[_0x8d078f(0x10d)]&&_0x281bf5['product_code']==_0x38ba10[_0x8d078f(0x150)]&&_0x281bf5[_0x8d078f(0x125)]==_0x38ba10[_0x8d078f(0x10e)]&&(_0x281bf5['product_stock']=parseInt(_0x281bf5[_0x8d078f(0x12d)])-parseInt(_0x38ba10[_0x8d078f(0x12d)]),_0x281bf5[_0x8d078f(0x12d)]==0x0?(_0x281bf5[_0x8d078f(0x11a)]=_0x8d078f(0x153),_0x2896de[_0x457ccb]['isAvailable']=_0x8d078f(0x153),_0x2896de[_0x457ccb]['isUsed']=_0x8d078f(0x12f)):_0x2896de[_0x457ccb][_0x8d078f(0x14f)]=_0x8d078f(0x153),_0x281bf5['isUsed']=_0x8d078f(0x153),_0x11fb22++);});_0x2896de[_0x457ccb]['isConfirm']='true',_0x2896de[_0x457ccb][_0x374c54(0x141)]=_0x1bf232[_0x374c54(0x11d)],_0x2896de[_0x457ccb]['date_time']=_0x1398a0,await _0x2896de[_0x457ccb][_0x374c54(0x13c)](),await _0x8fbadd[_0x374c54(0x13c)]();}}}_0x5c86e2[_0x374c54(0x14c)]({'data_main':_0x2896de,'data_warehouse':_0x8fbadd});}catch(_0x5487e8){console['log'](_0x5487e8);}}),router[a0_0x15e09b(0x117)](a0_0x15e09b(0x111),auth,async(_0x545074,_0x20bab9)=>{const _0x36944c=a0_0x15e09b;try{const {id_data:_0x537831}=_0x545074[_0x36944c(0x138)],_0x3463be=await warehouse_temporary[_0x36944c(0x135)]({'_id':_0x537831}),_0x62670a=_0x545074[_0x36944c(0x146)],_0x56c249=new Date();for(let _0x2c0a82=0x0;_0x2c0a82<=_0x3463be[_0x36944c(0x121)]-0x1;_0x2c0a82++){const _0x271fea=_0x3463be[_0x2c0a82];var _0x31ad4f=0x0;if(_0x271fea['data_type']=='out'){var _0x55063a=await warehouse[_0x36944c(0x157)]({'name':_0x271fea['warehouse'],'room':_0x271fea[_0x36944c(0x115)]});const _0x4c98fc=_0x55063a[_0x36944c(0x130)]['map'](_0x49dedc=>{const _0x5a1da2=_0x36944c;_0x49dedc[_0x5a1da2(0x143)]==_0x271fea[_0x5a1da2(0x143)]&&_0x49dedc[_0x5a1da2(0x122)]==_0x271fea[_0x5a1da2(0x122)]&&_0x49dedc[_0x5a1da2(0x10d)]==_0x271fea[_0x5a1da2(0x10d)]&&_0x49dedc[_0x5a1da2(0x150)]==_0x271fea['product_code']&&_0x49dedc[_0x5a1da2(0x125)]==_0x271fea[_0x5a1da2(0x10e)]&&(_0x49dedc[_0x5a1da2(0x11a)]=_0x5a1da2(0x12f),_0x3463be[_0x2c0a82]['isAvailable']=_0x5a1da2(0x123),_0x3463be[_0x2c0a82][_0x5a1da2(0x14f)]='true',_0x3463be[_0x2c0a82]['confirm_by']=_0x62670a[_0x5a1da2(0x11d)],_0x3463be[_0x2c0a82]['date_time']=_0x56c249,_0x49dedc[_0x5a1da2(0x14f)]='false',_0x31ad4f++);});_0x3463be[_0x2c0a82][_0x36944c(0x13a)]=_0x36944c(0x12f),await _0x3463be[_0x2c0a82][_0x36944c(0x13c)](),await _0x55063a['save']();}}_0x20bab9[_0x36944c(0x14c)]({'data_main':_0x3463be,'data_warehouse':_0x55063a});}catch(_0x410303){console[_0x36944c(0x139)](_0x410303);}}),router['post'](a0_0x15e09b(0x158),auth,async(_0x449e2e,_0x132a61)=>{const _0x5940a4=a0_0x15e09b;try{const {data_show:_0x203fb4,type_proc:_0x467e8f}=_0x449e2e[_0x5940a4(0x138)];if(_0x203fb4=='All'){const _0xf3d26d=await warehouse_temporary[_0x5940a4(0x135)]({'isConfirm':_0x5940a4(0x12f),'data_type':_0x467e8f})[_0x5940a4(0x120)]({'level':0x1,'bin':0x1});_0x132a61[_0x5940a4(0x14c)](_0xf3d26d);}else{const _0x32406f=await warehouse_temporary[_0x5940a4(0x135)]({'isConfirm':_0x203fb4,'data_type':_0x467e8f})[_0x5940a4(0x120)]({'level':0x1,'bin':0x1});_0x132a61[_0x5940a4(0x14c)](_0x32406f);}}catch(_0x5b49c4){console[_0x5940a4(0x139)](_0x5b49c4);}}),module[a0_0x15e09b(0x119)]=router;