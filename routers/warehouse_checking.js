function a0_0x250b(_0x5395ea,_0x10ff24){const _0x29e61c=a0_0x29e6();return a0_0x250b=function(_0x250b3a,_0x531c09){_0x250b3a=_0x250b3a-0x135;let _0x3316eb=_0x29e61c[_0x250b3a];return _0x3316eb;},a0_0x250b(_0x5395ea,_0x10ff24);}const a0_0x3005e3=a0_0x250b;(function(_0x192952,_0x309662){const _0x382c04=a0_0x250b,_0x5c2269=_0x192952();while(!![]){try{const _0x5ad595=parseInt(_0x382c04(0x152))/0x1*(parseInt(_0x382c04(0x169))/0x2)+-parseInt(_0x382c04(0x182))/0x3+-parseInt(_0x382c04(0x13c))/0x4*(parseInt(_0x382c04(0x16b))/0x5)+-parseInt(_0x382c04(0x153))/0x6+parseInt(_0x382c04(0x184))/0x7+-parseInt(_0x382c04(0x165))/0x8+parseInt(_0x382c04(0x13b))/0x9;if(_0x5ad595===_0x309662)break;else _0x5c2269['push'](_0x5c2269['shift']());}catch(_0x363372){_0x5c2269['push'](_0x5c2269['shift']());}}}(a0_0x29e6,0x3b3cc));function a0_0x29e6(){const _0xd3b4ea=['English','_id','find','alertQTY','invoice','../middleware/auth','unit','115772NpGoPs','1162566eGLJDE','cancel','path','/confirm_data','Portuguese','findOne','length','flash','body','log','maxStocks','warehouse_checking','gross_price','save','split','French','ejs','product_name','3631728ClPAJq','product_details','German','nodemailer','2MCGCzz','/cancel_data','11335QOOBGf','post','warehouse_id_detl','primary_code','success','Spanish','out','bay','data_type','secondary_unit','Hindi','json','Portuguese\x20(BR)','product_code','Arabic','expiry_date','room_name','Chinese','product_stock','Router','All','inc','warehouse','685929jtYbvX','date_time','238840bojYVa','level','Arabic\x20(ae)','production_date','errors','isUsed','/view_data_all','../models/all_models','10333863UVEIBp','316NJCxez','isAvailable','confirm_by','user','language','secondary_code','date_recieved','true','get','sort','isConfirm','batch_code','render','false','email'];a0_0x29e6=function(){return _0xd3b4ea;};return a0_0x29e6();}const express=require('express'),app=express(),router=express[a0_0x3005e3(0x17e)](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require(a0_0x3005e3(0x13a)),auth=require(a0_0x3005e3(0x150)),nodemailer=require(a0_0x3005e3(0x168));var ejs=require(a0_0x3005e3(0x163));const path=require(a0_0x3005e3(0x155)),users=require('../public/language/languages.json');router[a0_0x3005e3(0x144)]('/view/',auth,async(_0x19acf3,_0x2faa4e)=>{const _0xc02701=a0_0x3005e3;try{const {username:_0x1fb469,email:_0x2add50,role:_0x57011e}=_0x19acf3[_0xc02701(0x13f)],_0x39d3ed=_0x19acf3[_0xc02701(0x13f)],_0x36d40d=await profile[_0xc02701(0x158)]({'email':_0x39d3ed['email']}),_0x41d778=await master_shop['find']();if(_0x41d778[0x0][_0xc02701(0x140)]=='English\x20(US)')var _0xa4d550=users[_0xc02701(0x14b)];else{if(_0x41d778[0x0][_0xc02701(0x140)]==_0xc02701(0x175))var _0xa4d550=users['Hindi'];else{if(_0x41d778[0x0][_0xc02701(0x140)]==_0xc02701(0x167))var _0xa4d550=users[_0xc02701(0x167)];else{if(_0x41d778[0x0][_0xc02701(0x140)]=='Spanish')var _0xa4d550=users[_0xc02701(0x170)];else{if(_0x41d778[0x0][_0xc02701(0x140)]=='French')var _0xa4d550=users[_0xc02701(0x162)];else{if(_0x41d778[0x0][_0xc02701(0x140)]==_0xc02701(0x177))var _0xa4d550=users[_0xc02701(0x157)];else{if(_0x41d778[0x0][_0xc02701(0x140)]==_0xc02701(0x17c))var _0xa4d550=users[_0xc02701(0x17c)];else{if(_0x41d778[0x0][_0xc02701(0x140)]==_0xc02701(0x135))var _0xa4d550=users[_0xc02701(0x179)];}}}}}}}_0x2faa4e[_0xc02701(0x148)](_0xc02701(0x15e),{'success':_0x19acf3['flash'](_0xc02701(0x16f)),'errors':_0x19acf3[_0xc02701(0x15a)](_0xc02701(0x137)),'profile':_0x36d40d,'master_shop':_0x41d778,'role':_0x39d3ed,'language':_0xa4d550});}catch(_0x2921e9){console[_0xc02701(0x15c)](_0x2921e9);}}),router['post']('/check_to_confirm',auth,async(_0x5891e1,_0x3f6f81)=>{const _0xe88438=a0_0x3005e3;try{const {product_code:_0x982d5f,type_of_process:_0x49e8f5}=_0x5891e1[_0xe88438(0x15b)];var _0x1272ea=_0x982d5f[_0xe88438(0x161)]('~');const _0x429b10=_0x1272ea[0x0],_0x2ad2e0=_0x1272ea[0x1],_0x284cd5=_0x1272ea[0x2],_0x102749=_0x1272ea[0x3],_0x2e7ad1=await warehouse_temporary['find']({'warehouse':_0x429b10,'room_name':_0x2ad2e0,'level':_0x284cd5,'bay':_0x102749,'data_type':_0x49e8f5,'isConfirm':_0xe88438(0x149)});_0x3f6f81['json'](_0x2e7ad1);}catch(_0x180050){console[_0xe88438(0x15c)](_0x180050);}}),router['post'](a0_0x3005e3(0x156),auth,async(_0xb3a699,_0xe073c6)=>{const _0x564187=a0_0x3005e3;try{const {id_data:_0x27061d}=_0xb3a699[_0x564187(0x15b)],_0x2e4c9d=await warehouse_temporary[_0x564187(0x14d)]({'_id':_0x27061d}),_0x596688=_0xb3a699[_0x564187(0x13f)],_0x412a34=new Date();for(let _0x3aad82=0x0;_0x3aad82<=_0x2e4c9d[_0x564187(0x159)]-0x1;_0x3aad82++){const _0x139c31=_0x2e4c9d[_0x3aad82];var _0x2c00a9=0x0;if(_0x139c31[_0x564187(0x173)]==_0x564187(0x180)){var _0x3371ab=await warehouse['findOne']({'name':_0x139c31[_0x564187(0x181)],'room':_0x139c31[_0x564187(0x17b)]});const _0x4b589b=_0x3371ab[_0x564187(0x166)]['map'](_0x178dc6=>{const _0x43cf0f=_0x564187;_0x178dc6[_0x43cf0f(0x164)]==_0x139c31[_0x43cf0f(0x164)]&&_0x178dc6[_0x43cf0f(0x16e)]==_0x139c31[_0x43cf0f(0x16e)]&&_0x178dc6[_0x43cf0f(0x141)]==_0x139c31[_0x43cf0f(0x141)]&&_0x178dc6[_0x43cf0f(0x178)]==_0x139c31[_0x43cf0f(0x178)]&&_0x178dc6[_0x43cf0f(0x172)]==_0x139c31['bay']&&_0x178dc6[_0x43cf0f(0x185)]==_0x139c31[_0x43cf0f(0x185)]&&_0x178dc6[_0x43cf0f(0x142)]==_0x139c31[_0x43cf0f(0x142)]&&(_0x178dc6[_0x43cf0f(0x17d)]=parseInt(_0x178dc6['product_stock'])+parseInt(_0x139c31[_0x43cf0f(0x17d)]),_0x2c00a9++);});_0x2c00a9=='0'&&(_0x3371ab[_0x564187(0x166)]=_0x3371ab[_0x564187(0x166)]['concat']({'product_name':_0x139c31['product_name'],'product_stock':_0x139c31[_0x564187(0x17d)],'primary_code':_0x139c31['primary_code'],'secondary_code':_0x139c31['secondary_code'],'product_code':_0x139c31['product_code'],'bay':_0x139c31[_0x564187(0x172)],'level':_0x139c31[_0x564187(0x185)],'maxProducts':_0x139c31[_0x564187(0x15d)],'unit':_0x139c31[_0x564187(0x151)],'secondary_unit':_0x139c31[_0x564187(0x174)],'maxPerUnit':_0x139c31['maxperunit'],'alertQTY':_0x139c31[_0x564187(0x14e)],'production_date':_0x139c31[_0x564187(0x136)],'expiry_date':_0x139c31[_0x564187(0x17a)],'batch_code':_0x139c31[_0x564187(0x147)],'invoice':_0x139c31[_0x564187(0x14f)],'product_cat':_0x139c31['product_cat'],'uuid':_0x139c31['uuid'],'gross_price':_0x139c31[_0x564187(0x15f)],'date_recieved':_0x139c31[_0x564187(0x142)],'isAvailable':_0x564187(0x143),'isUsed':_0x564187(0x149),'warehouse_id_temp_inc':_0x139c31[_0x564187(0x14c)]})),_0x2e4c9d[_0x3aad82]['isConfirm']=_0x564187(0x143),_0x2e4c9d[_0x3aad82][_0x564187(0x13e)]=_0x596688[_0x564187(0x14a)],_0x2e4c9d[_0x3aad82][_0x564187(0x183)]=_0x412a34,await _0x2e4c9d[_0x3aad82][_0x564187(0x160)](),await _0x3371ab['save']();}else{if(_0x139c31[_0x564187(0x173)]=='out'){var _0x3371ab=await warehouse[_0x564187(0x158)]({'name':_0x139c31[_0x564187(0x181)],'room':_0x139c31['room_name']});const _0x2cdd80=_0x3371ab['product_details']['map'](_0x52fca5=>{const _0x5d0afb=_0x564187;_0x52fca5['product_name']==_0x139c31[_0x5d0afb(0x164)]&&_0x52fca5[_0x5d0afb(0x16e)]==_0x139c31[_0x5d0afb(0x16e)]&&_0x52fca5[_0x5d0afb(0x141)]==_0x139c31[_0x5d0afb(0x141)]&&_0x52fca5[_0x5d0afb(0x178)]==_0x139c31[_0x5d0afb(0x178)]&&_0x52fca5['_id']==_0x139c31['warehouse_id_detl']&&(_0x52fca5['product_stock']=parseInt(_0x52fca5[_0x5d0afb(0x17d)])-parseInt(_0x139c31[_0x5d0afb(0x17d)]),_0x52fca5[_0x5d0afb(0x17d)]==0x0?(_0x52fca5[_0x5d0afb(0x13d)]=_0x5d0afb(0x149),_0x2e4c9d[_0x3aad82][_0x5d0afb(0x13d)]=_0x5d0afb(0x149),_0x2e4c9d[_0x3aad82][_0x5d0afb(0x138)]=_0x5d0afb(0x143)):_0x2e4c9d[_0x3aad82]['isUsed']='false',_0x52fca5[_0x5d0afb(0x138)]='false',_0x2c00a9++);});_0x2e4c9d[_0x3aad82][_0x564187(0x146)]='true',_0x2e4c9d[_0x3aad82]['confirm_by']=_0x596688[_0x564187(0x14a)],_0x2e4c9d[_0x3aad82][_0x564187(0x183)]=_0x412a34,await _0x2e4c9d[_0x3aad82][_0x564187(0x160)](),await _0x3371ab[_0x564187(0x160)]();}}}_0xe073c6['json']({'data_main':_0x2e4c9d,'data_warehouse':_0x3371ab});}catch(_0x20bc44){console['log'](_0x20bc44);}}),router['post'](a0_0x3005e3(0x16a),auth,async(_0xea5b4a,_0x45fdfa)=>{const _0x94d590=a0_0x3005e3;try{const {id_data:_0x156e0f}=_0xea5b4a[_0x94d590(0x15b)],_0x52a31b=await warehouse_temporary[_0x94d590(0x14d)]({'_id':_0x156e0f}),_0xc96b61=_0xea5b4a[_0x94d590(0x13f)],_0xff8799=new Date();for(let _0x3d0cee=0x0;_0x3d0cee<=_0x52a31b[_0x94d590(0x159)]-0x1;_0x3d0cee++){const _0x6a6c26=_0x52a31b[_0x3d0cee];var _0x4d6df2=0x0;if(_0x6a6c26['data_type']==_0x94d590(0x171)){var _0x16ef25=await warehouse[_0x94d590(0x158)]({'name':_0x6a6c26[_0x94d590(0x181)],'room':_0x6a6c26[_0x94d590(0x17b)]});const _0x1c0708=_0x16ef25[_0x94d590(0x166)]['map'](_0x26acca=>{const _0x3976a1=_0x94d590;_0x26acca[_0x3976a1(0x164)]==_0x6a6c26[_0x3976a1(0x164)]&&_0x26acca[_0x3976a1(0x16e)]==_0x6a6c26[_0x3976a1(0x16e)]&&_0x26acca[_0x3976a1(0x141)]==_0x6a6c26[_0x3976a1(0x141)]&&_0x26acca[_0x3976a1(0x178)]==_0x6a6c26[_0x3976a1(0x178)]&&_0x26acca[_0x3976a1(0x14c)]==_0x6a6c26[_0x3976a1(0x16d)]&&(_0x26acca[_0x3976a1(0x13d)]=_0x3976a1(0x143),_0x52a31b[_0x3d0cee][_0x3976a1(0x13d)]=_0x3976a1(0x154),_0x52a31b[_0x3d0cee][_0x3976a1(0x138)]=_0x3976a1(0x143),_0x52a31b[_0x3d0cee][_0x3976a1(0x13e)]=_0xc96b61[_0x3976a1(0x14a)],_0x52a31b[_0x3d0cee][_0x3976a1(0x183)]=_0xff8799,_0x26acca[_0x3976a1(0x138)]='false',_0x4d6df2++);});_0x52a31b[_0x3d0cee]['isConfirm']=_0x94d590(0x143),await _0x52a31b[_0x3d0cee]['save'](),await _0x16ef25[_0x94d590(0x160)]();}}_0x45fdfa[_0x94d590(0x176)]({'data_main':_0x52a31b,'data_warehouse':_0x16ef25});}catch(_0x48f399){console['log'](_0x48f399);}}),router[a0_0x3005e3(0x16c)](a0_0x3005e3(0x139),auth,async(_0x4e3322,_0x4a1aa0)=>{const _0x47fdf4=a0_0x3005e3;try{const {data_show:_0x493027,type_proc:_0x3202c7}=_0x4e3322[_0x47fdf4(0x15b)];if(_0x493027==_0x47fdf4(0x17f)){const _0x2b3b14=await warehouse_temporary[_0x47fdf4(0x14d)]({'isConfirm':_0x47fdf4(0x143),'data_type':_0x3202c7})['sort']({'level':0x1,'bin':0x1});_0x4a1aa0[_0x47fdf4(0x176)](_0x2b3b14);}else{const _0x232ce8=await warehouse_temporary['find']({'isConfirm':_0x493027,'data_type':_0x3202c7})[_0x47fdf4(0x145)]({'level':0x1,'bin':0x1});_0x4a1aa0[_0x47fdf4(0x176)](_0x232ce8);}}catch(_0x5a3cfe){console[_0x47fdf4(0x15c)](_0x5a3cfe);}}),module['exports']=router;