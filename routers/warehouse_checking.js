function a0_0x26e6(_0x32b861,_0x55cf2c){const _0x233768=a0_0x2337();return a0_0x26e6=function(_0x26e68c,_0xe0140f){_0x26e68c=_0x26e68c-0xa2;let _0x849f5c=_0x233768[_0x26e68c];return _0x849f5c;},a0_0x26e6(_0x32b861,_0x55cf2c);}const a0_0x22249b=a0_0x26e6;function a0_0x2337(){const _0x2160f8=['language','ejs','5VGtWiR','../middleware/auth','true','success','date_time','find','7fczDlx','_id','secondary_code','13558992AmgSng','../models/all_models','concat','1850028bSHyBh','warehouse_id_detl','Portuguese','split','isUsed','log','French','product_name','English\x20(US)','Spanish','gross_price','/view_data_all','English','Chinese','json','/check_to_confirm','expiry_date','bay','isConfirm','flash','out','room_name','33786192VhygSI','findOne','6809526kcHzZx','map','user','isAvailable','date_recieved','unit','1913153lPCpaf','email','body','data_type','sort','primary_code','save','Arabic','warehouse_checking','Hindi','/view/','1gjEBOV','false','maxperunit','../public/language/languages.json','All','secondary_unit','alertQTY','4xSnAPA','product_code','post','German','errors','960178jYdNTs','level','inc','100JOCteP','exports','confirm_by','invoice','product_stock','7148742FlcWSO','/confirm_data','warehouse','product_cat','get','product_details','length'];a0_0x2337=function(){return _0x2160f8;};return a0_0x2337();}(function(_0x1d0200,_0x47912d){const _0x208139=a0_0x26e6,_0x145f8a=_0x1d0200();while(!![]){try{const _0x4432d4=parseInt(_0x208139(0xec))/0x1*(parseInt(_0x208139(0xa6))/0x2)+-parseInt(_0x208139(0xc3))/0x3*(-parseInt(_0x208139(0xf3))/0x4)+parseInt(_0x208139(0xb7))/0x5*(parseInt(_0x208139(0xae))/0x6)+parseInt(_0x208139(0xbd))/0x7*(-parseInt(_0x208139(0xc0))/0x8)+-parseInt(_0x208139(0xdb))/0x9+parseInt(_0x208139(0xa9))/0xa*(-parseInt(_0x208139(0xe1))/0xb)+parseInt(_0x208139(0xd9))/0xc;if(_0x4432d4===_0x47912d)break;else _0x145f8a['push'](_0x145f8a['shift']());}catch(_0x35fa53){_0x145f8a['push'](_0x145f8a['shift']());}}}(a0_0x2337,0xdee7c));const express=require('express'),app=express(),router=express['Router'](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require(a0_0x22249b(0xc1)),auth=require(a0_0x22249b(0xb8)),nodemailer=require('nodemailer');var ejs=require(a0_0x22249b(0xb6));const path=require('path'),users=require(a0_0x22249b(0xef));router[a0_0x22249b(0xb2)](a0_0x22249b(0xeb),auth,async(_0x457145,_0x8185dd)=>{const _0x170bf5=a0_0x22249b;try{const {username:_0x2cd6cb,email:_0x591c51,role:_0x43e0da}=_0x457145[_0x170bf5(0xdd)],_0xf6be20=_0x457145[_0x170bf5(0xdd)],_0x4aedb5=await profile[_0x170bf5(0xda)]({'email':_0xf6be20[_0x170bf5(0xe2)]}),_0x1c9be9=await master_shop[_0x170bf5(0xbc)]();if(_0x1c9be9[0x0][_0x170bf5(0xb5)]==_0x170bf5(0xcb))var _0x44329e=users[_0x170bf5(0xcf)];else{if(_0x1c9be9[0x0][_0x170bf5(0xb5)]==_0x170bf5(0xea))var _0x44329e=users[_0x170bf5(0xea)];else{if(_0x1c9be9[0x0]['language']==_0x170bf5(0xa4))var _0x44329e=users[_0x170bf5(0xa4)];else{if(_0x1c9be9[0x0][_0x170bf5(0xb5)]==_0x170bf5(0xcc))var _0x44329e=users[_0x170bf5(0xcc)];else{if(_0x1c9be9[0x0]['language']==_0x170bf5(0xc9))var _0x44329e=users[_0x170bf5(0xc9)];else{if(_0x1c9be9[0x0][_0x170bf5(0xb5)]=='Portuguese\x20(BR)')var _0x44329e=users[_0x170bf5(0xc5)];else{if(_0x1c9be9[0x0][_0x170bf5(0xb5)]==_0x170bf5(0xd0))var _0x44329e=users['Chinese'];else{if(_0x1c9be9[0x0][_0x170bf5(0xb5)]=='Arabic\x20(ae)')var _0x44329e=users[_0x170bf5(0xe8)];}}}}}}}_0x8185dd['render'](_0x170bf5(0xe9),{'success':_0x457145['flash'](_0x170bf5(0xba)),'errors':_0x457145[_0x170bf5(0xd6)](_0x170bf5(0xa5)),'profile':_0x4aedb5,'master_shop':_0x1c9be9,'role':_0xf6be20,'language':_0x44329e});}catch(_0x1f655b){console[_0x170bf5(0xc8)](_0x1f655b);}}),router[a0_0x22249b(0xa3)](a0_0x22249b(0xd2),auth,async(_0x23dae8,_0x590510)=>{const _0x4e6645=a0_0x22249b;try{const {product_code:_0x5b4b0a,type_of_process:_0x1f2219}=_0x23dae8[_0x4e6645(0xe3)];var _0x30dc25=_0x5b4b0a[_0x4e6645(0xc6)]('~');const _0x3fd8da=_0x30dc25[0x0],_0x60080=_0x30dc25[0x1],_0x1de8b3=_0x30dc25[0x2],_0x2c7867=_0x30dc25[0x3],_0x551626=await warehouse_temporary[_0x4e6645(0xbc)]({'warehouse':_0x3fd8da,'room_name':_0x60080,'level':_0x1de8b3,'bay':_0x2c7867,'data_type':_0x1f2219,'isConfirm':_0x4e6645(0xed)});_0x590510['json'](_0x551626);}catch(_0x56bfa0){console['log'](_0x56bfa0);}}),router[a0_0x22249b(0xa3)](a0_0x22249b(0xaf),auth,async(_0x5bc58b,_0x632c40)=>{const _0x13348f=a0_0x22249b;try{const {id_data:_0x970320}=_0x5bc58b['body'],_0x43b043=await warehouse_temporary[_0x13348f(0xbc)]({'_id':_0x970320}),_0x1c5f14=_0x5bc58b[_0x13348f(0xdd)],_0x40337b=new Date();for(let _0x3ad1a5=0x0;_0x3ad1a5<=_0x43b043[_0x13348f(0xb4)]-0x1;_0x3ad1a5++){const _0x50ecff=_0x43b043[_0x3ad1a5];var _0x406879=0x0;if(_0x50ecff[_0x13348f(0xe4)]==_0x13348f(0xa8)){var _0x3b928e=await warehouse['findOne']({'name':_0x50ecff[_0x13348f(0xb0)],'room':_0x50ecff[_0x13348f(0xd8)]});const _0x36ba50=_0x3b928e[_0x13348f(0xb3)][_0x13348f(0xdc)](_0x239e7e=>{const _0x4a9982=_0x13348f;_0x239e7e['product_name']==_0x50ecff['product_name']&&_0x239e7e[_0x4a9982(0xe6)]==_0x50ecff[_0x4a9982(0xe6)]&&_0x239e7e['secondary_code']==_0x50ecff[_0x4a9982(0xbf)]&&_0x239e7e['product_code']==_0x50ecff['product_code']&&_0x239e7e[_0x4a9982(0xd4)]==_0x50ecff[_0x4a9982(0xd4)]&&_0x239e7e['level']==_0x50ecff[_0x4a9982(0xa7)]&&_0x239e7e[_0x4a9982(0xdf)]==_0x50ecff[_0x4a9982(0xdf)]&&(_0x239e7e['product_stock']=parseInt(_0x239e7e['product_stock'])+parseInt(_0x50ecff[_0x4a9982(0xad)]),_0x406879++);});_0x406879=='0'&&(_0x3b928e[_0x13348f(0xb3)]=_0x3b928e[_0x13348f(0xb3)][_0x13348f(0xc2)]({'product_name':_0x50ecff[_0x13348f(0xca)],'product_stock':_0x50ecff[_0x13348f(0xad)],'primary_code':_0x50ecff[_0x13348f(0xe6)],'secondary_code':_0x50ecff['secondary_code'],'product_code':_0x50ecff[_0x13348f(0xa2)],'bay':_0x50ecff[_0x13348f(0xd4)],'level':_0x50ecff['level'],'maxProducts':_0x50ecff['maxStocks'],'unit':_0x50ecff[_0x13348f(0xe0)],'secondary_unit':_0x50ecff[_0x13348f(0xf1)],'maxPerUnit':_0x50ecff[_0x13348f(0xee)],'alertQTY':_0x50ecff[_0x13348f(0xf2)],'production_date':_0x50ecff['production_date'],'expiry_date':_0x50ecff[_0x13348f(0xd3)],'batch_code':_0x50ecff['batch_code'],'invoice':_0x50ecff[_0x13348f(0xac)],'product_cat':_0x50ecff[_0x13348f(0xb1)],'uuid':_0x50ecff['uuid'],'gross_price':_0x50ecff[_0x13348f(0xcd)],'date_recieved':_0x50ecff[_0x13348f(0xdf)],'isAvailable':'true','isUsed':_0x13348f(0xed),'warehouse_id_temp_inc':_0x50ecff['_id']})),_0x43b043[_0x3ad1a5][_0x13348f(0xd5)]='true',_0x43b043[_0x3ad1a5][_0x13348f(0xab)]=_0x1c5f14[_0x13348f(0xe2)],_0x43b043[_0x3ad1a5]['date_time']=_0x40337b,await _0x43b043[_0x3ad1a5]['save'](),await _0x3b928e[_0x13348f(0xe7)]();}else{if(_0x50ecff[_0x13348f(0xe4)]=='out'){var _0x3b928e=await warehouse[_0x13348f(0xda)]({'name':_0x50ecff['warehouse'],'room':_0x50ecff[_0x13348f(0xd8)]});const _0x17da0b=_0x3b928e['product_details']['map'](_0x7c55c4=>{const _0x351920=_0x13348f;_0x7c55c4[_0x351920(0xca)]==_0x50ecff['product_name']&&_0x7c55c4[_0x351920(0xe6)]==_0x50ecff[_0x351920(0xe6)]&&_0x7c55c4[_0x351920(0xbf)]==_0x50ecff['secondary_code']&&_0x7c55c4[_0x351920(0xa2)]==_0x50ecff['product_code']&&_0x7c55c4['_id']==_0x50ecff[_0x351920(0xc4)]&&(_0x7c55c4[_0x351920(0xad)]=parseInt(_0x7c55c4['product_stock'])-parseInt(_0x50ecff[_0x351920(0xad)]),_0x7c55c4['product_stock']==0x0?(_0x7c55c4[_0x351920(0xde)]=_0x351920(0xed),_0x43b043[_0x3ad1a5][_0x351920(0xde)]=_0x351920(0xed),_0x43b043[_0x3ad1a5]['isUsed']=_0x351920(0xb9)):_0x43b043[_0x3ad1a5][_0x351920(0xc7)]=_0x351920(0xed),_0x7c55c4[_0x351920(0xc7)]=_0x351920(0xed),_0x406879++);});_0x43b043[_0x3ad1a5]['isConfirm']=_0x13348f(0xb9),_0x43b043[_0x3ad1a5][_0x13348f(0xab)]=_0x1c5f14['email'],_0x43b043[_0x3ad1a5][_0x13348f(0xbb)]=_0x40337b,await _0x43b043[_0x3ad1a5][_0x13348f(0xe7)](),await _0x3b928e['save']();}}}_0x632c40[_0x13348f(0xd1)]({'data_main':_0x43b043,'data_warehouse':_0x3b928e});}catch(_0x3c0d74){console[_0x13348f(0xc8)](_0x3c0d74);}}),router['post']('/cancel_data',auth,async(_0x4236f6,_0x13a3d0)=>{const _0x3a1920=a0_0x22249b;try{const {id_data:_0x142389}=_0x4236f6[_0x3a1920(0xe3)],_0x456a52=await warehouse_temporary[_0x3a1920(0xbc)]({'_id':_0x142389}),_0x4f92da=_0x4236f6[_0x3a1920(0xdd)],_0x1c1956=new Date();for(let _0x1a9008=0x0;_0x1a9008<=_0x456a52['length']-0x1;_0x1a9008++){const _0x824cc4=_0x456a52[_0x1a9008];var _0x572256=0x0;if(_0x824cc4[_0x3a1920(0xe4)]==_0x3a1920(0xd7)){var _0x203e7e=await warehouse[_0x3a1920(0xda)]({'name':_0x824cc4['warehouse'],'room':_0x824cc4['room_name']});const _0x91301d=_0x203e7e['product_details'][_0x3a1920(0xdc)](_0x8ce572=>{const _0x30ef95=_0x3a1920;_0x8ce572[_0x30ef95(0xca)]==_0x824cc4[_0x30ef95(0xca)]&&_0x8ce572[_0x30ef95(0xe6)]==_0x824cc4[_0x30ef95(0xe6)]&&_0x8ce572[_0x30ef95(0xbf)]==_0x824cc4[_0x30ef95(0xbf)]&&_0x8ce572[_0x30ef95(0xa2)]==_0x824cc4[_0x30ef95(0xa2)]&&_0x8ce572[_0x30ef95(0xbe)]==_0x824cc4[_0x30ef95(0xc4)]&&(_0x8ce572['isAvailable']=_0x30ef95(0xb9),_0x456a52[_0x1a9008]['isAvailable']='cancel',_0x456a52[_0x1a9008][_0x30ef95(0xc7)]=_0x30ef95(0xb9),_0x456a52[_0x1a9008][_0x30ef95(0xab)]=_0x4f92da['email'],_0x456a52[_0x1a9008][_0x30ef95(0xbb)]=_0x1c1956,_0x8ce572[_0x30ef95(0xc7)]=_0x30ef95(0xed),_0x572256++);});_0x456a52[_0x1a9008][_0x3a1920(0xd5)]=_0x3a1920(0xb9),await _0x456a52[_0x1a9008][_0x3a1920(0xe7)](),await _0x203e7e[_0x3a1920(0xe7)]();}}_0x13a3d0[_0x3a1920(0xd1)]({'data_main':_0x456a52,'data_warehouse':_0x203e7e});}catch(_0x5bd180){console['log'](_0x5bd180);}}),router[a0_0x22249b(0xa3)](a0_0x22249b(0xce),auth,async(_0x163ef0,_0x228cf1)=>{const _0x2ee5db=a0_0x22249b;try{const {data_show:_0x2681cb,type_proc:_0x359b6d}=_0x163ef0[_0x2ee5db(0xe3)];if(_0x2681cb==_0x2ee5db(0xf0)){const _0x437160=await warehouse_temporary['find']({'isConfirm':'true','data_type':_0x359b6d})[_0x2ee5db(0xe5)]({'level':0x1,'bin':0x1});_0x228cf1[_0x2ee5db(0xd1)](_0x437160);}else{const _0x48588d=await warehouse_temporary['find']({'isConfirm':_0x2681cb,'data_type':_0x359b6d})['sort']({'level':0x1,'bin':0x1});_0x228cf1['json'](_0x48588d);}}catch(_0x1d029b){console['log'](_0x1d029b);}}),module[a0_0x22249b(0xaa)]=router;