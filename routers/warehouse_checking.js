const a0_0x22676f=a0_0x15eb;function a0_0x15eb(_0x38f9ab,_0x2575b7){const _0x5323c4=a0_0x5323();return a0_0x15eb=function(_0x15eb68,_0x530fc8){_0x15eb68=_0x15eb68-0x17b;let _0x205c56=_0x5323c4[_0x15eb68];return _0x205c56;},a0_0x15eb(_0x38f9ab,_0x2575b7);}(function(_0x232b03,_0x4a8f45){const _0x30c5d2=a0_0x15eb,_0x359877=_0x232b03();while(!![]){try{const _0x416fee=-parseInt(_0x30c5d2(0x1b9))/0x1*(parseInt(_0x30c5d2(0x1a0))/0x2)+parseInt(_0x30c5d2(0x17c))/0x3*(-parseInt(_0x30c5d2(0x1b2))/0x4)+-parseInt(_0x30c5d2(0x194))/0x5*(parseInt(_0x30c5d2(0x1ad))/0x6)+-parseInt(_0x30c5d2(0x1ac))/0x7*(parseInt(_0x30c5d2(0x1b5))/0x8)+-parseInt(_0x30c5d2(0x19a))/0x9+-parseInt(_0x30c5d2(0x19c))/0xa+parseInt(_0x30c5d2(0x1b1))/0xb;if(_0x416fee===_0x4a8f45)break;else _0x359877['push'](_0x359877['shift']());}catch(_0x5b126c){_0x359877['push'](_0x359877['shift']());}}}(a0_0x5323,0x53381));const express=require(a0_0x22676f(0x181)),app=express(),router=express[a0_0x22676f(0x19b)](),{warehouse_validation_setup,master_shop,profile,warehouse,warehouse_temporary}=require('../models/all_models'),auth=require(a0_0x22676f(0x17f)),nodemailer=require(a0_0x22676f(0x1a3));var ejs=require('ejs');const path=require(a0_0x22676f(0x197)),users=require(a0_0x22676f(0x1ae));router[a0_0x22676f(0x1a1)](a0_0x22676f(0x1a2),auth,async(_0x431a4a,_0x523bd5)=>{const _0x23a9f6=a0_0x22676f;try{const {username:_0x316c5a,email:_0x3fcc51,role:_0x134e5a}=_0x431a4a[_0x23a9f6(0x192)],_0x23b7cd=_0x431a4a['user'],_0x36f582=await profile[_0x23a9f6(0x18f)]({'email':_0x23b7cd[_0x23a9f6(0x1a6)]}),_0x581e4f=await master_shop[_0x23a9f6(0x1b3)]();if(_0x581e4f[0x0]['language']==_0x23a9f6(0x19e))var _0x4cc0dd=users['English'];else{if(_0x581e4f[0x0][_0x23a9f6(0x1b8)]==_0x23a9f6(0x187))var _0x4cc0dd=users[_0x23a9f6(0x187)];else{if(_0x581e4f[0x0]['language']==_0x23a9f6(0x183))var _0x4cc0dd=users['German'];else{if(_0x581e4f[0x0][_0x23a9f6(0x1b8)]==_0x23a9f6(0x198))var _0x4cc0dd=users[_0x23a9f6(0x198)];else{if(_0x581e4f[0x0][_0x23a9f6(0x1b8)]==_0x23a9f6(0x1b4))var _0x4cc0dd=users[_0x23a9f6(0x1b4)];else{if(_0x581e4f[0x0]['language']==_0x23a9f6(0x17e))var _0x4cc0dd=users[_0x23a9f6(0x17b)];else{if(_0x581e4f[0x0][_0x23a9f6(0x1b8)]==_0x23a9f6(0x1ba))var _0x4cc0dd=users[_0x23a9f6(0x1ba)];else{if(_0x581e4f[0x0][_0x23a9f6(0x1b8)]==_0x23a9f6(0x1b6))var _0x4cc0dd=users['Arabic'];}}}}}}}_0x523bd5[_0x23a9f6(0x196)](_0x23a9f6(0x1af),{'success':_0x431a4a[_0x23a9f6(0x18d)](_0x23a9f6(0x199)),'errors':_0x431a4a[_0x23a9f6(0x18d)]('errors'),'profile':_0x36f582,'master_shop':_0x581e4f,'role':_0x23b7cd,'language':_0x4cc0dd});}catch(_0x18f06a){console[_0x23a9f6(0x1b7)](_0x18f06a);}}),router[a0_0x22676f(0x18a)](a0_0x22676f(0x189),auth,async(_0x326fe5,_0x2b85a9)=>{const _0x11ec9a=a0_0x22676f;try{const {product_code:_0x43e89a,type_of_process:_0x39b6b2}=_0x326fe5['body'];var _0x465457=_0x43e89a['split']('~');const _0x13229a=_0x465457[0x0],_0x54dbd9=_0x465457[0x1],_0x54a470=_0x465457[0x2],_0x15c214=_0x465457[0x3],_0x30d854=await warehouse_temporary['find']({'warehouse':_0x13229a,'room_name':_0x54dbd9,'level':_0x54a470,'bay':_0x15c214,'data_type':_0x39b6b2,'isConfirm':_0x11ec9a(0x1aa)});_0x2b85a9[_0x11ec9a(0x1a5)](_0x30d854);}catch(_0x1bb4c3){console['log'](_0x1bb4c3);}}),router[a0_0x22676f(0x18a)](a0_0x22676f(0x184),auth,async(_0x303a34,_0x5d08dd)=>{const _0xba0187=a0_0x22676f;try{const {id_data:_0xe0c217}=_0x303a34['body'],_0x4b8afc=await warehouse_temporary[_0xba0187(0x1b3)]({'_id':_0xe0c217});for(let _0x1c87b3=0x0;_0x1c87b3<=_0x4b8afc[_0xba0187(0x1a7)]-0x1;_0x1c87b3++){const _0x45a202=_0x4b8afc[_0x1c87b3];var _0x4e780e=await warehouse['findOne']({'name':_0x45a202['warehouse'],'room':_0x45a202[_0xba0187(0x1bb)]}),_0x90e233=0x0;const _0x22258f=_0x4e780e[_0xba0187(0x193)]['map'](_0x2a27c8=>{const _0x2b8021=_0xba0187;_0x2a27c8['product_name']==_0x45a202['product_name']&&_0x2a27c8[_0x2b8021(0x17d)]==_0x45a202[_0x2b8021(0x17d)]&&_0x2a27c8['secondary_code']==_0x45a202[_0x2b8021(0x1a9)]&&_0x2a27c8['product_code']==_0x45a202[_0x2b8021(0x19f)]&&_0x2a27c8[_0x2b8021(0x186)]==_0x45a202[_0x2b8021(0x186)]&&_0x2a27c8['level']==_0x45a202['level']&&_0x2a27c8[_0x2b8021(0x195)]==_0x45a202['date_recieved']&&(_0x2a27c8['product_stock']=parseInt(_0x2a27c8['product_stock'])+parseInt(_0x45a202[_0x2b8021(0x191)]),_0x90e233++);});_0x90e233=='0'&&(_0x4e780e[_0xba0187(0x193)]=_0x4e780e['product_details'][_0xba0187(0x19d)]({'product_name':_0x45a202[_0xba0187(0x1a8)],'product_stock':_0x45a202[_0xba0187(0x191)],'primary_code':_0x45a202[_0xba0187(0x17d)],'secondary_code':_0x45a202[_0xba0187(0x1a9)],'product_code':_0x45a202['product_code'],'bay':_0x45a202['bay'],'level':_0x45a202[_0xba0187(0x190)],'maxProducts':_0x45a202[_0xba0187(0x1ab)],'unit':_0x45a202[_0xba0187(0x18c)],'secondary_unit':_0x45a202['secondary_unit'],'maxPerUnit':_0x45a202['maxperunit'],'alertQTY':_0x45a202[_0xba0187(0x1b0)],'production_date':_0x45a202[_0xba0187(0x180)],'expiry_date':_0x45a202[_0xba0187(0x1bc)],'batch_code':_0x45a202[_0xba0187(0x18e)],'invoice':_0x45a202[_0xba0187(0x1a4)],'product_cat':_0x45a202['product_cat'],'uuid':_0x45a202[_0xba0187(0x185)],'gross_price':_0x45a202['gross_price'],'date_recieved':_0x45a202['date_recieved']})),_0x4b8afc[_0x1c87b3][_0xba0187(0x1bd)]=_0xba0187(0x188),await _0x4b8afc[_0x1c87b3][_0xba0187(0x182)](),await _0x4e780e[_0xba0187(0x182)]();}_0x5d08dd[_0xba0187(0x1a5)]({'data_main':_0x4b8afc,'data_warehouse':_0x4e780e});}catch(_0x122f06){console[_0xba0187(0x1b7)](_0x122f06);}}),module[a0_0x22676f(0x18b)]=router;function a0_0x5323(){const _0x567e0b=['findOne','level','product_stock','user','product_details','35485RfNkOU','date_recieved','render','path','Spanish','success','1009881RDRroY','Router','2955450sziKqe','concat','English\x20(US)','product_code','6SgOHmK','get','/view/','nodemailer','invoice','json','email','length','product_name','secondary_code','false','maxStocks','46669ZcwuDs','186WGsTtu','../public/language/languages.json','warehouse_checking','alertQTY','25556608NnQwJc','4QwJIys','find','French','112unacjP','Arabic\x20(ae)','log','language','225545XtkOJv','Chinese','room_name','expiry_date','isConfirm','Portuguese','1754187WDlEnj','primary_code','Portuguese\x20(BR)','../middleware/auth','production_date','express','save','German','/confirm_data','uuid','bay','Hindi','true','/check_to_confirm','post','exports','standard_unit','flash','batch_code'];a0_0x5323=function(){return _0x567e0b;};return a0_0x5323();}