function a0_0x1405(_0x47eb13,_0x2108ca){const _0x5ca9e1=a0_0x5ca9();return a0_0x1405=function(_0x1405c1,_0x138861){_0x1405c1=_0x1405c1-0x1a0;let _0x34ea9=_0x5ca9e1[_0x1405c1];return _0x34ea9;},a0_0x1405(_0x47eb13,_0x2108ca);}const a0_0x2c2011=a0_0x1405;(function(_0x5234ef,_0x4f7d04){const _0x4b8c7f=a0_0x1405,_0x17451f=_0x5234ef();while(!![]){try{const _0x58164e=-parseInt(_0x4b8c7f(0x1e2))/0x1+parseInt(_0x4b8c7f(0x1cb))/0x2+parseInt(_0x4b8c7f(0x1bf))/0x3+-parseInt(_0x4b8c7f(0x237))/0x4+parseInt(_0x4b8c7f(0x226))/0x5+-parseInt(_0x4b8c7f(0x1e0))/0x6*(-parseInt(_0x4b8c7f(0x1be))/0x7)+parseInt(_0x4b8c7f(0x239))/0x8*(parseInt(_0x4b8c7f(0x1b0))/0x9);if(_0x58164e===_0x4f7d04)break;else _0x17451f['push'](_0x17451f['shift']());}catch(_0x351c3b){_0x17451f['push'](_0x17451f['shift']());}}}(a0_0x5ca9,0x81554));const express=require('express'),res=require(a0_0x2c2011(0x1fc)),app=express(),router=express['Router'](),multer=require(a0_0x2c2011(0x22c)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require(a0_0x2c2011(0x1c5)),users=require('../public/language/languages.json'),excelJS=require(a0_0x2c2011(0x24b)),xlsx=require(a0_0x2c2011(0x21d)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x2c2011(0x1cf)),PDFDocument=require(a0_0x2c2011(0x225));router[a0_0x2c2011(0x1ac)](a0_0x2c2011(0x20e),auth,async(_0x1b2aca,_0x52a159)=>{const _0x29fd50=a0_0x2c2011;try{const {username:_0x2384b6,email:_0x366b11,role:_0x2a3483}=_0x1b2aca[_0x29fd50(0x1f4)],_0x227595=_0x1b2aca['user'],_0x4fb225=await profile[_0x29fd50(0x1f1)]({'email':_0x227595[_0x29fd50(0x22e)]}),_0x3a316a=await master_shop['find']();console[_0x29fd50(0x20f)](_0x29fd50(0x1e3),_0x3a316a);const _0x53b521=await categories['find']();if(_0x3a316a[0x0][_0x29fd50(0x24d)]=='English\x20(US)')var _0x49402b=users[_0x29fd50(0x1b4)];else{if(_0x3a316a[0x0][_0x29fd50(0x24d)]=='Hindi')var _0x49402b=users[_0x29fd50(0x22b)];else{if(_0x3a316a[0x0][_0x29fd50(0x24d)]==_0x29fd50(0x1f6))var _0x49402b=users[_0x29fd50(0x1f6)];else{if(_0x3a316a[0x0][_0x29fd50(0x24d)]==_0x29fd50(0x244))var _0x49402b=users[_0x29fd50(0x244)];else{if(_0x3a316a[0x0][_0x29fd50(0x24d)]==_0x29fd50(0x1dd))var _0x49402b=users['French'];else{if(_0x3a316a[0x0][_0x29fd50(0x24d)]==_0x29fd50(0x209))var _0x49402b=users[_0x29fd50(0x1c7)];else{if(_0x3a316a[0x0][_0x29fd50(0x24d)]==_0x29fd50(0x241))var _0x49402b=users[_0x29fd50(0x241)];else{if(_0x3a316a[0x0]['language']=='Arabic\x20(ae)')var _0x49402b=users[_0x29fd50(0x1a4)];}}}}}}}_0x52a159['render']('categories',{'success':_0x1b2aca['flash'](_0x29fd50(0x1a5)),'errors':_0x1b2aca[_0x29fd50(0x231)](_0x29fd50(0x211)),'role':_0x227595,'profile':_0x4fb225,'user':_0x53b521,'master_shop':_0x3a316a,'language':_0x49402b});}catch(_0x4ece25){console['log'](_0x4ece25);}}),router['post'](a0_0x2c2011(0x20e),auth,async(_0x134458,_0x5e6cb4)=>{const _0x32c1bb=a0_0x2c2011;try{const {name:_0x1a684d,products:_0x18cb6a}=_0x134458[_0x32c1bb(0x1ec)],_0x5b6a79=new categories({'name':_0x1a684d,'products':_0x18cb6a}),_0x281ec7=await categories[_0x32c1bb(0x1f1)]({'name':_0x1a684d});_0x281ec7?_0x134458['flash']('errors',_0x1a684d+_0x32c1bb(0x23b)):_0x134458[_0x32c1bb(0x231)]('success',_0x1a684d+_0x32c1bb(0x255));const _0x6fc147=await _0x5b6a79[_0x32c1bb(0x238)]();_0x5e6cb4[_0x32c1bb(0x20a)](_0x32c1bb(0x1af));}catch(_0x34820a){console['log'](_0x34820a);}}),router[a0_0x2c2011(0x1ac)]('/categories/:id',auth,async(_0x118da2,_0x1acb72)=>{const _0x1f3a00=a0_0x2c2011;try{const {username:_0x2871f1,email:_0x346ea7,role:_0x15d9d9}=_0x118da2['user'],_0x1fb3cd=_0x118da2[_0x1f3a00(0x1f4)],_0x3f5998=await profile['findOne']({'email':_0x1fb3cd[_0x1f3a00(0x22e)]}),_0x58b948=await master_shop['find']();console[_0x1f3a00(0x20f)]('master',_0x58b948);const _0xa8f289=_0x118da2[_0x1f3a00(0x1e9)]['id'];console[_0x1f3a00(0x20f)](_0xa8f289);const _0xd61d05=await categories[_0x1f3a00(0x233)](_0xa8f289);if(_0x58b948[0x0]['language']==_0x1f3a00(0x1d8))var _0x4f8715=users['English'];else{if(_0x58b948[0x0][_0x1f3a00(0x24d)]=='Hindi')var _0x4f8715=users[_0x1f3a00(0x22b)];else{if(_0x58b948[0x0]['language']==_0x1f3a00(0x1f6))var _0x4f8715=users[_0x1f3a00(0x1f6)];else{if(_0x58b948[0x0][_0x1f3a00(0x24d)]=='Spanish')var _0x4f8715=users[_0x1f3a00(0x244)];else{if(_0x58b948[0x0][_0x1f3a00(0x24d)]=='French')var _0x4f8715=users[_0x1f3a00(0x1dd)];else{if(_0x58b948[0x0]['language']==_0x1f3a00(0x209))var _0x4f8715=users[_0x1f3a00(0x1c7)];else{if(_0x58b948[0x0]['language']==_0x1f3a00(0x241))var _0x4f8715=users['Chinese'];else{if(_0x58b948[0x0][_0x1f3a00(0x24d)]==_0x1f3a00(0x235))var _0x4f8715=users[_0x1f3a00(0x1a4)];}}}}}}}_0x1acb72[_0x1f3a00(0x1d9)](_0x1f3a00(0x208),{'success':_0x118da2[_0x1f3a00(0x231)]('success'),'errors':_0x118da2[_0x1f3a00(0x231)](_0x1f3a00(0x211)),'role':_0x1fb3cd,'profile':_0x3f5998,'master_shop':_0x58b948,'user':_0xd61d05,'language':_0x4f8715});}catch(_0x3938f2){console[_0x1f3a00(0x20f)](_0x3938f2);}}),router[a0_0x2c2011(0x23c)]('/categories/:id',auth,async(_0x2127c9,_0x417d14)=>{const _0x24a372=a0_0x2c2011;try{const _0x2b0e37=_0x2127c9['params']['id'],_0x61b720=await categories[_0x24a372(0x24e)](_0x2b0e37,_0x2127c9[_0x24a372(0x1ec)]);_0x2127c9['flash'](_0x24a372(0x1a5),''+users['categories_edit']),_0x417d14[_0x24a372(0x20a)](_0x24a372(0x1af));}catch(_0x35a184){console[_0x24a372(0x20f)](_0x35a184);}}),router['get'](a0_0x2c2011(0x224),auth,async(_0x2962a6,_0x337cd1)=>{const _0x5a16fc=a0_0x2c2011;try{const _0xd11d36=_0x2962a6['params']['id'],_0x2a1a20=await categories[_0x5a16fc(0x1cc)](_0xd11d36);_0x2962a6[_0x5a16fc(0x231)](_0x5a16fc(0x1a5),_0x5a16fc(0x1c4)),_0x337cd1[_0x5a16fc(0x20a)]('/products/categories');}catch(_0x251a0c){console[_0x5a16fc(0x20f)](_0x251a0c);}}),router[a0_0x2c2011(0x1ac)]('/brands',auth,async(_0x5b30c4,_0x4dca32)=>{const _0x45ce28=a0_0x2c2011;try{const {username:_0xb5777f,email:_0xe03f1a,role:_0x37ae0f}=_0x5b30c4[_0x45ce28(0x1f4)],_0x203dc1=_0x5b30c4[_0x45ce28(0x1f4)],_0x5e38de=await profile[_0x45ce28(0x1f1)]({'email':_0x203dc1[_0x45ce28(0x22e)]}),_0x4c2846=await master_shop[_0x45ce28(0x1a2)]();console['log']('master',_0x4c2846);const _0x4fd535=await brands[_0x45ce28(0x1a2)]();if(_0x4c2846[0x0][_0x45ce28(0x24d)]=='English\x20(US)')var _0xa4bcea=users[_0x45ce28(0x1b4)];else{if(_0x4c2846[0x0]['language']==_0x45ce28(0x22b))var _0xa4bcea=users[_0x45ce28(0x22b)];else{if(_0x4c2846[0x0]['language']=='German')var _0xa4bcea=users[_0x45ce28(0x1f6)];else{if(_0x4c2846[0x0][_0x45ce28(0x24d)]==_0x45ce28(0x244))var _0xa4bcea=users[_0x45ce28(0x244)];else{if(_0x4c2846[0x0][_0x45ce28(0x24d)]==_0x45ce28(0x1dd))var _0xa4bcea=users[_0x45ce28(0x1dd)];else{if(_0x4c2846[0x0][_0x45ce28(0x24d)]==_0x45ce28(0x209))var _0xa4bcea=users[_0x45ce28(0x1c7)];else{if(_0x4c2846[0x0]['language']==_0x45ce28(0x241))var _0xa4bcea=users['Chinese'];else{if(_0x4c2846[0x0][_0x45ce28(0x24d)]==_0x45ce28(0x235))var _0xa4bcea=users['Arabic'];}}}}}}}_0x4dca32[_0x45ce28(0x1d9)]('brands',{'success':_0x5b30c4[_0x45ce28(0x231)](_0x45ce28(0x1a5)),'errors':_0x5b30c4[_0x45ce28(0x231)](_0x45ce28(0x211)),'role':_0x203dc1,'profile':_0x5e38de,'master_shop':_0x4c2846,'user':_0x4fd535,'language':_0xa4bcea});}catch(_0x4727f9){console['log'](_0x4727f9);}}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x21b),auth,async(_0x4a9da6,_0x13c334)=>{const _0xe6e5f4=a0_0x2c2011;try{const {name:_0x27b7f0,products:_0x5cb0ee}=_0x4a9da6[_0xe6e5f4(0x1ec)],_0x4ac3af=new brands({'name':_0x27b7f0,'products':_0x5cb0ee}),_0xdf98aa=await brands[_0xe6e5f4(0x1f1)]({'name':_0x27b7f0});_0xdf98aa?_0x4a9da6[_0xe6e5f4(0x231)](_0xe6e5f4(0x211),_0x27b7f0+_0xe6e5f4(0x1a6)):_0x4a9da6[_0xe6e5f4(0x231)](_0xe6e5f4(0x1a5),_0x27b7f0+'\x20brand\x20is\x20add\x20successfully');const _0x3516dc=await _0x4ac3af[_0xe6e5f4(0x238)]();_0x13c334[_0xe6e5f4(0x20a)](_0xe6e5f4(0x1ea));}catch(_0x48bcce){console[_0xe6e5f4(0x20f)](_0x48bcce);}}),router[a0_0x2c2011(0x1ac)](a0_0x2c2011(0x220),auth,async(_0x1bde3e,_0x23e764)=>{const _0x5174f8=a0_0x2c2011;try{const {username:_0x5f0c85,email:_0x3e20c3,role:_0x309def}=_0x1bde3e[_0x5174f8(0x1f4)],_0x3a8d23=_0x1bde3e[_0x5174f8(0x1f4)],_0x5bf89a=await profile[_0x5174f8(0x1f1)]({'email':_0x3a8d23[_0x5174f8(0x22e)]}),_0x29d855=await master_shop[_0x5174f8(0x1a2)]();console[_0x5174f8(0x20f)]('master',_0x29d855);const _0x224644=_0x1bde3e['params']['id'];console['log'](_0x224644);const _0x385ec3=await brands[_0x5174f8(0x233)](_0x224644);if(_0x29d855[0x0][_0x5174f8(0x24d)]==_0x5174f8(0x1d8))var _0x560b2b=users[_0x5174f8(0x1b4)];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]==_0x5174f8(0x22b))var _0x560b2b=users[_0x5174f8(0x22b)];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]==_0x5174f8(0x1f6))var _0x560b2b=users[_0x5174f8(0x1f6)];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]==_0x5174f8(0x244))var _0x560b2b=users[_0x5174f8(0x244)];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]=='French')var _0x560b2b=users[_0x5174f8(0x1dd)];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]==_0x5174f8(0x209))var _0x560b2b=users['Portuguese'];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]=='Chinese')var _0x560b2b=users[_0x5174f8(0x241)];else{if(_0x29d855[0x0][_0x5174f8(0x24d)]=='Arabic\x20(ae)')var _0x560b2b=users[_0x5174f8(0x1a4)];}}}}}}}_0x23e764['render']('brands',{'success':_0x1bde3e[_0x5174f8(0x231)](_0x5174f8(0x1a5)),'errors':_0x1bde3e[_0x5174f8(0x231)](_0x5174f8(0x211)),'role':_0x3a8d23,'profile':_0x5bf89a,'master_shop':_0x29d855,'user':_0x385ec3,'language':_0x560b2b});}catch(_0x545dd7){console[_0x5174f8(0x20f)](_0x545dd7);}}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x220),auth,async(_0x19fe0c,_0xb5f45d)=>{const _0x3aeb42=a0_0x2c2011;try{const _0x214727=_0x19fe0c[_0x3aeb42(0x1e9)]['id'],_0x5a7866=await brands[_0x3aeb42(0x24e)](_0x214727,_0x19fe0c[_0x3aeb42(0x1ec)]);_0x19fe0c[_0x3aeb42(0x231)](_0x3aeb42(0x1a5),_0x3aeb42(0x216)),_0xb5f45d['redirect']('/products/brands');}catch(_0x2c22a5){console['log'](_0x2c22a5);}}),router[a0_0x2c2011(0x1ac)](a0_0x2c2011(0x24a),auth,async(_0x5b36e5,_0x5c33f5)=>{const _0x49272d=a0_0x2c2011;try{const _0x48ad36=_0x5b36e5[_0x49272d(0x1e9)]['id'],_0x1c7f5a=await brands[_0x49272d(0x1cc)](_0x48ad36);_0x5b36e5['flash'](_0x49272d(0x1a5),_0x49272d(0x1d3)),_0x5c33f5[_0x49272d(0x20a)](_0x49272d(0x1ea));}catch(_0x5a68dd){console[_0x49272d(0x20f)](_0x5a68dd);}}),router[a0_0x2c2011(0x1ac)]('/units',auth,async(_0x2f1ca7,_0x4c86aa)=>{const _0xdda985=a0_0x2c2011;try{const {username:_0x889e16,email:_0xa06925,role:_0x172e78}=_0x2f1ca7[_0xdda985(0x1f4)],_0x59842a=_0x2f1ca7[_0xdda985(0x1f4)],_0xc4bc10=await profile[_0xdda985(0x1f1)]({'email':_0x59842a[_0xdda985(0x22e)]}),_0x42d54b=await master_shop[_0xdda985(0x1a2)]();console['log'](_0xdda985(0x1e3),_0x42d54b);const _0x3b3bb0=await units['find']();if(_0x42d54b[0x0][_0xdda985(0x24d)]=='English\x20(US)')var _0x3297ec=users[_0xdda985(0x1b4)];else{if(_0x42d54b[0x0][_0xdda985(0x24d)]==_0xdda985(0x22b))var _0x3297ec=users['Hindi'];else{if(_0x42d54b[0x0][_0xdda985(0x24d)]==_0xdda985(0x1f6))var _0x3297ec=users[_0xdda985(0x1f6)];else{if(_0x42d54b[0x0][_0xdda985(0x24d)]==_0xdda985(0x244))var _0x3297ec=users['Spanish'];else{if(_0x42d54b[0x0][_0xdda985(0x24d)]==_0xdda985(0x1dd))var _0x3297ec=users[_0xdda985(0x1dd)];else{if(_0x42d54b[0x0][_0xdda985(0x24d)]==_0xdda985(0x209))var _0x3297ec=users[_0xdda985(0x1c7)];else{if(_0x42d54b[0x0][_0xdda985(0x24d)]==_0xdda985(0x241))var _0x3297ec=users['Chinese'];else{if(_0x42d54b[0x0]['language']==_0xdda985(0x235))var _0x3297ec=users[_0xdda985(0x1a4)];}}}}}}}_0x4c86aa[_0xdda985(0x1d9)](_0xdda985(0x1fa),{'success':_0x2f1ca7[_0xdda985(0x231)](_0xdda985(0x1a5)),'errors':_0x2f1ca7[_0xdda985(0x231)](_0xdda985(0x211)),'role':_0x59842a,'profile':_0xc4bc10,'master_shop':_0x42d54b,'user':_0x3b3bb0,'language':_0x3297ec});}catch(_0x502367){console[_0xdda985(0x20f)](_0x502367);}}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x214),auth,async(_0x593ab5,_0x384d3c)=>{const _0xf35a0a=a0_0x2c2011;try{const {name:_0x4946f0,secondary_unit:_0x109a5d,products:_0x1f60bc}=_0x593ab5[_0xf35a0a(0x1ec)],_0x31c17d=new units({'name':_0x4946f0,'secondary_unit':_0x109a5d,'products':_0x1f60bc}),_0x213838=await units[_0xf35a0a(0x1f1)]({'name':_0x4946f0});_0x213838?_0x593ab5[_0xf35a0a(0x231)](_0xf35a0a(0x211),_0x4946f0+_0xf35a0a(0x22d)):_0x593ab5[_0xf35a0a(0x231)](_0xf35a0a(0x1a5),_0x4946f0+_0xf35a0a(0x259));const _0x338af7=await _0x31c17d[_0xf35a0a(0x238)]();_0x384d3c[_0xf35a0a(0x20a)](_0xf35a0a(0x22f));}catch(_0x384657){console['log'](_0x384657);}}),router[a0_0x2c2011(0x1ac)](a0_0x2c2011(0x1ca),auth,async(_0xc53b76,_0x23dad5)=>{const _0x3135a3=a0_0x2c2011;try{const {username:_0x277742,email:_0x4477f2,role:_0x180382}=_0xc53b76[_0x3135a3(0x1f4)],_0x1a06d8=_0xc53b76['user'],_0x45527a=await profile[_0x3135a3(0x1f1)]({'email':_0x1a06d8['email']}),_0x21e3e9=await master_shop[_0x3135a3(0x1a2)]();console['log'](_0x3135a3(0x1e3),_0x21e3e9);const _0x542615=_0xc53b76[_0x3135a3(0x1e9)]['id'],_0x13a3b3=await units['findById'](_0x542615);if(_0x21e3e9[0x0][_0x3135a3(0x24d)]==_0x3135a3(0x1d8))var _0x4936d7=users[_0x3135a3(0x1b4)];else{if(_0x21e3e9[0x0]['language']=='Hindi')var _0x4936d7=users[_0x3135a3(0x22b)];else{if(_0x21e3e9[0x0][_0x3135a3(0x24d)]==_0x3135a3(0x1f6))var _0x4936d7=users[_0x3135a3(0x1f6)];else{if(_0x21e3e9[0x0]['language']==_0x3135a3(0x244))var _0x4936d7=users[_0x3135a3(0x244)];else{if(_0x21e3e9[0x0]['language']==_0x3135a3(0x1dd))var _0x4936d7=users['French'];else{if(_0x21e3e9[0x0][_0x3135a3(0x24d)]==_0x3135a3(0x209))var _0x4936d7=users['Portuguese'];else{if(_0x21e3e9[0x0][_0x3135a3(0x24d)]=='Chinese')var _0x4936d7=users['Chinese'];else{if(_0x21e3e9[0x0][_0x3135a3(0x24d)]==_0x3135a3(0x235))var _0x4936d7=users[_0x3135a3(0x1a4)];}}}}}}}_0x23dad5[_0x3135a3(0x1d9)]('units',{'success':_0xc53b76[_0x3135a3(0x231)](_0x3135a3(0x1a5)),'errors':_0xc53b76[_0x3135a3(0x231)](_0x3135a3(0x211)),'role':_0x1a06d8,'profile':_0x45527a,'master_shop':_0x21e3e9,'user':_0x13a3b3,'language':_0x4936d7});}catch(_0x3a8266){console[_0x3135a3(0x20f)](_0x3a8266);}}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x1ca),auth,async(_0x2569ef,_0x23b103)=>{const _0x2f1797=a0_0x2c2011;try{const _0x6830f6=_0x2569ef[_0x2f1797(0x1e9)]['id'],_0x4e203f=await units[_0x2f1797(0x24e)](_0x6830f6,_0x2569ef['body']);_0x2569ef['flash']('success','unit\x20data\x20update\x20successfully'),_0x23b103['redirect'](_0x2f1797(0x22f));}catch(_0x1d0370){console[_0x2f1797(0x20f)](_0x1d0370);}}),router[a0_0x2c2011(0x1ac)]('/units/delete/:id',auth,async(_0x64fcb5,_0x599a05)=>{const _0x1c2e35=a0_0x2c2011;try{const _0x328e29=_0x64fcb5[_0x1c2e35(0x1e9)]['id'],_0x10db48=await units[_0x1c2e35(0x1cc)](_0x328e29);_0x64fcb5[_0x1c2e35(0x231)](_0x1c2e35(0x1a5),_0x1c2e35(0x1c8)),_0x599a05[_0x1c2e35(0x20a)]('/products/units');}catch(_0x1d2a2e){console[_0x1c2e35(0x20f)](_0x1d2a2e);}});function a0_0x5ca9(){const _0x171a47=['Products\x20find_data','/print_barcode_filter_search/','primary_code','/view/:id','$_id','$product_name','data','Maximum_Stocks','56jFwMmH','1095378zScSRS','Secondary_Units','originalname','numeric','PUnits','categories\x20data\x20delete\x20successfully','../middleware/auth','PCat','Portuguese','unit\x20data\x20delete\x20successfully','file','/units/:id','1315568NRtJcE','findByIdAndDelete','Enabled','json','canvas','aggregate','$category','product_category','brand\x20data\x20delete\x20successfully','/barcode_filter','diskStorage','maxProdPerUnit','min','English\x20(US)','render','filename','\x20<>\x20','then','French','public/upload','readFile','37470ojoeZf','Raw\x20Materials','494081aKkRCc','master','concat','Product_Name','single','$product_stock','edit\x20Product\x20master','params','/products/brands','/print_barcode_filter/','body','sheet_to_json','MaxperUnits','/products_import_migrate_file','brand','findOne','map','attachment;\x20filename=Product_Migration_File.xlsx','user','Category','German','now','addPage','/print_barcode_single/:id','units','PName','express/lib/response','Products\x20warehouse_data','migrate_product_fule','/products_export_migrate_file','message','Brands','brands','ProductCode','alertquantity','Finished\x20Goods','$brand','end','categories','Portuguese\x20(BR)','redirect','secondary_unit','Product_Code','CODE128','/categories','log','Content-Type','errors','write','toBuffer','/units','length','brand\x20data\x20update\x20successfully','product_details.product_name','_id','edit_product','/products/view','/brands','defaultProduct.avif','xlsx','setHeader','Units','/brands/:id','push','Primary_Code','width','/categories/delete/:id','pdfkit-table','1368800ZBhgJw','\x20added\x20successfully','Secondary_Code','product\x20update\x20successfully','type_products','Hindi','multer','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','email','/products/units','long','flash','sku','findById','Products_category','Arabic\x20(ae)','public/Migration','2081132qdcHyi','save','2696QcsRsX','add_product','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','post','image','Content-Disposition','Prod_Cat','product_docs','Chinese','Workbook','barcode\x20user_id','Spanish','product_barcode_products','$product_details.product_name','/view/add_products','PSecondaryUnits','utils','/brands/delete/:id','exceljs','/filter_product','language','findByIdAndUpdate','secondary_code','stock','name','product\x20edit','toString','prod_categ','\x20categories\x20is\x20add\x20successfully','addWorksheet','PAlQty','max_number_per_units','\x20unit\x20is\x20add\x20successfully','category','product_code','products','find','/barcode_data','Arabic','success','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','bind','height','$product_details','exports','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','get','Products\x20master','warehouse','/products/categories','5274PyQWde','categ','/print_barcode','sales_category','English','status'];a0_0x5ca9=function(){return _0x171a47;};return a0_0x5ca9();}const storage=multer[a0_0x2c2011(0x1d5)]({'destination':(_0x459162,_0xd3b40e,_0x5240a8)=>{const _0xccdc67=a0_0x2c2011;_0x5240a8(null,_0xccdc67(0x1de));},'filename':(_0x4e80d8,_0x4f00ef,_0x24ae3d)=>{const _0x321036=a0_0x2c2011;_0x24ae3d(null,Date[_0x321036(0x1f7)]()+_0x4f00ef[_0x321036(0x1c1)]);}}),upload=multer({'storage':storage});router[a0_0x2c2011(0x1ac)]('/view',auth,async(_0x4254df,_0x381b5a)=>{const _0x46d64b=a0_0x2c2011;try{const {username:_0x3d5b3a,email:_0x42e4f6,role:_0x2e434b}=_0x4254df[_0x46d64b(0x1f4)],_0x2c5756=_0x4254df[_0x46d64b(0x1f4)],_0x45730c=await profile[_0x46d64b(0x1f1)]({'email':_0x2c5756['email']}),_0x493dbe={'year':_0x46d64b(0x1c2),'month':_0x46d64b(0x230),'day':_0x46d64b(0x1c2)},_0x16dec3=await master_shop[_0x46d64b(0x1a2)]();console[_0x46d64b(0x20f)](_0x46d64b(0x1ad),_0x16dec3);const _0x30cccc=await product['find']();console['log']('Products\x20find_data',_0x30cccc);const _0x51d030=await warehouse[_0x46d64b(0x1d0)]([{'$unwind':_0x46d64b(0x1a9)},{'$lookup':{'from':_0x46d64b(0x1a1),'localField':_0x46d64b(0x217),'foreignField':'name','as':_0x46d64b(0x240)}},{'$unwind':'$product_docs'},{'$project':{'product_name':_0x46d64b(0x246),'product_stock':'$product_details.product_stock'}},{'$group':{'_id':_0x46d64b(0x1bb),'product_stock':{'$sum':_0x46d64b(0x1e7)}}}]);console[_0x46d64b(0x20f)](_0x46d64b(0x1fd),_0x51d030),_0x51d030['forEach'](_0xd156d=>{const _0x4b524f=_0x46d64b,_0x4efa00=_0x30cccc[_0x4b524f(0x1f2)](_0x29ceea=>{const _0x2a0a65=_0x4b524f;_0x29ceea[_0x2a0a65(0x251)]==_0xd156d[_0x2a0a65(0x218)]&&(_0x29ceea[_0x2a0a65(0x250)]=parseInt(_0x29ceea[_0x2a0a65(0x250)])+parseInt(_0xd156d['product_stock']));});}),console['log'](_0x46d64b(0x1b6),_0x30cccc);if(_0x16dec3[0x0][_0x46d64b(0x24d)]==_0x46d64b(0x1d8))var _0x463540=users[_0x46d64b(0x1b4)];else{if(_0x16dec3[0x0]['language']=='Hindi')var _0x463540=users['Hindi'];else{if(_0x16dec3[0x0]['language']=='German')var _0x463540=users[_0x46d64b(0x1f6)];else{if(_0x16dec3[0x0][_0x46d64b(0x24d)]==_0x46d64b(0x244))var _0x463540=users[_0x46d64b(0x244)];else{if(_0x16dec3[0x0][_0x46d64b(0x24d)]==_0x46d64b(0x1dd))var _0x463540=users[_0x46d64b(0x1dd)];else{if(_0x16dec3[0x0][_0x46d64b(0x24d)]==_0x46d64b(0x209))var _0x463540=users[_0x46d64b(0x1c7)];else{if(_0x16dec3[0x0][_0x46d64b(0x24d)]==_0x46d64b(0x241))var _0x463540=users[_0x46d64b(0x241)];else{if(_0x16dec3[0x0][_0x46d64b(0x24d)]=='Arabic\x20(ae)')var _0x463540=users[_0x46d64b(0x1a4)];}}}}}}}_0x381b5a[_0x46d64b(0x1d9)](_0x46d64b(0x1a1),{'success':_0x4254df['flash']('success'),'errors':_0x4254df[_0x46d64b(0x231)]('errors'),'alldata':_0x30cccc,'profile':_0x45730c,'master_shop':_0x16dec3,'role':_0x2c5756,'product_stock':_0x51d030,'language':_0x463540});}catch(_0x1f78eb){console[_0x46d64b(0x20f)](_0x1f78eb);}}),router['get'](a0_0x2c2011(0x247),auth,async(_0x30ccc7,_0x597049)=>{const _0x1b92a6=a0_0x2c2011;try{const {username:_0x5e138a,email:_0x16adbf,role:_0x393e3a}=_0x30ccc7['user'],_0x3624a4=_0x30ccc7[_0x1b92a6(0x1f4)],_0x23af3b=await profile['findOne']({'email':_0x3624a4[_0x1b92a6(0x22e)]}),_0x2eff7f=await master_shop[_0x1b92a6(0x1a2)]();console[_0x1b92a6(0x20f)]('master',_0x2eff7f);const _0x3ad719=await categories[_0x1b92a6(0x1a2)]({}),_0x43bcdb=await brands[_0x1b92a6(0x1a2)]({}),_0x2ad182=await units[_0x1b92a6(0x1a2)]({}),_0x33a2aa=await warehouse[_0x1b92a6(0x1a2)]({'status':_0x1b92a6(0x1cd)});if(_0x2eff7f[0x0]['language']==_0x1b92a6(0x1d8))var _0x56f068=users['English'];else{if(_0x2eff7f[0x0]['language']=='Hindi')var _0x56f068=users[_0x1b92a6(0x22b)];else{if(_0x2eff7f[0x0][_0x1b92a6(0x24d)]=='German')var _0x56f068=users[_0x1b92a6(0x1f6)];else{if(_0x2eff7f[0x0]['language']=='Spanish')var _0x56f068=users[_0x1b92a6(0x244)];else{if(_0x2eff7f[0x0][_0x1b92a6(0x24d)]==_0x1b92a6(0x1dd))var _0x56f068=users['French'];else{if(_0x2eff7f[0x0]['language']==_0x1b92a6(0x209))var _0x56f068=users[_0x1b92a6(0x1c7)];else{if(_0x2eff7f[0x0][_0x1b92a6(0x24d)]==_0x1b92a6(0x241))var _0x56f068=users[_0x1b92a6(0x241)];else{if(_0x2eff7f[0x0][_0x1b92a6(0x24d)]=='Arabic\x20(ae)')var _0x56f068=users[_0x1b92a6(0x1a4)];}}}}}}}_0x597049[_0x1b92a6(0x1d9)](_0x1b92a6(0x23a),{'success':_0x30ccc7[_0x1b92a6(0x231)](_0x1b92a6(0x1a5)),'errors':_0x30ccc7[_0x1b92a6(0x231)](_0x1b92a6(0x211)),'role':_0x3624a4,'profile':_0x23af3b,'categories':_0x3ad719,'brands':_0x43bcdb,'master_shop':_0x2eff7f,'units':_0x2ad182,'language':_0x56f068,'find_data':_0x33a2aa});}catch(_0x560f60){console[_0x1b92a6(0x20f)](_0x560f60);}}),router['post'](a0_0x2c2011(0x247),auth,upload['single'](a0_0x2c2011(0x23d)),async(_0x2a25ab,_0x4f4ad2)=>{const _0x4ab69e=a0_0x2c2011;try{const {name:_0x45bc0f,category:_0x25196b,brand:_0x503b04,unit:_0x401f58,alertquantity:_0x17d2b0,stock:_0x5c74d4,product_code:_0x597edf,warehouse:_0x4a2f40,primary_ItemCode:_0x34ffca,second_ItemCode:_0x47c577,second_unit:_0x1a37a2,maxPerUnit:_0x2f528b,MaxPerProduct:_0x402da3,sales_cat:_0x3a981f,type_prod:_0x20a014}=_0x2a25ab[_0x4ab69e(0x1ec)],_0x5e1968=_0x2a25ab['file']?.[_0x4ab69e(0x1da)]||_0x4ab69e(0x21c),_0x14c186=new product({'image':_0x5e1968,'name':_0x45bc0f,'category':_0x25196b,'brand':_0x503b04,'unit':_0x401f58,'alertquantity':_0x17d2b0,'stock':_0x5c74d4,'product_code':_0x597edf,'warehouse':_0x4a2f40,'primary_code':_0x34ffca,'secondary_code':_0x47c577,'second_unit':_0x1a37a2,'maxStocks':_0x402da3,'maxProdPerUnit':_0x2f528b,'sales_category':_0x3a981f,'type_products':_0x20a014}),_0x44aa58=await _0x14c186[_0x4ab69e(0x238)](),_0x24e05f=await categories[_0x4ab69e(0x1f1)]({'name':_0x25196b});_0x24e05f[_0x4ab69e(0x1a1)]=parseInt(_0x24e05f[_0x4ab69e(0x1a1)])+0x1,await _0x24e05f[_0x4ab69e(0x238)]();const _0x8f4320=await brands['findOne']({'name':_0x503b04});_0x8f4320[_0x4ab69e(0x1a1)]=parseInt(_0x8f4320[_0x4ab69e(0x1a1)])+0x1,await _0x8f4320[_0x4ab69e(0x238)]();const _0x203bd5=await units[_0x4ab69e(0x1f1)]({'name':_0x401f58});_0x203bd5[_0x4ab69e(0x1a1)]=parseInt(_0x203bd5[_0x4ab69e(0x1a1)])+0x1,await _0x203bd5[_0x4ab69e(0x238)](),_0x2a25ab['flash'](_0x4ab69e(0x1a5),'product\x20add\x20successfully'),_0x4f4ad2['redirect'](_0x4ab69e(0x21a));}catch(_0x56db4c){console[_0x4ab69e(0x20f)](_0x56db4c);}}),router['get'](a0_0x2c2011(0x1b9),auth,async(_0x4ede75,_0x5e5669)=>{const _0x4c96af=a0_0x2c2011;try{const {username:_0x3d6d16,email:_0x47bf64,role:_0x4dedb4}=_0x4ede75[_0x4c96af(0x1f4)],_0x42ee17=_0x4ede75[_0x4c96af(0x1f4)],_0x1c57b5=await profile[_0x4c96af(0x1f1)]({'email':_0x42ee17[_0x4c96af(0x22e)]}),_0x41a9c8=await master_shop[_0x4c96af(0x1a2)]();console[_0x4c96af(0x20f)](_0x4c96af(0x1e8),_0x41a9c8);const _0x483315=_0x4ede75[_0x4c96af(0x1e9)]['id'],_0x52f6d5=await product[_0x4c96af(0x233)](_0x483315),_0x94fd1a=await categories[_0x4c96af(0x1a2)]({}),_0x1ff364=await brands[_0x4c96af(0x1a2)]({}),_0x5f01c5=await units[_0x4c96af(0x1a2)]({}),_0x435c41=await warehouse[_0x4c96af(0x1a2)]({'status':_0x4c96af(0x1cd)}),_0x192d98=await units[_0x4c96af(0x1d0)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':'$secondary_unit'}}}]);if(_0x41a9c8[0x0][_0x4c96af(0x24d)]=='English\x20(US)')var _0x1a834a=users[_0x4c96af(0x1b4)];else{if(_0x41a9c8[0x0][_0x4c96af(0x24d)]==_0x4c96af(0x22b))var _0x1a834a=users['Hindi'];else{if(_0x41a9c8[0x0]['language']==_0x4c96af(0x1f6))var _0x1a834a=users[_0x4c96af(0x1f6)];else{if(_0x41a9c8[0x0][_0x4c96af(0x24d)]==_0x4c96af(0x244))var _0x1a834a=users[_0x4c96af(0x244)];else{if(_0x41a9c8[0x0][_0x4c96af(0x24d)]==_0x4c96af(0x1dd))var _0x1a834a=users[_0x4c96af(0x1dd)];else{if(_0x41a9c8[0x0][_0x4c96af(0x24d)]==_0x4c96af(0x209))var _0x1a834a=users[_0x4c96af(0x1c7)];else{if(_0x41a9c8[0x0][_0x4c96af(0x24d)]=='Chinese')var _0x1a834a=users[_0x4c96af(0x241)];else{if(_0x41a9c8[0x0][_0x4c96af(0x24d)]==_0x4c96af(0x235))var _0x1a834a=users[_0x4c96af(0x1a4)];}}}}}}}_0x5e5669[_0x4c96af(0x1d9)](_0x4c96af(0x219),{'success':_0x4ede75[_0x4c96af(0x231)]('success'),'errors':_0x4ede75['flash']('errors'),'role':_0x42ee17,'profile':_0x1c57b5,'alldata':_0x52f6d5,'categories':_0x94fd1a,'brands':_0x1ff364,'master_shop':_0x41a9c8,'units':_0x5f01c5,'secondunit':_0x192d98,'find_data':_0x435c41,'language':_0x1a834a});}catch(_0x53c736){console[_0x4c96af(0x20f)](_0x53c736);}}),router[a0_0x2c2011(0x23c)]('/view/:id',auth,upload[a0_0x2c2011(0x1e6)](a0_0x2c2011(0x23d)),async(_0x59e0da,_0x197df8)=>{const _0x420c17=a0_0x2c2011;try{const _0x14c2ab=_0x59e0da[_0x420c17(0x1e9)]['id'],_0x37499b=await product[_0x420c17(0x233)](_0x14c2ab),{image:_0x575d7d,name:_0x36d754,category:_0x2550e3,brand:_0x5ef7d2,sku:_0x20c32c,unit:_0x1119c2,alertquantity:_0x5d9e7a,product_code:_0x1e2046,warehouse:_0x5bf883,primary_ItemCode:_0x279150,second_ItemCode:_0x35b540,second_unit:_0x4ef1fb,maxPerUnit:_0x526d9e,MaxPerProduct:_0x55b073,prod_catdata:_0x4ab597,type_prod:_0xef70d1,sales_cat:_0x23e057}=_0x59e0da[_0x420c17(0x1ec)];_0x59e0da[_0x420c17(0x1c9)]&&(_0x37499b[_0x420c17(0x23d)]=_0x59e0da[_0x420c17(0x1c9)][_0x420c17(0x1da)]);_0x37499b[_0x420c17(0x251)]=_0x36d754,_0x37499b[_0x420c17(0x25a)]=_0x2550e3,_0x37499b['brand']=_0x5ef7d2,_0x37499b[_0x420c17(0x232)]=_0x20c32c,_0x37499b['unit']=_0x1119c2,_0x37499b[_0x420c17(0x204)]=_0x5d9e7a,_0x37499b[_0x420c17(0x1a0)]=_0x1e2046,_0x37499b[_0x420c17(0x1ae)]=_0x5bf883,_0x37499b[_0x420c17(0x1b8)]=_0x279150,_0x37499b[_0x420c17(0x24f)]=_0x35b540,_0x37499b[_0x420c17(0x20b)]=_0x4ef1fb,_0x37499b['maxStocks']=_0x55b073,_0x37499b[_0x420c17(0x1d6)]=_0x526d9e,_0x37499b[_0x420c17(0x1d2)]=_0x4ab597,_0x37499b[_0x420c17(0x22a)]=_0xef70d1,_0x37499b[_0x420c17(0x1b3)]=_0x23e057;const _0x44d31e=await _0x37499b[_0x420c17(0x238)]();console['log'](_0x420c17(0x252),_0x37499b),_0x59e0da['flash']('success',_0x420c17(0x229)),_0x197df8['redirect'](_0x420c17(0x21a));}catch(_0xff9c2a){console[_0x420c17(0x20f)](_0xff9c2a);}}),router[a0_0x2c2011(0x1ac)]('/barcode/:id',auth,async(_0x2fbf08,_0x1b0efe)=>{const _0x10fd48=a0_0x2c2011;try{const {username:_0x1e06b3,email:_0x43b129,role:_0x45909b}=_0x2fbf08[_0x10fd48(0x1f4)],_0x587e55=_0x2fbf08[_0x10fd48(0x1f4)],_0x34d553=await profile[_0x10fd48(0x1f1)]({'email':_0x587e55['email']}),_0x2b3e17=await master_shop[_0x10fd48(0x1a2)]();console['log']('barcode\x20Product\x20master',_0x2b3e17);const _0x2e5afa=_0x2fbf08['params']['id'],_0x4a7e94=await product['findById'](_0x2e5afa);console[_0x10fd48(0x20f)](_0x10fd48(0x243),_0x4a7e94);if(_0x2b3e17[0x0][_0x10fd48(0x24d)]==_0x10fd48(0x1d8))var _0xd93c21=users[_0x10fd48(0x1b4)];else{if(_0x2b3e17[0x0]['language']==_0x10fd48(0x22b))var _0xd93c21=users['Hindi'];else{if(_0x2b3e17[0x0]['language']=='German')var _0xd93c21=users[_0x10fd48(0x1f6)];else{if(_0x2b3e17[0x0][_0x10fd48(0x24d)]==_0x10fd48(0x244))var _0xd93c21=users[_0x10fd48(0x244)];else{if(_0x2b3e17[0x0][_0x10fd48(0x24d)]==_0x10fd48(0x1dd))var _0xd93c21=users[_0x10fd48(0x1dd)];else{if(_0x2b3e17[0x0][_0x10fd48(0x24d)]==_0x10fd48(0x209))var _0xd93c21=users[_0x10fd48(0x1c7)];else{if(_0x2b3e17[0x0]['language']=='Chinese')var _0xd93c21=users[_0x10fd48(0x241)];else{if(_0x2b3e17[0x0][_0x10fd48(0x24d)]==_0x10fd48(0x235))var _0xd93c21=users['Arabic'];}}}}}}}_0x1b0efe[_0x10fd48(0x1d9)]('product_barcode',{'success':_0x2fbf08[_0x10fd48(0x231)](_0x10fd48(0x1a5)),'errors':_0x2fbf08[_0x10fd48(0x231)](_0x10fd48(0x211)),'role':_0x587e55,'profile':_0x34d553,'alldata':_0x4a7e94,'master_shop':_0x2b3e17,'language':_0xd93c21});}catch(_0x1ed470){console[_0x10fd48(0x20f)](_0x1ed470);}}),router['get'](a0_0x2c2011(0x1ff),auth,async(_0xa2c2d3,_0x3b723a)=>{const _0x106325=a0_0x2c2011;try{const _0x58cc46=new excelJS[(_0x106325(0x242))](),_0x397b9c=_0x58cc46[_0x106325(0x256)]('Products');return _0x397b9c['columns']=[{'header':_0x106325(0x1e5),'key':_0x106325(0x1fb),'width':0xa},{'header':_0x106325(0x201),'key':'PBrands','width':0xa},{'header':'Units','key':_0x106325(0x1c3),'width':0xa},{'header':_0x106325(0x1c0),'key':_0x106325(0x248),'width':0xa},{'header':_0x106325(0x258),'key':_0x106325(0x1ee),'width':0xa},{'header':_0x106325(0x222),'key':_0x106325(0x203),'width':0xa},{'header':_0x106325(0x228),'key':_0x106325(0x203),'width':0xa},{'header':_0x106325(0x20c),'key':_0x106325(0x203),'width':0xa},{'header':_0x106325(0x1f5),'key':_0x106325(0x1c6),'width':0xa},{'header':'Alert_QTY','key':_0x106325(0x257),'width':0xa},{'header':_0x106325(0x1bd),'key':_0x106325(0x257),'width':0xa},{'header':_0x106325(0x234),'key':_0x106325(0x23f),'width':0xa}],_0x3b723a[_0x106325(0x21e)](_0x106325(0x210),_0x106325(0x1ab)),_0x3b723a[_0x106325(0x21e)](_0x106325(0x23e),_0x106325(0x1f3)),_0x58cc46['xlsx'][_0x106325(0x212)](_0x3b723a)[_0x106325(0x1dc)](()=>{const _0x18dc0a=_0x106325;_0x3b723a[_0x18dc0a(0x1b5)](0xc8);});}catch(_0x1175bc){_0x3b723a[_0x106325(0x1b5)](0x190)['send'](_0x1175bc);}});const storage1=multer[a0_0x2c2011(0x1d5)]({'destination':(_0x2eed22,_0x3454ea,_0x5aafa2)=>{const _0x36dcd3=a0_0x2c2011;_0x5aafa2(null,_0x36dcd3(0x236));},'filename':(_0x2d2ec7,_0x4e5d47,_0x14ba9e)=>{const _0x1bcf5b=a0_0x2c2011;_0x14ba9e(null,Date[_0x1bcf5b(0x1f7)]()+_0x4e5d47[_0x1bcf5b(0x1c1)]);}}),uploadMigrate=multer({'storage':storage1});router['post'](a0_0x2c2011(0x1ef),auth,uploadMigrate[a0_0x2c2011(0x1e6)](a0_0x2c2011(0x1fe)),async(_0x6f5aec,_0x58e56e)=>{const _0x44c939=a0_0x2c2011,_0x4fe151=_0x6f5aec[_0x44c939(0x1c9)][_0x44c939(0x1da)],_0x30873a=await xlsx[_0x44c939(0x1df)]('public/Migration/'+_0x4fe151);let _0x1fd3c2=_0x30873a['SheetNames'],_0x12fad2=xlsx[_0x44c939(0x249)][_0x44c939(0x1ed)](_0x30873a['Sheets'][_0x1fd3c2[0x0]]);for(const _0x6da77f of _0x12fad2){const _0x50ae1d=_0x6da77f[_0x44c939(0x1e5)],_0x20215c=_0x6da77f[_0x44c939(0x201)],_0x4b560c=_0x6da77f[_0x44c939(0x21f)],_0x47441f=_0x6da77f[_0x44c939(0x1c0)],_0x44e4f1=_0x6da77f[_0x44c939(0x20c)],_0x233722=_0x6da77f['Category'],_0x4be5a6=_0x6da77f['Alert_QTY'],_0x4d7425=_0x6da77f[_0x44c939(0x222)],_0x4e71af=_0x6da77f[_0x44c939(0x228)],_0x2ed127=_0x6da77f[_0x44c939(0x1bd)],_0x4e11f1=_0x6da77f['max_number_per_units'],_0x4228ff=_0x6da77f['Products_category'];try{let _0x389255=await categories['findOne']({'name':_0x233722});if(!_0x389255){const _0x22ee1c=new categories({'name':_0x233722,'products':'0'});_0x389255=await _0x22ee1c[_0x44c939(0x238)]();}let _0x258510=await brands[_0x44c939(0x1f1)]({'name':_0x20215c});if(!_0x258510){const _0x23cfb9=new brands({'name':_0x20215c,'products':'0'});_0x258510=await _0x23cfb9[_0x44c939(0x238)]();}let _0xedb2d2=await units[_0x44c939(0x1f1)]({'name':_0x4b560c,'secondary_unit':_0x47441f});if(!_0xedb2d2){const _0xc8ae58=new units({'name':_0x4b560c,'secondary_unit':_0x47441f,'products':'0'});_0xedb2d2=await _0xc8ae58[_0x44c939(0x238)]();}const _0x19e665=await product[_0x44c939(0x1a2)]({'name':_0x50ae1d,'category':_0x389255[_0x44c939(0x251)],'brand':_0x258510[_0x44c939(0x251)],'secondary_unit':_0xedb2d2[_0x44c939(0x20b)],'product_code':_0x44e4f1});console['log'](_0x19e665['length']+_0x44c939(0x1db)+_0x389255[_0x44c939(0x251)]+_0x44c939(0x1db)+_0x258510[_0x44c939(0x251)]+_0x44c939(0x1db)+_0xedb2d2[_0x44c939(0x20b)]+_0x44c939(0x1db)+_0x44e4f1+_0x44c939(0x1db)+_0x50ae1d);if(_0x19e665['length']===0x0){const _0x419b0a=new product({'image':'defaultProduct.avif','name':_0x50ae1d,'category':_0x389255['name'],'brand':_0x258510['name'],'unit':_0xedb2d2[_0x44c939(0x251)],'alertquantity':_0x4be5a6,'product_code':_0x44e4f1,'secondary_unit':_0xedb2d2['secondary_unit'],'primary_code':_0x4d7425,'secondary_code':_0x4e71af,'maxStocks':_0x2ed127,'maxProdPerUnit':_0x4e11f1,'product_category':_0x4228ff}),_0x13978c=await _0x419b0a['save']();_0x389255[_0x44c939(0x1a1)]=parseInt(_0x389255[_0x44c939(0x1a1)])+0x1,await _0x389255[_0x44c939(0x238)](),_0x258510[_0x44c939(0x1a1)]=parseInt(_0x258510[_0x44c939(0x1a1)])+0x1,await _0x258510[_0x44c939(0x238)](),_0xedb2d2[_0x44c939(0x1a1)]=parseInt(_0xedb2d2[_0x44c939(0x1a1)])+0x1,await _0xedb2d2[_0x44c939(0x238)](),_0x6f5aec['flash'](_0x44c939(0x1a5),_0x50ae1d+_0x44c939(0x227));}else{console[_0x44c939(0x20f)](_0x19e665[0x0]);const _0x1c5f6e=_0x19e665[0x0];_0x1c5f6e[_0x44c939(0x25a)]=_0x389255[_0x44c939(0x251)],_0x1c5f6e[_0x44c939(0x1f0)]=_0x258510[_0x44c939(0x251)],_0x1c5f6e['unit']=_0xedb2d2['name'],_0x1c5f6e[_0x44c939(0x204)]=_0x4be5a6,_0x1c5f6e['product_code']=_0x44e4f1,_0x1c5f6e[_0x44c939(0x20b)]=_0xedb2d2[_0x44c939(0x20b)],_0x1c5f6e[_0x44c939(0x1b8)]=_0x4d7425,_0x1c5f6e[_0x44c939(0x24f)]=_0x4e71af,_0x1c5f6e['maxStocks']=_0x2ed127,_0x1c5f6e[_0x44c939(0x1d6)]=_0x4e11f1,_0x1c5f6e[_0x44c939(0x1d2)]=_0x4228ff;const _0x284836=await _0x1c5f6e[_0x44c939(0x238)]();_0x6f5aec['flash'](_0x44c939(0x1a5),_0x284836[_0x44c939(0x251)]+'\x20Edit\x20Successfully');}}catch(_0x2f2a86){_0x58e56e[_0x44c939(0x1b5)](0x1f4)[_0x44c939(0x1ce)]({'proderror':_0x2f2a86['message'],'aproduct':_0x50ae1d});}}_0x58e56e[_0x44c939(0x20a)](_0x44c939(0x21a));}),router['post']('/select_data',auth,async(_0x32bbec,_0x51553c)=>{const _0x11f9c7=a0_0x2c2011;try{console['log'](_0x32bbec[_0x11f9c7(0x1ec)]);const {data_cateory:_0x468377,datachoose:_0x31adc5}=_0x32bbec[_0x11f9c7(0x1ec)];var _0x4ba812;if(_0x31adc5==_0x11f9c7(0x254))_0x4ba812=await product[_0x11f9c7(0x1d0)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x31adc5==_0x11f9c7(0x202))_0x4ba812=await product[_0x11f9c7(0x1d0)]([{'$match':{'product_category':_0x468377}},{'$group':{'_id':_0x11f9c7(0x206)}}]);else _0x31adc5=='categ'&&(_0x4ba812=await product[_0x11f9c7(0x1d0)]([{'$match':{'product_category':_0x468377}},{'$group':{'_id':_0x11f9c7(0x1d1)}}]));}_0x51553c[_0x11f9c7(0x1ce)](_0x4ba812);}catch(_0x39cc24){_0x51553c['json']({'message':_0x39cc24[_0x11f9c7(0x200)]});}}),router['post'](a0_0x2c2011(0x24c),auth,async(_0x3da93f,_0x2783f4)=>{const _0x2bf6ea=a0_0x2c2011;try{const {data_choosing:_0x4305d7,data_selected:_0x5dfc27}=_0x3da93f['body'];var _0x4a9632;if(_0x4305d7=='prod_categ')_0x4a9632=await product[_0x2bf6ea(0x1d0)]([{'$match':{'product_category':_0x5dfc27}}]);else{if(_0x4305d7==_0x2bf6ea(0x202))_0x4a9632=await product['aggregate']([{'$match':{'brand':_0x5dfc27}}]);else _0x4305d7==_0x2bf6ea(0x1b1)&&(_0x4a9632=await product[_0x2bf6ea(0x1d0)]([{'$match':{'category':_0x5dfc27}}]));}_0x2783f4[_0x2bf6ea(0x1ce)](_0x4a9632);}catch(_0x1438db){_0x2783f4[_0x2bf6ea(0x1ce)]({'message':_0x1438db[_0x2bf6ea(0x200)]});}}),router[a0_0x2c2011(0x1ac)](a0_0x2c2011(0x1b2),auth,async(_0x44fb43,_0x3c0811)=>{const _0x37e972=a0_0x2c2011,_0x237cde=_0x44fb43[_0x37e972(0x1f4)],_0x189cb7=await profile[_0x37e972(0x1f1)]({'email':_0x237cde[_0x37e972(0x22e)]}),_0x3a6ba7=await master_shop[_0x37e972(0x1a2)](),_0x25658d=await product[_0x37e972(0x1a2)]();if(_0x3a6ba7[0x0][_0x37e972(0x24d)]=='English\x20(US)')var _0x233b0f=users[_0x37e972(0x1b4)];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]==_0x37e972(0x22b))var _0x233b0f=users[_0x37e972(0x22b)];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]==_0x37e972(0x1f6))var _0x233b0f=users[_0x37e972(0x1f6)];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]=='Spanish')var _0x233b0f=users[_0x37e972(0x244)];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]=='French')var _0x233b0f=users['French'];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]==_0x37e972(0x209))var _0x233b0f=users['Portuguese'];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]==_0x37e972(0x241))var _0x233b0f=users[_0x37e972(0x241)];else{if(_0x3a6ba7[0x0][_0x37e972(0x24d)]=='Arabic\x20(ae)')var _0x233b0f=users['Arabic'];}}}}}}}_0x3c0811[_0x37e972(0x1d9)](_0x37e972(0x245),{'success':_0x44fb43['flash'](_0x37e972(0x1a5)),'errors':_0x44fb43['flash'](_0x37e972(0x211)),'role':_0x237cde,'profile':_0x189cb7,'products':_0x25658d,'master_shop':_0x3a6ba7,'language':_0x233b0f});}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x1a3),auth,async(_0x5c2267,_0x3c7aa7)=>{const _0x1e9572=a0_0x2c2011,_0x3ff00c=await product['find']();_0x3c7aa7[_0x1e9572(0x1ce)]({'data':_0x3ff00c});}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x1d4),auth,async(_0x538434,_0x15d5d1)=>{const _0x508d9b=a0_0x2c2011;try{const {dataProdCat:_0x9b22fa,dataProdIdentity:_0x2d6548}=_0x538434[_0x508d9b(0x1ec)];var _0x76951d;switch(_0x9b22fa){case'fg':switch(_0x2d6548){case _0x508d9b(0x201):_0x76951d=await product[_0x508d9b(0x1d0)]([{'$match':{'product_category':_0x508d9b(0x205)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x508d9b(0x1ba)}}]);break;case _0x508d9b(0x1f5):_0x76951d=await product[_0x508d9b(0x1d0)]([{'$match':{'product_category':_0x508d9b(0x205)}},{'$group':{'_id':_0x508d9b(0x1d1)}},{'$project':{'category':_0x508d9b(0x1ba)}}]);break;}break;case'rm':switch(_0x2d6548){case _0x508d9b(0x201):_0x76951d=await product[_0x508d9b(0x1d0)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x508d9b(0x206)}},{'$project':{'brand':_0x508d9b(0x1ba)}}]);break;case _0x508d9b(0x1f5):_0x76951d=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x508d9b(0x1d1)}},{'$project':{'category':_0x508d9b(0x1ba)}}]);break;}break;}_0x15d5d1[_0x508d9b(0x1ce)](_0x76951d);}catch(_0xd1a739){_0x15d5d1[_0x508d9b(0x1ce)]({'message':_0xd1a739[_0x508d9b(0x200)]});}}),router['post'](a0_0x2c2011(0x1eb),auth,async(_0x321242,_0x26296f)=>{const _0x3907a0=a0_0x2c2011;try{console[_0x3907a0(0x20f)](_0x321242['body']);const {prod_cat:_0x32edaa,identity:_0x32135,valueData:_0x4628d8,typeofbarcode:_0x40b77d}=_0x321242[_0x3907a0(0x1ec)];let _0xb3ea9c;switch(_0x32edaa){case'fg':if(_0x32135==_0x3907a0(0x201))_0xb3ea9c=await product[_0x3907a0(0x1d0)]([{'$match':{'product_category':_0x3907a0(0x205),'brand':_0x4628d8}}]);else _0x32135==_0x3907a0(0x1f5)&&(_0xb3ea9c=await product[_0x3907a0(0x1d0)]([{'$match':{'product_category':_0x3907a0(0x205),'category':_0x4628d8}}]));break;case'rm':if(_0x32135==_0x3907a0(0x201))_0xb3ea9c=await product[_0x3907a0(0x1d0)]([{'$match':{'product_category':_0x3907a0(0x1e1),'brand':_0x4628d8}}]);else _0x32135==_0x3907a0(0x1f5)&&(_0xb3ea9c=await product['aggregate']([{'$match':{'product_category':_0x3907a0(0x1e1),'category':_0x4628d8}}]));break;}const _0x204901=_0x5b337e=>_0x5b337e*0x48,_0x5e9eb5={'width':0x3,'height':0x1},_0x593f9c=new PDFDocument({'margin':_0x204901(0.75),'size':[_0x204901(_0x5e9eb5[_0x3907a0(0x223)]),_0x204901(_0x5e9eb5['height'])],'bufferPages':!![]}),_0x40eab5=_0xb3ea9c[_0x3907a0(0x215)];for(let _0x3f7be3=0x0;_0x3f7be3<=_0x40eab5;_0x3f7be3++){if(_0x3f7be3!=_0x40eab5){const _0x19169d=_0xb3ea9c[_0x3f7be3]['name'],_0x59afc6=_0xb3ea9c[_0x3f7be3][_0x3907a0(0x1b8)],_0x1b65b0=_0xb3ea9c[_0x3f7be3][_0x3907a0(0x24f)],_0x431127=_0xb3ea9c[_0x3f7be3]['product_code'];var _0x4edc42;switch(_0x40b77d){case'1':_0x4edc42=_0x59afc6;break;case'2':_0x4edc42=_0x1b65b0;break;case'3':_0x4edc42=_0x431127;break;}const _0x128f34={'width':0xd2,'height':0x64},_0x4c513a={'width':_0x204901(_0x5e9eb5[_0x3907a0(0x223)]),'height':_0x204901(_0x5e9eb5[_0x3907a0(0x1a8)])},_0x593bc2=new Canvas();JsBarcode(_0x593bc2,_0x4edc42,{'format':_0x3907a0(0x20d),'height':_0x128f34['height'],'displayValue':!![],'text':_0x4edc42});const _0x351364=_0x593bc2[_0x3907a0(0x213)](),_0x55d106=_0x4c513a[_0x3907a0(0x223)]/_0x128f34['width'],_0x435c75=_0x4c513a['height']/_0x128f34[_0x3907a0(0x1a8)],_0x2a4b60=Math[_0x3907a0(0x1d7)](_0x55d106,_0x435c75),_0x13d247=_0x128f34['width']*_0x2a4b60,_0x52524a=_0x128f34[_0x3907a0(0x1a8)]*_0x2a4b60,_0x6a02d0=(_0x4c513a[_0x3907a0(0x223)]-_0x13d247)/0x2,_0x308892=(_0x4c513a['height']-_0x52524a)/0x2;_0x593f9c[_0x3907a0(0x23d)](_0x351364,_0x6a02d0,_0x308892,{'width':_0x13d247,'height':_0x52524a}),_0x3f7be3!=_0x40eab5&&_0x593f9c[_0x3907a0(0x1f8)]();}}const _0x247167=[];_0x593f9c['on']('data',_0x247167[_0x3907a0(0x221)][_0x3907a0(0x1a7)](_0x247167)),_0x593f9c['on'](_0x3907a0(0x207),()=>{const _0x34de0a=_0x3907a0,_0x28d7ee=Buffer[_0x34de0a(0x1e4)](_0x247167),_0x1910e6=_0x28d7ee[_0x34de0a(0x253)]('base64');_0x26296f[_0x34de0a(0x1ce)]({'pdfContent':_0x1910e6});}),_0x593f9c[_0x3907a0(0x207)]();}catch(_0x3e4d7d){_0x26296f['json']({'message':_0x3e4d7d[_0x3907a0(0x200)]});}}),router['post'](a0_0x2c2011(0x1b7),auth,async(_0x4132b8,_0x30c6a4)=>{const _0x421c47=a0_0x2c2011;try{console[_0x421c47(0x20f)](_0x4132b8[_0x421c47(0x1ec)]);const {prod_cat:_0x165d1b,identity:_0x6274d9,valueData:_0x15770e}=_0x4132b8[_0x421c47(0x1ec)];let _0x245a1d;switch(_0x165d1b){case'fg':if(_0x6274d9==_0x421c47(0x201))_0x245a1d=await product[_0x421c47(0x1d0)]([{'$match':{'product_category':_0x421c47(0x205),'brand':_0x15770e}}]);else _0x6274d9==_0x421c47(0x1f5)&&(_0x245a1d=await product[_0x421c47(0x1d0)]([{'$match':{'product_category':_0x421c47(0x205),'category':_0x15770e}}]));break;case'rm':if(_0x6274d9=='Brands')_0x245a1d=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','brand':_0x15770e}}]);else _0x6274d9==_0x421c47(0x1f5)&&(_0x245a1d=await product[_0x421c47(0x1d0)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x15770e}}]));break;}_0x30c6a4[_0x421c47(0x1ce)]({'data':_0x245a1d});}catch(_0x351f59){_0x30c6a4[_0x421c47(0x1ce)]({'message':_0x351f59[_0x421c47(0x200)]});}}),router[a0_0x2c2011(0x23c)](a0_0x2c2011(0x1f9),auth,async(_0x56c880,_0x138b62)=>{const _0x327681=a0_0x2c2011;try{const _0x5b430d=_0x56c880['params']['id'],{copies:_0x48c2a7,typeofbarcode:_0x51e2ce}=_0x56c880[_0x327681(0x1ec)];var _0x224ac3=await product[_0x327681(0x233)](_0x5b430d);const _0x2cf57a=_0x35a89f=>_0x35a89f*0x48,_0x38e743={'width':0x3,'height':0x1},_0x5e0168=new PDFDocument({'margin':_0x2cf57a(0.75),'size':[_0x2cf57a(_0x38e743['width']),_0x2cf57a(_0x38e743['height'])],'bufferPages':!![]}),_0x17646a=_0x48c2a7,_0x121873=_0x224ac3[_0x327681(0x251)],_0x49b417=_0x224ac3[_0x327681(0x1b8)],_0x40dd21=_0x224ac3[_0x327681(0x24f)],_0x26382e=_0x224ac3[_0x327681(0x1a0)];let _0xa0336a;switch(_0x51e2ce){case'1':_0xa0336a=_0x49b417;break;case'2':_0xa0336a=_0x40dd21;break;case'3':_0xa0336a=_0x26382e;break;}const _0x8f3ac0={'width':0xd2,'height':0x64},_0x14ba40={'width':_0x2cf57a(_0x38e743['width']),'height':_0x2cf57a(_0x38e743['height'])};for(let _0x41b827=0x1;_0x41b827<=_0x17646a;_0x41b827++){const _0x2d7af5=new Canvas();JsBarcode(_0x2d7af5,_0xa0336a,{'format':_0x327681(0x20d),'height':_0x8f3ac0['height'],'displayValue':!![],'text':_0xa0336a});const _0x4227b4=_0x2d7af5[_0x327681(0x213)](),_0x50f249=_0x14ba40[_0x327681(0x223)]/_0x8f3ac0['width'],_0x308cca=_0x14ba40[_0x327681(0x1a8)]/_0x8f3ac0[_0x327681(0x1a8)],_0x358387=Math[_0x327681(0x1d7)](_0x50f249,_0x308cca),_0x45d6a4=_0x8f3ac0[_0x327681(0x223)]*_0x358387,_0x4091a5=_0x8f3ac0['height']*_0x358387,_0x3a0b7b=(_0x14ba40[_0x327681(0x223)]-_0x45d6a4)/0x2,_0x1cd005=(_0x14ba40[_0x327681(0x1a8)]-_0x4091a5)/0x2;_0x5e0168[_0x327681(0x23d)](_0x4227b4,_0x3a0b7b,_0x1cd005,{'width':_0x45d6a4,'height':_0x4091a5}),_0x41b827!=_0x17646a&&_0x5e0168[_0x327681(0x1f8)]();}const _0x257acb=[];_0x5e0168['on'](_0x327681(0x1bc),_0x257acb['push'][_0x327681(0x1a7)](_0x257acb)),_0x5e0168['on'](_0x327681(0x207),()=>{const _0xa78803=_0x327681,_0x500e69=Buffer[_0xa78803(0x1e4)](_0x257acb),_0x37bfa4=_0x500e69[_0xa78803(0x253)]('base64');_0x138b62[_0xa78803(0x1ce)]({'pdfContent':_0x37bfa4});}),_0x5e0168['end']();}catch(_0x3b4add){_0x138b62[_0x327681(0x1ce)]({'message':_0x3b4add[_0x327681(0x200)]});}}),module[a0_0x2c2011(0x1aa)]=router;