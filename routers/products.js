function a0_0x24a4(){const _0x3d658c=['defaultProduct.avif','products','product\x20edit','end','product_barcode','Products\x20find_data','/products_import_migrate_file','/products/units','redirect','Content-Type','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','Products\x20warehouse_data','Maximum_Stocks','_id','4848093coKSEA','originalname','Product_Code','ProductCode','stock','sheet_to_json','single','exports','$product_details','\x20unit\x20is\x20add\x20successfully','width','flash','secondary_unit','readFile','findOne','/barcode/:id','status','MaxperUnits','edit\x20Product\x20master','Brands','findByIdAndUpdate','Primary_Code','Secondary_Code','PUnits','Secondary_Units','/units','maxProdPerUnit','product_code','public/Migration/','CODE128','message','language','2992844IWjfaD','unit\x20data\x20delete\x20successfully','push','PAlQty','Products\x20master','alertquantity','utils','maxStocks','public/upload','Hindi','Category','/brands','master','findByIdAndDelete','bind','min','brand','PBrands','product_category','/categories/:id','addWorksheet','$product_docs','\x20<>\x20','Products_category','product_stock','diskStorage','676208IsMsWc','brand\x20data\x20delete\x20successfully','product\x20update\x20successfully','$brand','/products_export_migrate_file','1220931BnXfvy','product\x20add\x20successfully','setHeader','jsbarcode','category','unit\x20data\x20update\x20successfully','/print_barcode_single/:id','49aGrYKI','categories\x20data\x20delete\x20successfully','image','/view/:id','name','data','Workbook','/print_barcode_filter/','Raw\x20Materials','email','json','errors','toString','Portuguese','filename','brands','length','numeric','type_products','/products/brands','categ','SheetNames','aggregate','product_barcode_products','base64','Portuguese\x20(BR)','save','German','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','\x20Edit\x20Successfully','max_number_per_units','English\x20(US)','render','brand\x20data\x20update\x20successfully','/print_barcode','columns','sales_category','Sheets','toBuffer','barcode\x20user_id','then','/view','Prod_Cat','barcode\x20Product\x20master','/barcode_data','edit_product','product_docs','/filter_product','xlsx','success','exceljs','Spanish','now','user','/categories','get','../models/all_models','categories_edit','Units','file','primary_code','addPage','2790666EcNJGa','express','/products/categories','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/units/:id','body','Arabic','send','PCat','unit','findById','Product_Name','log','5QXeTMT','height','PSecondaryUnits','attachment;\x20filename=Product_Migration_File.xlsx','$product_details.product_name','secondary_code','English','$_id','\x20categories\x20is\x20add\x20successfully','1616312KrhdCR','$product_stock','express/lib/response','pdfkit-table','Arabic\x20(ae)','Alert_QTY','$category','Chinese','product_details.product_name','Finished\x20Goods','find','concat','multer','/view/add_products','write','add_product','units','Router','/products/view','categories','post','4561209CDDemJ','/brands/:id','sku','French','params','prod_categ','\x20added\x20successfully','$secondary_unit'];a0_0x24a4=function(){return _0x3d658c;};return a0_0x24a4();}const a0_0x3995aa=a0_0x42d7;(function(_0x43dce8,_0x31818d){const _0x5a1fc7=a0_0x42d7,_0x19d144=_0x43dce8();while(!![]){try{const _0x35905b=parseInt(_0x5a1fc7(0x1ad))/0x1+-parseInt(_0x5a1fc7(0x18e))/0x2+-parseInt(_0x5a1fc7(0x158))/0x3+parseInt(_0x5a1fc7(0x1a8))/0x4+parseInt(_0x5a1fc7(0x1ff))/0x5*(parseInt(_0x5a1fc7(0x1f2))/0x6)+-parseInt(_0x5a1fc7(0x1b4))/0x7*(-parseInt(_0x5a1fc7(0x208))/0x8)+parseInt(_0x5a1fc7(0x16e))/0x9;if(_0x35905b===_0x31818d)break;else _0x19d144['push'](_0x19d144['shift']());}catch(_0x2a52f0){_0x19d144['push'](_0x19d144['shift']());}}}(a0_0x24a4,0xc12b3));const express=require(a0_0x3995aa(0x1f3)),res=require(a0_0x3995aa(0x20a)),app=express(),router=express[a0_0x3995aa(0x154)](),multer=require(a0_0x3995aa(0x14f)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x3995aa(0x1ec)),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require(a0_0x3995aa(0x1e6)),xlsx=require('xlsx'),JsBarcode=require(a0_0x3995aa(0x1b0)),{Canvas}=require('canvas'),PDFDocument=require(a0_0x3995aa(0x20b));router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x1ea),auth,async(_0x49c169,_0x3a675e)=>{const _0xfe8fcd=a0_0x3995aa;try{const {username:_0x2ecfa5,email:_0x14a792,role:_0x88800}=_0x49c169['user'],_0x31a8c7=_0x49c169[_0xfe8fcd(0x1e9)],_0x4a08ee=await profile[_0xfe8fcd(0x17c)]({'email':_0x31a8c7[_0xfe8fcd(0x1bd)]}),_0xa8acc=await master_shop['find']();console[_0xfe8fcd(0x1fe)](_0xfe8fcd(0x19a),_0xa8acc);const _0x4c58b4=await categories['find']();if(_0xa8acc[0x0][_0xfe8fcd(0x18d)]==_0xfe8fcd(0x1d3))var _0x1e2299=users['English'];else{if(_0xa8acc[0x0][_0xfe8fcd(0x18d)]==_0xfe8fcd(0x197))var _0x1e2299=users[_0xfe8fcd(0x197)];else{if(_0xa8acc[0x0][_0xfe8fcd(0x18d)]==_0xfe8fcd(0x1cf))var _0x1e2299=users[_0xfe8fcd(0x1cf)];else{if(_0xa8acc[0x0][_0xfe8fcd(0x18d)]==_0xfe8fcd(0x1e7))var _0x1e2299=users[_0xfe8fcd(0x1e7)];else{if(_0xa8acc[0x0]['language']==_0xfe8fcd(0x15b))var _0x1e2299=users[_0xfe8fcd(0x15b)];else{if(_0xa8acc[0x0][_0xfe8fcd(0x18d)]==_0xfe8fcd(0x1cd))var _0x1e2299=users[_0xfe8fcd(0x1c1)];else{if(_0xa8acc[0x0][_0xfe8fcd(0x18d)]==_0xfe8fcd(0x20f))var _0x1e2299=users[_0xfe8fcd(0x20f)];else{if(_0xa8acc[0x0]['language']==_0xfe8fcd(0x20c))var _0x1e2299=users[_0xfe8fcd(0x1f8)];}}}}}}}_0x3a675e[_0xfe8fcd(0x1d4)]('categories',{'success':_0x49c169[_0xfe8fcd(0x179)](_0xfe8fcd(0x1e5)),'errors':_0x49c169['flash'](_0xfe8fcd(0x1bf)),'role':_0x31a8c7,'profile':_0x4a08ee,'user':_0x4c58b4,'master_shop':_0xa8acc,'language':_0x1e2299});}catch(_0x506884){console['log'](_0x506884);}}),router['post'](a0_0x3995aa(0x1ea),auth,async(_0x3f266f,_0x201fed)=>{const _0x5491fc=a0_0x3995aa;try{const {name:_0x585615,products:_0x3a58f0}=_0x3f266f[_0x5491fc(0x1f7)],_0x457aa3=new categories({'name':_0x585615,'products':_0x3a58f0}),_0x31408a=await categories[_0x5491fc(0x17c)]({'name':_0x585615});_0x31408a?_0x3f266f[_0x5491fc(0x179)]('errors',_0x585615+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x3f266f[_0x5491fc(0x179)]('success',_0x585615+_0x5491fc(0x207));const _0x5ca25e=await _0x457aa3[_0x5491fc(0x1ce)]();_0x201fed[_0x5491fc(0x168)](_0x5491fc(0x1f4));}catch(_0x52d21d){console[_0x5491fc(0x1fe)](_0x52d21d);}}),router['get'](a0_0x3995aa(0x1a1),auth,async(_0x30a03d,_0x4dda92)=>{const _0x5a90b8=a0_0x3995aa;try{const {username:_0x35334b,email:_0x3473e5,role:_0x3aec23}=_0x30a03d[_0x5a90b8(0x1e9)],_0x4dd2ec=_0x30a03d[_0x5a90b8(0x1e9)],_0x31ca27=await profile[_0x5a90b8(0x17c)]({'email':_0x4dd2ec['email']}),_0x581db1=await master_shop[_0x5a90b8(0x14d)]();console[_0x5a90b8(0x1fe)]('master',_0x581db1);const _0x534b30=_0x30a03d[_0x5a90b8(0x15c)]['id'];console[_0x5a90b8(0x1fe)](_0x534b30);const _0x5f4472=await categories[_0x5a90b8(0x1fc)](_0x534b30);if(_0x581db1[0x0]['language']==_0x5a90b8(0x1d3))var _0x5d7c65=users[_0x5a90b8(0x205)];else{if(_0x581db1[0x0][_0x5a90b8(0x18d)]==_0x5a90b8(0x197))var _0x5d7c65=users[_0x5a90b8(0x197)];else{if(_0x581db1[0x0][_0x5a90b8(0x18d)]==_0x5a90b8(0x1cf))var _0x5d7c65=users[_0x5a90b8(0x1cf)];else{if(_0x581db1[0x0][_0x5a90b8(0x18d)]=='Spanish')var _0x5d7c65=users[_0x5a90b8(0x1e7)];else{if(_0x581db1[0x0][_0x5a90b8(0x18d)]==_0x5a90b8(0x15b))var _0x5d7c65=users['French'];else{if(_0x581db1[0x0][_0x5a90b8(0x18d)]==_0x5a90b8(0x1cd))var _0x5d7c65=users[_0x5a90b8(0x1c1)];else{if(_0x581db1[0x0][_0x5a90b8(0x18d)]==_0x5a90b8(0x20f))var _0x5d7c65=users['Chinese'];else{if(_0x581db1[0x0]['language']==_0x5a90b8(0x20c))var _0x5d7c65=users[_0x5a90b8(0x1f8)];}}}}}}}_0x4dda92['render'](_0x5a90b8(0x156),{'success':_0x30a03d[_0x5a90b8(0x179)]('success'),'errors':_0x30a03d['flash'](_0x5a90b8(0x1bf)),'role':_0x4dd2ec,'profile':_0x31ca27,'master_shop':_0x581db1,'user':_0x5f4472,'language':_0x5d7c65});}catch(_0x11f194){console[_0x5a90b8(0x1fe)](_0x11f194);}}),router[a0_0x3995aa(0x157)](a0_0x3995aa(0x1a1),auth,async(_0x2f8d05,_0x5a557a)=>{const _0x222962=a0_0x3995aa;try{const _0x2ef852=_0x2f8d05[_0x222962(0x15c)]['id'],_0x333f52=await categories[_0x222962(0x182)](_0x2ef852,_0x2f8d05['body']);_0x2f8d05[_0x222962(0x179)](_0x222962(0x1e5),''+users[_0x222962(0x1ed)]),_0x5a557a[_0x222962(0x168)]('/products/categories');}catch(_0x487b0e){console[_0x222962(0x1fe)](_0x487b0e);}}),router[a0_0x3995aa(0x1eb)]('/categories/delete/:id',auth,async(_0xa3219d,_0x5920b9)=>{const _0x3de221=a0_0x3995aa;try{const _0x51f1b9=_0xa3219d[_0x3de221(0x15c)]['id'],_0x3f4c1a=await categories[_0x3de221(0x19b)](_0x51f1b9);_0xa3219d[_0x3de221(0x179)](_0x3de221(0x1e5),_0x3de221(0x1b5)),_0x5920b9['redirect'](_0x3de221(0x1f4));}catch(_0x5df195){console[_0x3de221(0x1fe)](_0x5df195);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x199),auth,async(_0x1cb6cd,_0x4d1921)=>{const _0x535a29=a0_0x3995aa;try{const {username:_0x55fb2a,email:_0x2c3150,role:_0x5b0e98}=_0x1cb6cd['user'],_0x1ca903=_0x1cb6cd[_0x535a29(0x1e9)],_0x49215b=await profile['findOne']({'email':_0x1ca903[_0x535a29(0x1bd)]}),_0x138b44=await master_shop['find']();console[_0x535a29(0x1fe)](_0x535a29(0x19a),_0x138b44);const _0x1a74aa=await brands[_0x535a29(0x14d)]();if(_0x138b44[0x0][_0x535a29(0x18d)]==_0x535a29(0x1d3))var _0x525599=users[_0x535a29(0x205)];else{if(_0x138b44[0x0][_0x535a29(0x18d)]=='Hindi')var _0x525599=users[_0x535a29(0x197)];else{if(_0x138b44[0x0]['language']=='German')var _0x525599=users[_0x535a29(0x1cf)];else{if(_0x138b44[0x0][_0x535a29(0x18d)]=='Spanish')var _0x525599=users[_0x535a29(0x1e7)];else{if(_0x138b44[0x0]['language']==_0x535a29(0x15b))var _0x525599=users['French'];else{if(_0x138b44[0x0]['language']==_0x535a29(0x1cd))var _0x525599=users[_0x535a29(0x1c1)];else{if(_0x138b44[0x0][_0x535a29(0x18d)]==_0x535a29(0x20f))var _0x525599=users[_0x535a29(0x20f)];else{if(_0x138b44[0x0][_0x535a29(0x18d)]==_0x535a29(0x20c))var _0x525599=users[_0x535a29(0x1f8)];}}}}}}}_0x4d1921[_0x535a29(0x1d4)](_0x535a29(0x1c3),{'success':_0x1cb6cd[_0x535a29(0x179)](_0x535a29(0x1e5)),'errors':_0x1cb6cd[_0x535a29(0x179)](_0x535a29(0x1bf)),'role':_0x1ca903,'profile':_0x49215b,'master_shop':_0x138b44,'user':_0x1a74aa,'language':_0x525599});}catch(_0x2c5783){console['log'](_0x2c5783);}}),router[a0_0x3995aa(0x157)](a0_0x3995aa(0x199),auth,async(_0x15711e,_0x400e8d)=>{const _0x15e742=a0_0x3995aa;try{const {name:_0x4cf1b3,products:_0x8bbe96}=_0x15711e[_0x15e742(0x1f7)],_0x11fcdf=new brands({'name':_0x4cf1b3,'products':_0x8bbe96}),_0x3eeac2=await brands[_0x15e742(0x17c)]({'name':_0x4cf1b3});_0x3eeac2?_0x15711e[_0x15e742(0x179)]('errors',_0x4cf1b3+_0x15e742(0x1f5)):_0x15711e[_0x15e742(0x179)](_0x15e742(0x1e5),_0x4cf1b3+'\x20brand\x20is\x20add\x20successfully');const _0x2d8664=await _0x11fcdf['save']();_0x400e8d[_0x15e742(0x168)]('/products/brands');}catch(_0x479793){console[_0x15e742(0x1fe)](_0x479793);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x159),auth,async(_0x31ce5d,_0x58c0d4)=>{const _0x6a3bf=a0_0x3995aa;try{const {username:_0x2c6eae,email:_0x2bd4ba,role:_0x4f1eb6}=_0x31ce5d[_0x6a3bf(0x1e9)],_0x1a34b8=_0x31ce5d[_0x6a3bf(0x1e9)],_0x58b725=await profile[_0x6a3bf(0x17c)]({'email':_0x1a34b8[_0x6a3bf(0x1bd)]}),_0x5996d6=await master_shop['find']();console[_0x6a3bf(0x1fe)](_0x6a3bf(0x19a),_0x5996d6);const _0x3e297b=_0x31ce5d[_0x6a3bf(0x15c)]['id'];console[_0x6a3bf(0x1fe)](_0x3e297b);const _0x2ffb3c=await brands[_0x6a3bf(0x1fc)](_0x3e297b);if(_0x5996d6[0x0]['language']==_0x6a3bf(0x1d3))var _0x442a38=users[_0x6a3bf(0x205)];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]==_0x6a3bf(0x197))var _0x442a38=users['Hindi'];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]=='German')var _0x442a38=users[_0x6a3bf(0x1cf)];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]==_0x6a3bf(0x1e7))var _0x442a38=users[_0x6a3bf(0x1e7)];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]==_0x6a3bf(0x15b))var _0x442a38=users[_0x6a3bf(0x15b)];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]==_0x6a3bf(0x1cd))var _0x442a38=users[_0x6a3bf(0x1c1)];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]=='Chinese')var _0x442a38=users[_0x6a3bf(0x20f)];else{if(_0x5996d6[0x0][_0x6a3bf(0x18d)]==_0x6a3bf(0x20c))var _0x442a38=users['Arabic'];}}}}}}}_0x58c0d4[_0x6a3bf(0x1d4)]('brands',{'success':_0x31ce5d[_0x6a3bf(0x179)](_0x6a3bf(0x1e5)),'errors':_0x31ce5d[_0x6a3bf(0x179)](_0x6a3bf(0x1bf)),'role':_0x1a34b8,'profile':_0x58b725,'master_shop':_0x5996d6,'user':_0x2ffb3c,'language':_0x442a38});}catch(_0x2b3380){console[_0x6a3bf(0x1fe)](_0x2b3380);}}),router[a0_0x3995aa(0x157)](a0_0x3995aa(0x159),auth,async(_0xc448a0,_0x1e32bc)=>{const _0x44d1bc=a0_0x3995aa;try{const _0x588e2d=_0xc448a0[_0x44d1bc(0x15c)]['id'],_0x1366a7=await brands[_0x44d1bc(0x182)](_0x588e2d,_0xc448a0[_0x44d1bc(0x1f7)]);_0xc448a0[_0x44d1bc(0x179)]('success',_0x44d1bc(0x1d5)),_0x1e32bc[_0x44d1bc(0x168)]('/products/brands');}catch(_0x36c4a9){console[_0x44d1bc(0x1fe)](_0x36c4a9);}}),router[a0_0x3995aa(0x1eb)]('/brands/delete/:id',auth,async(_0x4a2272,_0x5d8416)=>{const _0x46bc28=a0_0x3995aa;try{const _0x2bd27f=_0x4a2272[_0x46bc28(0x15c)]['id'],_0x28ad65=await brands['findByIdAndDelete'](_0x2bd27f);_0x4a2272[_0x46bc28(0x179)]('success',_0x46bc28(0x1a9)),_0x5d8416[_0x46bc28(0x168)](_0x46bc28(0x1c7));}catch(_0x325a66){console[_0x46bc28(0x1fe)](_0x325a66);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x187),auth,async(_0x143b66,_0xc2674a)=>{const _0x4ded57=a0_0x3995aa;try{const {username:_0x219a9c,email:_0x8db80d,role:_0xfdc602}=_0x143b66[_0x4ded57(0x1e9)],_0x99939f=_0x143b66['user'],_0x472bd7=await profile[_0x4ded57(0x17c)]({'email':_0x99939f['email']}),_0xf0ee0b=await master_shop[_0x4ded57(0x14d)]();console[_0x4ded57(0x1fe)]('master',_0xf0ee0b);const _0x434445=await units[_0x4ded57(0x14d)]();if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]=='English\x20(US)')var _0x50dc5b=users[_0x4ded57(0x205)];else{if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]==_0x4ded57(0x197))var _0x50dc5b=users[_0x4ded57(0x197)];else{if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]==_0x4ded57(0x1cf))var _0x50dc5b=users['German'];else{if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]=='Spanish')var _0x50dc5b=users[_0x4ded57(0x1e7)];else{if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]==_0x4ded57(0x15b))var _0x50dc5b=users[_0x4ded57(0x15b)];else{if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]==_0x4ded57(0x1cd))var _0x50dc5b=users[_0x4ded57(0x1c1)];else{if(_0xf0ee0b[0x0]['language']==_0x4ded57(0x20f))var _0x50dc5b=users[_0x4ded57(0x20f)];else{if(_0xf0ee0b[0x0][_0x4ded57(0x18d)]==_0x4ded57(0x20c))var _0x50dc5b=users['Arabic'];}}}}}}}_0xc2674a['render']('units',{'success':_0x143b66[_0x4ded57(0x179)](_0x4ded57(0x1e5)),'errors':_0x143b66[_0x4ded57(0x179)]('errors'),'role':_0x99939f,'profile':_0x472bd7,'master_shop':_0xf0ee0b,'user':_0x434445,'language':_0x50dc5b});}catch(_0x448c73){console[_0x4ded57(0x1fe)](_0x448c73);}}),router[a0_0x3995aa(0x157)](a0_0x3995aa(0x187),auth,async(_0x221797,_0x17d680)=>{const _0x5ad6ef=a0_0x3995aa;try{const {name:_0x1f7237,secondary_unit:_0x12959e,products:_0x123035}=_0x221797['body'],_0x29101a=new units({'name':_0x1f7237,'secondary_unit':_0x12959e,'products':_0x123035}),_0x3f3a7d=await units[_0x5ad6ef(0x17c)]({'name':_0x1f7237});_0x3f3a7d?_0x221797['flash']('errors',_0x1f7237+_0x5ad6ef(0x1d0)):_0x221797[_0x5ad6ef(0x179)](_0x5ad6ef(0x1e5),_0x1f7237+_0x5ad6ef(0x177));const _0x33371a=await _0x29101a[_0x5ad6ef(0x1ce)]();_0x17d680['redirect']('/products/units');}catch(_0x5aee7d){console['log'](_0x5aee7d);}}),router['get'](a0_0x3995aa(0x1f6),auth,async(_0x570547,_0x52f390)=>{const _0x5440fc=a0_0x3995aa;try{const {username:_0x2148b2,email:_0x5723de,role:_0x4bcf76}=_0x570547[_0x5440fc(0x1e9)],_0x43ecae=_0x570547[_0x5440fc(0x1e9)],_0x19b01d=await profile[_0x5440fc(0x17c)]({'email':_0x43ecae[_0x5440fc(0x1bd)]}),_0x333dc4=await master_shop[_0x5440fc(0x14d)]();console['log'](_0x5440fc(0x19a),_0x333dc4);const _0x3970f2=_0x570547[_0x5440fc(0x15c)]['id'],_0x2479d0=await units[_0x5440fc(0x1fc)](_0x3970f2);if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x1d3))var _0x3f48dd=users[_0x5440fc(0x205)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x197))var _0x3f48dd=users[_0x5440fc(0x197)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x1cf))var _0x3f48dd=users[_0x5440fc(0x1cf)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]=='Spanish')var _0x3f48dd=users[_0x5440fc(0x1e7)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x15b))var _0x3f48dd=users[_0x5440fc(0x15b)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x1cd))var _0x3f48dd=users[_0x5440fc(0x1c1)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x20f))var _0x3f48dd=users[_0x5440fc(0x20f)];else{if(_0x333dc4[0x0][_0x5440fc(0x18d)]==_0x5440fc(0x20c))var _0x3f48dd=users['Arabic'];}}}}}}}_0x52f390['render'](_0x5440fc(0x153),{'success':_0x570547[_0x5440fc(0x179)](_0x5440fc(0x1e5)),'errors':_0x570547['flash']('errors'),'role':_0x43ecae,'profile':_0x19b01d,'master_shop':_0x333dc4,'user':_0x2479d0,'language':_0x3f48dd});}catch(_0x298162){console[_0x5440fc(0x1fe)](_0x298162);}}),router[a0_0x3995aa(0x157)]('/units/:id',auth,async(_0x5eaee5,_0x36c830)=>{const _0x5d669f=a0_0x3995aa;try{const _0x753ac6=_0x5eaee5[_0x5d669f(0x15c)]['id'],_0x59532e=await units[_0x5d669f(0x182)](_0x753ac6,_0x5eaee5[_0x5d669f(0x1f7)]);_0x5eaee5[_0x5d669f(0x179)](_0x5d669f(0x1e5),_0x5d669f(0x1b2)),_0x36c830[_0x5d669f(0x168)](_0x5d669f(0x167));}catch(_0x4cbadd){console[_0x5d669f(0x1fe)](_0x4cbadd);}}),router[a0_0x3995aa(0x1eb)]('/units/delete/:id',auth,async(_0x5897c0,_0x6dbd4)=>{const _0x50ce0b=a0_0x3995aa;try{const _0x763e2f=_0x5897c0[_0x50ce0b(0x15c)]['id'],_0x3a988a=await units[_0x50ce0b(0x19b)](_0x763e2f);_0x5897c0[_0x50ce0b(0x179)](_0x50ce0b(0x1e5),_0x50ce0b(0x18f)),_0x6dbd4['redirect'](_0x50ce0b(0x167));}catch(_0x5678f6){console[_0x50ce0b(0x1fe)](_0x5678f6);}});function a0_0x42d7(_0x126687,_0x49bdec){const _0x24a433=a0_0x24a4();return a0_0x42d7=function(_0x42d71f,_0x119a58){_0x42d71f=_0x42d71f-0x14c;let _0x49cd20=_0x24a433[_0x42d71f];return _0x49cd20;},a0_0x42d7(_0x126687,_0x49bdec);}const storage=multer[a0_0x3995aa(0x1a7)]({'destination':(_0x100e4c,_0x211f4c,_0x8b76d)=>{const _0x3043bd=a0_0x3995aa;_0x8b76d(null,_0x3043bd(0x196));},'filename':(_0x1bbf36,_0x39ec46,_0x5ccc81)=>{const _0x2141b1=a0_0x3995aa;_0x5ccc81(null,Date[_0x2141b1(0x1e8)]()+_0x39ec46[_0x2141b1(0x16f)]);}}),upload=multer({'storage':storage});router['get'](a0_0x3995aa(0x1dd),auth,async(_0x322787,_0x207f65)=>{const _0x56865d=a0_0x3995aa;try{const {username:_0x393efb,email:_0x138877,role:_0x29e618}=_0x322787[_0x56865d(0x1e9)],_0x427d04=_0x322787[_0x56865d(0x1e9)],_0x3b6fa5=await profile[_0x56865d(0x17c)]({'email':_0x427d04[_0x56865d(0x1bd)]}),_0x341ea7={'year':_0x56865d(0x1c5),'month':'long','day':_0x56865d(0x1c5)},_0x386465=await master_shop[_0x56865d(0x14d)]();console[_0x56865d(0x1fe)](_0x56865d(0x192),_0x386465);const _0x3d822e=await product[_0x56865d(0x14d)]();console[_0x56865d(0x1fe)](_0x56865d(0x165),_0x3d822e);const _0x1161d7=await warehouse[_0x56865d(0x1ca)]([{'$unwind':_0x56865d(0x176)},{'$lookup':{'from':_0x56865d(0x161),'localField':_0x56865d(0x210),'foreignField':_0x56865d(0x1b8),'as':_0x56865d(0x1e2)}},{'$unwind':_0x56865d(0x1a3)},{'$project':{'product_name':_0x56865d(0x203),'product_stock':'$product_details.product_stock'}},{'$group':{'_id':'$product_name','product_stock':{'$sum':_0x56865d(0x209)}}}]);console[_0x56865d(0x1fe)](_0x56865d(0x16b),_0x1161d7),_0x1161d7['forEach'](_0x3e8cbe=>{const _0xb2dadb=_0x3d822e['map'](_0x122968=>{const _0x9b163a=a0_0x42d7;_0x122968[_0x9b163a(0x1b8)]==_0x3e8cbe[_0x9b163a(0x16d)]&&(_0x122968[_0x9b163a(0x172)]=parseInt(_0x122968[_0x9b163a(0x172)])+parseInt(_0x3e8cbe[_0x9b163a(0x1a6)]));});}),console[_0x56865d(0x1fe)](_0x56865d(0x165),_0x3d822e);if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x1d3))var _0x2d4157=users[_0x56865d(0x205)];else{if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x197))var _0x2d4157=users[_0x56865d(0x197)];else{if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x1cf))var _0x2d4157=users[_0x56865d(0x1cf)];else{if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x1e7))var _0x2d4157=users[_0x56865d(0x1e7)];else{if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x15b))var _0x2d4157=users[_0x56865d(0x15b)];else{if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x1cd))var _0x2d4157=users[_0x56865d(0x1c1)];else{if(_0x386465[0x0][_0x56865d(0x18d)]==_0x56865d(0x20f))var _0x2d4157=users[_0x56865d(0x20f)];else{if(_0x386465[0x0][_0x56865d(0x18d)]=='Arabic\x20(ae)')var _0x2d4157=users[_0x56865d(0x1f8)];}}}}}}}_0x207f65['render'](_0x56865d(0x161),{'success':_0x322787['flash']('success'),'errors':_0x322787['flash'](_0x56865d(0x1bf)),'alldata':_0x3d822e,'profile':_0x3b6fa5,'master_shop':_0x386465,'role':_0x427d04,'product_stock':_0x1161d7,'language':_0x2d4157});}catch(_0x30346a){console['log'](_0x30346a);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x150),auth,async(_0x59f1a5,_0x15eaf8)=>{const _0x11ff23=a0_0x3995aa;try{const {username:_0x315aa9,email:_0x3358f2,role:_0x120ecc}=_0x59f1a5['user'],_0xc6e217=_0x59f1a5[_0x11ff23(0x1e9)],_0x501b53=await profile[_0x11ff23(0x17c)]({'email':_0xc6e217['email']}),_0x387cf2=await master_shop[_0x11ff23(0x14d)]();console[_0x11ff23(0x1fe)](_0x11ff23(0x19a),_0x387cf2);const _0x30110a=await categories['find']({}),_0x78fb60=await brands[_0x11ff23(0x14d)]({}),_0x4caa61=await units[_0x11ff23(0x14d)]({}),_0x1f9c6c=await warehouse[_0x11ff23(0x14d)]({'status':'Enabled'});if(_0x387cf2[0x0][_0x11ff23(0x18d)]==_0x11ff23(0x1d3))var _0x5bd381=users[_0x11ff23(0x205)];else{if(_0x387cf2[0x0][_0x11ff23(0x18d)]==_0x11ff23(0x197))var _0x5bd381=users['Hindi'];else{if(_0x387cf2[0x0]['language']==_0x11ff23(0x1cf))var _0x5bd381=users[_0x11ff23(0x1cf)];else{if(_0x387cf2[0x0][_0x11ff23(0x18d)]=='Spanish')var _0x5bd381=users[_0x11ff23(0x1e7)];else{if(_0x387cf2[0x0][_0x11ff23(0x18d)]==_0x11ff23(0x15b))var _0x5bd381=users['French'];else{if(_0x387cf2[0x0][_0x11ff23(0x18d)]==_0x11ff23(0x1cd))var _0x5bd381=users[_0x11ff23(0x1c1)];else{if(_0x387cf2[0x0][_0x11ff23(0x18d)]==_0x11ff23(0x20f))var _0x5bd381=users[_0x11ff23(0x20f)];else{if(_0x387cf2[0x0]['language']=='Arabic\x20(ae)')var _0x5bd381=users[_0x11ff23(0x1f8)];}}}}}}}_0x15eaf8[_0x11ff23(0x1d4)](_0x11ff23(0x152),{'success':_0x59f1a5[_0x11ff23(0x179)](_0x11ff23(0x1e5)),'errors':_0x59f1a5[_0x11ff23(0x179)]('errors'),'role':_0xc6e217,'profile':_0x501b53,'categories':_0x30110a,'brands':_0x78fb60,'master_shop':_0x387cf2,'units':_0x4caa61,'language':_0x5bd381,'find_data':_0x1f9c6c});}catch(_0x3c538c){console['log'](_0x3c538c);}}),router['post']('/view/add_products',auth,upload[a0_0x3995aa(0x174)](a0_0x3995aa(0x1b6)),async(_0x780c19,_0x2cf238)=>{const _0x387a64=a0_0x3995aa;try{const {name:_0x4f81f9,category:_0x3f7721,brand:_0x2e46ce,unit:_0x40766b,alertquantity:_0x1d688e,stock:_0x478f71,product_code:_0x3d129b,warehouse:_0x4d1c4b,primary_ItemCode:_0x27dfbe,second_ItemCode:_0x241272,second_unit:_0x4c7ebd,maxPerUnit:_0x596ea6,MaxPerProduct:_0x409f27,sales_cat:_0x598180,type_prod:_0x590b71}=_0x780c19[_0x387a64(0x1f7)],_0x4476c4=_0x780c19[_0x387a64(0x1ef)]?.[_0x387a64(0x1c2)]||_0x387a64(0x160),_0xcd3611=new product({'image':_0x4476c4,'name':_0x4f81f9,'category':_0x3f7721,'brand':_0x2e46ce,'unit':_0x40766b,'alertquantity':_0x1d688e,'stock':_0x478f71,'product_code':_0x3d129b,'warehouse':_0x4d1c4b,'primary_code':_0x27dfbe,'secondary_code':_0x241272,'second_unit':_0x4c7ebd,'maxStocks':_0x409f27,'maxProdPerUnit':_0x596ea6,'sales_category':_0x598180,'type_products':_0x590b71}),_0x200bde=await _0xcd3611[_0x387a64(0x1ce)](),_0x376bd4=await categories[_0x387a64(0x17c)]({'name':_0x3f7721});_0x376bd4['products']=parseInt(_0x376bd4[_0x387a64(0x161)])+0x1,await _0x376bd4[_0x387a64(0x1ce)]();const _0x150f94=await brands[_0x387a64(0x17c)]({'name':_0x2e46ce});_0x150f94[_0x387a64(0x161)]=parseInt(_0x150f94[_0x387a64(0x161)])+0x1,await _0x150f94['save']();const _0x297801=await units['findOne']({'name':_0x40766b});_0x297801['products']=parseInt(_0x297801[_0x387a64(0x161)])+0x1,await _0x297801[_0x387a64(0x1ce)](),_0x780c19[_0x387a64(0x179)]('success',_0x387a64(0x1ae)),_0x2cf238[_0x387a64(0x168)](_0x387a64(0x155));}catch(_0x2b6116){console[_0x387a64(0x1fe)](_0x2b6116);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x1b7),auth,async(_0x351245,_0x15a188)=>{const _0x2c1587=a0_0x3995aa;try{const {username:_0x4e8d94,email:_0x6a5dc8,role:_0x3a4164}=_0x351245[_0x2c1587(0x1e9)],_0x58a900=_0x351245[_0x2c1587(0x1e9)],_0x5bb98a=await profile[_0x2c1587(0x17c)]({'email':_0x58a900['email']}),_0x166b30=await master_shop['find']();console[_0x2c1587(0x1fe)](_0x2c1587(0x180),_0x166b30);const _0x33414c=_0x351245['params']['id'],_0xfaefd2=await product[_0x2c1587(0x1fc)](_0x33414c),_0x250ebe=await categories['find']({}),_0x491868=await brands['find']({}),_0x29d0f1=await units[_0x2c1587(0x14d)]({}),_0x4986dd=await warehouse[_0x2c1587(0x14d)]({'status':'Enabled'}),_0x1e0409=await units[_0x2c1587(0x1ca)]([{'$group':{'_id':_0x2c1587(0x206),'secondaryunit':{'$first':_0x2c1587(0x15f)}}}]);if(_0x166b30[0x0][_0x2c1587(0x18d)]=='English\x20(US)')var _0x3dd63e=users[_0x2c1587(0x205)];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]==_0x2c1587(0x197))var _0x3dd63e=users['Hindi'];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]==_0x2c1587(0x1cf))var _0x3dd63e=users[_0x2c1587(0x1cf)];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]=='Spanish')var _0x3dd63e=users['Spanish'];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]==_0x2c1587(0x15b))var _0x3dd63e=users[_0x2c1587(0x15b)];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]==_0x2c1587(0x1cd))var _0x3dd63e=users['Portuguese'];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]==_0x2c1587(0x20f))var _0x3dd63e=users['Chinese'];else{if(_0x166b30[0x0][_0x2c1587(0x18d)]==_0x2c1587(0x20c))var _0x3dd63e=users['Arabic'];}}}}}}}_0x15a188['render'](_0x2c1587(0x1e1),{'success':_0x351245[_0x2c1587(0x179)](_0x2c1587(0x1e5)),'errors':_0x351245[_0x2c1587(0x179)]('errors'),'role':_0x58a900,'profile':_0x5bb98a,'alldata':_0xfaefd2,'categories':_0x250ebe,'brands':_0x491868,'master_shop':_0x166b30,'units':_0x29d0f1,'secondunit':_0x1e0409,'find_data':_0x4986dd,'language':_0x3dd63e});}catch(_0x423c41){console[_0x2c1587(0x1fe)](_0x423c41);}}),router['post'](a0_0x3995aa(0x1b7),auth,upload[a0_0x3995aa(0x174)](a0_0x3995aa(0x1b6)),async(_0x1f842a,_0x17eb19)=>{const _0x58e259=a0_0x3995aa;try{const _0xad00a1=_0x1f842a['params']['id'],_0x43ca3e=await product['findById'](_0xad00a1),{image:_0x1b2056,name:_0x1800d9,category:_0x13a2f5,brand:_0x1f5b49,sku:_0x2f789a,unit:_0x4cf695,alertquantity:_0x142ea9,product_code:_0x6d93d6,warehouse:_0x2c7b48,primary_ItemCode:_0x336568,second_ItemCode:_0x5458fb,second_unit:_0x45bc7d,maxPerUnit:_0x2270e5,MaxPerProduct:_0x68cd4c,prod_catdata:_0x45ef3e,type_prod:_0x3a4117,sales_cat:_0x504606}=_0x1f842a['body'];_0x1f842a[_0x58e259(0x1ef)]&&(_0x43ca3e['image']=_0x1f842a[_0x58e259(0x1ef)][_0x58e259(0x1c2)]);_0x43ca3e[_0x58e259(0x1b8)]=_0x1800d9,_0x43ca3e[_0x58e259(0x1b1)]=_0x13a2f5,_0x43ca3e[_0x58e259(0x19e)]=_0x1f5b49,_0x43ca3e[_0x58e259(0x15a)]=_0x2f789a,_0x43ca3e['unit']=_0x4cf695,_0x43ca3e[_0x58e259(0x193)]=_0x142ea9,_0x43ca3e['product_code']=_0x6d93d6,_0x43ca3e['warehouse']=_0x2c7b48,_0x43ca3e[_0x58e259(0x1f0)]=_0x336568,_0x43ca3e[_0x58e259(0x204)]=_0x5458fb,_0x43ca3e['secondary_unit']=_0x45bc7d,_0x43ca3e[_0x58e259(0x195)]=_0x68cd4c,_0x43ca3e[_0x58e259(0x188)]=_0x2270e5,_0x43ca3e[_0x58e259(0x1a0)]=_0x45ef3e,_0x43ca3e[_0x58e259(0x1c6)]=_0x3a4117,_0x43ca3e[_0x58e259(0x1d8)]=_0x504606;const _0x203e2b=await _0x43ca3e[_0x58e259(0x1ce)]();console[_0x58e259(0x1fe)](_0x58e259(0x162),_0x43ca3e),_0x1f842a['flash']('success',_0x58e259(0x1aa)),_0x17eb19[_0x58e259(0x168)](_0x58e259(0x155));}catch(_0xa6cb06){console[_0x58e259(0x1fe)](_0xa6cb06);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x17d),auth,async(_0x4f6ee1,_0x427a52)=>{const _0x51b178=a0_0x3995aa;try{const {username:_0x390d7c,email:_0x424a12,role:_0x3903d6}=_0x4f6ee1['user'],_0x2d4ca1=_0x4f6ee1[_0x51b178(0x1e9)],_0x36e575=await profile['findOne']({'email':_0x2d4ca1[_0x51b178(0x1bd)]}),_0x5859b0=await master_shop[_0x51b178(0x14d)]();console[_0x51b178(0x1fe)](_0x51b178(0x1df),_0x5859b0);const _0x3dbef7=_0x4f6ee1[_0x51b178(0x15c)]['id'],_0x29a947=await product[_0x51b178(0x1fc)](_0x3dbef7);console[_0x51b178(0x1fe)](_0x51b178(0x1db),_0x29a947);if(_0x5859b0[0x0][_0x51b178(0x18d)]==_0x51b178(0x1d3))var _0x3f4097=users['English'];else{if(_0x5859b0[0x0][_0x51b178(0x18d)]==_0x51b178(0x197))var _0x3f4097=users[_0x51b178(0x197)];else{if(_0x5859b0[0x0][_0x51b178(0x18d)]==_0x51b178(0x1cf))var _0x3f4097=users[_0x51b178(0x1cf)];else{if(_0x5859b0[0x0][_0x51b178(0x18d)]==_0x51b178(0x1e7))var _0x3f4097=users[_0x51b178(0x1e7)];else{if(_0x5859b0[0x0]['language']==_0x51b178(0x15b))var _0x3f4097=users[_0x51b178(0x15b)];else{if(_0x5859b0[0x0][_0x51b178(0x18d)]==_0x51b178(0x1cd))var _0x3f4097=users['Portuguese'];else{if(_0x5859b0[0x0][_0x51b178(0x18d)]=='Chinese')var _0x3f4097=users[_0x51b178(0x20f)];else{if(_0x5859b0[0x0][_0x51b178(0x18d)]==_0x51b178(0x20c))var _0x3f4097=users['Arabic'];}}}}}}}_0x427a52['render'](_0x51b178(0x164),{'success':_0x4f6ee1[_0x51b178(0x179)]('success'),'errors':_0x4f6ee1['flash']('errors'),'role':_0x2d4ca1,'profile':_0x36e575,'alldata':_0x29a947,'master_shop':_0x5859b0,'language':_0x3f4097});}catch(_0x190c1f){console[_0x51b178(0x1fe)](_0x190c1f);}}),router[a0_0x3995aa(0x1eb)](a0_0x3995aa(0x1ac),auth,async(_0x56bb95,_0x199d4f)=>{const _0x1c01e2=a0_0x3995aa;try{const _0x126737=new excelJS[(_0x1c01e2(0x1ba))](),_0x2f3e1f=_0x126737[_0x1c01e2(0x1a2)]('Products');return _0x2f3e1f[_0x1c01e2(0x1d7)]=[{'header':'Product_Name','key':'PName','width':0xa},{'header':'Brands','key':_0x1c01e2(0x19f),'width':0xa},{'header':_0x1c01e2(0x1ee),'key':_0x1c01e2(0x185),'width':0xa},{'header':_0x1c01e2(0x186),'key':_0x1c01e2(0x201),'width':0xa},{'header':_0x1c01e2(0x1d2),'key':_0x1c01e2(0x17f),'width':0xa},{'header':_0x1c01e2(0x183),'key':_0x1c01e2(0x171),'width':0xa},{'header':_0x1c01e2(0x184),'key':_0x1c01e2(0x171),'width':0xa},{'header':'Product_Code','key':_0x1c01e2(0x171),'width':0xa},{'header':_0x1c01e2(0x198),'key':_0x1c01e2(0x1fa),'width':0xa},{'header':_0x1c01e2(0x20d),'key':_0x1c01e2(0x191),'width':0xa},{'header':_0x1c01e2(0x16c),'key':'PAlQty','width':0xa},{'header':_0x1c01e2(0x1a5),'key':_0x1c01e2(0x1de),'width':0xa}],_0x199d4f[_0x1c01e2(0x1af)](_0x1c01e2(0x169),_0x1c01e2(0x16a)),_0x199d4f[_0x1c01e2(0x1af)]('Content-Disposition',_0x1c01e2(0x202)),_0x126737[_0x1c01e2(0x1e4)][_0x1c01e2(0x151)](_0x199d4f)[_0x1c01e2(0x1dc)](()=>{_0x199d4f['status'](0xc8);});}catch(_0x1983de){_0x199d4f[_0x1c01e2(0x17e)](0x190)[_0x1c01e2(0x1f9)](_0x1983de);}});const storage1=multer[a0_0x3995aa(0x1a7)]({'destination':(_0x404e28,_0x1fa8f1,_0x12fb9b)=>{_0x12fb9b(null,'public/Migration');},'filename':(_0x44cd6d,_0x5a1d06,_0x5aef7d)=>{const _0x103cce=a0_0x3995aa;_0x5aef7d(null,Date['now']()+_0x5a1d06[_0x103cce(0x16f)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x3995aa(0x157)](a0_0x3995aa(0x166),auth,uploadMigrate[a0_0x3995aa(0x174)]('migrate_product_fule'),async(_0x5a3972,_0x58e431)=>{const _0x3c0d8c=a0_0x3995aa,_0x31d3e3=_0x5a3972['file']['filename'],_0x161592=await xlsx[_0x3c0d8c(0x17b)](_0x3c0d8c(0x18a)+_0x31d3e3);let _0x1535f7=_0x161592[_0x3c0d8c(0x1c9)],_0xd6042c=xlsx[_0x3c0d8c(0x194)][_0x3c0d8c(0x173)](_0x161592[_0x3c0d8c(0x1d9)][_0x1535f7[0x0]]);for(const _0x28ac05 of _0xd6042c){const _0x46b1b2=_0x28ac05[_0x3c0d8c(0x1fd)],_0x2a43ee=_0x28ac05[_0x3c0d8c(0x181)],_0x450017=_0x28ac05[_0x3c0d8c(0x1ee)],_0x200be1=_0x28ac05[_0x3c0d8c(0x186)],_0x379a68=_0x28ac05[_0x3c0d8c(0x170)],_0x3e75fa=_0x28ac05[_0x3c0d8c(0x198)],_0x2a5308=_0x28ac05[_0x3c0d8c(0x20d)],_0x1d59ef=_0x28ac05[_0x3c0d8c(0x183)],_0x235026=_0x28ac05['Secondary_Code'],_0x3b4c0e=_0x28ac05['Maximum_Stocks'],_0x1fe7a5=_0x28ac05[_0x3c0d8c(0x1d2)],_0x5cc554=_0x28ac05['Products_category'];try{let _0xc26912=await categories['findOne']({'name':_0x3e75fa});if(!_0xc26912){const _0xf48d80=new categories({'name':_0x3e75fa,'products':'0'});_0xc26912=await _0xf48d80[_0x3c0d8c(0x1ce)]();}let _0x35f105=await brands[_0x3c0d8c(0x17c)]({'name':_0x2a43ee});if(!_0x35f105){const _0x49d021=new brands({'name':_0x2a43ee,'products':'0'});_0x35f105=await _0x49d021['save']();}let _0x980a12=await units[_0x3c0d8c(0x17c)]({'name':_0x450017,'secondary_unit':_0x200be1});if(!_0x980a12){const _0x2c172f=new units({'name':_0x450017,'secondary_unit':_0x200be1,'products':'0'});_0x980a12=await _0x2c172f[_0x3c0d8c(0x1ce)]();}const _0x5e42af=await product[_0x3c0d8c(0x14d)]({'name':_0x46b1b2,'category':_0xc26912[_0x3c0d8c(0x1b8)],'brand':_0x35f105[_0x3c0d8c(0x1b8)],'secondary_unit':_0x980a12[_0x3c0d8c(0x17a)],'product_code':_0x379a68});console['log'](_0x5e42af[_0x3c0d8c(0x1c4)]+'\x20<>\x20'+_0xc26912[_0x3c0d8c(0x1b8)]+_0x3c0d8c(0x1a4)+_0x35f105[_0x3c0d8c(0x1b8)]+_0x3c0d8c(0x1a4)+_0x980a12[_0x3c0d8c(0x17a)]+'\x20<>\x20'+_0x379a68+'\x20<>\x20'+_0x46b1b2);if(_0x5e42af[_0x3c0d8c(0x1c4)]===0x0){const _0x1f8468=new product({'image':_0x3c0d8c(0x160),'name':_0x46b1b2,'category':_0xc26912[_0x3c0d8c(0x1b8)],'brand':_0x35f105['name'],'unit':_0x980a12[_0x3c0d8c(0x1b8)],'alertquantity':_0x2a5308,'product_code':_0x379a68,'secondary_unit':_0x980a12['secondary_unit'],'primary_code':_0x1d59ef,'secondary_code':_0x235026,'maxStocks':_0x3b4c0e,'maxProdPerUnit':_0x1fe7a5,'product_category':_0x5cc554}),_0x74797=await _0x1f8468['save']();_0xc26912[_0x3c0d8c(0x161)]=parseInt(_0xc26912['products'])+0x1,await _0xc26912[_0x3c0d8c(0x1ce)](),_0x35f105[_0x3c0d8c(0x161)]=parseInt(_0x35f105[_0x3c0d8c(0x161)])+0x1,await _0x35f105[_0x3c0d8c(0x1ce)](),_0x980a12[_0x3c0d8c(0x161)]=parseInt(_0x980a12[_0x3c0d8c(0x161)])+0x1,await _0x980a12[_0x3c0d8c(0x1ce)](),_0x5a3972['flash']('success',_0x46b1b2+_0x3c0d8c(0x15e));}else{console[_0x3c0d8c(0x1fe)](_0x5e42af[0x0]);const _0x1c407b=_0x5e42af[0x0];_0x1c407b[_0x3c0d8c(0x1b1)]=_0xc26912[_0x3c0d8c(0x1b8)],_0x1c407b['brand']=_0x35f105[_0x3c0d8c(0x1b8)],_0x1c407b[_0x3c0d8c(0x1fb)]=_0x980a12[_0x3c0d8c(0x1b8)],_0x1c407b[_0x3c0d8c(0x193)]=_0x2a5308,_0x1c407b[_0x3c0d8c(0x189)]=_0x379a68,_0x1c407b['secondary_unit']=_0x980a12['secondary_unit'],_0x1c407b[_0x3c0d8c(0x1f0)]=_0x1d59ef,_0x1c407b[_0x3c0d8c(0x204)]=_0x235026,_0x1c407b[_0x3c0d8c(0x195)]=_0x3b4c0e,_0x1c407b['maxProdPerUnit']=_0x1fe7a5,_0x1c407b['product_category']=_0x5cc554;const _0x3bfeb8=await _0x1c407b[_0x3c0d8c(0x1ce)]();_0x5a3972['flash'](_0x3c0d8c(0x1e5),_0x3bfeb8[_0x3c0d8c(0x1b8)]+_0x3c0d8c(0x1d1));}}catch(_0x501585){_0x58e431['status'](0x1f4)['json']({'proderror':_0x501585[_0x3c0d8c(0x18c)],'aproduct':_0x46b1b2});}}_0x58e431[_0x3c0d8c(0x168)](_0x3c0d8c(0x155));}),router['post']('/select_data',auth,async(_0x46b2c5,_0x556d1f)=>{const _0x521ecd=a0_0x3995aa;try{console[_0x521ecd(0x1fe)](_0x46b2c5[_0x521ecd(0x1f7)]);const {data_cateory:_0x20dd4f,datachoose:_0x28bdd7}=_0x46b2c5[_0x521ecd(0x1f7)];var _0x4d2401;if(_0x28bdd7==_0x521ecd(0x15d))_0x4d2401=await product[_0x521ecd(0x1ca)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x28bdd7==_0x521ecd(0x1c3))_0x4d2401=await product[_0x521ecd(0x1ca)]([{'$match':{'product_category':_0x20dd4f}},{'$group':{'_id':_0x521ecd(0x1ab)}}]);else _0x28bdd7=='categ'&&(_0x4d2401=await product['aggregate']([{'$match':{'product_category':_0x20dd4f}},{'$group':{'_id':'$category'}}]));}_0x556d1f[_0x521ecd(0x1be)](_0x4d2401);}catch(_0x301807){_0x556d1f[_0x521ecd(0x1be)]({'message':_0x301807[_0x521ecd(0x18c)]});}}),router['post'](a0_0x3995aa(0x1e3),auth,async(_0x1bcb6d,_0x4ba0a3)=>{const _0x3daeb2=a0_0x3995aa;try{const {data_choosing:_0x32268b,data_selected:_0x34a50a}=_0x1bcb6d[_0x3daeb2(0x1f7)];var _0x2a5459;if(_0x32268b==_0x3daeb2(0x15d))_0x2a5459=await product[_0x3daeb2(0x1ca)]([{'$match':{'product_category':_0x34a50a}}]);else{if(_0x32268b==_0x3daeb2(0x1c3))_0x2a5459=await product['aggregate']([{'$match':{'brand':_0x34a50a}}]);else _0x32268b==_0x3daeb2(0x1c8)&&(_0x2a5459=await product[_0x3daeb2(0x1ca)]([{'$match':{'category':_0x34a50a}}]));}_0x4ba0a3[_0x3daeb2(0x1be)](_0x2a5459);}catch(_0x52ed6e){_0x4ba0a3[_0x3daeb2(0x1be)]({'message':_0x52ed6e[_0x3daeb2(0x18c)]});}}),router['get'](a0_0x3995aa(0x1d6),auth,async(_0xdd469c,_0x477cda)=>{const _0x38ec1d=a0_0x3995aa,_0x3728f3=_0xdd469c['user'],_0x3ab8d4=await profile[_0x38ec1d(0x17c)]({'email':_0x3728f3[_0x38ec1d(0x1bd)]}),_0x4315ff=await master_shop['find'](),_0x2b0edc=await product[_0x38ec1d(0x14d)]();if(_0x4315ff[0x0][_0x38ec1d(0x18d)]==_0x38ec1d(0x1d3))var _0xa977bc=users['English'];else{if(_0x4315ff[0x0][_0x38ec1d(0x18d)]==_0x38ec1d(0x197))var _0xa977bc=users[_0x38ec1d(0x197)];else{if(_0x4315ff[0x0][_0x38ec1d(0x18d)]==_0x38ec1d(0x1cf))var _0xa977bc=users['German'];else{if(_0x4315ff[0x0][_0x38ec1d(0x18d)]==_0x38ec1d(0x1e7))var _0xa977bc=users['Spanish'];else{if(_0x4315ff[0x0][_0x38ec1d(0x18d)]=='French')var _0xa977bc=users[_0x38ec1d(0x15b)];else{if(_0x4315ff[0x0]['language']==_0x38ec1d(0x1cd))var _0xa977bc=users[_0x38ec1d(0x1c1)];else{if(_0x4315ff[0x0][_0x38ec1d(0x18d)]=='Chinese')var _0xa977bc=users[_0x38ec1d(0x20f)];else{if(_0x4315ff[0x0][_0x38ec1d(0x18d)]=='Arabic\x20(ae)')var _0xa977bc=users[_0x38ec1d(0x1f8)];}}}}}}}_0x477cda[_0x38ec1d(0x1d4)](_0x38ec1d(0x1cb),{'success':_0xdd469c[_0x38ec1d(0x179)](_0x38ec1d(0x1e5)),'errors':_0xdd469c[_0x38ec1d(0x179)](_0x38ec1d(0x1bf)),'role':_0x3728f3,'profile':_0x3ab8d4,'products':_0x2b0edc,'master_shop':_0x4315ff,'language':_0xa977bc});}),router['post'](a0_0x3995aa(0x1e0),auth,async(_0x32cd72,_0x18a98a)=>{const _0x3978e1=a0_0x3995aa,_0x358c39=await product[_0x3978e1(0x14d)]();_0x18a98a['json']({'data':_0x358c39});}),router[a0_0x3995aa(0x157)]('/barcode_filter',auth,async(_0xce1c39,_0x5c85f7)=>{const _0x4b3953=a0_0x3995aa;try{const {dataProdCat:_0x10c42d,dataProdIdentity:_0x57b931}=_0xce1c39[_0x4b3953(0x1f7)];var _0x1e786d;switch(_0x10c42d){case'fg':switch(_0x57b931){case _0x4b3953(0x181):_0x1e786d=await product['aggregate']([{'$match':{'product_category':_0x4b3953(0x14c)}},{'$group':{'_id':_0x4b3953(0x1ab)}},{'$project':{'brand':_0x4b3953(0x206)}}]);break;case'Category':_0x1e786d=await product['aggregate']([{'$match':{'product_category':_0x4b3953(0x14c)}},{'$group':{'_id':_0x4b3953(0x20e)}},{'$project':{'category':'$_id'}}]);break;}break;case'rm':switch(_0x57b931){case _0x4b3953(0x181):_0x1e786d=await product['aggregate']([{'$match':{'product_category':_0x4b3953(0x1bc)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x4b3953(0x206)}}]);break;case'Category':_0x1e786d=await product[_0x4b3953(0x1ca)]([{'$match':{'product_category':_0x4b3953(0x1bc)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x4b3953(0x206)}}]);break;}break;}_0x5c85f7['json'](_0x1e786d);}catch(_0x3dcaf9){_0x5c85f7['json']({'message':_0x3dcaf9[_0x4b3953(0x18c)]});}}),router[a0_0x3995aa(0x157)](a0_0x3995aa(0x1bb),auth,async(_0x4fda0d,_0x36e990)=>{const _0x3d23d1=a0_0x3995aa;try{console[_0x3d23d1(0x1fe)](_0x4fda0d[_0x3d23d1(0x1f7)]);const {prod_cat:_0x2e0eec,identity:_0x4a73f4,valueData:_0x19383d,typeofbarcode:_0x30b376}=_0x4fda0d[_0x3d23d1(0x1f7)];let _0x113737;switch(_0x2e0eec){case'fg':if(_0x4a73f4=='Brands')_0x113737=await product[_0x3d23d1(0x1ca)]([{'$match':{'product_category':_0x3d23d1(0x14c),'brand':_0x19383d}}]);else _0x4a73f4==_0x3d23d1(0x198)&&(_0x113737=await product['aggregate']([{'$match':{'product_category':_0x3d23d1(0x14c),'category':_0x19383d}}]));break;case'rm':if(_0x4a73f4=='Brands')_0x113737=await product['aggregate']([{'$match':{'product_category':_0x3d23d1(0x1bc),'brand':_0x19383d}}]);else _0x4a73f4==_0x3d23d1(0x198)&&(_0x113737=await product['aggregate']([{'$match':{'product_category':_0x3d23d1(0x1bc),'category':_0x19383d}}]));break;}const _0x1a3633=_0x19e3f2=>_0x19e3f2*0x48,_0x34eec7={'width':0x3,'height':0x1},_0xfe5ecc=new PDFDocument({'margin':_0x1a3633(0.75),'size':[_0x1a3633(_0x34eec7['width']),_0x1a3633(_0x34eec7[_0x3d23d1(0x200)])],'bufferPages':!![]}),_0x4f0625=_0x113737[_0x3d23d1(0x1c4)];for(let _0x28081f=0x0;_0x28081f<=_0x4f0625;_0x28081f++){if(_0x28081f!=_0x4f0625){const _0x5970bd=_0x113737[_0x28081f][_0x3d23d1(0x1b8)],_0x57f7b3=_0x113737[_0x28081f][_0x3d23d1(0x1f0)],_0x43d6c5=_0x113737[_0x28081f][_0x3d23d1(0x204)],_0x17e55d=_0x113737[_0x28081f]['product_code'];var _0x4c6b81;switch(_0x30b376){case'1':_0x4c6b81=_0x57f7b3;break;case'2':_0x4c6b81=_0x43d6c5;break;case'3':_0x4c6b81=_0x17e55d;break;}const _0xb1eec4={'width':0xd2,'height':0x64},_0x41791e={'width':_0x1a3633(_0x34eec7[_0x3d23d1(0x178)]),'height':_0x1a3633(_0x34eec7[_0x3d23d1(0x200)])},_0x44506a=new Canvas();JsBarcode(_0x44506a,_0x4c6b81,{'format':'CODE128','height':_0xb1eec4[_0x3d23d1(0x200)],'displayValue':!![],'text':_0x4c6b81});const _0x4d90d6=_0x44506a[_0x3d23d1(0x1da)](),_0x543ebc=_0x41791e['width']/_0xb1eec4[_0x3d23d1(0x178)],_0x126870=_0x41791e[_0x3d23d1(0x200)]/_0xb1eec4[_0x3d23d1(0x200)],_0x571d94=Math[_0x3d23d1(0x19d)](_0x543ebc,_0x126870),_0x453bc0=_0xb1eec4[_0x3d23d1(0x178)]*_0x571d94,_0x3f510c=_0xb1eec4[_0x3d23d1(0x200)]*_0x571d94,_0x52952f=(_0x41791e['width']-_0x453bc0)/0x2,_0x328e9b=(_0x41791e['height']-_0x3f510c)/0x2;_0xfe5ecc[_0x3d23d1(0x1b6)](_0x4d90d6,_0x52952f,_0x328e9b,{'width':_0x453bc0,'height':_0x3f510c}),_0x28081f!=_0x4f0625&&_0xfe5ecc[_0x3d23d1(0x1f1)]();}}const _0x397b3d=[];_0xfe5ecc['on']('data',_0x397b3d[_0x3d23d1(0x190)][_0x3d23d1(0x19c)](_0x397b3d)),_0xfe5ecc['on'](_0x3d23d1(0x163),()=>{const _0x191fc0=_0x3d23d1,_0x2c64db=Buffer[_0x191fc0(0x14e)](_0x397b3d),_0x4ee32e=_0x2c64db[_0x191fc0(0x1c0)](_0x191fc0(0x1cc));_0x36e990[_0x191fc0(0x1be)]({'pdfContent':_0x4ee32e});}),_0xfe5ecc[_0x3d23d1(0x163)]();}catch(_0x1abdc4){_0x36e990[_0x3d23d1(0x1be)]({'message':_0x1abdc4[_0x3d23d1(0x18c)]});}}),router[a0_0x3995aa(0x157)]('/print_barcode_filter_search/',auth,async(_0xf8fbd,_0x22f8d8)=>{const _0x4d5475=a0_0x3995aa;try{console['log'](_0xf8fbd[_0x4d5475(0x1f7)]);const {prod_cat:_0x43a056,identity:_0x4c9f62,valueData:_0x583c02}=_0xf8fbd['body'];let _0x6268a8;switch(_0x43a056){case'fg':if(_0x4c9f62==_0x4d5475(0x181))_0x6268a8=await product[_0x4d5475(0x1ca)]([{'$match':{'product_category':_0x4d5475(0x14c),'brand':_0x583c02}}]);else _0x4c9f62==_0x4d5475(0x198)&&(_0x6268a8=await product['aggregate']([{'$match':{'product_category':_0x4d5475(0x14c),'category':_0x583c02}}]));break;case'rm':if(_0x4c9f62==_0x4d5475(0x181))_0x6268a8=await product['aggregate']([{'$match':{'product_category':_0x4d5475(0x1bc),'brand':_0x583c02}}]);else _0x4c9f62==_0x4d5475(0x198)&&(_0x6268a8=await product[_0x4d5475(0x1ca)]([{'$match':{'product_category':_0x4d5475(0x1bc),'category':_0x583c02}}]));break;}_0x22f8d8['json']({'data':_0x6268a8});}catch(_0x2e9d6d){_0x22f8d8[_0x4d5475(0x1be)]({'message':_0x2e9d6d[_0x4d5475(0x18c)]});}}),router[a0_0x3995aa(0x157)](a0_0x3995aa(0x1b3),auth,async(_0x1787a4,_0x20054b)=>{const _0x3a43e2=a0_0x3995aa;try{const _0x21a5a5=_0x1787a4[_0x3a43e2(0x15c)]['id'],{copies:_0x28ba04,typeofbarcode:_0x4d0a09}=_0x1787a4[_0x3a43e2(0x1f7)];var _0x4a9267=await product[_0x3a43e2(0x1fc)](_0x21a5a5);const _0x5aa754=_0x1382b7=>_0x1382b7*0x48,_0x3e63bd={'width':0x3,'height':0x1},_0x48094d=new PDFDocument({'margin':_0x5aa754(0.75),'size':[_0x5aa754(_0x3e63bd[_0x3a43e2(0x178)]),_0x5aa754(_0x3e63bd['height'])],'bufferPages':!![]}),_0x14edc1=_0x28ba04,_0x2eb05b=_0x4a9267[_0x3a43e2(0x1b8)],_0x2909b1=_0x4a9267[_0x3a43e2(0x1f0)],_0x2eec80=_0x4a9267[_0x3a43e2(0x204)],_0x5e59b8=_0x4a9267[_0x3a43e2(0x189)];let _0x1077bb;switch(_0x4d0a09){case'1':_0x1077bb=_0x2909b1;break;case'2':_0x1077bb=_0x2eec80;break;case'3':_0x1077bb=_0x5e59b8;break;}const _0x5805ec={'width':0xd2,'height':0x64},_0x51757f={'width':_0x5aa754(_0x3e63bd['width']),'height':_0x5aa754(_0x3e63bd[_0x3a43e2(0x200)])};for(let _0xc0c1d1=0x1;_0xc0c1d1<=_0x14edc1;_0xc0c1d1++){const _0x2ce1a0=new Canvas();JsBarcode(_0x2ce1a0,_0x1077bb,{'format':_0x3a43e2(0x18b),'height':_0x5805ec['height'],'displayValue':!![],'text':_0x1077bb});const _0x481b67=_0x2ce1a0['toBuffer'](),_0x2fd4f1=_0x51757f[_0x3a43e2(0x178)]/_0x5805ec['width'],_0x18f682=_0x51757f[_0x3a43e2(0x200)]/_0x5805ec[_0x3a43e2(0x200)],_0x465dcc=Math[_0x3a43e2(0x19d)](_0x2fd4f1,_0x18f682),_0x118627=_0x5805ec[_0x3a43e2(0x178)]*_0x465dcc,_0x98dfce=_0x5805ec[_0x3a43e2(0x200)]*_0x465dcc,_0x2197f5=(_0x51757f[_0x3a43e2(0x178)]-_0x118627)/0x2,_0x42c078=(_0x51757f[_0x3a43e2(0x200)]-_0x98dfce)/0x2;_0x48094d[_0x3a43e2(0x1b6)](_0x481b67,_0x2197f5,_0x42c078,{'width':_0x118627,'height':_0x98dfce}),_0xc0c1d1!=_0x14edc1&&_0x48094d[_0x3a43e2(0x1f1)]();}const _0x5de8c1=[];_0x48094d['on'](_0x3a43e2(0x1b9),_0x5de8c1[_0x3a43e2(0x190)][_0x3a43e2(0x19c)](_0x5de8c1)),_0x48094d['on'](_0x3a43e2(0x163),()=>{const _0x4d43a0=_0x3a43e2,_0x24cb24=Buffer[_0x4d43a0(0x14e)](_0x5de8c1),_0x32fed5=_0x24cb24['toString'](_0x4d43a0(0x1cc));_0x20054b[_0x4d43a0(0x1be)]({'pdfContent':_0x32fed5});}),_0x48094d['end']();}catch(_0x4d1c8c){_0x20054b['json']({'message':_0x4d1c8c[_0x3a43e2(0x18c)]});}}),module[a0_0x3995aa(0x175)]=router;