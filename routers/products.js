const a0_0x3ba257=a0_0x5ecb;(function(_0x1583b0,_0x488571){const _0x36bfbf=a0_0x5ecb,_0xc03125=_0x1583b0();while(!![]){try{const _0x163118=parseInt(_0x36bfbf(0x11f))/0x1+-parseInt(_0x36bfbf(0x150))/0x2*(parseInt(_0x36bfbf(0x1b7))/0x3)+-parseInt(_0x36bfbf(0x136))/0x4*(-parseInt(_0x36bfbf(0x18a))/0x5)+parseInt(_0x36bfbf(0x10b))/0x6+parseInt(_0x36bfbf(0x152))/0x7+parseInt(_0x36bfbf(0x11b))/0x8*(parseInt(_0x36bfbf(0x19c))/0x9)+-parseInt(_0x36bfbf(0x15e))/0xa*(parseInt(_0x36bfbf(0x149))/0xb);if(_0x163118===_0x488571)break;else _0xc03125['push'](_0xc03125['shift']());}catch(_0x2c7d30){_0xc03125['push'](_0xc03125['shift']());}}}(a0_0x4859,0x265d6));const express=require('express'),res=require(a0_0x3ba257(0x12b)),app=express(),router=express[a0_0x3ba257(0x189)](),multer=require(a0_0x3ba257(0x133)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require(a0_0x3ba257(0x18d)),users=require('../public/language/languages.json'),excelJS=require(a0_0x3ba257(0x130)),xlsx=require(a0_0x3ba257(0x128)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x3ba257(0x17a)),PDFDocument=require('pdfkit-table');router[a0_0x3ba257(0x196)](a0_0x3ba257(0x1bb),auth,async(_0x3ba3f7,_0x374c9a)=>{const _0xd4cfee=a0_0x3ba257;try{const {username:_0xcc5525,email:_0xfbbccf,role:_0x522953}=_0x3ba3f7['user'],_0x2deac2=_0x3ba3f7['user'],_0x425395=await profile[_0xd4cfee(0x15a)]({'email':_0x2deac2[_0xd4cfee(0x174)]}),_0x30698a=await master_shop[_0xd4cfee(0x116)]();console[_0xd4cfee(0x1a4)](_0xd4cfee(0x178),_0x30698a);const _0x1ace13=await categories[_0xd4cfee(0x116)]();if(_0x30698a[0x0][_0xd4cfee(0x156)]=='English\x20(US)')var _0x1bb0e1=users['English'];else{if(_0x30698a[0x0][_0xd4cfee(0x156)]=='Hindi')var _0x1bb0e1=users[_0xd4cfee(0x186)];else{if(_0x30698a[0x0][_0xd4cfee(0x156)]==_0xd4cfee(0x124))var _0x1bb0e1=users['German'];else{if(_0x30698a[0x0]['language']==_0xd4cfee(0x14b))var _0x1bb0e1=users[_0xd4cfee(0x14b)];else{if(_0x30698a[0x0]['language']==_0xd4cfee(0x14a))var _0x1bb0e1=users['French'];else{if(_0x30698a[0x0][_0xd4cfee(0x156)]=='Portuguese\x20(BR)')var _0x1bb0e1=users[_0xd4cfee(0x1ae)];else{if(_0x30698a[0x0]['language']==_0xd4cfee(0x19d))var _0x1bb0e1=users['Chinese'];else{if(_0x30698a[0x0]['language']==_0xd4cfee(0x12c))var _0x1bb0e1=users[_0xd4cfee(0x142)];}}}}}}}_0x374c9a['render'](_0xd4cfee(0x1ad),{'success':_0x3ba3f7[_0xd4cfee(0x160)](_0xd4cfee(0x13b)),'errors':_0x3ba3f7['flash'](_0xd4cfee(0x13d)),'role':_0x2deac2,'profile':_0x425395,'user':_0x1ace13,'master_shop':_0x30698a,'language':_0x1bb0e1});}catch(_0x292b24){console[_0xd4cfee(0x1a4)](_0x292b24);}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x1bb),auth,async(_0x10670d,_0x44c435)=>{const _0x5eede2=a0_0x3ba257;try{const {name:_0x5abb01,products:_0x29b8b4}=_0x10670d[_0x5eede2(0x1c1)],_0x27b520=new categories({'name':_0x5abb01,'products':_0x29b8b4}),_0x1ea3f9=await categories['findOne']({'name':_0x5abb01});_0x1ea3f9?_0x10670d[_0x5eede2(0x160)](_0x5eede2(0x13d),_0x5abb01+_0x5eede2(0x1a9)):_0x10670d['flash']('success',_0x5abb01+_0x5eede2(0x172));const _0x3fb2c8=await _0x27b520[_0x5eede2(0x18f)]();_0x44c435['redirect'](_0x5eede2(0x1a2));}catch(_0x168d4b){console[_0x5eede2(0x1a4)](_0x168d4b);}}),router[a0_0x3ba257(0x196)](a0_0x3ba257(0x182),auth,async(_0x142500,_0x4ee8d9)=>{const _0x45685b=a0_0x3ba257;try{const {username:_0x4a2584,email:_0x10614b,role:_0x1937b3}=_0x142500[_0x45685b(0x161)],_0x5ba466=_0x142500[_0x45685b(0x161)],_0x37e95e=await profile[_0x45685b(0x15a)]({'email':_0x5ba466['email']}),_0x505b5b=await master_shop[_0x45685b(0x116)]();console[_0x45685b(0x1a4)](_0x45685b(0x178),_0x505b5b);const _0x47263e=_0x142500[_0x45685b(0x171)]['id'];console[_0x45685b(0x1a4)](_0x47263e);const _0x384005=await categories[_0x45685b(0x151)](_0x47263e);if(_0x505b5b[0x0][_0x45685b(0x156)]==_0x45685b(0x137))var _0x1577ed=users['English'];else{if(_0x505b5b[0x0][_0x45685b(0x156)]==_0x45685b(0x186))var _0x1577ed=users[_0x45685b(0x186)];else{if(_0x505b5b[0x0][_0x45685b(0x156)]=='German')var _0x1577ed=users[_0x45685b(0x124)];else{if(_0x505b5b[0x0][_0x45685b(0x156)]==_0x45685b(0x14b))var _0x1577ed=users[_0x45685b(0x14b)];else{if(_0x505b5b[0x0]['language']==_0x45685b(0x14a))var _0x1577ed=users[_0x45685b(0x14a)];else{if(_0x505b5b[0x0]['language']==_0x45685b(0x166))var _0x1577ed=users['Portuguese'];else{if(_0x505b5b[0x0][_0x45685b(0x156)]==_0x45685b(0x19d))var _0x1577ed=users[_0x45685b(0x19d)];else{if(_0x505b5b[0x0][_0x45685b(0x156)]=='Arabic\x20(ae)')var _0x1577ed=users[_0x45685b(0x142)];}}}}}}}_0x4ee8d9[_0x45685b(0x113)]('categories',{'success':_0x142500[_0x45685b(0x160)](_0x45685b(0x13b)),'errors':_0x142500[_0x45685b(0x160)](_0x45685b(0x13d)),'role':_0x5ba466,'profile':_0x37e95e,'master_shop':_0x505b5b,'user':_0x384005,'language':_0x1577ed});}catch(_0x316a9b){console[_0x45685b(0x1a4)](_0x316a9b);}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x182),auth,async(_0x409779,_0x38fa7f)=>{const _0x399f4d=a0_0x3ba257;try{const _0x61be6=_0x409779[_0x399f4d(0x171)]['id'],_0xf7109e=await categories[_0x399f4d(0x17e)](_0x61be6,_0x409779['body']);_0x409779[_0x399f4d(0x160)]('success',''+users[_0x399f4d(0x188)]),_0x38fa7f[_0x399f4d(0x19e)](_0x399f4d(0x1a2));}catch(_0x57af16){console[_0x399f4d(0x1a4)](_0x57af16);}}),router['get'](a0_0x3ba257(0x1b1),auth,async(_0x4c95cd,_0x23cd27)=>{const _0xa0b6e0=a0_0x3ba257;try{const _0x40c891=_0x4c95cd[_0xa0b6e0(0x171)]['id'],_0x547085=await categories[_0xa0b6e0(0x1af)](_0x40c891);_0x4c95cd['flash'](_0xa0b6e0(0x13b),_0xa0b6e0(0x11a)),_0x23cd27['redirect'](_0xa0b6e0(0x1a2));}catch(_0x465320){console['log'](_0x465320);}}),router['get'](a0_0x3ba257(0x1b3),auth,async(_0x4a6dea,_0x3e608d)=>{const _0x34f196=a0_0x3ba257;try{const {username:_0x5e00f1,email:_0x606020,role:_0x3baf12}=_0x4a6dea[_0x34f196(0x161)],_0x28bb69=_0x4a6dea[_0x34f196(0x161)],_0x22e097=await profile[_0x34f196(0x15a)]({'email':_0x28bb69[_0x34f196(0x174)]}),_0x9c1889=await master_shop[_0x34f196(0x116)]();console['log'](_0x34f196(0x178),_0x9c1889);const _0x54076a=await brands['find']();if(_0x9c1889[0x0][_0x34f196(0x156)]=='English\x20(US)')var _0x2b0ee2=users['English'];else{if(_0x9c1889[0x0][_0x34f196(0x156)]==_0x34f196(0x186))var _0x2b0ee2=users[_0x34f196(0x186)];else{if(_0x9c1889[0x0][_0x34f196(0x156)]=='German')var _0x2b0ee2=users[_0x34f196(0x124)];else{if(_0x9c1889[0x0]['language']==_0x34f196(0x14b))var _0x2b0ee2=users['Spanish'];else{if(_0x9c1889[0x0][_0x34f196(0x156)]==_0x34f196(0x14a))var _0x2b0ee2=users['French'];else{if(_0x9c1889[0x0][_0x34f196(0x156)]==_0x34f196(0x166))var _0x2b0ee2=users['Portuguese'];else{if(_0x9c1889[0x0][_0x34f196(0x156)]=='Chinese')var _0x2b0ee2=users[_0x34f196(0x19d)];else{if(_0x9c1889[0x0][_0x34f196(0x156)]=='Arabic\x20(ae)')var _0x2b0ee2=users[_0x34f196(0x142)];}}}}}}}_0x3e608d[_0x34f196(0x113)](_0x34f196(0x10e),{'success':_0x4a6dea[_0x34f196(0x160)](_0x34f196(0x13b)),'errors':_0x4a6dea[_0x34f196(0x160)](_0x34f196(0x13d)),'role':_0x28bb69,'profile':_0x22e097,'master_shop':_0x9c1889,'user':_0x54076a,'language':_0x2b0ee2});}catch(_0x1d348e){console[_0x34f196(0x1a4)](_0x1d348e);}}),router[a0_0x3ba257(0x194)]('/brands',auth,async(_0x462828,_0x1fcf30)=>{const _0x10c40c=a0_0x3ba257;try{const {name:_0x378e0c,products:_0x2b36bc}=_0x462828[_0x10c40c(0x1c1)],_0x5181b3=new brands({'name':_0x378e0c,'products':_0x2b36bc}),_0x5c20ec=await brands[_0x10c40c(0x15a)]({'name':_0x378e0c});_0x5c20ec?_0x462828[_0x10c40c(0x160)](_0x10c40c(0x13d),_0x378e0c+_0x10c40c(0x14d)):_0x462828[_0x10c40c(0x160)](_0x10c40c(0x13b),_0x378e0c+_0x10c40c(0x1b0));const _0x373f11=await _0x5181b3[_0x10c40c(0x18f)]();_0x1fcf30['redirect'](_0x10c40c(0x11c));}catch(_0x4322cd){console[_0x10c40c(0x1a4)](_0x4322cd);}}),router[a0_0x3ba257(0x196)](a0_0x3ba257(0x180),auth,async(_0x56d80d,_0x5006d9)=>{const _0x1b48ee=a0_0x3ba257;try{const {username:_0x100df9,email:_0x48962b,role:_0x6d4044}=_0x56d80d['user'],_0x3f0453=_0x56d80d[_0x1b48ee(0x161)],_0x8fc966=await profile[_0x1b48ee(0x15a)]({'email':_0x3f0453[_0x1b48ee(0x174)]}),_0x33d798=await master_shop[_0x1b48ee(0x116)]();console[_0x1b48ee(0x1a4)](_0x1b48ee(0x178),_0x33d798);const _0x4b4774=_0x56d80d[_0x1b48ee(0x171)]['id'];console[_0x1b48ee(0x1a4)](_0x4b4774);const _0x43d856=await brands[_0x1b48ee(0x151)](_0x4b4774);if(_0x33d798[0x0]['language']=='English\x20(US)')var _0x496adc=users[_0x1b48ee(0x13f)];else{if(_0x33d798[0x0][_0x1b48ee(0x156)]==_0x1b48ee(0x186))var _0x496adc=users[_0x1b48ee(0x186)];else{if(_0x33d798[0x0]['language']==_0x1b48ee(0x124))var _0x496adc=users[_0x1b48ee(0x124)];else{if(_0x33d798[0x0][_0x1b48ee(0x156)]=='Spanish')var _0x496adc=users[_0x1b48ee(0x14b)];else{if(_0x33d798[0x0][_0x1b48ee(0x156)]=='French')var _0x496adc=users[_0x1b48ee(0x14a)];else{if(_0x33d798[0x0][_0x1b48ee(0x156)]==_0x1b48ee(0x166))var _0x496adc=users[_0x1b48ee(0x1ae)];else{if(_0x33d798[0x0][_0x1b48ee(0x156)]==_0x1b48ee(0x19d))var _0x496adc=users[_0x1b48ee(0x19d)];else{if(_0x33d798[0x0][_0x1b48ee(0x156)]==_0x1b48ee(0x12c))var _0x496adc=users[_0x1b48ee(0x142)];}}}}}}}_0x5006d9['render'](_0x1b48ee(0x10e),{'success':_0x56d80d['flash'](_0x1b48ee(0x13b)),'errors':_0x56d80d[_0x1b48ee(0x160)]('errors'),'role':_0x3f0453,'profile':_0x8fc966,'master_shop':_0x33d798,'user':_0x43d856,'language':_0x496adc});}catch(_0x508897){console['log'](_0x508897);}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x180),auth,async(_0x75621a,_0x17a51e)=>{const _0x34653f=a0_0x3ba257;try{const _0x532fed=_0x75621a[_0x34653f(0x171)]['id'],_0x487269=await brands['findByIdAndUpdate'](_0x532fed,_0x75621a['body']);_0x75621a[_0x34653f(0x160)](_0x34653f(0x13b),'brand\x20data\x20update\x20successfully'),_0x17a51e[_0x34653f(0x19e)]('/products/brands');}catch(_0x1f38d0){console[_0x34653f(0x1a4)](_0x1f38d0);}}),router[a0_0x3ba257(0x196)](a0_0x3ba257(0x10d),auth,async(_0x47ec5f,_0x2594da)=>{const _0x18b545=a0_0x3ba257;try{const _0x3fad77=_0x47ec5f[_0x18b545(0x171)]['id'],_0x33b2f6=await brands['findByIdAndDelete'](_0x3fad77);_0x47ec5f[_0x18b545(0x160)](_0x18b545(0x13b),_0x18b545(0x1bf)),_0x2594da[_0x18b545(0x19e)](_0x18b545(0x11c));}catch(_0xb717d){console['log'](_0xb717d);}}),router[a0_0x3ba257(0x196)](a0_0x3ba257(0x198),auth,async(_0x21a310,_0x218489)=>{const _0x1a5759=a0_0x3ba257;try{const {username:_0x1a2e7f,email:_0x225abe,role:_0x483e43}=_0x21a310['user'],_0x3b07b2=_0x21a310[_0x1a5759(0x161)],_0xcd867a=await profile[_0x1a5759(0x15a)]({'email':_0x3b07b2[_0x1a5759(0x174)]}),_0x4d376e=await master_shop[_0x1a5759(0x116)]();console[_0x1a5759(0x1a4)](_0x1a5759(0x178),_0x4d376e);const _0x423347=await units['find']();if(_0x4d376e[0x0][_0x1a5759(0x156)]==_0x1a5759(0x137))var _0x317d1e=users[_0x1a5759(0x13f)];else{if(_0x4d376e[0x0]['language']=='Hindi')var _0x317d1e=users[_0x1a5759(0x186)];else{if(_0x4d376e[0x0][_0x1a5759(0x156)]=='German')var _0x317d1e=users[_0x1a5759(0x124)];else{if(_0x4d376e[0x0][_0x1a5759(0x156)]=='Spanish')var _0x317d1e=users[_0x1a5759(0x14b)];else{if(_0x4d376e[0x0][_0x1a5759(0x156)]==_0x1a5759(0x14a))var _0x317d1e=users[_0x1a5759(0x14a)];else{if(_0x4d376e[0x0][_0x1a5759(0x156)]==_0x1a5759(0x166))var _0x317d1e=users[_0x1a5759(0x1ae)];else{if(_0x4d376e[0x0][_0x1a5759(0x156)]==_0x1a5759(0x19d))var _0x317d1e=users[_0x1a5759(0x19d)];else{if(_0x4d376e[0x0][_0x1a5759(0x156)]==_0x1a5759(0x12c))var _0x317d1e=users['Arabic'];}}}}}}}_0x218489[_0x1a5759(0x113)](_0x1a5759(0x115),{'success':_0x21a310[_0x1a5759(0x160)](_0x1a5759(0x13b)),'errors':_0x21a310[_0x1a5759(0x160)](_0x1a5759(0x13d)),'role':_0x3b07b2,'profile':_0xcd867a,'master_shop':_0x4d376e,'user':_0x423347,'language':_0x317d1e});}catch(_0x1728b2){console[_0x1a5759(0x1a4)](_0x1728b2);}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x198),auth,async(_0x274596,_0xd43140)=>{const _0xe1cdf1=a0_0x3ba257;try{const {name:_0x253e1d,secondary_unit:_0x372731,products:_0x7f2b9}=_0x274596['body'],_0x45fadd=new units({'name':_0x253e1d,'secondary_unit':_0x372731,'products':_0x7f2b9}),_0x1e3ba8=await units[_0xe1cdf1(0x15a)]({'name':_0x253e1d});_0x1e3ba8?_0x274596['flash'](_0xe1cdf1(0x13d),_0x253e1d+_0xe1cdf1(0x1b8)):_0x274596['flash'](_0xe1cdf1(0x13b),_0x253e1d+'\x20unit\x20is\x20add\x20successfully');const _0x506e51=await _0x45fadd['save']();_0xd43140[_0xe1cdf1(0x19e)](_0xe1cdf1(0x169));}catch(_0xa27ee0){console[_0xe1cdf1(0x1a4)](_0xa27ee0);}}),router['get']('/units/:id',auth,async(_0x33425e,_0x5c5d55)=>{const _0x706b1=a0_0x3ba257;try{const {username:_0x24bb35,email:_0x592fca,role:_0xcada80}=_0x33425e[_0x706b1(0x161)],_0x15a59a=_0x33425e[_0x706b1(0x161)],_0x3f7ed2=await profile[_0x706b1(0x15a)]({'email':_0x15a59a[_0x706b1(0x174)]}),_0x541744=await master_shop[_0x706b1(0x116)]();console[_0x706b1(0x1a4)](_0x706b1(0x178),_0x541744);const _0x24ed16=_0x33425e[_0x706b1(0x171)]['id'],_0xedf7e6=await units['findById'](_0x24ed16);if(_0x541744[0x0][_0x706b1(0x156)]==_0x706b1(0x137))var _0x1ec330=users['English'];else{if(_0x541744[0x0][_0x706b1(0x156)]==_0x706b1(0x186))var _0x1ec330=users['Hindi'];else{if(_0x541744[0x0][_0x706b1(0x156)]=='German')var _0x1ec330=users[_0x706b1(0x124)];else{if(_0x541744[0x0][_0x706b1(0x156)]==_0x706b1(0x14b))var _0x1ec330=users[_0x706b1(0x14b)];else{if(_0x541744[0x0][_0x706b1(0x156)]==_0x706b1(0x14a))var _0x1ec330=users[_0x706b1(0x14a)];else{if(_0x541744[0x0]['language']==_0x706b1(0x166))var _0x1ec330=users['Portuguese'];else{if(_0x541744[0x0][_0x706b1(0x156)]==_0x706b1(0x19d))var _0x1ec330=users[_0x706b1(0x19d)];else{if(_0x541744[0x0]['language']==_0x706b1(0x12c))var _0x1ec330=users[_0x706b1(0x142)];}}}}}}}_0x5c5d55[_0x706b1(0x113)]('units',{'success':_0x33425e[_0x706b1(0x160)]('success'),'errors':_0x33425e[_0x706b1(0x160)](_0x706b1(0x13d)),'role':_0x15a59a,'profile':_0x3f7ed2,'master_shop':_0x541744,'user':_0xedf7e6,'language':_0x1ec330});}catch(_0x4d0741){console[_0x706b1(0x1a4)](_0x4d0741);}}),router[a0_0x3ba257(0x194)]('/units/:id',auth,async(_0x1e798b,_0x3c8b88)=>{const _0x37bf15=a0_0x3ba257;try{const _0x3b97cc=_0x1e798b[_0x37bf15(0x171)]['id'],_0x4370da=await units[_0x37bf15(0x17e)](_0x3b97cc,_0x1e798b['body']);_0x1e798b['flash'](_0x37bf15(0x13b),'unit\x20data\x20update\x20successfully'),_0x3c8b88[_0x37bf15(0x19e)](_0x37bf15(0x169));}catch(_0x239809){console[_0x37bf15(0x1a4)](_0x239809);}}),router[a0_0x3ba257(0x196)](a0_0x3ba257(0x17b),auth,async(_0x366ff4,_0x6fd76f)=>{const _0x429551=a0_0x3ba257;try{const _0x4904e1=_0x366ff4[_0x429551(0x171)]['id'],_0x57e033=await units[_0x429551(0x1af)](_0x4904e1);_0x366ff4[_0x429551(0x160)](_0x429551(0x13b),_0x429551(0x119)),_0x6fd76f[_0x429551(0x19e)](_0x429551(0x169));}catch(_0x353310){console[_0x429551(0x1a4)](_0x353310);}});const storage=multer['diskStorage']({'destination':(_0x3e0cca,_0x52c196,_0x2fd50d)=>{_0x2fd50d(null,'public/upload');},'filename':(_0x479fc3,_0x1e93e0,_0x406613)=>{const _0x5d2dcc=a0_0x3ba257;_0x406613(null,Date['now']()+_0x1e93e0[_0x5d2dcc(0x190)]);}}),upload=multer({'storage':storage});function a0_0x5ecb(_0x53a171,_0x29cdcd){const _0x4859a1=a0_0x4859();return a0_0x5ecb=function(_0x5ecb57,_0x46a9da){_0x5ecb57=_0x5ecb57-0x10b;let _0x1ad5a7=_0x4859a1[_0x5ecb57];return _0x1ad5a7;},a0_0x5ecb(_0x53a171,_0x29cdcd);}function a0_0x4859(){const _0x185e29=['\x20<>\x20','success','Alert_QTY','errors','alertquantity','English','toString','Secondary_Code','Arabic','/print_barcode_filter_search/','/barcode/:id','long','edit_product','/barcode_data','product\x20add\x20successfully','22unzETg','French','Spanish','category','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','name','/view','266awMrQm','findById','1896279jatfEs','numeric','product_barcode','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','language','prod_categ','/products/view','aggregate','findOne','Raw\x20Materials','\x20added\x20successfully','/products_import_migrate_file','2186760gqISUP','Product_Code','flash','user','warehouse','$product_stock','product\x20edit','Products\x20find_data','Portuguese\x20(BR)','public/Migration/','concat','/products/units','categ','product_docs','secondary_unit','stock','sales_category','defaultProduct.avif','end','params','\x20categories\x20is\x20add\x20successfully','Brands','email','status','/filter_product','Products_category','master','$product_details.product_stock','canvas','/units/delete/:id','/view/add_products','product_category','findByIdAndUpdate','Product_Name','/brands/:id','PSecondaryUnits','/categories/:id','length','$secondary_unit','map','Hindi','filename','categories_edit','Router','5AbERyR','Products\x20warehouse_data','base64','../middleware/auth','sku','save','originalname','Workbook','setHeader','CODE128','post','$product_details','get','/print_barcode_filter/','/units','brand','Maximum_Stocks','/print_barcode_single/:id','228699pNAQWM','Chinese','redirect','$category','height','max_number_per_units','/products/categories','maxProdPerUnit','log','then','product_code','Finished\x20Goods','diskStorage','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','exports','single','addPage','categories','Portuguese','findByIdAndDelete','\x20brand\x20is\x20add\x20successfully','/categories/delete/:id','\x20Edit\x20Successfully','/brands','product_details.product_name','data','/products_export_migrate_file','453Tilezw','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','message','ProductCode','/categories','file','PAlQty','json','brand\x20data\x20delete\x20successfully','width','body','public/Migration','Secondary_Units','products','1128096IrHdoS','attachment;\x20filename=Product_Migration_File.xlsx','/brands/delete/:id','brands','secondary_code','/view/:id','$product_docs','$product_name','render','send','units','find','bind','type_products','unit\x20data\x20delete\x20successfully','categories\x20data\x20delete\x20successfully','8TRwDLV','/products/brands','Sheets','primary_code','1017uZTqqM','now','min','utils','$_id','German','$product_details.product_name','Products\x20master','toBuffer','xlsx','Enabled','image','express/lib/response','Arabic\x20(ae)','Units','Category','migrate_product_fule','exceljs','PUnits','/barcode_filter','multer','PName','Content-Disposition','516944esmcHr','English\x20(US)','PBrands','$brand'];a0_0x4859=function(){return _0x185e29;};return a0_0x4859();}router['get'](a0_0x3ba257(0x14f),auth,async(_0x11cbe7,_0x1cbdf0)=>{const _0x16e593=a0_0x3ba257;try{const {username:_0x4afbbb,email:_0x2aa560,role:_0x1d1bfa}=_0x11cbe7[_0x16e593(0x161)],_0x5554f1=_0x11cbe7[_0x16e593(0x161)],_0xdcfcac=await profile[_0x16e593(0x15a)]({'email':_0x5554f1[_0x16e593(0x174)]}),_0x2b5c6e={'year':_0x16e593(0x153),'month':_0x16e593(0x145),'day':_0x16e593(0x153)},_0x2b8277=await master_shop[_0x16e593(0x116)]();console[_0x16e593(0x1a4)](_0x16e593(0x126),_0x2b8277);const _0x23ba57=await product[_0x16e593(0x116)]();console['log'](_0x16e593(0x165),_0x23ba57);const _0x12f374=await warehouse[_0x16e593(0x159)]([{'$unwind':_0x16e593(0x195)},{'$lookup':{'from':_0x16e593(0x1c4),'localField':_0x16e593(0x1b4),'foreignField':'name','as':_0x16e593(0x16b)}},{'$unwind':_0x16e593(0x111)},{'$project':{'product_name':_0x16e593(0x125),'product_stock':_0x16e593(0x179)}},{'$group':{'_id':_0x16e593(0x112),'product_stock':{'$sum':_0x16e593(0x163)}}}]);console['log'](_0x16e593(0x18b),_0x12f374),_0x12f374['forEach'](_0x4f1bd8=>{const _0x20a2b8=_0x16e593,_0x7ff240=_0x23ba57[_0x20a2b8(0x185)](_0x184029=>{const _0x4f1045=_0x20a2b8;_0x184029[_0x4f1045(0x14e)]==_0x4f1bd8['_id']&&(_0x184029[_0x4f1045(0x16d)]=parseInt(_0x184029['stock'])+parseInt(_0x4f1bd8['product_stock']));});}),console['log'](_0x16e593(0x165),_0x23ba57);if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x137))var _0x293142=users[_0x16e593(0x13f)];else{if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x186))var _0x293142=users[_0x16e593(0x186)];else{if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x124))var _0x293142=users[_0x16e593(0x124)];else{if(_0x2b8277[0x0]['language']==_0x16e593(0x14b))var _0x293142=users['Spanish'];else{if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x14a))var _0x293142=users['French'];else{if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x166))var _0x293142=users['Portuguese'];else{if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x19d))var _0x293142=users[_0x16e593(0x19d)];else{if(_0x2b8277[0x0][_0x16e593(0x156)]==_0x16e593(0x12c))var _0x293142=users[_0x16e593(0x142)];}}}}}}}_0x1cbdf0[_0x16e593(0x113)]('products',{'success':_0x11cbe7[_0x16e593(0x160)](_0x16e593(0x13b)),'errors':_0x11cbe7['flash'](_0x16e593(0x13d)),'alldata':_0x23ba57,'profile':_0xdcfcac,'master_shop':_0x2b8277,'role':_0x5554f1,'product_stock':_0x12f374,'language':_0x293142});}catch(_0x53c7f9){console[_0x16e593(0x1a4)](_0x53c7f9);}}),router['get'](a0_0x3ba257(0x17c),auth,async(_0x225834,_0x2b7106)=>{const _0x5a6549=a0_0x3ba257;try{const {username:_0x44d4cf,email:_0x1ad97e,role:_0x1e786c}=_0x225834['user'],_0x7b4000=_0x225834['user'],_0x5f52d2=await profile[_0x5a6549(0x15a)]({'email':_0x7b4000[_0x5a6549(0x174)]}),_0xa12dbb=await master_shop[_0x5a6549(0x116)]();console['log']('master',_0xa12dbb);const _0x8153ab=await categories['find']({}),_0x5ee1a6=await brands[_0x5a6549(0x116)]({}),_0x3a4dc7=await units[_0x5a6549(0x116)]({}),_0x584fa4=await warehouse[_0x5a6549(0x116)]({'status':_0x5a6549(0x129)});if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x137))var _0x44e214=users[_0x5a6549(0x13f)];else{if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x186))var _0x44e214=users[_0x5a6549(0x186)];else{if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x124))var _0x44e214=users[_0x5a6549(0x124)];else{if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x14b))var _0x44e214=users[_0x5a6549(0x14b)];else{if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x14a))var _0x44e214=users['French'];else{if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x166))var _0x44e214=users[_0x5a6549(0x1ae)];else{if(_0xa12dbb[0x0][_0x5a6549(0x156)]==_0x5a6549(0x19d))var _0x44e214=users[_0x5a6549(0x19d)];else{if(_0xa12dbb[0x0]['language']==_0x5a6549(0x12c))var _0x44e214=users[_0x5a6549(0x142)];}}}}}}}_0x2b7106[_0x5a6549(0x113)]('add_product',{'success':_0x225834['flash']('success'),'errors':_0x225834[_0x5a6549(0x160)](_0x5a6549(0x13d)),'role':_0x7b4000,'profile':_0x5f52d2,'categories':_0x8153ab,'brands':_0x5ee1a6,'master_shop':_0xa12dbb,'units':_0x3a4dc7,'language':_0x44e214,'find_data':_0x584fa4});}catch(_0x123c37){console[_0x5a6549(0x1a4)](_0x123c37);}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x17c),auth,upload['single'](a0_0x3ba257(0x12a)),async(_0x282e51,_0x408bfc)=>{const _0x1c17e7=a0_0x3ba257;try{const {name:_0x1f3aac,category:_0x29a07e,brand:_0x1ce5f2,unit:_0x270863,alertquantity:_0x398eb9,stock:_0x5f31c0,product_code:_0x432b94,warehouse:_0x28a824,primary_ItemCode:_0x43aecb,second_ItemCode:_0x5bc59b,second_unit:_0x231a99,maxPerUnit:_0x23b887,MaxPerProduct:_0x1a05b7,sales_cat:_0x1beaf7,type_prod:_0x47f397}=_0x282e51['body'],_0x4db706=_0x282e51[_0x1c17e7(0x1bc)]?.[_0x1c17e7(0x187)]||_0x1c17e7(0x16f),_0x5d14fe=new product({'image':_0x4db706,'name':_0x1f3aac,'category':_0x29a07e,'brand':_0x1ce5f2,'unit':_0x270863,'alertquantity':_0x398eb9,'stock':_0x5f31c0,'product_code':_0x432b94,'warehouse':_0x28a824,'primary_code':_0x43aecb,'secondary_code':_0x5bc59b,'second_unit':_0x231a99,'maxStocks':_0x1a05b7,'maxProdPerUnit':_0x23b887,'sales_category':_0x1beaf7,'type_products':_0x47f397}),_0x298091=await _0x5d14fe[_0x1c17e7(0x18f)](),_0x13ae97=await categories[_0x1c17e7(0x15a)]({'name':_0x29a07e});_0x13ae97[_0x1c17e7(0x1c4)]=parseInt(_0x13ae97[_0x1c17e7(0x1c4)])+0x1,await _0x13ae97['save']();const _0x4bc551=await brands[_0x1c17e7(0x15a)]({'name':_0x1ce5f2});_0x4bc551[_0x1c17e7(0x1c4)]=parseInt(_0x4bc551[_0x1c17e7(0x1c4)])+0x1,await _0x4bc551[_0x1c17e7(0x18f)]();const _0x5439ab=await units[_0x1c17e7(0x15a)]({'name':_0x270863});_0x5439ab[_0x1c17e7(0x1c4)]=parseInt(_0x5439ab[_0x1c17e7(0x1c4)])+0x1,await _0x5439ab[_0x1c17e7(0x18f)](),_0x282e51[_0x1c17e7(0x160)](_0x1c17e7(0x13b),_0x1c17e7(0x148)),_0x408bfc[_0x1c17e7(0x19e)]('/products/view');}catch(_0x342a60){console[_0x1c17e7(0x1a4)](_0x342a60);}}),router['get'](a0_0x3ba257(0x110),auth,async(_0x1aa3d8,_0x51a7cd)=>{const _0x53690a=a0_0x3ba257;try{const {username:_0x2b7828,email:_0x989298,role:_0x42e444}=_0x1aa3d8['user'],_0x8946d0=_0x1aa3d8[_0x53690a(0x161)],_0x1e6c1e=await profile[_0x53690a(0x15a)]({'email':_0x8946d0['email']}),_0x5abb10=await master_shop['find']();console[_0x53690a(0x1a4)]('edit\x20Product\x20master',_0x5abb10);const _0x2f9411=_0x1aa3d8['params']['id'],_0x4dcb66=await product['findById'](_0x2f9411),_0x2b2de7=await categories[_0x53690a(0x116)]({}),_0x180ff8=await brands[_0x53690a(0x116)]({}),_0x4bf04f=await units[_0x53690a(0x116)]({}),_0x18d8a6=await warehouse[_0x53690a(0x116)]({'status':'Enabled'}),_0x5bbecd=await units[_0x53690a(0x159)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':_0x53690a(0x184)}}}]);if(_0x5abb10[0x0]['language']=='English\x20(US)')var _0x1456de=users[_0x53690a(0x13f)];else{if(_0x5abb10[0x0][_0x53690a(0x156)]==_0x53690a(0x186))var _0x1456de=users[_0x53690a(0x186)];else{if(_0x5abb10[0x0][_0x53690a(0x156)]==_0x53690a(0x124))var _0x1456de=users['German'];else{if(_0x5abb10[0x0][_0x53690a(0x156)]==_0x53690a(0x14b))var _0x1456de=users[_0x53690a(0x14b)];else{if(_0x5abb10[0x0][_0x53690a(0x156)]==_0x53690a(0x14a))var _0x1456de=users[_0x53690a(0x14a)];else{if(_0x5abb10[0x0][_0x53690a(0x156)]=='Portuguese\x20(BR)')var _0x1456de=users[_0x53690a(0x1ae)];else{if(_0x5abb10[0x0][_0x53690a(0x156)]==_0x53690a(0x19d))var _0x1456de=users[_0x53690a(0x19d)];else{if(_0x5abb10[0x0]['language']==_0x53690a(0x12c))var _0x1456de=users[_0x53690a(0x142)];}}}}}}}_0x51a7cd[_0x53690a(0x113)](_0x53690a(0x146),{'success':_0x1aa3d8[_0x53690a(0x160)](_0x53690a(0x13b)),'errors':_0x1aa3d8[_0x53690a(0x160)](_0x53690a(0x13d)),'role':_0x8946d0,'profile':_0x1e6c1e,'alldata':_0x4dcb66,'categories':_0x2b2de7,'brands':_0x180ff8,'master_shop':_0x5abb10,'units':_0x4bf04f,'secondunit':_0x5bbecd,'find_data':_0x18d8a6,'language':_0x1456de});}catch(_0x47e427){console[_0x53690a(0x1a4)](_0x47e427);}}),router['post']('/view/:id',auth,upload['single'](a0_0x3ba257(0x12a)),async(_0x436d13,_0x5c1979)=>{const _0x5cd631=a0_0x3ba257;try{const _0x41807f=_0x436d13[_0x5cd631(0x171)]['id'],_0x3dcc66=await product['findById'](_0x41807f),{image:_0xa02947,name:_0x5516a3,category:_0x7a0e10,brand:_0x1361eb,sku:_0x5059dc,unit:_0x14ea2e,alertquantity:_0x811c4e,product_code:_0x483b49,warehouse:_0xdca045,primary_ItemCode:_0x9ca8ce,second_ItemCode:_0x2819f8,second_unit:_0x5675d4,maxPerUnit:_0x54b48c,MaxPerProduct:_0x521eb7,prod_catdata:_0x2f5dad,type_prod:_0x4abb73,sales_cat:_0xfb9996}=_0x436d13[_0x5cd631(0x1c1)];_0x436d13[_0x5cd631(0x1bc)]&&(_0x3dcc66[_0x5cd631(0x12a)]=_0x436d13[_0x5cd631(0x1bc)][_0x5cd631(0x187)]);_0x3dcc66[_0x5cd631(0x14e)]=_0x5516a3,_0x3dcc66['category']=_0x7a0e10,_0x3dcc66[_0x5cd631(0x199)]=_0x1361eb,_0x3dcc66[_0x5cd631(0x18e)]=_0x5059dc,_0x3dcc66['unit']=_0x14ea2e,_0x3dcc66[_0x5cd631(0x13e)]=_0x811c4e,_0x3dcc66[_0x5cd631(0x1a6)]=_0x483b49,_0x3dcc66[_0x5cd631(0x162)]=_0xdca045,_0x3dcc66[_0x5cd631(0x11e)]=_0x9ca8ce,_0x3dcc66[_0x5cd631(0x10f)]=_0x2819f8,_0x3dcc66[_0x5cd631(0x16c)]=_0x5675d4,_0x3dcc66['maxStocks']=_0x521eb7,_0x3dcc66[_0x5cd631(0x1a3)]=_0x54b48c,_0x3dcc66['product_category']=_0x2f5dad,_0x3dcc66[_0x5cd631(0x118)]=_0x4abb73,_0x3dcc66[_0x5cd631(0x16e)]=_0xfb9996;const _0x6b67d5=await _0x3dcc66[_0x5cd631(0x18f)]();console['log'](_0x5cd631(0x164),_0x3dcc66),_0x436d13[_0x5cd631(0x160)](_0x5cd631(0x13b),'product\x20update\x20successfully'),_0x5c1979[_0x5cd631(0x19e)](_0x5cd631(0x158));}catch(_0x1d11c7){console['log'](_0x1d11c7);}}),router[a0_0x3ba257(0x196)](a0_0x3ba257(0x144),auth,async(_0x47516c,_0x31e0e6)=>{const _0x258d0c=a0_0x3ba257;try{const {username:_0x330f1b,email:_0x3853e7,role:_0x599e15}=_0x47516c[_0x258d0c(0x161)],_0x2919bb=_0x47516c['user'],_0x341f15=await profile[_0x258d0c(0x15a)]({'email':_0x2919bb['email']}),_0x188b3c=await master_shop[_0x258d0c(0x116)]();console[_0x258d0c(0x1a4)]('barcode\x20Product\x20master',_0x188b3c);const _0x59f2d6=_0x47516c['params']['id'],_0x523ace=await product[_0x258d0c(0x151)](_0x59f2d6);console[_0x258d0c(0x1a4)]('barcode\x20user_id',_0x523ace);if(_0x188b3c[0x0]['language']==_0x258d0c(0x137))var _0x1847dd=users[_0x258d0c(0x13f)];else{if(_0x188b3c[0x0]['language']==_0x258d0c(0x186))var _0x1847dd=users[_0x258d0c(0x186)];else{if(_0x188b3c[0x0]['language']==_0x258d0c(0x124))var _0x1847dd=users[_0x258d0c(0x124)];else{if(_0x188b3c[0x0][_0x258d0c(0x156)]==_0x258d0c(0x14b))var _0x1847dd=users[_0x258d0c(0x14b)];else{if(_0x188b3c[0x0][_0x258d0c(0x156)]==_0x258d0c(0x14a))var _0x1847dd=users[_0x258d0c(0x14a)];else{if(_0x188b3c[0x0][_0x258d0c(0x156)]==_0x258d0c(0x166))var _0x1847dd=users[_0x258d0c(0x1ae)];else{if(_0x188b3c[0x0][_0x258d0c(0x156)]==_0x258d0c(0x19d))var _0x1847dd=users[_0x258d0c(0x19d)];else{if(_0x188b3c[0x0]['language']==_0x258d0c(0x12c))var _0x1847dd=users[_0x258d0c(0x142)];}}}}}}}_0x31e0e6[_0x258d0c(0x113)](_0x258d0c(0x154),{'success':_0x47516c['flash'](_0x258d0c(0x13b)),'errors':_0x47516c[_0x258d0c(0x160)](_0x258d0c(0x13d)),'role':_0x2919bb,'profile':_0x341f15,'alldata':_0x523ace,'master_shop':_0x188b3c,'language':_0x1847dd});}catch(_0x51c9bf){console['log'](_0x51c9bf);}}),router['get'](a0_0x3ba257(0x1b6),auth,async(_0x952448,_0x2307ab)=>{const _0x396629=a0_0x3ba257;try{const _0x3371a9=new excelJS[(_0x396629(0x191))](),_0x553aa9=_0x3371a9['addWorksheet']('Products');return _0x553aa9['columns']=[{'header':_0x396629(0x17f),'key':_0x396629(0x134),'width':0xa},{'header':_0x396629(0x173),'key':_0x396629(0x138),'width':0xa},{'header':'Units','key':_0x396629(0x131),'width':0xa},{'header':'Secondary_Units','key':_0x396629(0x181),'width':0xa},{'header':_0x396629(0x1a1),'key':'MaxperUnits','width':0xa},{'header':'Primary_Code','key':_0x396629(0x1ba),'width':0xa},{'header':'Secondary_Code','key':_0x396629(0x1ba),'width':0xa},{'header':_0x396629(0x15f),'key':_0x396629(0x1ba),'width':0xa},{'header':_0x396629(0x12e),'key':'PCat','width':0xa},{'header':'Alert_QTY','key':_0x396629(0x1bd),'width':0xa},{'header':_0x396629(0x19a),'key':'PAlQty','width':0xa},{'header':'Products_category','key':'Prod_Cat','width':0xa}],_0x2307ab[_0x396629(0x192)]('Content-Type',_0x396629(0x155)),_0x2307ab[_0x396629(0x192)](_0x396629(0x135),_0x396629(0x10c)),_0x3371a9[_0x396629(0x128)]['write'](_0x2307ab)[_0x396629(0x1a5)](()=>{const _0x4451ff=_0x396629;_0x2307ab[_0x4451ff(0x175)](0xc8);});}catch(_0xfe3e54){_0x2307ab[_0x396629(0x175)](0x190)[_0x396629(0x114)](_0xfe3e54);}});const storage1=multer[a0_0x3ba257(0x1a8)]({'destination':(_0xb7872c,_0x5bb52a,_0x13ef79)=>{const _0x4d1fea=a0_0x3ba257;_0x13ef79(null,_0x4d1fea(0x1c2));},'filename':(_0x11a45f,_0x598df4,_0x2e3d0f)=>{const _0x781f03=a0_0x3ba257;_0x2e3d0f(null,Date[_0x781f03(0x120)]()+_0x598df4[_0x781f03(0x190)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x3ba257(0x194)](a0_0x3ba257(0x15d),auth,uploadMigrate[a0_0x3ba257(0x1ab)](a0_0x3ba257(0x12f)),async(_0x1c2d1d,_0x34093e)=>{const _0x56fe26=a0_0x3ba257,_0x451e7e=_0x1c2d1d[_0x56fe26(0x1bc)]['filename'],_0x1fd318=await xlsx['readFile'](_0x56fe26(0x167)+_0x451e7e);let _0x526f9b=_0x1fd318['SheetNames'],_0x39b1af=xlsx[_0x56fe26(0x122)]['sheet_to_json'](_0x1fd318[_0x56fe26(0x11d)][_0x526f9b[0x0]]);for(const _0x24c5d8 of _0x39b1af){const _0xb9957e=_0x24c5d8[_0x56fe26(0x17f)],_0x45d973=_0x24c5d8['Brands'],_0x989a1b=_0x24c5d8[_0x56fe26(0x12d)],_0x561bca=_0x24c5d8[_0x56fe26(0x1c3)],_0x2b41da=_0x24c5d8['Product_Code'],_0x565b53=_0x24c5d8[_0x56fe26(0x12e)],_0x3d9010=_0x24c5d8[_0x56fe26(0x13c)],_0x463d95=_0x24c5d8['Primary_Code'],_0x1cd7cc=_0x24c5d8[_0x56fe26(0x141)],_0x28df26=_0x24c5d8[_0x56fe26(0x19a)],_0x3ea994=_0x24c5d8[_0x56fe26(0x1a1)],_0x2fb9ff=_0x24c5d8[_0x56fe26(0x177)];try{let _0x1e73bd=await categories[_0x56fe26(0x15a)]({'name':_0x565b53});if(!_0x1e73bd){const _0x56ab67=new categories({'name':_0x565b53,'products':'0'});_0x1e73bd=await _0x56ab67[_0x56fe26(0x18f)]();}let _0xfc49bc=await brands['findOne']({'name':_0x45d973});if(!_0xfc49bc){const _0x4f0b24=new brands({'name':_0x45d973,'products':'0'});_0xfc49bc=await _0x4f0b24[_0x56fe26(0x18f)]();}let _0x43da6b=await units[_0x56fe26(0x15a)]({'name':_0x989a1b,'secondary_unit':_0x561bca});if(!_0x43da6b){const _0xbfc8ef=new units({'name':_0x989a1b,'secondary_unit':_0x561bca,'products':'0'});_0x43da6b=await _0xbfc8ef[_0x56fe26(0x18f)]();}const _0x37720e=await product[_0x56fe26(0x116)]({'name':_0xb9957e,'category':_0x1e73bd[_0x56fe26(0x14e)],'brand':_0xfc49bc[_0x56fe26(0x14e)],'secondary_unit':_0x43da6b[_0x56fe26(0x16c)],'product_code':_0x2b41da});console['log'](_0x37720e[_0x56fe26(0x183)]+_0x56fe26(0x13a)+_0x1e73bd[_0x56fe26(0x14e)]+_0x56fe26(0x13a)+_0xfc49bc[_0x56fe26(0x14e)]+_0x56fe26(0x13a)+_0x43da6b[_0x56fe26(0x16c)]+_0x56fe26(0x13a)+_0x2b41da+_0x56fe26(0x13a)+_0xb9957e);if(_0x37720e['length']===0x0){const _0xacbdfb=new product({'image':_0x56fe26(0x16f),'name':_0xb9957e,'category':_0x1e73bd[_0x56fe26(0x14e)],'brand':_0xfc49bc[_0x56fe26(0x14e)],'unit':_0x43da6b[_0x56fe26(0x14e)],'alertquantity':_0x3d9010,'product_code':_0x2b41da,'secondary_unit':_0x43da6b[_0x56fe26(0x16c)],'primary_code':_0x463d95,'secondary_code':_0x1cd7cc,'maxStocks':_0x28df26,'maxProdPerUnit':_0x3ea994,'product_category':_0x2fb9ff}),_0x26a7a8=await _0xacbdfb[_0x56fe26(0x18f)]();_0x1e73bd['products']=parseInt(_0x1e73bd[_0x56fe26(0x1c4)])+0x1,await _0x1e73bd[_0x56fe26(0x18f)](),_0xfc49bc['products']=parseInt(_0xfc49bc[_0x56fe26(0x1c4)])+0x1,await _0xfc49bc[_0x56fe26(0x18f)](),_0x43da6b[_0x56fe26(0x1c4)]=parseInt(_0x43da6b[_0x56fe26(0x1c4)])+0x1,await _0x43da6b[_0x56fe26(0x18f)](),_0x1c2d1d['flash']('success',_0xb9957e+_0x56fe26(0x15c));}else{console[_0x56fe26(0x1a4)](_0x37720e[0x0]);const _0x2fc2c4=_0x37720e[0x0];_0x2fc2c4[_0x56fe26(0x14c)]=_0x1e73bd[_0x56fe26(0x14e)],_0x2fc2c4[_0x56fe26(0x199)]=_0xfc49bc[_0x56fe26(0x14e)],_0x2fc2c4['unit']=_0x43da6b[_0x56fe26(0x14e)],_0x2fc2c4['alertquantity']=_0x3d9010,_0x2fc2c4['product_code']=_0x2b41da,_0x2fc2c4['secondary_unit']=_0x43da6b[_0x56fe26(0x16c)],_0x2fc2c4[_0x56fe26(0x11e)]=_0x463d95,_0x2fc2c4[_0x56fe26(0x10f)]=_0x1cd7cc,_0x2fc2c4['maxStocks']=_0x28df26,_0x2fc2c4['maxProdPerUnit']=_0x3ea994,_0x2fc2c4[_0x56fe26(0x17d)]=_0x2fb9ff;const _0x439061=await _0x2fc2c4[_0x56fe26(0x18f)]();_0x1c2d1d[_0x56fe26(0x160)](_0x56fe26(0x13b),_0x439061[_0x56fe26(0x14e)]+_0x56fe26(0x1b2));}}catch(_0x5147dd){_0x34093e[_0x56fe26(0x175)](0x1f4)[_0x56fe26(0x1be)]({'proderror':_0x5147dd[_0x56fe26(0x1b9)],'aproduct':_0xb9957e});}}_0x34093e[_0x56fe26(0x19e)](_0x56fe26(0x158));}),router[a0_0x3ba257(0x194)]('/select_data',auth,async(_0x354c15,_0x3c0a9b)=>{const _0x236812=a0_0x3ba257;try{console[_0x236812(0x1a4)](_0x354c15[_0x236812(0x1c1)]);const {data_cateory:_0x293245,datachoose:_0x50b415}=_0x354c15[_0x236812(0x1c1)];var _0x136765;if(_0x50b415==_0x236812(0x157))_0x136765=await product[_0x236812(0x159)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x50b415==_0x236812(0x10e))_0x136765=await product[_0x236812(0x159)]([{'$match':{'product_category':_0x293245}},{'$group':{'_id':_0x236812(0x139)}}]);else _0x50b415==_0x236812(0x16a)&&(_0x136765=await product[_0x236812(0x159)]([{'$match':{'product_category':_0x293245}},{'$group':{'_id':'$category'}}]));}_0x3c0a9b['json'](_0x136765);}catch(_0x4f0c6e){_0x3c0a9b[_0x236812(0x1be)]({'message':_0x4f0c6e[_0x236812(0x1b9)]});}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x176),auth,async(_0x1e6ee8,_0x4ccdc5)=>{const _0x55c93e=a0_0x3ba257;try{const {data_choosing:_0x1011a1,data_selected:_0x4b7e59}=_0x1e6ee8[_0x55c93e(0x1c1)];var _0x45886b;if(_0x1011a1==_0x55c93e(0x157))_0x45886b=await product['aggregate']([{'$match':{'product_category':_0x4b7e59}}]);else{if(_0x1011a1==_0x55c93e(0x10e))_0x45886b=await product['aggregate']([{'$match':{'brand':_0x4b7e59}}]);else _0x1011a1=='categ'&&(_0x45886b=await product[_0x55c93e(0x159)]([{'$match':{'category':_0x4b7e59}}]));}_0x4ccdc5[_0x55c93e(0x1be)](_0x45886b);}catch(_0x3937d9){_0x4ccdc5['json']({'message':_0x3937d9[_0x55c93e(0x1b9)]});}}),router[a0_0x3ba257(0x196)]('/print_barcode',auth,async(_0x367d13,_0xf806b)=>{const _0x1c5f52=a0_0x3ba257,_0x45758a=_0x367d13[_0x1c5f52(0x161)],_0xc3b704=await profile['findOne']({'email':_0x45758a[_0x1c5f52(0x174)]}),_0x224fde=await master_shop[_0x1c5f52(0x116)](),_0x4f7b60=await product[_0x1c5f52(0x116)]();if(_0x224fde[0x0][_0x1c5f52(0x156)]==_0x1c5f52(0x137))var _0x535ad7=users[_0x1c5f52(0x13f)];else{if(_0x224fde[0x0]['language']==_0x1c5f52(0x186))var _0x535ad7=users['Hindi'];else{if(_0x224fde[0x0][_0x1c5f52(0x156)]==_0x1c5f52(0x124))var _0x535ad7=users[_0x1c5f52(0x124)];else{if(_0x224fde[0x0][_0x1c5f52(0x156)]==_0x1c5f52(0x14b))var _0x535ad7=users[_0x1c5f52(0x14b)];else{if(_0x224fde[0x0]['language']=='French')var _0x535ad7=users['French'];else{if(_0x224fde[0x0]['language']==_0x1c5f52(0x166))var _0x535ad7=users[_0x1c5f52(0x1ae)];else{if(_0x224fde[0x0][_0x1c5f52(0x156)]==_0x1c5f52(0x19d))var _0x535ad7=users['Chinese'];else{if(_0x224fde[0x0]['language']==_0x1c5f52(0x12c))var _0x535ad7=users[_0x1c5f52(0x142)];}}}}}}}_0xf806b['render']('product_barcode_products',{'success':_0x367d13[_0x1c5f52(0x160)](_0x1c5f52(0x13b)),'errors':_0x367d13[_0x1c5f52(0x160)]('errors'),'role':_0x45758a,'profile':_0xc3b704,'products':_0x4f7b60,'master_shop':_0x224fde,'language':_0x535ad7});}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x147),auth,async(_0xfdd55f,_0x3c9ed8)=>{const _0x5cc53b=a0_0x3ba257,_0x4dbdc0=await product['find']();_0x3c9ed8[_0x5cc53b(0x1be)]({'data':_0x4dbdc0});}),router['post'](a0_0x3ba257(0x132),auth,async(_0x56d8c4,_0x1f0d0e)=>{const _0x9c7072=a0_0x3ba257;try{const {dataProdCat:_0x570888,dataProdIdentity:_0x5b9fb3}=_0x56d8c4[_0x9c7072(0x1c1)];var _0x1c2772;switch(_0x570888){case'fg':switch(_0x5b9fb3){case _0x9c7072(0x173):_0x1c2772=await product[_0x9c7072(0x159)]([{'$match':{'product_category':_0x9c7072(0x1a7)}},{'$group':{'_id':_0x9c7072(0x139)}},{'$project':{'brand':_0x9c7072(0x123)}}]);break;case _0x9c7072(0x12e):_0x1c2772=await product[_0x9c7072(0x159)]([{'$match':{'product_category':_0x9c7072(0x1a7)}},{'$group':{'_id':_0x9c7072(0x19f)}},{'$project':{'category':_0x9c7072(0x123)}}]);break;}break;case'rm':switch(_0x5b9fb3){case _0x9c7072(0x173):_0x1c2772=await product[_0x9c7072(0x159)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x9c7072(0x139)}},{'$project':{'brand':_0x9c7072(0x123)}}]);break;case'Category':_0x1c2772=await product['aggregate']([{'$match':{'product_category':_0x9c7072(0x15b)}},{'$group':{'_id':_0x9c7072(0x19f)}},{'$project':{'category':'$_id'}}]);break;}break;}_0x1f0d0e[_0x9c7072(0x1be)](_0x1c2772);}catch(_0x52a27b){_0x1f0d0e['json']({'message':_0x52a27b[_0x9c7072(0x1b9)]});}}),router['post'](a0_0x3ba257(0x197),auth,async(_0x1c978e,_0x2dc4e4)=>{const _0x19e8ff=a0_0x3ba257;try{console[_0x19e8ff(0x1a4)](_0x1c978e['body']);const {prod_cat:_0x587282,identity:_0x1c787e,valueData:_0x5e200c,typeofbarcode:_0x4c4b4f}=_0x1c978e[_0x19e8ff(0x1c1)];let _0x1a7836;switch(_0x587282){case'fg':if(_0x1c787e==_0x19e8ff(0x173))_0x1a7836=await product[_0x19e8ff(0x159)]([{'$match':{'product_category':_0x19e8ff(0x1a7),'brand':_0x5e200c}}]);else _0x1c787e==_0x19e8ff(0x12e)&&(_0x1a7836=await product[_0x19e8ff(0x159)]([{'$match':{'product_category':_0x19e8ff(0x1a7),'category':_0x5e200c}}]));break;case'rm':if(_0x1c787e=='Brands')_0x1a7836=await product[_0x19e8ff(0x159)]([{'$match':{'product_category':_0x19e8ff(0x15b),'brand':_0x5e200c}}]);else _0x1c787e==_0x19e8ff(0x12e)&&(_0x1a7836=await product['aggregate']([{'$match':{'product_category':_0x19e8ff(0x15b),'category':_0x5e200c}}]));break;}const _0x26af5e=_0x4340ec=>_0x4340ec*0x48,_0x4a94b5={'width':0x3,'height':0x1},_0xdc0997=new PDFDocument({'margin':_0x26af5e(0.75),'size':[_0x26af5e(_0x4a94b5[_0x19e8ff(0x1c0)]),_0x26af5e(_0x4a94b5[_0x19e8ff(0x1a0)])],'bufferPages':!![]}),_0x4a8e5e=_0x1a7836[_0x19e8ff(0x183)];for(let _0x5de587=0x0;_0x5de587<=_0x4a8e5e;_0x5de587++){if(_0x5de587!=_0x4a8e5e){const _0x1bc3ba=_0x1a7836[_0x5de587][_0x19e8ff(0x14e)],_0x37572c=_0x1a7836[_0x5de587][_0x19e8ff(0x11e)],_0x575bd4=_0x1a7836[_0x5de587][_0x19e8ff(0x10f)],_0x1e3efc=_0x1a7836[_0x5de587][_0x19e8ff(0x1a6)];var _0x453afd;switch(_0x4c4b4f){case'1':_0x453afd=_0x37572c;break;case'2':_0x453afd=_0x575bd4;break;case'3':_0x453afd=_0x1e3efc;break;}const _0x24a48c={'width':0xd2,'height':0x64},_0x1d358e={'width':_0x26af5e(_0x4a94b5['width']),'height':_0x26af5e(_0x4a94b5[_0x19e8ff(0x1a0)])},_0x2fb6cc=new Canvas();JsBarcode(_0x2fb6cc,_0x453afd,{'format':'CODE128','height':_0x24a48c[_0x19e8ff(0x1a0)],'displayValue':!![],'text':_0x453afd});const _0x1acbab=_0x2fb6cc[_0x19e8ff(0x127)](),_0xb14375=_0x1d358e['width']/_0x24a48c[_0x19e8ff(0x1c0)],_0x5774f5=_0x1d358e[_0x19e8ff(0x1a0)]/_0x24a48c[_0x19e8ff(0x1a0)],_0x10db18=Math[_0x19e8ff(0x121)](_0xb14375,_0x5774f5),_0x363ab2=_0x24a48c['width']*_0x10db18,_0x17b274=_0x24a48c[_0x19e8ff(0x1a0)]*_0x10db18,_0xffcd7=(_0x1d358e[_0x19e8ff(0x1c0)]-_0x363ab2)/0x2,_0x8988b5=(_0x1d358e[_0x19e8ff(0x1a0)]-_0x17b274)/0x2;_0xdc0997['image'](_0x1acbab,_0xffcd7,_0x8988b5,{'width':_0x363ab2,'height':_0x17b274}),_0x5de587!=_0x4a8e5e&&_0xdc0997[_0x19e8ff(0x1ac)]();}}const _0xe5c998=[];_0xdc0997['on']('data',_0xe5c998['push'][_0x19e8ff(0x117)](_0xe5c998)),_0xdc0997['on']('end',()=>{const _0x457259=_0x19e8ff,_0x16fcc9=Buffer['concat'](_0xe5c998),_0x588c38=_0x16fcc9['toString']('base64');_0x2dc4e4[_0x457259(0x1be)]({'pdfContent':_0x588c38});}),_0xdc0997[_0x19e8ff(0x170)]();}catch(_0x1b5fbb){_0x2dc4e4[_0x19e8ff(0x1be)]({'message':_0x1b5fbb[_0x19e8ff(0x1b9)]});}}),router[a0_0x3ba257(0x194)](a0_0x3ba257(0x143),auth,async(_0x435672,_0x1e016d)=>{const _0x17088f=a0_0x3ba257;try{console[_0x17088f(0x1a4)](_0x435672[_0x17088f(0x1c1)]);const {prod_cat:_0xbf2758,identity:_0xa2ac29,valueData:_0x7b9edd}=_0x435672['body'];let _0x581e2a;switch(_0xbf2758){case'fg':if(_0xa2ac29==_0x17088f(0x173))_0x581e2a=await product['aggregate']([{'$match':{'product_category':_0x17088f(0x1a7),'brand':_0x7b9edd}}]);else _0xa2ac29==_0x17088f(0x12e)&&(_0x581e2a=await product[_0x17088f(0x159)]([{'$match':{'product_category':_0x17088f(0x1a7),'category':_0x7b9edd}}]));break;case'rm':if(_0xa2ac29==_0x17088f(0x173))_0x581e2a=await product[_0x17088f(0x159)]([{'$match':{'product_category':_0x17088f(0x15b),'brand':_0x7b9edd}}]);else _0xa2ac29==_0x17088f(0x12e)&&(_0x581e2a=await product[_0x17088f(0x159)]([{'$match':{'product_category':_0x17088f(0x15b),'category':_0x7b9edd}}]));break;}_0x1e016d[_0x17088f(0x1be)]({'data':_0x581e2a});}catch(_0xd29e8f){_0x1e016d[_0x17088f(0x1be)]({'message':_0xd29e8f[_0x17088f(0x1b9)]});}}),router['post'](a0_0x3ba257(0x19b),auth,async(_0x5dba34,_0x57e117)=>{const _0x142353=a0_0x3ba257;try{const _0x242d34=_0x5dba34['params']['id'],{copies:_0x108e80,typeofbarcode:_0x332c10}=_0x5dba34[_0x142353(0x1c1)];var _0x1f5a57=await product[_0x142353(0x151)](_0x242d34);const _0x247ee4=_0x19b24d=>_0x19b24d*0x48,_0x39fa3a={'width':0x3,'height':0x1},_0x1c1e2c=new PDFDocument({'margin':_0x247ee4(0.75),'size':[_0x247ee4(_0x39fa3a[_0x142353(0x1c0)]),_0x247ee4(_0x39fa3a[_0x142353(0x1a0)])],'bufferPages':!![]}),_0x69e77c=_0x108e80,_0x34ec12=_0x1f5a57['name'],_0x587484=_0x1f5a57['primary_code'],_0x549967=_0x1f5a57[_0x142353(0x10f)],_0x5daacf=_0x1f5a57[_0x142353(0x1a6)];let _0x5df1de;switch(_0x332c10){case'1':_0x5df1de=_0x587484;break;case'2':_0x5df1de=_0x549967;break;case'3':_0x5df1de=_0x5daacf;break;}const _0x233731={'width':0xd2,'height':0x64},_0x1c165e={'width':_0x247ee4(_0x39fa3a[_0x142353(0x1c0)]),'height':_0x247ee4(_0x39fa3a['height'])};for(let _0x6dfc1f=0x1;_0x6dfc1f<=_0x69e77c;_0x6dfc1f++){const _0x2b3746=new Canvas();JsBarcode(_0x2b3746,_0x5df1de,{'format':_0x142353(0x193),'height':_0x233731['height'],'displayValue':!![],'text':_0x5df1de});const _0x499a59=_0x2b3746[_0x142353(0x127)](),_0x1a4ad9=_0x1c165e[_0x142353(0x1c0)]/_0x233731[_0x142353(0x1c0)],_0x55bbb7=_0x1c165e[_0x142353(0x1a0)]/_0x233731[_0x142353(0x1a0)],_0xd3f2d0=Math[_0x142353(0x121)](_0x1a4ad9,_0x55bbb7),_0x1aa6d0=_0x233731['width']*_0xd3f2d0,_0x4a1652=_0x233731[_0x142353(0x1a0)]*_0xd3f2d0,_0x596b64=(_0x1c165e[_0x142353(0x1c0)]-_0x1aa6d0)/0x2,_0x422cbe=(_0x1c165e[_0x142353(0x1a0)]-_0x4a1652)/0x2;_0x1c1e2c[_0x142353(0x12a)](_0x499a59,_0x596b64,_0x422cbe,{'width':_0x1aa6d0,'height':_0x4a1652}),_0x6dfc1f!=_0x69e77c&&_0x1c1e2c[_0x142353(0x1ac)]();}const _0x1c7904=[];_0x1c1e2c['on'](_0x142353(0x1b5),_0x1c7904['push'][_0x142353(0x117)](_0x1c7904)),_0x1c1e2c['on'](_0x142353(0x170),()=>{const _0x38c11e=_0x142353,_0xb1d102=Buffer[_0x38c11e(0x168)](_0x1c7904),_0x1c4570=_0xb1d102[_0x38c11e(0x140)](_0x38c11e(0x18c));_0x57e117[_0x38c11e(0x1be)]({'pdfContent':_0x1c4570});}),_0x1c1e2c[_0x142353(0x170)]();}catch(_0x1b9172){_0x57e117[_0x142353(0x1be)]({'message':_0x1b9172[_0x142353(0x1b9)]});}}),module[a0_0x3ba257(0x1aa)]=router;