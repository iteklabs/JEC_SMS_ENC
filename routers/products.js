function a0_0x11d9(_0x338450,_0x5639cd){const _0x25f241=a0_0x25f2();return a0_0x11d9=function(_0x11d975,_0x100ca1){_0x11d975=_0x11d975-0x105;let _0x58d6ef=_0x25f241[_0x11d975];return _0x58d6ef;},a0_0x11d9(_0x338450,_0x5639cd);}const a0_0x3112a9=a0_0x11d9;(function(_0x27a2c5,_0x5dd699){const _0x4fc776=a0_0x11d9,_0x1d4013=_0x27a2c5();while(!![]){try{const _0x58c104=parseInt(_0x4fc776(0x1b7))/0x1+parseInt(_0x4fc776(0x134))/0x2+parseInt(_0x4fc776(0x138))/0x3*(parseInt(_0x4fc776(0x167))/0x4)+-parseInt(_0x4fc776(0x17f))/0x5+parseInt(_0x4fc776(0x15d))/0x6+-parseInt(_0x4fc776(0x14e))/0x7+-parseInt(_0x4fc776(0x1be))/0x8;if(_0x58c104===_0x5dd699)break;else _0x1d4013['push'](_0x1d4013['shift']());}catch(_0x3d4f50){_0x1d4013['push'](_0x1d4013['shift']());}}}(a0_0x25f2,0xb2e54));const express=require('express'),res=require('express/lib/response'),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x3112a9(0x18f)),auth=require(a0_0x3112a9(0x146)),users=require(a0_0x3112a9(0x165)),excelJS=require(a0_0x3112a9(0x173)),xlsx=require('xlsx'),JsBarcode=require(a0_0x3112a9(0x1ad)),{Canvas}=require(a0_0x3112a9(0x1ae)),PDFDocument=require(a0_0x3112a9(0x132));router[a0_0x3112a9(0x106)](a0_0x3112a9(0x148),auth,async(_0x77d0e0,_0x1b9a4d)=>{const _0xdb78b0=a0_0x3112a9;try{const {username:_0x2cce68,email:_0x3e9b2b,role:_0xdd53dc}=_0x77d0e0[_0xdb78b0(0x16e)],_0x5379b2=_0x77d0e0[_0xdb78b0(0x16e)],_0x59b299=await profile[_0xdb78b0(0x1ba)]({'email':_0x5379b2['email']}),_0x4445e8=await master_shop[_0xdb78b0(0x155)]();console[_0xdb78b0(0x193)](_0xdb78b0(0x1a8),_0x4445e8);const _0xe56cf9=await categories[_0xdb78b0(0x155)]();if(_0x4445e8[0x0][_0xdb78b0(0x199)]==_0xdb78b0(0x122))var _0x4b48db=users['English'];else{if(_0x4445e8[0x0][_0xdb78b0(0x199)]=='Hindi')var _0x4b48db=users[_0xdb78b0(0x149)];else{if(_0x4445e8[0x0][_0xdb78b0(0x199)]==_0xdb78b0(0x19d))var _0x4b48db=users[_0xdb78b0(0x19d)];else{if(_0x4445e8[0x0]['language']==_0xdb78b0(0x14f))var _0x4b48db=users[_0xdb78b0(0x14f)];else{if(_0x4445e8[0x0]['language']==_0xdb78b0(0x111))var _0x4b48db=users[_0xdb78b0(0x111)];else{if(_0x4445e8[0x0][_0xdb78b0(0x199)]=='Portuguese\x20(BR)')var _0x4b48db=users[_0xdb78b0(0x1bd)];else{if(_0x4445e8[0x0]['language']==_0xdb78b0(0x1b2))var _0x4b48db=users[_0xdb78b0(0x1b2)];else{if(_0x4445e8[0x0][_0xdb78b0(0x199)]==_0xdb78b0(0x175))var _0x4b48db=users[_0xdb78b0(0x115)];}}}}}}}_0x1b9a4d[_0xdb78b0(0x16f)](_0xdb78b0(0x156),{'success':_0x77d0e0[_0xdb78b0(0x182)](_0xdb78b0(0x16a)),'errors':_0x77d0e0[_0xdb78b0(0x182)](_0xdb78b0(0x113)),'role':_0x5379b2,'profile':_0x59b299,'user':_0xe56cf9,'master_shop':_0x4445e8,'language':_0x4b48db});}catch(_0x982829){console[_0xdb78b0(0x193)](_0x982829);}}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x148),auth,async(_0x3b32ea,_0x1a85ae)=>{const _0x1d2811=a0_0x3112a9;try{const {name:_0x5284dc,products:_0x3142e2}=_0x3b32ea['body'],_0x98da69=new categories({'name':_0x5284dc,'products':_0x3142e2}),_0xeb409=await categories[_0x1d2811(0x1ba)]({'name':_0x5284dc});_0xeb409?_0x3b32ea[_0x1d2811(0x182)](_0x1d2811(0x113),_0x5284dc+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x3b32ea['flash']('success',_0x5284dc+_0x1d2811(0x141));const _0x45373c=await _0x98da69[_0x1d2811(0x15b)]();_0x1a85ae[_0x1d2811(0x164)](_0x1d2811(0x147));}catch(_0x184e4e){console['log'](_0x184e4e);}}),router['get'](a0_0x3112a9(0x105),auth,async(_0x193f64,_0x4b6d26)=>{const _0x2aa384=a0_0x3112a9;try{const {username:_0x117d26,email:_0x49c8b0,role:_0x3d9e31}=_0x193f64[_0x2aa384(0x16e)],_0x452fda=_0x193f64[_0x2aa384(0x16e)],_0x33a462=await profile[_0x2aa384(0x1ba)]({'email':_0x452fda[_0x2aa384(0x11f)]}),_0x1e5e54=await master_shop['find']();console[_0x2aa384(0x193)](_0x2aa384(0x1a8),_0x1e5e54);const _0x335896=_0x193f64[_0x2aa384(0x12c)]['id'];console[_0x2aa384(0x193)](_0x335896);const _0xaa78c8=await categories[_0x2aa384(0x142)](_0x335896);if(_0x1e5e54[0x0][_0x2aa384(0x199)]=='English\x20(US)')var _0x1835e9=users[_0x2aa384(0x191)];else{if(_0x1e5e54[0x0][_0x2aa384(0x199)]==_0x2aa384(0x149))var _0x1835e9=users[_0x2aa384(0x149)];else{if(_0x1e5e54[0x0][_0x2aa384(0x199)]=='German')var _0x1835e9=users[_0x2aa384(0x19d)];else{if(_0x1e5e54[0x0][_0x2aa384(0x199)]==_0x2aa384(0x14f))var _0x1835e9=users[_0x2aa384(0x14f)];else{if(_0x1e5e54[0x0]['language']==_0x2aa384(0x111))var _0x1835e9=users[_0x2aa384(0x111)];else{if(_0x1e5e54[0x0][_0x2aa384(0x199)]==_0x2aa384(0x1b4))var _0x1835e9=users[_0x2aa384(0x1bd)];else{if(_0x1e5e54[0x0][_0x2aa384(0x199)]==_0x2aa384(0x1b2))var _0x1835e9=users[_0x2aa384(0x1b2)];else{if(_0x1e5e54[0x0]['language']==_0x2aa384(0x175))var _0x1835e9=users[_0x2aa384(0x115)];}}}}}}}_0x4b6d26[_0x2aa384(0x16f)]('categories',{'success':_0x193f64[_0x2aa384(0x182)]('success'),'errors':_0x193f64[_0x2aa384(0x182)](_0x2aa384(0x113)),'role':_0x452fda,'profile':_0x33a462,'master_shop':_0x1e5e54,'user':_0xaa78c8,'language':_0x1835e9});}catch(_0x242c85){console[_0x2aa384(0x193)](_0x242c85);}}),router[a0_0x3112a9(0x15f)]('/categories/:id',auth,async(_0x3937c3,_0x2e40b1)=>{const _0x355a91=a0_0x3112a9;try{const _0x477045=_0x3937c3[_0x355a91(0x12c)]['id'],_0x2fa421=await categories[_0x355a91(0x10f)](_0x477045,_0x3937c3['body']);_0x3937c3[_0x355a91(0x182)](_0x355a91(0x16a),''+users[_0x355a91(0x130)]),_0x2e40b1[_0x355a91(0x164)](_0x355a91(0x147));}catch(_0x378e00){console['log'](_0x378e00);}}),router['get'](a0_0x3112a9(0x17e),auth,async(_0x2598f7,_0x5a6a23)=>{const _0x5c7ab9=a0_0x3112a9;try{const _0x5366fe=_0x2598f7[_0x5c7ab9(0x12c)]['id'],_0x245ee0=await categories['findByIdAndDelete'](_0x5366fe);_0x2598f7[_0x5c7ab9(0x182)](_0x5c7ab9(0x16a),_0x5c7ab9(0x187)),_0x5a6a23['redirect']('/products/categories');}catch(_0x2f3658){console[_0x5c7ab9(0x193)](_0x2f3658);}}),router[a0_0x3112a9(0x106)](a0_0x3112a9(0x17c),auth,async(_0x17ba5c,_0x22411a)=>{const _0x33ed92=a0_0x3112a9;try{const {username:_0x2cee6d,email:_0x109270,role:_0x3b65ab}=_0x17ba5c[_0x33ed92(0x16e)],_0x3fc85a=_0x17ba5c['user'],_0x3aa677=await profile['findOne']({'email':_0x3fc85a['email']}),_0x5709bd=await master_shop['find']();console[_0x33ed92(0x193)](_0x33ed92(0x1a8),_0x5709bd);const _0x1575e0=await brands['find']();if(_0x5709bd[0x0][_0x33ed92(0x199)]==_0x33ed92(0x122))var _0x418902=users[_0x33ed92(0x191)];else{if(_0x5709bd[0x0]['language']==_0x33ed92(0x149))var _0x418902=users[_0x33ed92(0x149)];else{if(_0x5709bd[0x0][_0x33ed92(0x199)]=='German')var _0x418902=users[_0x33ed92(0x19d)];else{if(_0x5709bd[0x0][_0x33ed92(0x199)]==_0x33ed92(0x14f))var _0x418902=users[_0x33ed92(0x14f)];else{if(_0x5709bd[0x0]['language']==_0x33ed92(0x111))var _0x418902=users['French'];else{if(_0x5709bd[0x0][_0x33ed92(0x199)]==_0x33ed92(0x1b4))var _0x418902=users[_0x33ed92(0x1bd)];else{if(_0x5709bd[0x0][_0x33ed92(0x199)]==_0x33ed92(0x1b2))var _0x418902=users[_0x33ed92(0x1b2)];else{if(_0x5709bd[0x0][_0x33ed92(0x199)]==_0x33ed92(0x175))var _0x418902=users[_0x33ed92(0x115)];}}}}}}}_0x22411a['render'](_0x33ed92(0x123),{'success':_0x17ba5c['flash']('success'),'errors':_0x17ba5c[_0x33ed92(0x182)](_0x33ed92(0x113)),'role':_0x3fc85a,'profile':_0x3aa677,'master_shop':_0x5709bd,'user':_0x1575e0,'language':_0x418902});}catch(_0x2e8640){console[_0x33ed92(0x193)](_0x2e8640);}}),router['post'](a0_0x3112a9(0x17c),auth,async(_0x56607c,_0x4fc352)=>{const _0x85cc3=a0_0x3112a9;try{const {name:_0x9e4a4d,products:_0x2bbb94}=_0x56607c[_0x85cc3(0x18c)],_0x14dfb0=new brands({'name':_0x9e4a4d,'products':_0x2bbb94}),_0x451a42=await brands[_0x85cc3(0x1ba)]({'name':_0x9e4a4d});_0x451a42?_0x56607c[_0x85cc3(0x182)]('errors',_0x9e4a4d+_0x85cc3(0x10c)):_0x56607c[_0x85cc3(0x182)](_0x85cc3(0x16a),_0x9e4a4d+_0x85cc3(0x157));const _0x4f9904=await _0x14dfb0[_0x85cc3(0x15b)]();_0x4fc352[_0x85cc3(0x164)]('/products/brands');}catch(_0x5c7f15){console[_0x85cc3(0x193)](_0x5c7f15);}}),router[a0_0x3112a9(0x106)](a0_0x3112a9(0x181),auth,async(_0x5a6253,_0x167459)=>{const _0x29c703=a0_0x3112a9;try{const {username:_0x36044b,email:_0x3c09ff,role:_0x1666a8}=_0x5a6253[_0x29c703(0x16e)],_0x3ac258=_0x5a6253[_0x29c703(0x16e)],_0x4810b2=await profile[_0x29c703(0x1ba)]({'email':_0x3ac258[_0x29c703(0x11f)]}),_0x1565b8=await master_shop[_0x29c703(0x155)]();console[_0x29c703(0x193)](_0x29c703(0x1a8),_0x1565b8);const _0x28a3bf=_0x5a6253[_0x29c703(0x12c)]['id'];console[_0x29c703(0x193)](_0x28a3bf);const _0x35ccf8=await brands[_0x29c703(0x142)](_0x28a3bf);if(_0x1565b8[0x0][_0x29c703(0x199)]==_0x29c703(0x122))var _0x5639d8=users[_0x29c703(0x191)];else{if(_0x1565b8[0x0][_0x29c703(0x199)]==_0x29c703(0x149))var _0x5639d8=users[_0x29c703(0x149)];else{if(_0x1565b8[0x0][_0x29c703(0x199)]=='German')var _0x5639d8=users['German'];else{if(_0x1565b8[0x0]['language']==_0x29c703(0x14f))var _0x5639d8=users[_0x29c703(0x14f)];else{if(_0x1565b8[0x0][_0x29c703(0x199)]==_0x29c703(0x111))var _0x5639d8=users[_0x29c703(0x111)];else{if(_0x1565b8[0x0][_0x29c703(0x199)]==_0x29c703(0x1b4))var _0x5639d8=users[_0x29c703(0x1bd)];else{if(_0x1565b8[0x0][_0x29c703(0x199)]==_0x29c703(0x1b2))var _0x5639d8=users[_0x29c703(0x1b2)];else{if(_0x1565b8[0x0][_0x29c703(0x199)]==_0x29c703(0x175))var _0x5639d8=users[_0x29c703(0x115)];}}}}}}}_0x167459[_0x29c703(0x16f)](_0x29c703(0x123),{'success':_0x5a6253[_0x29c703(0x182)](_0x29c703(0x16a)),'errors':_0x5a6253[_0x29c703(0x182)](_0x29c703(0x113)),'role':_0x3ac258,'profile':_0x4810b2,'master_shop':_0x1565b8,'user':_0x35ccf8,'language':_0x5639d8});}catch(_0xfd548a){console[_0x29c703(0x193)](_0xfd548a);}}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x181),auth,async(_0x1e0c82,_0x243832)=>{const _0x56100c=a0_0x3112a9;try{const _0x3b4725=_0x1e0c82[_0x56100c(0x12c)]['id'],_0x351191=await brands[_0x56100c(0x10f)](_0x3b4725,_0x1e0c82[_0x56100c(0x18c)]);_0x1e0c82[_0x56100c(0x182)]('success',_0x56100c(0x11b)),_0x243832['redirect'](_0x56100c(0x172));}catch(_0x26afac){console[_0x56100c(0x193)](_0x26afac);}}),router[a0_0x3112a9(0x106)](a0_0x3112a9(0x178),auth,async(_0x44d030,_0x3c2bca)=>{const _0x424c4a=a0_0x3112a9;try{const _0x14606a=_0x44d030['params']['id'],_0x23fedf=await brands['findByIdAndDelete'](_0x14606a);_0x44d030[_0x424c4a(0x182)]('success','brand\x20data\x20delete\x20successfully'),_0x3c2bca[_0x424c4a(0x164)](_0x424c4a(0x172));}catch(_0x315872){console['log'](_0x315872);}}),router[a0_0x3112a9(0x106)]('/units',auth,async(_0x15e435,_0x147904)=>{const _0x159ac2=a0_0x3112a9;try{const {username:_0x2c8c45,email:_0x31dd48,role:_0x161569}=_0x15e435[_0x159ac2(0x16e)],_0xd81e2c=_0x15e435['user'],_0x236641=await profile[_0x159ac2(0x1ba)]({'email':_0xd81e2c[_0x159ac2(0x11f)]}),_0xa45600=await master_shop[_0x159ac2(0x155)]();console[_0x159ac2(0x193)](_0x159ac2(0x1a8),_0xa45600);const _0x437b01=await units['find']();if(_0xa45600[0x0][_0x159ac2(0x199)]==_0x159ac2(0x122))var _0x2b3fac=users[_0x159ac2(0x191)];else{if(_0xa45600[0x0]['language']==_0x159ac2(0x149))var _0x2b3fac=users['Hindi'];else{if(_0xa45600[0x0]['language']==_0x159ac2(0x19d))var _0x2b3fac=users[_0x159ac2(0x19d)];else{if(_0xa45600[0x0]['language']==_0x159ac2(0x14f))var _0x2b3fac=users[_0x159ac2(0x14f)];else{if(_0xa45600[0x0][_0x159ac2(0x199)]==_0x159ac2(0x111))var _0x2b3fac=users['French'];else{if(_0xa45600[0x0][_0x159ac2(0x199)]==_0x159ac2(0x1b4))var _0x2b3fac=users[_0x159ac2(0x1bd)];else{if(_0xa45600[0x0]['language']=='Chinese')var _0x2b3fac=users[_0x159ac2(0x1b2)];else{if(_0xa45600[0x0][_0x159ac2(0x199)]==_0x159ac2(0x175))var _0x2b3fac=users['Arabic'];}}}}}}}_0x147904[_0x159ac2(0x16f)]('units',{'success':_0x15e435['flash']('success'),'errors':_0x15e435[_0x159ac2(0x182)](_0x159ac2(0x113)),'role':_0xd81e2c,'profile':_0x236641,'master_shop':_0xa45600,'user':_0x437b01,'language':_0x2b3fac});}catch(_0x8be559){console[_0x159ac2(0x193)](_0x8be559);}}),router['post'](a0_0x3112a9(0x18b),auth,async(_0x405755,_0x2222a0)=>{const _0x5e0ea5=a0_0x3112a9;try{const {name:_0x235875,secondary_unit:_0xd884b2,products:_0x25ef4b}=_0x405755[_0x5e0ea5(0x18c)],_0x2906d0=new units({'name':_0x235875,'secondary_unit':_0xd884b2,'products':_0x25ef4b}),_0x150d16=await units[_0x5e0ea5(0x1ba)]({'name':_0x235875});_0x150d16?_0x405755['flash'](_0x5e0ea5(0x113),_0x235875+_0x5e0ea5(0x13d)):_0x405755[_0x5e0ea5(0x182)](_0x5e0ea5(0x16a),_0x235875+'\x20unit\x20is\x20add\x20successfully');const _0x41d301=await _0x2906d0[_0x5e0ea5(0x15b)]();_0x2222a0[_0x5e0ea5(0x164)](_0x5e0ea5(0x177));}catch(_0xdee26e){console[_0x5e0ea5(0x193)](_0xdee26e);}}),router[a0_0x3112a9(0x106)](a0_0x3112a9(0x13f),auth,async(_0x23418e,_0x3e50ea)=>{const _0x302e8b=a0_0x3112a9;try{const {username:_0x506368,email:_0x9e7d82,role:_0x5126e7}=_0x23418e[_0x302e8b(0x16e)],_0x3a89a6=_0x23418e[_0x302e8b(0x16e)],_0x3f3eeb=await profile[_0x302e8b(0x1ba)]({'email':_0x3a89a6[_0x302e8b(0x11f)]}),_0x3151f1=await master_shop[_0x302e8b(0x155)]();console['log'](_0x302e8b(0x1a8),_0x3151f1);const _0xdbc642=_0x23418e[_0x302e8b(0x12c)]['id'],_0x59ed02=await units['findById'](_0xdbc642);if(_0x3151f1[0x0][_0x302e8b(0x199)]==_0x302e8b(0x122))var _0x222e6e=users['English'];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]==_0x302e8b(0x149))var _0x222e6e=users[_0x302e8b(0x149)];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]==_0x302e8b(0x19d))var _0x222e6e=users[_0x302e8b(0x19d)];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]=='Spanish')var _0x222e6e=users['Spanish'];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]==_0x302e8b(0x111))var _0x222e6e=users[_0x302e8b(0x111)];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]==_0x302e8b(0x1b4))var _0x222e6e=users[_0x302e8b(0x1bd)];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]=='Chinese')var _0x222e6e=users[_0x302e8b(0x1b2)];else{if(_0x3151f1[0x0][_0x302e8b(0x199)]=='Arabic\x20(ae)')var _0x222e6e=users[_0x302e8b(0x115)];}}}}}}}_0x3e50ea[_0x302e8b(0x16f)](_0x302e8b(0x196),{'success':_0x23418e[_0x302e8b(0x182)](_0x302e8b(0x16a)),'errors':_0x23418e[_0x302e8b(0x182)]('errors'),'role':_0x3a89a6,'profile':_0x3f3eeb,'master_shop':_0x3151f1,'user':_0x59ed02,'language':_0x222e6e});}catch(_0x56ac1b){console['log'](_0x56ac1b);}}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x13f),auth,async(_0x5781a1,_0x476758)=>{const _0x58cebd=a0_0x3112a9;try{const _0x364eb4=_0x5781a1[_0x58cebd(0x12c)]['id'],_0xe6a3a0=await units[_0x58cebd(0x10f)](_0x364eb4,_0x5781a1[_0x58cebd(0x18c)]);_0x5781a1[_0x58cebd(0x182)]('success',_0x58cebd(0x1b8)),_0x476758[_0x58cebd(0x164)](_0x58cebd(0x177));}catch(_0x504ec8){console['log'](_0x504ec8);}}),router[a0_0x3112a9(0x106)]('/units/delete/:id',auth,async(_0xd3fa83,_0x44daab)=>{const _0xff71e5=a0_0x3112a9;try{const _0x4469fc=_0xd3fa83['params']['id'],_0x13827e=await units['findByIdAndDelete'](_0x4469fc);_0xd3fa83[_0xff71e5(0x182)](_0xff71e5(0x16a),_0xff71e5(0x185)),_0x44daab['redirect'](_0xff71e5(0x177));}catch(_0x4b8e4d){console[_0xff71e5(0x193)](_0x4b8e4d);}});const storage=multer[a0_0x3112a9(0x107)]({'destination':(_0x42c6b9,_0x36d47b,_0x3d7df4)=>{_0x3d7df4(null,'public/upload');},'filename':(_0xa3dd98,_0x3b4512,_0x439d88)=>{_0x439d88(null,Date['now']()+_0x3b4512['originalname']);}}),upload=multer({'storage':storage});router[a0_0x3112a9(0x106)](a0_0x3112a9(0x168),auth,async(_0x3d3ef6,_0x2ab741)=>{const _0x5b41da=a0_0x3112a9;try{const {username:_0x2540f6,email:_0x28bd62,role:_0x4f9e03}=_0x3d3ef6[_0x5b41da(0x16e)],_0x512fcc=_0x3d3ef6['user'],_0x148b43=await profile['findOne']({'email':_0x512fcc[_0x5b41da(0x11f)]}),_0xa1079d={'year':_0x5b41da(0x19e),'month':'long','day':_0x5b41da(0x19e)},_0x14910b=await master_shop[_0x5b41da(0x155)]();console['log'](_0x5b41da(0x110),_0x14910b);const _0x2eb183=await product[_0x5b41da(0x155)]();console[_0x5b41da(0x193)](_0x5b41da(0x1bf),_0x2eb183);const _0xdbe9f6=await warehouse[_0x5b41da(0x136)]([{'$unwind':_0x5b41da(0x114)},{'$lookup':{'from':_0x5b41da(0x18e),'localField':'product_details.product_name','foreignField':'name','as':_0x5b41da(0x180)}},{'$unwind':_0x5b41da(0x183)},{'$project':{'product_name':_0x5b41da(0x12b),'product_stock':'$product_details.product_stock'}},{'$group':{'_id':_0x5b41da(0x17b),'product_stock':{'$sum':_0x5b41da(0x129)}}}]);console[_0x5b41da(0x193)](_0x5b41da(0x158),_0xdbe9f6),_0xdbe9f6[_0x5b41da(0x126)](_0x1bd48e=>{const _0x9de2a1=_0x5b41da,_0x1df96c=_0x2eb183[_0x9de2a1(0x12d)](_0x1c3a1a=>{const _0x5a6c82=_0x9de2a1;_0x1c3a1a['name']==_0x1bd48e[_0x5a6c82(0x124)]&&(_0x1c3a1a['stock']=parseInt(_0x1c3a1a[_0x5a6c82(0x166)])+parseInt(_0x1bd48e[_0x5a6c82(0x162)]));});}),console[_0x5b41da(0x193)](_0x5b41da(0x1bf),_0x2eb183);if(_0x14910b[0x0][_0x5b41da(0x199)]==_0x5b41da(0x122))var _0x5ba6f7=users[_0x5b41da(0x191)];else{if(_0x14910b[0x0][_0x5b41da(0x199)]==_0x5b41da(0x149))var _0x5ba6f7=users[_0x5b41da(0x149)];else{if(_0x14910b[0x0][_0x5b41da(0x199)]==_0x5b41da(0x19d))var _0x5ba6f7=users[_0x5b41da(0x19d)];else{if(_0x14910b[0x0]['language']==_0x5b41da(0x14f))var _0x5ba6f7=users[_0x5b41da(0x14f)];else{if(_0x14910b[0x0]['language']==_0x5b41da(0x111))var _0x5ba6f7=users[_0x5b41da(0x111)];else{if(_0x14910b[0x0][_0x5b41da(0x199)]==_0x5b41da(0x1b4))var _0x5ba6f7=users[_0x5b41da(0x1bd)];else{if(_0x14910b[0x0][_0x5b41da(0x199)]==_0x5b41da(0x1b2))var _0x5ba6f7=users[_0x5b41da(0x1b2)];else{if(_0x14910b[0x0][_0x5b41da(0x199)]==_0x5b41da(0x175))var _0x5ba6f7=users['Arabic'];}}}}}}}_0x2ab741[_0x5b41da(0x16f)](_0x5b41da(0x18e),{'success':_0x3d3ef6[_0x5b41da(0x182)](_0x5b41da(0x16a)),'errors':_0x3d3ef6[_0x5b41da(0x182)]('errors'),'alldata':_0x2eb183,'profile':_0x148b43,'master_shop':_0x14910b,'role':_0x512fcc,'product_stock':_0xdbe9f6,'language':_0x5ba6f7});}catch(_0x23f321){console['log'](_0x23f321);}}),router[a0_0x3112a9(0x106)]('/view/add_products',auth,async(_0x5683cf,_0x4eed89)=>{const _0x8b7403=a0_0x3112a9;try{const {username:_0x1c953d,email:_0x1f7f2c,role:_0x1e7440}=_0x5683cf['user'],_0x3f7e87=_0x5683cf['user'],_0x37df64=await profile[_0x8b7403(0x1ba)]({'email':_0x3f7e87[_0x8b7403(0x11f)]}),_0x494808=await master_shop[_0x8b7403(0x155)]();console[_0x8b7403(0x193)](_0x8b7403(0x1a8),_0x494808);const _0x4e2363=await categories['find']({}),_0x632e41=await brands[_0x8b7403(0x155)]({}),_0x24b77a=await units[_0x8b7403(0x155)]({}),_0x76de73=await warehouse[_0x8b7403(0x155)]({'status':'Enabled'});if(_0x494808[0x0][_0x8b7403(0x199)]==_0x8b7403(0x122))var _0x3ac989=users[_0x8b7403(0x191)];else{if(_0x494808[0x0]['language']==_0x8b7403(0x149))var _0x3ac989=users['Hindi'];else{if(_0x494808[0x0][_0x8b7403(0x199)]==_0x8b7403(0x19d))var _0x3ac989=users[_0x8b7403(0x19d)];else{if(_0x494808[0x0][_0x8b7403(0x199)]==_0x8b7403(0x14f))var _0x3ac989=users[_0x8b7403(0x14f)];else{if(_0x494808[0x0]['language']=='French')var _0x3ac989=users[_0x8b7403(0x111)];else{if(_0x494808[0x0][_0x8b7403(0x199)]==_0x8b7403(0x1b4))var _0x3ac989=users[_0x8b7403(0x1bd)];else{if(_0x494808[0x0][_0x8b7403(0x199)]=='Chinese')var _0x3ac989=users[_0x8b7403(0x1b2)];else{if(_0x494808[0x0][_0x8b7403(0x199)]=='Arabic\x20(ae)')var _0x3ac989=users['Arabic'];}}}}}}}_0x4eed89[_0x8b7403(0x16f)]('add_product',{'success':_0x5683cf[_0x8b7403(0x182)](_0x8b7403(0x16a)),'errors':_0x5683cf[_0x8b7403(0x182)](_0x8b7403(0x113)),'role':_0x3f7e87,'profile':_0x37df64,'categories':_0x4e2363,'brands':_0x632e41,'master_shop':_0x494808,'units':_0x24b77a,'language':_0x3ac989,'find_data':_0x76de73});}catch(_0x37e505){console[_0x8b7403(0x193)](_0x37e505);}}),router['post'](a0_0x3112a9(0x1ac),auth,upload[a0_0x3112a9(0x13e)](a0_0x3112a9(0x184)),async(_0x3f3f65,_0xdc6a43)=>{const _0x155c8c=a0_0x3112a9;try{const {name:_0x557764,category:_0x5c01fa,brand:_0x3f023f,unit:_0x5900ae,alertquantity:_0x12593d,stock:_0x44e827,product_code:_0x33073c,warehouse:_0xd73607,primary_ItemCode:_0x185732,second_ItemCode:_0x58d09f,second_unit:_0x1a146b,maxPerUnit:_0x19e537,MaxPerProduct:_0xf30abf,sales_cat:_0x5e41e2,type_prod:_0xcbfc3e}=_0x3f3f65[_0x155c8c(0x18c)],_0x46e7df=_0x3f3f65[_0x155c8c(0x10e)]?.[_0x155c8c(0x197)]||_0x155c8c(0x1c2),_0x5b231c=new product({'image':_0x46e7df,'name':_0x557764,'category':_0x5c01fa,'brand':_0x3f023f,'unit':_0x5900ae,'alertquantity':_0x12593d,'stock':_0x44e827,'product_code':_0x33073c,'warehouse':_0xd73607,'primary_code':_0x185732,'secondary_code':_0x58d09f,'second_unit':_0x1a146b,'maxStocks':_0xf30abf,'maxProdPerUnit':_0x19e537,'sales_category':_0x5e41e2,'type_products':_0xcbfc3e}),_0xee9c35=await _0x5b231c['save'](),_0x2c8d3b=await categories['findOne']({'name':_0x5c01fa});_0x2c8d3b[_0x155c8c(0x18e)]=parseInt(_0x2c8d3b[_0x155c8c(0x18e)])+0x1,await _0x2c8d3b[_0x155c8c(0x15b)]();const _0x55733e=await brands[_0x155c8c(0x1ba)]({'name':_0x3f023f});_0x55733e[_0x155c8c(0x18e)]=parseInt(_0x55733e[_0x155c8c(0x18e)])+0x1,await _0x55733e['save']();const _0x154b6b=await units[_0x155c8c(0x1ba)]({'name':_0x5900ae});_0x154b6b[_0x155c8c(0x18e)]=parseInt(_0x154b6b[_0x155c8c(0x18e)])+0x1,await _0x154b6b[_0x155c8c(0x15b)](),_0x3f3f65[_0x155c8c(0x182)](_0x155c8c(0x16a),_0x155c8c(0x119)),_0xdc6a43[_0x155c8c(0x164)](_0x155c8c(0x151));}catch(_0x4dfeac){console[_0x155c8c(0x193)](_0x4dfeac);}}),router[a0_0x3112a9(0x106)](a0_0x3112a9(0x1a9),auth,async(_0x4ca312,_0xf4e703)=>{const _0xcf2908=a0_0x3112a9;try{const {username:_0x1a2ffd,email:_0x3ac6f0,role:_0x136349}=_0x4ca312[_0xcf2908(0x16e)],_0x2b47a0=_0x4ca312[_0xcf2908(0x16e)],_0x4033af=await profile[_0xcf2908(0x1ba)]({'email':_0x2b47a0[_0xcf2908(0x11f)]}),_0x2fe165=await master_shop[_0xcf2908(0x155)]();console['log'](_0xcf2908(0x11d),_0x2fe165);const _0x45dcbb=_0x4ca312[_0xcf2908(0x12c)]['id'],_0x48e56a=await product[_0xcf2908(0x142)](_0x45dcbb),_0x344903=await categories[_0xcf2908(0x155)]({}),_0xac8a93=await brands['find']({}),_0x4acdec=await units[_0xcf2908(0x155)]({}),_0x523086=await warehouse[_0xcf2908(0x155)]({'status':_0xcf2908(0x128)}),_0x3e2713=await units[_0xcf2908(0x136)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':_0xcf2908(0x153)}}}]);if(_0x2fe165[0x0]['language']==_0xcf2908(0x122))var _0xa5e95=users[_0xcf2908(0x191)];else{if(_0x2fe165[0x0][_0xcf2908(0x199)]==_0xcf2908(0x149))var _0xa5e95=users[_0xcf2908(0x149)];else{if(_0x2fe165[0x0][_0xcf2908(0x199)]=='German')var _0xa5e95=users[_0xcf2908(0x19d)];else{if(_0x2fe165[0x0][_0xcf2908(0x199)]==_0xcf2908(0x14f))var _0xa5e95=users[_0xcf2908(0x14f)];else{if(_0x2fe165[0x0]['language']==_0xcf2908(0x111))var _0xa5e95=users['French'];else{if(_0x2fe165[0x0][_0xcf2908(0x199)]==_0xcf2908(0x1b4))var _0xa5e95=users[_0xcf2908(0x1bd)];else{if(_0x2fe165[0x0]['language']==_0xcf2908(0x1b2))var _0xa5e95=users[_0xcf2908(0x1b2)];else{if(_0x2fe165[0x0][_0xcf2908(0x199)]==_0xcf2908(0x175))var _0xa5e95=users[_0xcf2908(0x115)];}}}}}}}_0xf4e703[_0xcf2908(0x16f)]('edit_product',{'success':_0x4ca312[_0xcf2908(0x182)](_0xcf2908(0x16a)),'errors':_0x4ca312['flash']('errors'),'role':_0x2b47a0,'profile':_0x4033af,'alldata':_0x48e56a,'categories':_0x344903,'brands':_0xac8a93,'master_shop':_0x2fe165,'units':_0x4acdec,'secondunit':_0x3e2713,'find_data':_0x523086,'language':_0xa5e95});}catch(_0x3f6b9a){console[_0xcf2908(0x193)](_0x3f6b9a);}}),router['post'](a0_0x3112a9(0x1a9),auth,upload[a0_0x3112a9(0x13e)]('image'),async(_0x380471,_0x341413)=>{const _0x3998a6=a0_0x3112a9;try{const _0x37008c=_0x380471[_0x3998a6(0x12c)]['id'],_0x20d922=await product[_0x3998a6(0x142)](_0x37008c),{image:_0x1e1652,name:_0x1d77e4,category:_0x3bd767,brand:_0x478419,sku:_0x2cb6c5,unit:_0x24a7cd,alertquantity:_0x29bfde,product_code:_0x877bcc,warehouse:_0x508730,primary_ItemCode:_0xfac0e7,second_ItemCode:_0x1a6440,second_unit:_0xa3f69e,maxPerUnit:_0x7eefec,MaxPerProduct:_0x10e834,prod_catdata:_0x46fd32,type_prod:_0x387f4a,sales_cat:_0x156877}=_0x380471[_0x3998a6(0x18c)];_0x380471['file']&&(_0x20d922['image']=_0x380471[_0x3998a6(0x10e)]['filename']);_0x20d922[_0x3998a6(0x169)]=_0x1d77e4,_0x20d922['category']=_0x3bd767,_0x20d922[_0x3998a6(0x186)]=_0x478419,_0x20d922[_0x3998a6(0x19f)]=_0x2cb6c5,_0x20d922[_0x3998a6(0x1bc)]=_0x24a7cd,_0x20d922[_0x3998a6(0x19c)]=_0x29bfde,_0x20d922[_0x3998a6(0x137)]=_0x877bcc,_0x20d922[_0x3998a6(0x16c)]=_0x508730,_0x20d922[_0x3998a6(0x190)]=_0xfac0e7,_0x20d922['secondary_code']=_0x1a6440,_0x20d922[_0x3998a6(0x14a)]=_0xa3f69e,_0x20d922[_0x3998a6(0x1a6)]=_0x10e834,_0x20d922['maxProdPerUnit']=_0x7eefec,_0x20d922[_0x3998a6(0x12a)]=_0x46fd32,_0x20d922[_0x3998a6(0x11e)]=_0x387f4a,_0x20d922[_0x3998a6(0x108)]=_0x156877;const _0x1561e2=await _0x20d922['save']();console[_0x3998a6(0x193)](_0x3998a6(0x14c),_0x20d922),_0x380471[_0x3998a6(0x182)](_0x3998a6(0x16a),'product\x20update\x20successfully'),_0x341413[_0x3998a6(0x164)](_0x3998a6(0x151));}catch(_0x32ba57){console[_0x3998a6(0x193)](_0x32ba57);}}),router[a0_0x3112a9(0x106)]('/barcode/:id',auth,async(_0x8ed1fb,_0x4efe01)=>{const _0x5e827d=a0_0x3112a9;try{const {username:_0x2b70a5,email:_0x411079,role:_0x52ad5e}=_0x8ed1fb[_0x5e827d(0x16e)],_0x256809=_0x8ed1fb['user'],_0x41853c=await profile[_0x5e827d(0x1ba)]({'email':_0x256809[_0x5e827d(0x11f)]}),_0x139770=await master_shop['find']();console['log'](_0x5e827d(0x1c3),_0x139770);const _0x57c840=_0x8ed1fb[_0x5e827d(0x12c)]['id'],_0x45adf9=await product['findById'](_0x57c840);console['log'](_0x5e827d(0x18d),_0x45adf9);if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x122))var _0x1c1f93=users['English'];else{if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x149))var _0x1c1f93=users['Hindi'];else{if(_0x139770[0x0]['language']==_0x5e827d(0x19d))var _0x1c1f93=users['German'];else{if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x14f))var _0x1c1f93=users[_0x5e827d(0x14f)];else{if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x111))var _0x1c1f93=users['French'];else{if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x1b4))var _0x1c1f93=users[_0x5e827d(0x1bd)];else{if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x1b2))var _0x1c1f93=users[_0x5e827d(0x1b2)];else{if(_0x139770[0x0][_0x5e827d(0x199)]==_0x5e827d(0x175))var _0x1c1f93=users['Arabic'];}}}}}}}_0x4efe01[_0x5e827d(0x16f)](_0x5e827d(0x170),{'success':_0x8ed1fb[_0x5e827d(0x182)]('success'),'errors':_0x8ed1fb[_0x5e827d(0x182)](_0x5e827d(0x113)),'role':_0x256809,'profile':_0x41853c,'alldata':_0x45adf9,'master_shop':_0x139770,'language':_0x1c1f93});}catch(_0x3c7e04){console[_0x5e827d(0x193)](_0x3c7e04);}}),router[a0_0x3112a9(0x106)](a0_0x3112a9(0x195),auth,async(_0x1c9121,_0x4a689b)=>{const _0x3811c9=a0_0x3112a9;try{const _0x14a99e=new excelJS[(_0x3811c9(0x125))](),_0x1821da=_0x14a99e[_0x3811c9(0x10a)](_0x3811c9(0x13b));return _0x1821da[_0x3811c9(0x161)]=[{'header':_0x3811c9(0x1af),'key':_0x3811c9(0x12e),'width':0xa},{'header':_0x3811c9(0x160),'key':_0x3811c9(0x1ab),'width':0xa},{'header':_0x3811c9(0x1bb),'key':_0x3811c9(0x143),'width':0xa},{'header':'Secondary_Units','key':_0x3811c9(0x163),'width':0xa},{'header':'max_number_per_units','key':_0x3811c9(0x16b),'width':0xa},{'header':_0x3811c9(0x17a),'key':'ProductCode','width':0xa},{'header':'Secondary_Code','key':'ProductCode','width':0xa},{'header':_0x3811c9(0x109),'key':'ProductCode','width':0xa},{'header':_0x3811c9(0x1a5),'key':_0x3811c9(0x117),'width':0xa},{'header':_0x3811c9(0x15e),'key':_0x3811c9(0x15c),'width':0xa},{'header':_0x3811c9(0x15a),'key':'PAlQty','width':0xa},{'header':'Products_category','key':_0x3811c9(0x13c),'width':0xa}],_0x4a689b[_0x3811c9(0x1a7)]('Content-Type',_0x3811c9(0x188)),_0x4a689b[_0x3811c9(0x1a7)](_0x3811c9(0x152),_0x3811c9(0x127)),_0x14a99e[_0x3811c9(0x176)][_0x3811c9(0x14d)](_0x4a689b)[_0x3811c9(0x1b0)](()=>{_0x4a689b['status'](0xc8);});}catch(_0x2a6d9c){_0x4a689b[_0x3811c9(0x135)](0x190)[_0x3811c9(0x1a2)](_0x2a6d9c);}});function a0_0x25f2(){const _0x3ce3ed=['SheetNames','/categories/delete/:id','1157230ibwBmC','product_docs','/brands/:id','flash','$product_docs','image','unit\x20data\x20delete\x20successfully','brand','categories\x20data\x20delete\x20successfully','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','push','concat','/units','body','barcode\x20user_id','products','../models/all_models','primary_code','English','Sheets','log','product_barcode_products','/products_export_migrate_file','units','filename','\x20<>\x20','language','\x20added\x20successfully','Secondary_Code','alertquantity','German','numeric','sku','length','now','send','data','category','Category','maxStocks','setHeader','master','/view/:id','end','PBrands','/view/add_products','jsbarcode','canvas','Product_Name','then','/print_barcode_filter_search/','Chinese','addPage','Portuguese\x20(BR)','toString','width','1170098HLedPR','unit\x20data\x20update\x20successfully','base64','findOne','Units','unit','Portuguese','23099912qfrJzy','Products\x20find_data','secondary_code','categ','defaultProduct.avif','barcode\x20Product\x20master','exports','/categories/:id','get','diskStorage','sales_category','Product_Code','addWorksheet','$_id','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Finished\x20Goods','file','findByIdAndUpdate','Products\x20master','French','height','errors','$product_details','Arabic','/barcode_data','PCat','bind','product\x20add\x20successfully','/print_barcode_single/:id','brand\x20data\x20update\x20successfully','/print_barcode','edit\x20Product\x20master','type_products','email','public/Migration/','json','English\x20(US)','brands','_id','Workbook','forEach','attachment;\x20filename=Product_Migration_File.xlsx','Enabled','$product_stock','product_category','$product_details.product_name','params','map','PName','message','categories_edit','min','pdfkit-table','utils','2785536GIsZCO','status','aggregate','product_code','39108ZzRNLO','CODE128','max_number_per_units','Products','Prod_Cat','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','single','/units/:id','/products_import_migrate_file','\x20categories\x20is\x20add\x20successfully','findById','PUnits','/select_data','prod_categ','../middleware/auth','/products/categories','/categories','Hindi','secondary_unit','$category','product\x20edit','write','9958431GzaJnw','Spanish','readFile','/products/view','Content-Disposition','$secondary_unit','Secondary_Units','find','categories','\x20brand\x20is\x20add\x20successfully','Products\x20warehouse_data','/print_barcode_filter/','Maximum_Stocks','save','PAlQty','7508556VcWOGY','Alert_QTY','post','Brands','columns','product_stock','PSecondaryUnits','redirect','../public/language/languages.json','stock','448CibFoK','/view','name','success','MaxperUnits','warehouse','toBuffer','user','render','product_barcode','Products_category','/products/brands','exceljs','sheet_to_json','Arabic\x20(ae)','xlsx','/products/units','/brands/delete/:id','Raw\x20Materials','Primary_Code','$product_name','/brands'];a0_0x25f2=function(){return _0x3ce3ed;};return a0_0x25f2();}const storage1=multer[a0_0x3112a9(0x107)]({'destination':(_0x342e46,_0x284489,_0x24172e)=>{_0x24172e(null,'public/Migration');},'filename':(_0x3cf789,_0x419c40,_0x498bbe)=>{const _0x18ebdc=a0_0x3112a9;_0x498bbe(null,Date[_0x18ebdc(0x1a1)]()+_0x419c40['originalname']);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x140),auth,uploadMigrate[a0_0x3112a9(0x13e)]('migrate_product_fule'),async(_0x58c272,_0x445396)=>{const _0x25283c=a0_0x3112a9,_0x406d6d=_0x58c272[_0x25283c(0x10e)]['filename'],_0x48d55d=await xlsx[_0x25283c(0x150)](_0x25283c(0x120)+_0x406d6d);let _0x142370=_0x48d55d[_0x25283c(0x17d)],_0x4994c0=xlsx[_0x25283c(0x133)][_0x25283c(0x174)](_0x48d55d[_0x25283c(0x192)][_0x142370[0x0]]);for(const _0x2183bd of _0x4994c0){const _0xac29a0=_0x2183bd[_0x25283c(0x1af)],_0x1e2e04=_0x2183bd[_0x25283c(0x160)],_0x28a8b8=_0x2183bd[_0x25283c(0x1bb)],_0x558d1d=_0x2183bd[_0x25283c(0x154)],_0x2a3019=_0x2183bd[_0x25283c(0x109)],_0x13ae37=_0x2183bd[_0x25283c(0x1a5)],_0x499a7b=_0x2183bd['Alert_QTY'],_0x14a5e0=_0x2183bd[_0x25283c(0x17a)],_0x56afcd=_0x2183bd[_0x25283c(0x19b)],_0x54ef9b=_0x2183bd['Maximum_Stocks'],_0x373e55=_0x2183bd[_0x25283c(0x13a)],_0x516896=_0x2183bd[_0x25283c(0x171)];try{let _0x31bc6f=await categories['findOne']({'name':_0x13ae37});if(!_0x31bc6f){const _0xa4df11=new categories({'name':_0x13ae37,'products':'0'});_0x31bc6f=await _0xa4df11[_0x25283c(0x15b)]();}let _0x5c9e5f=await brands[_0x25283c(0x1ba)]({'name':_0x1e2e04});if(!_0x5c9e5f){const _0x55b654=new brands({'name':_0x1e2e04,'products':'0'});_0x5c9e5f=await _0x55b654[_0x25283c(0x15b)]();}let _0x43505e=await units[_0x25283c(0x1ba)]({'name':_0x28a8b8,'secondary_unit':_0x558d1d});if(!_0x43505e){const _0xa81d71=new units({'name':_0x28a8b8,'secondary_unit':_0x558d1d,'products':'0'});_0x43505e=await _0xa81d71['save']();}const _0x2e6037=await product[_0x25283c(0x155)]({'name':_0xac29a0,'category':_0x31bc6f['name'],'brand':_0x5c9e5f[_0x25283c(0x169)],'secondary_unit':_0x43505e[_0x25283c(0x14a)],'product_code':_0x2a3019});console['log'](_0x2e6037[_0x25283c(0x1a0)]+_0x25283c(0x198)+_0x31bc6f[_0x25283c(0x169)]+_0x25283c(0x198)+_0x5c9e5f[_0x25283c(0x169)]+_0x25283c(0x198)+_0x43505e[_0x25283c(0x14a)]+'\x20<>\x20'+_0x2a3019+_0x25283c(0x198)+_0xac29a0);if(_0x2e6037[_0x25283c(0x1a0)]===0x0){const _0x1840ef=new product({'image':_0x25283c(0x1c2),'name':_0xac29a0,'category':_0x31bc6f[_0x25283c(0x169)],'brand':_0x5c9e5f['name'],'unit':_0x43505e[_0x25283c(0x169)],'alertquantity':_0x499a7b,'product_code':_0x2a3019,'secondary_unit':_0x43505e[_0x25283c(0x14a)],'primary_code':_0x14a5e0,'secondary_code':_0x56afcd,'maxStocks':_0x54ef9b,'maxProdPerUnit':_0x373e55,'product_category':_0x516896}),_0x57b2b0=await _0x1840ef['save']();_0x31bc6f[_0x25283c(0x18e)]=parseInt(_0x31bc6f[_0x25283c(0x18e)])+0x1,await _0x31bc6f[_0x25283c(0x15b)](),_0x5c9e5f['products']=parseInt(_0x5c9e5f[_0x25283c(0x18e)])+0x1,await _0x5c9e5f[_0x25283c(0x15b)](),_0x43505e[_0x25283c(0x18e)]=parseInt(_0x43505e[_0x25283c(0x18e)])+0x1,await _0x43505e[_0x25283c(0x15b)](),_0x58c272[_0x25283c(0x182)]('success',_0xac29a0+_0x25283c(0x19a));}else{console[_0x25283c(0x193)](_0x2e6037[0x0]);const _0x1bcdbb=_0x2e6037[0x0];_0x1bcdbb[_0x25283c(0x1a4)]=_0x31bc6f[_0x25283c(0x169)],_0x1bcdbb['brand']=_0x5c9e5f['name'],_0x1bcdbb[_0x25283c(0x1bc)]=_0x43505e[_0x25283c(0x169)],_0x1bcdbb[_0x25283c(0x19c)]=_0x499a7b,_0x1bcdbb[_0x25283c(0x137)]=_0x2a3019,_0x1bcdbb[_0x25283c(0x14a)]=_0x43505e[_0x25283c(0x14a)],_0x1bcdbb['primary_code']=_0x14a5e0,_0x1bcdbb[_0x25283c(0x1c0)]=_0x56afcd,_0x1bcdbb[_0x25283c(0x1a6)]=_0x54ef9b,_0x1bcdbb['maxProdPerUnit']=_0x373e55,_0x1bcdbb[_0x25283c(0x12a)]=_0x516896;const _0x4a568d=await _0x1bcdbb[_0x25283c(0x15b)]();_0x58c272[_0x25283c(0x182)](_0x25283c(0x16a),_0x4a568d[_0x25283c(0x169)]+'\x20Edit\x20Successfully');}}catch(_0x120af9){_0x445396[_0x25283c(0x135)](0x1f4)[_0x25283c(0x121)]({'proderror':_0x120af9['message'],'aproduct':_0xac29a0});}}_0x445396['redirect'](_0x25283c(0x151));}),router['post'](a0_0x3112a9(0x144),auth,async(_0x241efc,_0x577ce3)=>{const _0x57fdd3=a0_0x3112a9;try{console[_0x57fdd3(0x193)](_0x241efc['body']);const {data_cateory:_0x5ed99d,datachoose:_0x4f969a}=_0x241efc[_0x57fdd3(0x18c)];var _0x30b377;if(_0x4f969a==_0x57fdd3(0x145))_0x30b377=await product[_0x57fdd3(0x136)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x4f969a=='brands')_0x30b377=await product[_0x57fdd3(0x136)]([{'$match':{'product_category':_0x5ed99d}},{'$group':{'_id':'$brand'}}]);else _0x4f969a==_0x57fdd3(0x1c1)&&(_0x30b377=await product['aggregate']([{'$match':{'product_category':_0x5ed99d}},{'$group':{'_id':_0x57fdd3(0x14b)}}]));}_0x577ce3[_0x57fdd3(0x121)](_0x30b377);}catch(_0x453f3a){_0x577ce3[_0x57fdd3(0x121)]({'message':_0x453f3a[_0x57fdd3(0x12f)]});}}),router[a0_0x3112a9(0x15f)]('/filter_product',auth,async(_0x4d15b6,_0x404a09)=>{const _0x136c98=a0_0x3112a9;try{const {data_choosing:_0x3aa5d1,data_selected:_0x59cf09}=_0x4d15b6[_0x136c98(0x18c)];var _0x42eb59;if(_0x3aa5d1==_0x136c98(0x145))_0x42eb59=await product[_0x136c98(0x136)]([{'$match':{'product_category':_0x59cf09}}]);else{if(_0x3aa5d1==_0x136c98(0x123))_0x42eb59=await product[_0x136c98(0x136)]([{'$match':{'brand':_0x59cf09}}]);else _0x3aa5d1==_0x136c98(0x1c1)&&(_0x42eb59=await product[_0x136c98(0x136)]([{'$match':{'category':_0x59cf09}}]));}_0x404a09['json'](_0x42eb59);}catch(_0x1e7a89){_0x404a09[_0x136c98(0x121)]({'message':_0x1e7a89[_0x136c98(0x12f)]});}}),router['get'](a0_0x3112a9(0x11c),auth,async(_0x454cdf,_0x3af956)=>{const _0x32be16=a0_0x3112a9,_0x253f9b=_0x454cdf[_0x32be16(0x16e)],_0x209f4b=await profile['findOne']({'email':_0x253f9b[_0x32be16(0x11f)]}),_0x2bb855=await master_shop[_0x32be16(0x155)](),_0x46156f=await product[_0x32be16(0x155)]();if(_0x2bb855[0x0][_0x32be16(0x199)]=='English\x20(US)')var _0xeee678=users['English'];else{if(_0x2bb855[0x0][_0x32be16(0x199)]==_0x32be16(0x149))var _0xeee678=users[_0x32be16(0x149)];else{if(_0x2bb855[0x0]['language']==_0x32be16(0x19d))var _0xeee678=users[_0x32be16(0x19d)];else{if(_0x2bb855[0x0][_0x32be16(0x199)]==_0x32be16(0x14f))var _0xeee678=users[_0x32be16(0x14f)];else{if(_0x2bb855[0x0][_0x32be16(0x199)]==_0x32be16(0x111))var _0xeee678=users[_0x32be16(0x111)];else{if(_0x2bb855[0x0][_0x32be16(0x199)]==_0x32be16(0x1b4))var _0xeee678=users[_0x32be16(0x1bd)];else{if(_0x2bb855[0x0][_0x32be16(0x199)]==_0x32be16(0x1b2))var _0xeee678=users[_0x32be16(0x1b2)];else{if(_0x2bb855[0x0]['language']==_0x32be16(0x175))var _0xeee678=users[_0x32be16(0x115)];}}}}}}}_0x3af956[_0x32be16(0x16f)](_0x32be16(0x194),{'success':_0x454cdf[_0x32be16(0x182)]('success'),'errors':_0x454cdf['flash'](_0x32be16(0x113)),'role':_0x253f9b,'profile':_0x209f4b,'products':_0x46156f,'master_shop':_0x2bb855,'language':_0xeee678});}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x116),auth,async(_0x5660fe,_0x12f421)=>{const _0x38307b=a0_0x3112a9,_0x375a5c=await product[_0x38307b(0x155)]();_0x12f421[_0x38307b(0x121)]({'data':_0x375a5c});}),router['post']('/barcode_filter',auth,async(_0x49db8f,_0x34bc46)=>{const _0x5cc69a=a0_0x3112a9;try{const {dataProdCat:_0x4c8036,dataProdIdentity:_0x145e43}=_0x49db8f[_0x5cc69a(0x18c)];var _0x40c3ce;switch(_0x4c8036){case'fg':switch(_0x145e43){case _0x5cc69a(0x160):_0x40c3ce=await product[_0x5cc69a(0x136)]([{'$match':{'product_category':_0x5cc69a(0x10d)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x5cc69a(0x10b)}}]);break;case _0x5cc69a(0x1a5):_0x40c3ce=await product[_0x5cc69a(0x136)]([{'$match':{'product_category':_0x5cc69a(0x10d)}},{'$group':{'_id':_0x5cc69a(0x14b)}},{'$project':{'category':_0x5cc69a(0x10b)}}]);break;}break;case'rm':switch(_0x145e43){case _0x5cc69a(0x160):_0x40c3ce=await product[_0x5cc69a(0x136)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x5cc69a(0x10b)}}]);break;case _0x5cc69a(0x1a5):_0x40c3ce=await product[_0x5cc69a(0x136)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x5cc69a(0x10b)}}]);break;}break;}_0x34bc46[_0x5cc69a(0x121)](_0x40c3ce);}catch(_0xa4f9d9){_0x34bc46[_0x5cc69a(0x121)]({'message':_0xa4f9d9[_0x5cc69a(0x12f)]});}}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x159),auth,async(_0x20a558,_0x28f6dd)=>{const _0x5b9a1a=a0_0x3112a9;try{console[_0x5b9a1a(0x193)](_0x20a558[_0x5b9a1a(0x18c)]);const {prod_cat:_0x371b16,identity:_0x51cb84,valueData:_0x3c72ce,typeofbarcode:_0x5f1e5b}=_0x20a558[_0x5b9a1a(0x18c)];let _0x59e932;switch(_0x371b16){case'fg':if(_0x51cb84==_0x5b9a1a(0x160))_0x59e932=await product[_0x5b9a1a(0x136)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x3c72ce}}]);else _0x51cb84==_0x5b9a1a(0x1a5)&&(_0x59e932=await product[_0x5b9a1a(0x136)]([{'$match':{'product_category':_0x5b9a1a(0x10d),'category':_0x3c72ce}}]));break;case'rm':if(_0x51cb84==_0x5b9a1a(0x160))_0x59e932=await product[_0x5b9a1a(0x136)]([{'$match':{'product_category':_0x5b9a1a(0x179),'brand':_0x3c72ce}}]);else _0x51cb84==_0x5b9a1a(0x1a5)&&(_0x59e932=await product[_0x5b9a1a(0x136)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x3c72ce}}]));break;}const _0x13e2aa=_0x15acd1=>_0x15acd1*0x48,_0x2963e0={'width':0x3,'height':0x1},_0xb5279f=new PDFDocument({'margin':_0x13e2aa(0.75),'size':[_0x13e2aa(_0x2963e0[_0x5b9a1a(0x1b6)]),_0x13e2aa(_0x2963e0[_0x5b9a1a(0x112)])],'bufferPages':!![]}),_0x48a167=_0x59e932['length'];for(let _0xf4d9b4=0x0;_0xf4d9b4<=_0x48a167;_0xf4d9b4++){if(_0xf4d9b4!=_0x48a167){const _0x4831a2=_0x59e932[_0xf4d9b4][_0x5b9a1a(0x169)],_0x173747=_0x59e932[_0xf4d9b4][_0x5b9a1a(0x190)],_0x37bc26=_0x59e932[_0xf4d9b4][_0x5b9a1a(0x1c0)],_0x4b65de=_0x59e932[_0xf4d9b4]['product_code'];var _0x2adf03;switch(_0x5f1e5b){case'1':_0x2adf03=_0x173747;break;case'2':_0x2adf03=_0x37bc26;break;case'3':_0x2adf03=_0x4b65de;break;}const _0x460804={'width':0xd2,'height':0x64},_0x4e7ba0={'width':_0x13e2aa(_0x2963e0[_0x5b9a1a(0x1b6)]),'height':_0x13e2aa(_0x2963e0[_0x5b9a1a(0x112)])},_0x23d24c=new Canvas();JsBarcode(_0x23d24c,_0x2adf03,{'format':_0x5b9a1a(0x139),'height':_0x460804['height'],'displayValue':!![],'text':_0x2adf03});const _0x2207ba=_0x23d24c[_0x5b9a1a(0x16d)](),_0x12a0b2=_0x4e7ba0['width']/_0x460804['width'],_0x30a8ff=_0x4e7ba0[_0x5b9a1a(0x112)]/_0x460804['height'],_0x338bcb=Math['min'](_0x12a0b2,_0x30a8ff),_0x43f73f=_0x460804[_0x5b9a1a(0x1b6)]*_0x338bcb,_0x3b3a96=_0x460804[_0x5b9a1a(0x112)]*_0x338bcb,_0x38b9cc=(_0x4e7ba0[_0x5b9a1a(0x1b6)]-_0x43f73f)/0x2,_0x559332=(_0x4e7ba0[_0x5b9a1a(0x112)]-_0x3b3a96)/0x2;_0xb5279f['image'](_0x2207ba,_0x38b9cc,_0x559332,{'width':_0x43f73f,'height':_0x3b3a96}),_0xf4d9b4!=_0x48a167&&_0xb5279f[_0x5b9a1a(0x1b3)]();}}const _0x5bd99d=[];_0xb5279f['on'](_0x5b9a1a(0x1a3),_0x5bd99d[_0x5b9a1a(0x189)][_0x5b9a1a(0x118)](_0x5bd99d)),_0xb5279f['on']('end',()=>{const _0x325fde=_0x5b9a1a,_0x1214b5=Buffer[_0x325fde(0x18a)](_0x5bd99d),_0x1eca6a=_0x1214b5[_0x325fde(0x1b5)](_0x325fde(0x1b9));_0x28f6dd[_0x325fde(0x121)]({'pdfContent':_0x1eca6a});}),_0xb5279f[_0x5b9a1a(0x1aa)]();}catch(_0x14e239){_0x28f6dd[_0x5b9a1a(0x121)]({'message':_0x14e239[_0x5b9a1a(0x12f)]});}}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x1b1),auth,async(_0x5062cd,_0x3acdf2)=>{const _0x4d1b3a=a0_0x3112a9;try{console[_0x4d1b3a(0x193)](_0x5062cd['body']);const {prod_cat:_0x18e2c1,identity:_0x146499,valueData:_0x3f4f30}=_0x5062cd['body'];let _0x2c4da5;switch(_0x18e2c1){case'fg':if(_0x146499==_0x4d1b3a(0x160))_0x2c4da5=await product[_0x4d1b3a(0x136)]([{'$match':{'product_category':_0x4d1b3a(0x10d),'brand':_0x3f4f30}}]);else _0x146499==_0x4d1b3a(0x1a5)&&(_0x2c4da5=await product[_0x4d1b3a(0x136)]([{'$match':{'product_category':_0x4d1b3a(0x10d),'category':_0x3f4f30}}]));break;case'rm':if(_0x146499==_0x4d1b3a(0x160))_0x2c4da5=await product[_0x4d1b3a(0x136)]([{'$match':{'product_category':_0x4d1b3a(0x179),'brand':_0x3f4f30}}]);else _0x146499=='Category'&&(_0x2c4da5=await product[_0x4d1b3a(0x136)]([{'$match':{'product_category':_0x4d1b3a(0x179),'category':_0x3f4f30}}]));break;}_0x3acdf2['json']({'data':_0x2c4da5});}catch(_0x5eff47){_0x3acdf2[_0x4d1b3a(0x121)]({'message':_0x5eff47[_0x4d1b3a(0x12f)]});}}),router[a0_0x3112a9(0x15f)](a0_0x3112a9(0x11a),auth,async(_0x56f26b,_0x59cbea)=>{const _0x294fac=a0_0x3112a9;try{const _0x57fe36=_0x56f26b[_0x294fac(0x12c)]['id'],{copies:_0x2a1930,typeofbarcode:_0xdf2590}=_0x56f26b[_0x294fac(0x18c)];var _0x276fcb=await product[_0x294fac(0x142)](_0x57fe36);const _0x384f9a=_0x382145=>_0x382145*0x48,_0x1f7428={'width':0x3,'height':0x1},_0x471eb0=new PDFDocument({'margin':_0x384f9a(0.75),'size':[_0x384f9a(_0x1f7428[_0x294fac(0x1b6)]),_0x384f9a(_0x1f7428['height'])],'bufferPages':!![]}),_0x2c8a49=_0x2a1930,_0x3ce458=_0x276fcb[_0x294fac(0x169)],_0x26a2fa=_0x276fcb[_0x294fac(0x190)],_0x4739dd=_0x276fcb['secondary_code'],_0x3c2859=_0x276fcb[_0x294fac(0x137)];let _0x359f87;switch(_0xdf2590){case'1':_0x359f87=_0x26a2fa;break;case'2':_0x359f87=_0x4739dd;break;case'3':_0x359f87=_0x3c2859;break;}const _0x256dd4={'width':0xd2,'height':0x64},_0x18e1a8={'width':_0x384f9a(_0x1f7428[_0x294fac(0x1b6)]),'height':_0x384f9a(_0x1f7428[_0x294fac(0x112)])};for(let _0x43dffe=0x1;_0x43dffe<=_0x2c8a49;_0x43dffe++){const _0x4fb177=new Canvas();JsBarcode(_0x4fb177,_0x359f87,{'format':_0x294fac(0x139),'height':_0x256dd4[_0x294fac(0x112)],'displayValue':!![],'text':_0x359f87});const _0x3a2633=_0x4fb177[_0x294fac(0x16d)](),_0xbb48ae=_0x18e1a8['width']/_0x256dd4['width'],_0x291389=_0x18e1a8['height']/_0x256dd4['height'],_0x330cfe=Math[_0x294fac(0x131)](_0xbb48ae,_0x291389),_0x5e4118=_0x256dd4[_0x294fac(0x1b6)]*_0x330cfe,_0x5316c9=_0x256dd4['height']*_0x330cfe,_0x38ebd9=(_0x18e1a8[_0x294fac(0x1b6)]-_0x5e4118)/0x2,_0x1155f0=(_0x18e1a8[_0x294fac(0x112)]-_0x5316c9)/0x2;_0x471eb0[_0x294fac(0x184)](_0x3a2633,_0x38ebd9,_0x1155f0,{'width':_0x5e4118,'height':_0x5316c9}),_0x43dffe!=_0x2c8a49&&_0x471eb0['addPage']();}const _0xd2562b=[];_0x471eb0['on'](_0x294fac(0x1a3),_0xd2562b[_0x294fac(0x189)]['bind'](_0xd2562b)),_0x471eb0['on'](_0x294fac(0x1aa),()=>{const _0x95aa8d=_0x294fac,_0x4adc2d=Buffer[_0x95aa8d(0x18a)](_0xd2562b),_0x1f279a=_0x4adc2d[_0x95aa8d(0x1b5)](_0x95aa8d(0x1b9));_0x59cbea[_0x95aa8d(0x121)]({'pdfContent':_0x1f279a});}),_0x471eb0[_0x294fac(0x1aa)]();}catch(_0x53a5d2){_0x59cbea[_0x294fac(0x121)]({'message':_0x53a5d2['message']});}}),module[a0_0x3112a9(0x1c4)]=router;