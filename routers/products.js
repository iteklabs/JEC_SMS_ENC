function a0_0x55c6(_0x3e3096,_0x32ac31){const _0x444223=a0_0x4442();return a0_0x55c6=function(_0x55c6eb,_0x5df608){_0x55c6eb=_0x55c6eb-0x89;let _0x581e3c=_0x444223[_0x55c6eb];return _0x581e3c;},a0_0x55c6(_0x3e3096,_0x32ac31);}const a0_0x14c106=a0_0x55c6;(function(_0x319613,_0x37b75b){const _0x8c5d06=a0_0x55c6,_0x293f8e=_0x319613();while(!![]){try{const _0xd33585=parseInt(_0x8c5d06(0xac))/0x1*(-parseInt(_0x8c5d06(0x127))/0x2)+parseInt(_0x8c5d06(0xe9))/0x3+parseInt(_0x8c5d06(0xd5))/0x4+-parseInt(_0x8c5d06(0x145))/0x5*(parseInt(_0x8c5d06(0x122))/0x6)+parseInt(_0x8c5d06(0x131))/0x7+-parseInt(_0x8c5d06(0x93))/0x8+parseInt(_0x8c5d06(0xff))/0x9*(parseInt(_0x8c5d06(0x114))/0xa);if(_0xd33585===_0x37b75b)break;else _0x293f8e['push'](_0x293f8e['shift']());}catch(_0x5ac96f){_0x293f8e['push'](_0x293f8e['shift']());}}}(a0_0x4442,0x43aae));const express=require(a0_0x14c106(0xae)),res=require(a0_0x14c106(0x136)),app=express(),router=express[a0_0x14c106(0x141)](),multer=require(a0_0x14c106(0x116)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x14c106(0x11b)),auth=require('../middleware/auth'),users=require(a0_0x14c106(0xba)),excelJS=require(a0_0x14c106(0xdc)),xlsx=require(a0_0x14c106(0x9c)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x14c106(0xf8)),PDFDocument=require(a0_0x14c106(0xa3));router[a0_0x14c106(0xe5)](a0_0x14c106(0xf7),auth,async(_0xded5f7,_0x828617)=>{const _0x149074=a0_0x14c106;try{const {username:_0x1a9529,email:_0x24ff7c,role:_0x3661ad}=_0xded5f7[_0x149074(0xc4)],_0x45e633=_0xded5f7[_0x149074(0xc4)],_0x1d0f33=await profile[_0x149074(0x147)]({'email':_0x45e633[_0x149074(0xee)]}),_0x42275d=await master_shop[_0x149074(0x11c)]();console[_0x149074(0x102)](_0x149074(0xd4),_0x42275d);const _0x1b82b6=await categories['find']();if(_0x42275d[0x0]['language']==_0x149074(0xa1))var _0x13419f=users[_0x149074(0xef)];else{if(_0x42275d[0x0][_0x149074(0xc1)]==_0x149074(0x138))var _0x13419f=users[_0x149074(0x138)];else{if(_0x42275d[0x0][_0x149074(0xc1)]==_0x149074(0xc7))var _0x13419f=users[_0x149074(0xc7)];else{if(_0x42275d[0x0][_0x149074(0xc1)]==_0x149074(0x11e))var _0x13419f=users[_0x149074(0x11e)];else{if(_0x42275d[0x0]['language']==_0x149074(0x10d))var _0x13419f=users[_0x149074(0x10d)];else{if(_0x42275d[0x0][_0x149074(0xc1)]=='Portuguese\x20(BR)')var _0x13419f=users['Portuguese'];else{if(_0x42275d[0x0][_0x149074(0xc1)]==_0x149074(0xd3))var _0x13419f=users[_0x149074(0xd3)];else{if(_0x42275d[0x0][_0x149074(0xc1)]==_0x149074(0x10f))var _0x13419f=users[_0x149074(0x143)];}}}}}}}_0x828617['render']('categories',{'success':_0xded5f7[_0x149074(0x96)](_0x149074(0x134)),'errors':_0xded5f7['flash']('errors'),'role':_0x45e633,'profile':_0x1d0f33,'user':_0x1b82b6,'master_shop':_0x42275d,'language':_0x13419f});}catch(_0x466dd4){console[_0x149074(0x102)](_0x466dd4);}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0xf7),auth,async(_0xb79805,_0x1ff78c)=>{const _0x5131f1=a0_0x14c106;try{const {name:_0x23ad68,products:_0x3d29f0}=_0xb79805[_0x5131f1(0xfe)],_0x2e5953=new categories({'name':_0x23ad68,'products':_0x3d29f0}),_0x49bdbd=await categories[_0x5131f1(0x147)]({'name':_0x23ad68});_0x49bdbd?_0xb79805[_0x5131f1(0x96)]('errors',_0x23ad68+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0xb79805[_0x5131f1(0x96)]('success',_0x23ad68+'\x20categories\x20is\x20add\x20successfully');const _0x570543=await _0x2e5953[_0x5131f1(0xaa)]();_0x1ff78c['redirect'](_0x5131f1(0x89));}catch(_0x525f75){console[_0x5131f1(0x102)](_0x525f75);}}),router['get']('/categories/:id',auth,async(_0x4256d9,_0x9112ab)=>{const _0x1ff19f=a0_0x14c106;try{const {username:_0x42d1f2,email:_0x16e510,role:_0x503085}=_0x4256d9[_0x1ff19f(0xc4)],_0x127f5e=_0x4256d9[_0x1ff19f(0xc4)],_0x52ba07=await profile[_0x1ff19f(0x147)]({'email':_0x127f5e[_0x1ff19f(0xee)]}),_0xe95552=await master_shop[_0x1ff19f(0x11c)]();console['log'](_0x1ff19f(0xd4),_0xe95552);const _0x247dd0=_0x4256d9['params']['id'];console[_0x1ff19f(0x102)](_0x247dd0);const _0x2498db=await categories[_0x1ff19f(0x142)](_0x247dd0);if(_0xe95552[0x0]['language']==_0x1ff19f(0xa1))var _0x25ac11=users['English'];else{if(_0xe95552[0x0]['language']==_0x1ff19f(0x138))var _0x25ac11=users[_0x1ff19f(0x138)];else{if(_0xe95552[0x0][_0x1ff19f(0xc1)]==_0x1ff19f(0xc7))var _0x25ac11=users[_0x1ff19f(0xc7)];else{if(_0xe95552[0x0][_0x1ff19f(0xc1)]==_0x1ff19f(0x11e))var _0x25ac11=users['Spanish'];else{if(_0xe95552[0x0][_0x1ff19f(0xc1)]==_0x1ff19f(0x10d))var _0x25ac11=users[_0x1ff19f(0x10d)];else{if(_0xe95552[0x0][_0x1ff19f(0xc1)]==_0x1ff19f(0xce))var _0x25ac11=users['Portuguese'];else{if(_0xe95552[0x0][_0x1ff19f(0xc1)]==_0x1ff19f(0xd3))var _0x25ac11=users[_0x1ff19f(0xd3)];else{if(_0xe95552[0x0][_0x1ff19f(0xc1)]==_0x1ff19f(0x10f))var _0x25ac11=users[_0x1ff19f(0x143)];}}}}}}}_0x9112ab[_0x1ff19f(0x113)]('categories',{'success':_0x4256d9[_0x1ff19f(0x96)]('success'),'errors':_0x4256d9['flash']('errors'),'role':_0x127f5e,'profile':_0x52ba07,'master_shop':_0xe95552,'user':_0x2498db,'language':_0x25ac11});}catch(_0x1c1ce3){console['log'](_0x1c1ce3);}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0xcd),auth,async(_0x4413e9,_0x70ec3d)=>{const _0x28f821=a0_0x14c106;try{const _0x47221c=_0x4413e9[_0x28f821(0xb6)]['id'],_0x50cf1a=await categories[_0x28f821(0x135)](_0x47221c,_0x4413e9[_0x28f821(0xfe)]);_0x4413e9[_0x28f821(0x96)](_0x28f821(0x134),''+users['categories_edit']),_0x70ec3d[_0x28f821(0x137)]('/products/categories');}catch(_0x560aa1){console[_0x28f821(0x102)](_0x560aa1);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0x121),auth,async(_0x64c872,_0x2fcc95)=>{const _0x4918f0=a0_0x14c106;try{const _0x15b87b=_0x64c872['params']['id'],_0x4b7f76=await categories[_0x4918f0(0x9f)](_0x15b87b);_0x64c872[_0x4918f0(0x96)](_0x4918f0(0x134),_0x4918f0(0xe3)),_0x2fcc95[_0x4918f0(0x137)](_0x4918f0(0x89));}catch(_0x4e62ab){console[_0x4918f0(0x102)](_0x4e62ab);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0xb4),auth,async(_0x47a6f0,_0x3550b1)=>{const _0x35c4cb=a0_0x14c106;try{const {username:_0x43caf7,email:_0x3d13c2,role:_0x33df18}=_0x47a6f0[_0x35c4cb(0xc4)],_0x74f579=_0x47a6f0[_0x35c4cb(0xc4)],_0x5b0d96=await profile[_0x35c4cb(0x147)]({'email':_0x74f579[_0x35c4cb(0xee)]}),_0x3c1baf=await master_shop[_0x35c4cb(0x11c)]();console['log'](_0x35c4cb(0xd4),_0x3c1baf);const _0x41ecba=await brands[_0x35c4cb(0x11c)]();if(_0x3c1baf[0x0]['language']==_0x35c4cb(0xa1))var _0x2b4fc7=users[_0x35c4cb(0xef)];else{if(_0x3c1baf[0x0][_0x35c4cb(0xc1)]==_0x35c4cb(0x138))var _0x2b4fc7=users[_0x35c4cb(0x138)];else{if(_0x3c1baf[0x0][_0x35c4cb(0xc1)]=='German')var _0x2b4fc7=users[_0x35c4cb(0xc7)];else{if(_0x3c1baf[0x0]['language']==_0x35c4cb(0x11e))var _0x2b4fc7=users['Spanish'];else{if(_0x3c1baf[0x0][_0x35c4cb(0xc1)]==_0x35c4cb(0x10d))var _0x2b4fc7=users[_0x35c4cb(0x10d)];else{if(_0x3c1baf[0x0]['language']==_0x35c4cb(0xce))var _0x2b4fc7=users[_0x35c4cb(0xec)];else{if(_0x3c1baf[0x0][_0x35c4cb(0xc1)]==_0x35c4cb(0xd3))var _0x2b4fc7=users[_0x35c4cb(0xd3)];else{if(_0x3c1baf[0x0][_0x35c4cb(0xc1)]==_0x35c4cb(0x10f))var _0x2b4fc7=users[_0x35c4cb(0x143)];}}}}}}}_0x3550b1[_0x35c4cb(0x113)](_0x35c4cb(0x11f),{'success':_0x47a6f0[_0x35c4cb(0x96)](_0x35c4cb(0x134)),'errors':_0x47a6f0[_0x35c4cb(0x96)](_0x35c4cb(0xf3)),'role':_0x74f579,'profile':_0x5b0d96,'master_shop':_0x3c1baf,'user':_0x41ecba,'language':_0x2b4fc7});}catch(_0xe313c6){console[_0x35c4cb(0x102)](_0xe313c6);}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0xb4),auth,async(_0xfd2f9f,_0x27461a)=>{const _0x522e99=a0_0x14c106;try{const {name:_0x3d4108,products:_0x44cbd6}=_0xfd2f9f['body'],_0xfd8086=new brands({'name':_0x3d4108,'products':_0x44cbd6}),_0x127a91=await brands[_0x522e99(0x147)]({'name':_0x3d4108});_0x127a91?_0xfd2f9f[_0x522e99(0x96)](_0x522e99(0xf3),_0x3d4108+'\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0xfd2f9f[_0x522e99(0x96)]('success',_0x3d4108+'\x20brand\x20is\x20add\x20successfully');const _0x12ad28=await _0xfd8086[_0x522e99(0xaa)]();_0x27461a[_0x522e99(0x137)](_0x522e99(0xc8));}catch(_0x475511){console[_0x522e99(0x102)](_0x475511);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0x130),auth,async(_0x1060a3,_0xd2b631)=>{const _0x4deb1c=a0_0x14c106;try{const {username:_0x3ed8e5,email:_0x4e09cd,role:_0x422ce0}=_0x1060a3['user'],_0x5372de=_0x1060a3['user'],_0x15cc1c=await profile['findOne']({'email':_0x5372de['email']}),_0x4a7fb1=await master_shop[_0x4deb1c(0x11c)]();console['log'](_0x4deb1c(0xd4),_0x4a7fb1);const _0x371f56=_0x1060a3[_0x4deb1c(0xb6)]['id'];console[_0x4deb1c(0x102)](_0x371f56);const _0x58f30f=await brands[_0x4deb1c(0x142)](_0x371f56);if(_0x4a7fb1[0x0]['language']==_0x4deb1c(0xa1))var _0x2f3625=users['English'];else{if(_0x4a7fb1[0x0]['language']==_0x4deb1c(0x138))var _0x2f3625=users['Hindi'];else{if(_0x4a7fb1[0x0][_0x4deb1c(0xc1)]==_0x4deb1c(0xc7))var _0x2f3625=users['German'];else{if(_0x4a7fb1[0x0][_0x4deb1c(0xc1)]==_0x4deb1c(0x11e))var _0x2f3625=users[_0x4deb1c(0x11e)];else{if(_0x4a7fb1[0x0][_0x4deb1c(0xc1)]==_0x4deb1c(0x10d))var _0x2f3625=users['French'];else{if(_0x4a7fb1[0x0][_0x4deb1c(0xc1)]==_0x4deb1c(0xce))var _0x2f3625=users['Portuguese'];else{if(_0x4a7fb1[0x0]['language']==_0x4deb1c(0xd3))var _0x2f3625=users[_0x4deb1c(0xd3)];else{if(_0x4a7fb1[0x0]['language']==_0x4deb1c(0x10f))var _0x2f3625=users[_0x4deb1c(0x143)];}}}}}}}_0xd2b631[_0x4deb1c(0x113)]('brands',{'success':_0x1060a3[_0x4deb1c(0x96)](_0x4deb1c(0x134)),'errors':_0x1060a3[_0x4deb1c(0x96)](_0x4deb1c(0xf3)),'role':_0x5372de,'profile':_0x15cc1c,'master_shop':_0x4a7fb1,'user':_0x58f30f,'language':_0x2f3625});}catch(_0x1f4351){console['log'](_0x1f4351);}}),router[a0_0x14c106(0x8b)]('/brands/:id',auth,async(_0x408661,_0x17b8a4)=>{const _0x10238e=a0_0x14c106;try{const _0x130418=_0x408661[_0x10238e(0xb6)]['id'],_0x103547=await brands[_0x10238e(0x135)](_0x130418,_0x408661['body']);_0x408661[_0x10238e(0x96)](_0x10238e(0x134),_0x10238e(0xcb)),_0x17b8a4[_0x10238e(0x137)](_0x10238e(0xc8));}catch(_0x138a5d){console[_0x10238e(0x102)](_0x138a5d);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0x148),auth,async(_0x4273f8,_0x5f0001)=>{const _0x234526=a0_0x14c106;try{const _0x36390f=_0x4273f8[_0x234526(0xb6)]['id'],_0x492825=await brands[_0x234526(0x9f)](_0x36390f);_0x4273f8[_0x234526(0x96)](_0x234526(0x134),_0x234526(0x98)),_0x5f0001[_0x234526(0x137)](_0x234526(0xc8));}catch(_0x4bdadf){console[_0x234526(0x102)](_0x4bdadf);}}),router['get'](a0_0x14c106(0x8e),auth,async(_0xd056ca,_0x9c2adb)=>{const _0x159ad1=a0_0x14c106;try{const {username:_0x1af538,email:_0xf952b4,role:_0x5b6681}=_0xd056ca[_0x159ad1(0xc4)],_0x2d1cad=_0xd056ca[_0x159ad1(0xc4)],_0x4d6176=await profile['findOne']({'email':_0x2d1cad[_0x159ad1(0xee)]}),_0x5e5ec3=await master_shop[_0x159ad1(0x11c)]();console[_0x159ad1(0x102)](_0x159ad1(0xd4),_0x5e5ec3);const _0x1362f7=await units[_0x159ad1(0x11c)]();if(_0x5e5ec3[0x0][_0x159ad1(0xc1)]==_0x159ad1(0xa1))var _0x3176d5=users[_0x159ad1(0xef)];else{if(_0x5e5ec3[0x0][_0x159ad1(0xc1)]=='Hindi')var _0x3176d5=users[_0x159ad1(0x138)];else{if(_0x5e5ec3[0x0][_0x159ad1(0xc1)]==_0x159ad1(0xc7))var _0x3176d5=users[_0x159ad1(0xc7)];else{if(_0x5e5ec3[0x0]['language']=='Spanish')var _0x3176d5=users['Spanish'];else{if(_0x5e5ec3[0x0][_0x159ad1(0xc1)]==_0x159ad1(0x10d))var _0x3176d5=users[_0x159ad1(0x10d)];else{if(_0x5e5ec3[0x0][_0x159ad1(0xc1)]==_0x159ad1(0xce))var _0x3176d5=users[_0x159ad1(0xec)];else{if(_0x5e5ec3[0x0]['language']==_0x159ad1(0xd3))var _0x3176d5=users['Chinese'];else{if(_0x5e5ec3[0x0][_0x159ad1(0xc1)]==_0x159ad1(0x10f))var _0x3176d5=users[_0x159ad1(0x143)];}}}}}}}_0x9c2adb[_0x159ad1(0x113)]('units',{'success':_0xd056ca[_0x159ad1(0x96)](_0x159ad1(0x134)),'errors':_0xd056ca[_0x159ad1(0x96)]('errors'),'role':_0x2d1cad,'profile':_0x4d6176,'master_shop':_0x5e5ec3,'user':_0x1362f7,'language':_0x3176d5});}catch(_0x50665e){console[_0x159ad1(0x102)](_0x50665e);}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0x8e),auth,async(_0x53d10d,_0x4b25fd)=>{const _0x28a2ce=a0_0x14c106;try{const {name:_0x59e536,secondary_unit:_0x3f4b40,products:_0x1245f1}=_0x53d10d[_0x28a2ce(0xfe)],_0x20b2e7=new units({'name':_0x59e536,'secondary_unit':_0x3f4b40,'products':_0x1245f1}),_0x562745=await units[_0x28a2ce(0x147)]({'name':_0x59e536});_0x562745?_0x53d10d[_0x28a2ce(0x96)](_0x28a2ce(0xf3),_0x59e536+_0x28a2ce(0xda)):_0x53d10d[_0x28a2ce(0x96)]('success',_0x59e536+_0x28a2ce(0xca));const _0x4367aa=await _0x20b2e7['save']();_0x4b25fd[_0x28a2ce(0x137)](_0x28a2ce(0xc6));}catch(_0x46b22f){console[_0x28a2ce(0x102)](_0x46b22f);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0x110),auth,async(_0x12c5a5,_0x9081d1)=>{const _0x19e14f=a0_0x14c106;try{const {username:_0x5cad29,email:_0x4dfac8,role:_0x8e77a}=_0x12c5a5[_0x19e14f(0xc4)],_0x37a62c=_0x12c5a5[_0x19e14f(0xc4)],_0x83ada=await profile[_0x19e14f(0x147)]({'email':_0x37a62c[_0x19e14f(0xee)]}),_0x4a114c=await master_shop[_0x19e14f(0x11c)]();console[_0x19e14f(0x102)](_0x19e14f(0xd4),_0x4a114c);const _0x4ec38a=_0x12c5a5['params']['id'],_0x54b55c=await units[_0x19e14f(0x142)](_0x4ec38a);if(_0x4a114c[0x0][_0x19e14f(0xc1)]==_0x19e14f(0xa1))var _0x1fae24=users['English'];else{if(_0x4a114c[0x0][_0x19e14f(0xc1)]==_0x19e14f(0x138))var _0x1fae24=users[_0x19e14f(0x138)];else{if(_0x4a114c[0x0][_0x19e14f(0xc1)]==_0x19e14f(0xc7))var _0x1fae24=users[_0x19e14f(0xc7)];else{if(_0x4a114c[0x0][_0x19e14f(0xc1)]==_0x19e14f(0x11e))var _0x1fae24=users[_0x19e14f(0x11e)];else{if(_0x4a114c[0x0]['language']=='French')var _0x1fae24=users[_0x19e14f(0x10d)];else{if(_0x4a114c[0x0][_0x19e14f(0xc1)]==_0x19e14f(0xce))var _0x1fae24=users['Portuguese'];else{if(_0x4a114c[0x0][_0x19e14f(0xc1)]==_0x19e14f(0xd3))var _0x1fae24=users[_0x19e14f(0xd3)];else{if(_0x4a114c[0x0]['language']==_0x19e14f(0x10f))var _0x1fae24=users[_0x19e14f(0x143)];}}}}}}}_0x9081d1[_0x19e14f(0x113)](_0x19e14f(0x108),{'success':_0x12c5a5[_0x19e14f(0x96)]('success'),'errors':_0x12c5a5[_0x19e14f(0x96)](_0x19e14f(0xf3)),'role':_0x37a62c,'profile':_0x83ada,'master_shop':_0x4a114c,'user':_0x54b55c,'language':_0x1fae24});}catch(_0xf9b150){console[_0x19e14f(0x102)](_0xf9b150);}}),router['post']('/units/:id',auth,async(_0x434c19,_0x276599)=>{const _0xf27748=a0_0x14c106;try{const _0x334f6f=_0x434c19['params']['id'],_0x3d7295=await units[_0xf27748(0x135)](_0x334f6f,_0x434c19[_0xf27748(0xfe)]);_0x434c19['flash'](_0xf27748(0x134),_0xf27748(0x100)),_0x276599['redirect']('/products/units');}catch(_0x492ac7){console[_0xf27748(0x102)](_0x492ac7);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0x124),auth,async(_0x2635ae,_0x547222)=>{const _0x233ab9=a0_0x14c106;try{const _0x55aa49=_0x2635ae[_0x233ab9(0xb6)]['id'],_0x2775dc=await units[_0x233ab9(0x9f)](_0x55aa49);_0x2635ae[_0x233ab9(0x96)](_0x233ab9(0x134),_0x233ab9(0x149)),_0x547222[_0x233ab9(0x137)](_0x233ab9(0xc6));}catch(_0x742b7b){console[_0x233ab9(0x102)](_0x742b7b);}});const storage=multer[a0_0x14c106(0xed)]({'destination':(_0x302175,_0x522da7,_0x5396f7)=>{const _0x217a5e=a0_0x14c106;_0x5396f7(null,_0x217a5e(0xa9));},'filename':(_0x4622aa,_0x4259d2,_0x2df62b)=>{const _0x28b54f=a0_0x14c106;_0x2df62b(null,Date[_0x28b54f(0x8d)]()+_0x4259d2[_0x28b54f(0x14e)]);}}),upload=multer({'storage':storage});function a0_0x4442(){const _0x548f0e=['/print_barcode','sku','maxProdPerUnit','product\x20edit','/print_barcode_filter_search/','/brands','barcode\x20user_id','params','utils','height','secondary_unit','../public/language/languages.json','primary_code','product_code','products','status','/barcode/:id','category','language','width','Sheets','user','Category','/products/units','German','/products/brands','sheet_to_json','\x20unit\x20is\x20add\x20successfully','brand\x20data\x20update\x20successfully','Products\x20master','/categories/:id','Portuguese\x20(BR)','/print_barcode_filter/','Secondary_Code','/barcode_filter','toString','Chinese','master','1179588dnxlnO','$product_category','Workbook','$brand','image','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','product_category','exceljs','attachment;\x20filename=Product_Migration_File.xlsx','alertquantity','Products\x20warehouse_data','Raw\x20Materials','single','Enabled','categories\x20data\x20delete\x20successfully','numeric','get','categ','message','PBrands','1337235yEcnxP','json','addPage','Portuguese','diskStorage','email','English','long','brand','Brands','errors','/filter_product','defaultProduct.avif','Prod_Cat','/categories','canvas','$product_stock','/products_export_migrate_file','PAlQty','Product_Name','$product_name','body','1040841vyBSSL','unit\x20data\x20update\x20successfully','stock','log','/barcode_data','Content-Disposition','SheetNames','end','data','units','product_docs','setHeader','/print_barcode_single/:id','Maximum_Stocks','French','columns','Arabic\x20(ae)','/units/:id','bind','maxStocks','render','20DcuYHV','PName','multer','Content-Type','warehouse','$product_details','max_number_per_units','../models/all_models','find','file','Spanish','brands','secondary_code','/categories/delete/:id','195420xhaPzX','PSecondaryUnits','/units/delete/:id','/view/add_products','add_product','881162DrvbuZ','Primary_Code','push','$category','send','\x20added\x20successfully','Products_category','toBuffer','\x20<>\x20','/brands/:id','3868823OvWbrg','/products_import_migrate_file','exports','success','findByIdAndUpdate','express/lib/response','redirect','Hindi','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','/products/view','$product_details.product_stock','length','public/Migration','map','addWorksheet','Products','Router','findById','Arabic','ProductCode','55RkVKTS','Alert_QTY','findOne','/brands/delete/:id','unit\x20data\x20delete\x20successfully','PCat','concat','MaxperUnits','_id','originalname','/products/categories','min','post','product_barcode_products','now','/units','aggregate','filename','Units','Secondary_Units','3588896HTlczf','Finished\x20Goods','readFile','flash','$_id','brand\x20data\x20delete\x20successfully','name','/select_data','Product_Code','xlsx','unit','product\x20update\x20successfully','findByIdAndDelete','base64','English\x20(US)','PUnits','pdfkit-table','product_details.product_name','/view/:id','CODE128','prod_categ','barcode\x20Product\x20master','public/upload','save','product_barcode','1ohWcMD','then','express'];a0_0x4442=function(){return _0x548f0e;};return a0_0x4442();}router[a0_0x14c106(0xe5)]('/view',auth,async(_0x49f92a,_0x11b043)=>{const _0x3428a5=a0_0x14c106;try{const {username:_0xf11194,email:_0x24d2a2,role:_0x58c958}=_0x49f92a[_0x3428a5(0xc4)],_0x3134ed=_0x49f92a['user'],_0x434e69=await profile[_0x3428a5(0x147)]({'email':_0x3134ed[_0x3428a5(0xee)]}),_0x5120c5={'year':'numeric','month':_0x3428a5(0xf0),'day':_0x3428a5(0xe4)},_0x4d79f5=await master_shop[_0x3428a5(0x11c)]();console[_0x3428a5(0x102)](_0x3428a5(0xcc),_0x4d79f5);const _0x7bfb51=await product[_0x3428a5(0x11c)]();console[_0x3428a5(0x102)]('Products\x20find_data',_0x7bfb51);const _0xb5e19a=await warehouse[_0x3428a5(0x8f)]([{'$unwind':_0x3428a5(0x119)},{'$lookup':{'from':'products','localField':_0x3428a5(0xa4),'foreignField':_0x3428a5(0x99),'as':_0x3428a5(0x109)}},{'$unwind':'$product_docs'},{'$project':{'product_name':'$product_details.product_name','product_stock':_0x3428a5(0x13b)}},{'$group':{'_id':_0x3428a5(0xfd),'product_stock':{'$sum':_0x3428a5(0xf9)}}}]);console[_0x3428a5(0x102)](_0x3428a5(0xdf),_0xb5e19a),_0xb5e19a['forEach'](_0x2ac38c=>{const _0x7c4aa4=_0x3428a5,_0x5bd0c4=_0x7bfb51[_0x7c4aa4(0x13e)](_0x53a214=>{const _0x52f3c7=_0x7c4aa4;_0x53a214[_0x52f3c7(0x99)]==_0x2ac38c[_0x52f3c7(0x14d)]&&(_0x53a214[_0x52f3c7(0x101)]=parseInt(_0x53a214[_0x52f3c7(0x101)])+parseInt(_0x2ac38c['product_stock']));});}),console[_0x3428a5(0x102)]('Products\x20find_data',_0x7bfb51);if(_0x4d79f5[0x0][_0x3428a5(0xc1)]=='English\x20(US)')var _0x4865b4=users[_0x3428a5(0xef)];else{if(_0x4d79f5[0x0][_0x3428a5(0xc1)]=='Hindi')var _0x4865b4=users[_0x3428a5(0x138)];else{if(_0x4d79f5[0x0][_0x3428a5(0xc1)]==_0x3428a5(0xc7))var _0x4865b4=users['German'];else{if(_0x4d79f5[0x0][_0x3428a5(0xc1)]=='Spanish')var _0x4865b4=users['Spanish'];else{if(_0x4d79f5[0x0][_0x3428a5(0xc1)]==_0x3428a5(0x10d))var _0x4865b4=users['French'];else{if(_0x4d79f5[0x0][_0x3428a5(0xc1)]=='Portuguese\x20(BR)')var _0x4865b4=users[_0x3428a5(0xec)];else{if(_0x4d79f5[0x0][_0x3428a5(0xc1)]==_0x3428a5(0xd3))var _0x4865b4=users[_0x3428a5(0xd3)];else{if(_0x4d79f5[0x0]['language']==_0x3428a5(0x10f))var _0x4865b4=users[_0x3428a5(0x143)];}}}}}}}_0x11b043['render']('products',{'success':_0x49f92a['flash'](_0x3428a5(0x134)),'errors':_0x49f92a[_0x3428a5(0x96)](_0x3428a5(0xf3)),'alldata':_0x7bfb51,'profile':_0x434e69,'master_shop':_0x4d79f5,'role':_0x3134ed,'product_stock':_0xb5e19a,'language':_0x4865b4});}catch(_0x4a8142){console[_0x3428a5(0x102)](_0x4a8142);}}),router[a0_0x14c106(0xe5)]('/view/add_products',auth,async(_0x54c278,_0x3289e5)=>{const _0x28617c=a0_0x14c106;try{const {username:_0x2e4002,email:_0x57b3bd,role:_0x19e935}=_0x54c278[_0x28617c(0xc4)],_0x4add10=_0x54c278[_0x28617c(0xc4)],_0x395881=await profile[_0x28617c(0x147)]({'email':_0x4add10[_0x28617c(0xee)]}),_0x12e9bf=await master_shop[_0x28617c(0x11c)]();console['log'](_0x28617c(0xd4),_0x12e9bf);const _0x131341=await categories['find']({}),_0x2bca42=await brands[_0x28617c(0x11c)]({}),_0x19c238=await units[_0x28617c(0x11c)]({}),_0x16c098=await warehouse['find']({'status':_0x28617c(0xe2)});if(_0x12e9bf[0x0][_0x28617c(0xc1)]==_0x28617c(0xa1))var _0x48d3dd=users[_0x28617c(0xef)];else{if(_0x12e9bf[0x0]['language']==_0x28617c(0x138))var _0x48d3dd=users['Hindi'];else{if(_0x12e9bf[0x0][_0x28617c(0xc1)]==_0x28617c(0xc7))var _0x48d3dd=users['German'];else{if(_0x12e9bf[0x0][_0x28617c(0xc1)]=='Spanish')var _0x48d3dd=users[_0x28617c(0x11e)];else{if(_0x12e9bf[0x0][_0x28617c(0xc1)]=='French')var _0x48d3dd=users[_0x28617c(0x10d)];else{if(_0x12e9bf[0x0][_0x28617c(0xc1)]=='Portuguese\x20(BR)')var _0x48d3dd=users['Portuguese'];else{if(_0x12e9bf[0x0][_0x28617c(0xc1)]==_0x28617c(0xd3))var _0x48d3dd=users[_0x28617c(0xd3)];else{if(_0x12e9bf[0x0][_0x28617c(0xc1)]==_0x28617c(0x10f))var _0x48d3dd=users[_0x28617c(0x143)];}}}}}}}_0x3289e5[_0x28617c(0x113)](_0x28617c(0x126),{'success':_0x54c278[_0x28617c(0x96)](_0x28617c(0x134)),'errors':_0x54c278[_0x28617c(0x96)](_0x28617c(0xf3)),'role':_0x4add10,'profile':_0x395881,'categories':_0x131341,'brands':_0x2bca42,'master_shop':_0x12e9bf,'units':_0x19c238,'language':_0x48d3dd,'find_data':_0x16c098});}catch(_0x44b5a8){console[_0x28617c(0x102)](_0x44b5a8);}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0x125),auth,upload['single'](a0_0x14c106(0xd9)),async(_0x418dac,_0x50bd33)=>{const _0x232ae8=a0_0x14c106;try{const {name:_0x2e765b,category:_0x247efb,brand:_0x54f4fe,unit:_0x51a439,alertquantity:_0x49c846,stock:_0x1beb43,product_code:_0xa089a3,warehouse:_0x5017c3,primary_ItemCode:_0x3014df,second_ItemCode:_0x3004a5,second_unit:_0x3b8d75,maxPerUnit:_0x142afa,MaxPerProduct:_0x5203d2,sales_cat:_0x28b9d8,type_prod:_0x19903f}=_0x418dac['body'],_0x8588d=_0x418dac[_0x232ae8(0x11d)]?.[_0x232ae8(0x90)]||_0x232ae8(0xf5),_0x240286=new product({'image':_0x8588d,'name':_0x2e765b,'category':_0x247efb,'brand':_0x54f4fe,'unit':_0x51a439,'alertquantity':_0x49c846,'stock':_0x1beb43,'product_code':_0xa089a3,'warehouse':_0x5017c3,'primary_code':_0x3014df,'secondary_code':_0x3004a5,'second_unit':_0x3b8d75,'maxStocks':_0x5203d2,'maxProdPerUnit':_0x142afa,'sales_category':_0x28b9d8,'type_products':_0x19903f}),_0x3bcc1e=await _0x240286[_0x232ae8(0xaa)](),_0x1500ae=await categories[_0x232ae8(0x147)]({'name':_0x247efb});_0x1500ae['products']=parseInt(_0x1500ae['products'])+0x1,await _0x1500ae[_0x232ae8(0xaa)]();const _0x1fe7dc=await brands['findOne']({'name':_0x54f4fe});_0x1fe7dc[_0x232ae8(0xbd)]=parseInt(_0x1fe7dc['products'])+0x1,await _0x1fe7dc[_0x232ae8(0xaa)]();const _0x43df9c=await units['findOne']({'name':_0x51a439});_0x43df9c['products']=parseInt(_0x43df9c['products'])+0x1,await _0x43df9c['save'](),_0x418dac[_0x232ae8(0x96)](_0x232ae8(0x134),'product\x20add\x20successfully'),_0x50bd33[_0x232ae8(0x137)]('/products/view');}catch(_0x3b1574){console[_0x232ae8(0x102)](_0x3b1574);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0xa5),auth,async(_0x34b301,_0x1cf25d)=>{const _0x1cb931=a0_0x14c106;try{const {username:_0x47c43d,email:_0x10626c,role:_0x41406b}=_0x34b301[_0x1cb931(0xc4)],_0x3df8f3=_0x34b301[_0x1cb931(0xc4)],_0x536b65=await profile[_0x1cb931(0x147)]({'email':_0x3df8f3[_0x1cb931(0xee)]}),_0x5e3eb3=await master_shop[_0x1cb931(0x11c)]();console[_0x1cb931(0x102)]('edit\x20Product\x20master',_0x5e3eb3);const _0x1c1f0a=_0x34b301[_0x1cb931(0xb6)]['id'],_0x243156=await product['findById'](_0x1c1f0a),_0xa713cb=await categories[_0x1cb931(0x11c)]({}),_0x557d1d=await brands[_0x1cb931(0x11c)]({}),_0x3dfbf0=await units[_0x1cb931(0x11c)]({}),_0x6344ed=await warehouse[_0x1cb931(0x11c)]({'status':_0x1cb931(0xe2)}),_0x2c9d57=await units[_0x1cb931(0x8f)]([{'$group':{'_id':_0x1cb931(0x97),'secondaryunit':{'$first':'$secondary_unit'}}}]);if(_0x5e3eb3[0x0]['language']==_0x1cb931(0xa1))var _0x5bcbbc=users[_0x1cb931(0xef)];else{if(_0x5e3eb3[0x0][_0x1cb931(0xc1)]==_0x1cb931(0x138))var _0x5bcbbc=users['Hindi'];else{if(_0x5e3eb3[0x0][_0x1cb931(0xc1)]==_0x1cb931(0xc7))var _0x5bcbbc=users['German'];else{if(_0x5e3eb3[0x0]['language']==_0x1cb931(0x11e))var _0x5bcbbc=users[_0x1cb931(0x11e)];else{if(_0x5e3eb3[0x0][_0x1cb931(0xc1)]==_0x1cb931(0x10d))var _0x5bcbbc=users['French'];else{if(_0x5e3eb3[0x0]['language']==_0x1cb931(0xce))var _0x5bcbbc=users[_0x1cb931(0xec)];else{if(_0x5e3eb3[0x0][_0x1cb931(0xc1)]=='Chinese')var _0x5bcbbc=users[_0x1cb931(0xd3)];else{if(_0x5e3eb3[0x0][_0x1cb931(0xc1)]==_0x1cb931(0x10f))var _0x5bcbbc=users['Arabic'];}}}}}}}_0x1cf25d['render']('edit_product',{'success':_0x34b301[_0x1cb931(0x96)]('success'),'errors':_0x34b301[_0x1cb931(0x96)](_0x1cb931(0xf3)),'role':_0x3df8f3,'profile':_0x536b65,'alldata':_0x243156,'categories':_0xa713cb,'brands':_0x557d1d,'master_shop':_0x5e3eb3,'units':_0x3dfbf0,'secondunit':_0x2c9d57,'find_data':_0x6344ed,'language':_0x5bcbbc});}catch(_0x3d0e23){console[_0x1cb931(0x102)](_0x3d0e23);}}),router[a0_0x14c106(0x8b)]('/view/:id',auth,upload[a0_0x14c106(0xe1)](a0_0x14c106(0xd9)),async(_0x41ec4f,_0x59dcec)=>{const _0x19d31a=a0_0x14c106;try{const _0x5ec50d=_0x41ec4f[_0x19d31a(0xb6)]['id'],_0x2d89c8=await product[_0x19d31a(0x142)](_0x5ec50d),{image:_0xa01d3e,name:_0x2010e3,category:_0x511805,brand:_0x2b8450,sku:_0x403924,unit:_0x3df3c2,alertquantity:_0x38d6ea,product_code:_0x9f2665,warehouse:_0x14231b,primary_ItemCode:_0x3ff588,second_ItemCode:_0x51eb47,second_unit:_0x6d3c69,maxPerUnit:_0x51a911,MaxPerProduct:_0x4e8d2a,prod_catdata:_0x5c097f,type_prod:_0x4cc34f,sales_cat:_0x1c7ad2}=_0x41ec4f[_0x19d31a(0xfe)];_0x41ec4f[_0x19d31a(0x11d)]&&(_0x2d89c8[_0x19d31a(0xd9)]=_0x41ec4f['file']['filename']);_0x2d89c8[_0x19d31a(0x99)]=_0x2010e3,_0x2d89c8[_0x19d31a(0xc0)]=_0x511805,_0x2d89c8[_0x19d31a(0xf1)]=_0x2b8450,_0x2d89c8[_0x19d31a(0xb0)]=_0x403924,_0x2d89c8[_0x19d31a(0x9d)]=_0x3df3c2,_0x2d89c8[_0x19d31a(0xde)]=_0x38d6ea,_0x2d89c8[_0x19d31a(0xbc)]=_0x9f2665,_0x2d89c8[_0x19d31a(0x118)]=_0x14231b,_0x2d89c8['primary_code']=_0x3ff588,_0x2d89c8['secondary_code']=_0x51eb47,_0x2d89c8[_0x19d31a(0xb9)]=_0x6d3c69,_0x2d89c8[_0x19d31a(0x112)]=_0x4e8d2a,_0x2d89c8['maxProdPerUnit']=_0x51a911,_0x2d89c8[_0x19d31a(0xdb)]=_0x5c097f,_0x2d89c8['type_products']=_0x4cc34f,_0x2d89c8['sales_category']=_0x1c7ad2;const _0x14e466=await _0x2d89c8[_0x19d31a(0xaa)]();console[_0x19d31a(0x102)](_0x19d31a(0xb2),_0x2d89c8),_0x41ec4f[_0x19d31a(0x96)](_0x19d31a(0x134),_0x19d31a(0x9e)),_0x59dcec[_0x19d31a(0x137)](_0x19d31a(0x13a));}catch(_0x5e015c){console[_0x19d31a(0x102)](_0x5e015c);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0xbf),auth,async(_0x1d3190,_0x3c42ad)=>{const _0x315697=a0_0x14c106;try{const {username:_0x1d5b62,email:_0xda26fd,role:_0xbd1a4a}=_0x1d3190[_0x315697(0xc4)],_0x33b654=_0x1d3190[_0x315697(0xc4)],_0x293914=await profile[_0x315697(0x147)]({'email':_0x33b654[_0x315697(0xee)]}),_0x1d8c9b=await master_shop[_0x315697(0x11c)]();console[_0x315697(0x102)](_0x315697(0xa8),_0x1d8c9b);const _0x390ea5=_0x1d3190['params']['id'],_0x2d5c70=await product[_0x315697(0x142)](_0x390ea5);console['log'](_0x315697(0xb5),_0x2d5c70);if(_0x1d8c9b[0x0][_0x315697(0xc1)]==_0x315697(0xa1))var _0xfd9dca=users['English'];else{if(_0x1d8c9b[0x0][_0x315697(0xc1)]==_0x315697(0x138))var _0xfd9dca=users['Hindi'];else{if(_0x1d8c9b[0x0][_0x315697(0xc1)]==_0x315697(0xc7))var _0xfd9dca=users[_0x315697(0xc7)];else{if(_0x1d8c9b[0x0][_0x315697(0xc1)]=='Spanish')var _0xfd9dca=users[_0x315697(0x11e)];else{if(_0x1d8c9b[0x0]['language']==_0x315697(0x10d))var _0xfd9dca=users[_0x315697(0x10d)];else{if(_0x1d8c9b[0x0]['language']=='Portuguese\x20(BR)')var _0xfd9dca=users['Portuguese'];else{if(_0x1d8c9b[0x0][_0x315697(0xc1)]==_0x315697(0xd3))var _0xfd9dca=users[_0x315697(0xd3)];else{if(_0x1d8c9b[0x0][_0x315697(0xc1)]==_0x315697(0x10f))var _0xfd9dca=users[_0x315697(0x143)];}}}}}}}_0x3c42ad[_0x315697(0x113)](_0x315697(0xab),{'success':_0x1d3190[_0x315697(0x96)](_0x315697(0x134)),'errors':_0x1d3190[_0x315697(0x96)](_0x315697(0xf3)),'role':_0x33b654,'profile':_0x293914,'alldata':_0x2d5c70,'master_shop':_0x1d8c9b,'language':_0xfd9dca});}catch(_0x2333fb){console[_0x315697(0x102)](_0x2333fb);}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0xfa),auth,async(_0x3a196f,_0x1f0fd9)=>{const _0x5640e7=a0_0x14c106;try{const _0x35b4da=new excelJS[(_0x5640e7(0xd7))](),_0x1192b9=_0x35b4da[_0x5640e7(0x13f)](_0x5640e7(0x140));return _0x1192b9[_0x5640e7(0x10e)]=[{'header':_0x5640e7(0xfc),'key':_0x5640e7(0x115),'width':0xa},{'header':'Brands','key':_0x5640e7(0xe8),'width':0xa},{'header':_0x5640e7(0x91),'key':_0x5640e7(0xa2),'width':0xa},{'header':_0x5640e7(0x92),'key':_0x5640e7(0x123),'width':0xa},{'header':'max_number_per_units','key':_0x5640e7(0x14c),'width':0xa},{'header':_0x5640e7(0x128),'key':'ProductCode','width':0xa},{'header':_0x5640e7(0xd0),'key':_0x5640e7(0x144),'width':0xa},{'header':_0x5640e7(0x9b),'key':'ProductCode','width':0xa},{'header':_0x5640e7(0xc5),'key':_0x5640e7(0x14a),'width':0xa},{'header':_0x5640e7(0x146),'key':_0x5640e7(0xfb),'width':0xa},{'header':_0x5640e7(0x10c),'key':'PAlQty','width':0xa},{'header':_0x5640e7(0x12d),'key':_0x5640e7(0xf6),'width':0xa}],_0x1f0fd9[_0x5640e7(0x10a)](_0x5640e7(0x117),_0x5640e7(0x139)),_0x1f0fd9[_0x5640e7(0x10a)](_0x5640e7(0x104),_0x5640e7(0xdd)),_0x35b4da[_0x5640e7(0x9c)]['write'](_0x1f0fd9)[_0x5640e7(0xad)](()=>{const _0x2bcc07=_0x5640e7;_0x1f0fd9[_0x2bcc07(0xbe)](0xc8);});}catch(_0x1bee3b){_0x1f0fd9[_0x5640e7(0xbe)](0x190)[_0x5640e7(0x12b)](_0x1bee3b);}});const storage1=multer[a0_0x14c106(0xed)]({'destination':(_0xa8760a,_0x307991,_0x599ea0)=>{const _0x30a74d=a0_0x14c106;_0x599ea0(null,_0x30a74d(0x13d));},'filename':(_0x240ae1,_0x4f6864,_0x5e5370)=>{const _0x51a7b2=a0_0x14c106;_0x5e5370(null,Date[_0x51a7b2(0x8d)]()+_0x4f6864[_0x51a7b2(0x14e)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x14c106(0x8b)](a0_0x14c106(0x132),auth,uploadMigrate['single']('migrate_product_fule'),async(_0x4c8379,_0x35f61d)=>{const _0x4096bd=a0_0x14c106,_0x578fd2=_0x4c8379[_0x4096bd(0x11d)][_0x4096bd(0x90)],_0x458e91=await xlsx[_0x4096bd(0x95)]('public/Migration/'+_0x578fd2);let _0x343005=_0x458e91[_0x4096bd(0x105)],_0x301807=xlsx[_0x4096bd(0xb7)][_0x4096bd(0xc9)](_0x458e91[_0x4096bd(0xc3)][_0x343005[0x0]]);for(const _0x2abca6 of _0x301807){const _0x5ea769=_0x2abca6[_0x4096bd(0xfc)],_0x423aac=_0x2abca6[_0x4096bd(0xf2)],_0x9c7efb=_0x2abca6['Units'],_0x5ac1c3=_0x2abca6[_0x4096bd(0x92)],_0x42d414=_0x2abca6[_0x4096bd(0x9b)],_0x4ac7c9=_0x2abca6['Category'],_0x2c66aa=_0x2abca6[_0x4096bd(0x146)],_0x3100a5=_0x2abca6[_0x4096bd(0x128)],_0x4fcc6d=_0x2abca6['Secondary_Code'],_0x47639e=_0x2abca6[_0x4096bd(0x10c)],_0x44b183=_0x2abca6[_0x4096bd(0x11a)],_0x1f4c16=_0x2abca6[_0x4096bd(0x12d)];try{let _0x12bfe5=await categories[_0x4096bd(0x147)]({'name':_0x4ac7c9});if(!_0x12bfe5){const _0x1f4696=new categories({'name':_0x4ac7c9,'products':'0'});_0x12bfe5=await _0x1f4696[_0x4096bd(0xaa)]();}let _0x48a201=await brands['findOne']({'name':_0x423aac});if(!_0x48a201){const _0x59721e=new brands({'name':_0x423aac,'products':'0'});_0x48a201=await _0x59721e[_0x4096bd(0xaa)]();}let _0x623762=await units[_0x4096bd(0x147)]({'name':_0x9c7efb,'secondary_unit':_0x5ac1c3});if(!_0x623762){const _0x445c9f=new units({'name':_0x9c7efb,'secondary_unit':_0x5ac1c3,'products':'0'});_0x623762=await _0x445c9f[_0x4096bd(0xaa)]();}const _0x2eb00f=await product['find']({'name':_0x5ea769,'category':_0x12bfe5[_0x4096bd(0x99)],'brand':_0x48a201[_0x4096bd(0x99)],'secondary_unit':_0x623762[_0x4096bd(0xb9)],'product_code':_0x42d414});console[_0x4096bd(0x102)](_0x2eb00f[_0x4096bd(0x13c)]+_0x4096bd(0x12f)+_0x12bfe5[_0x4096bd(0x99)]+_0x4096bd(0x12f)+_0x48a201['name']+_0x4096bd(0x12f)+_0x623762[_0x4096bd(0xb9)]+'\x20<>\x20'+_0x42d414+'\x20<>\x20'+_0x5ea769);if(_0x2eb00f[_0x4096bd(0x13c)]===0x0){const _0x60dd1d=new product({'image':_0x4096bd(0xf5),'name':_0x5ea769,'category':_0x12bfe5[_0x4096bd(0x99)],'brand':_0x48a201['name'],'unit':_0x623762['name'],'alertquantity':_0x2c66aa,'product_code':_0x42d414,'secondary_unit':_0x623762[_0x4096bd(0xb9)],'primary_code':_0x3100a5,'secondary_code':_0x4fcc6d,'maxStocks':_0x47639e,'maxProdPerUnit':_0x44b183,'product_category':_0x1f4c16}),_0x310bb0=await _0x60dd1d[_0x4096bd(0xaa)]();_0x12bfe5['products']=parseInt(_0x12bfe5['products'])+0x1,await _0x12bfe5[_0x4096bd(0xaa)](),_0x48a201[_0x4096bd(0xbd)]=parseInt(_0x48a201[_0x4096bd(0xbd)])+0x1,await _0x48a201[_0x4096bd(0xaa)](),_0x623762['products']=parseInt(_0x623762[_0x4096bd(0xbd)])+0x1,await _0x623762[_0x4096bd(0xaa)](),_0x4c8379[_0x4096bd(0x96)]('success',_0x5ea769+_0x4096bd(0x12c));}else{console[_0x4096bd(0x102)](_0x2eb00f[0x0]);const _0x336f7e=_0x2eb00f[0x0];_0x336f7e[_0x4096bd(0xc0)]=_0x12bfe5[_0x4096bd(0x99)],_0x336f7e[_0x4096bd(0xf1)]=_0x48a201[_0x4096bd(0x99)],_0x336f7e[_0x4096bd(0x9d)]=_0x623762[_0x4096bd(0x99)],_0x336f7e[_0x4096bd(0xde)]=_0x2c66aa,_0x336f7e['product_code']=_0x42d414,_0x336f7e['secondary_unit']=_0x623762[_0x4096bd(0xb9)],_0x336f7e[_0x4096bd(0xbb)]=_0x3100a5,_0x336f7e[_0x4096bd(0x120)]=_0x4fcc6d,_0x336f7e[_0x4096bd(0x112)]=_0x47639e,_0x336f7e[_0x4096bd(0xb1)]=_0x44b183,_0x336f7e[_0x4096bd(0xdb)]=_0x1f4c16;const _0x2fadf7=await _0x336f7e[_0x4096bd(0xaa)]();_0x4c8379[_0x4096bd(0x96)]('success',_0x2fadf7[_0x4096bd(0x99)]+'\x20Edit\x20Successfully');}}catch(_0xfde4b8){_0x35f61d[_0x4096bd(0xbe)](0x1f4)[_0x4096bd(0xea)]({'proderror':_0xfde4b8['message'],'aproduct':_0x5ea769});}}_0x35f61d['redirect'](_0x4096bd(0x13a));}),router['post'](a0_0x14c106(0x9a),auth,async(_0xbfb6b2,_0x6f0aa8)=>{const _0x5ab6d0=a0_0x14c106;try{console[_0x5ab6d0(0x102)](_0xbfb6b2['body']);const {data_cateory:_0x1ca197,datachoose:_0x352848}=_0xbfb6b2[_0x5ab6d0(0xfe)];var _0x34308b;if(_0x352848==_0x5ab6d0(0xa7))_0x34308b=await product[_0x5ab6d0(0x8f)]([{'$group':{'_id':_0x5ab6d0(0xd6)}}]);else{if(_0x352848=='brands')_0x34308b=await product[_0x5ab6d0(0x8f)]([{'$match':{'product_category':_0x1ca197}},{'$group':{'_id':_0x5ab6d0(0xd8)}}]);else _0x352848==_0x5ab6d0(0xe6)&&(_0x34308b=await product['aggregate']([{'$match':{'product_category':_0x1ca197}},{'$group':{'_id':_0x5ab6d0(0x12a)}}]));}_0x6f0aa8[_0x5ab6d0(0xea)](_0x34308b);}catch(_0x51ba8c){_0x6f0aa8[_0x5ab6d0(0xea)]({'message':_0x51ba8c['message']});}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0xf4),auth,async(_0x747f94,_0x30c76d)=>{const _0x259e8b=a0_0x14c106;try{const {data_choosing:_0x5af13a,data_selected:_0x52e88b}=_0x747f94['body'];var _0x7edbf3;if(_0x5af13a==_0x259e8b(0xa7))_0x7edbf3=await product[_0x259e8b(0x8f)]([{'$match':{'product_category':_0x52e88b}}]);else{if(_0x5af13a==_0x259e8b(0x11f))_0x7edbf3=await product[_0x259e8b(0x8f)]([{'$match':{'brand':_0x52e88b}}]);else _0x5af13a==_0x259e8b(0xe6)&&(_0x7edbf3=await product[_0x259e8b(0x8f)]([{'$match':{'category':_0x52e88b}}]));}_0x30c76d[_0x259e8b(0xea)](_0x7edbf3);}catch(_0x14fb60){_0x30c76d[_0x259e8b(0xea)]({'message':_0x14fb60[_0x259e8b(0xe7)]});}}),router[a0_0x14c106(0xe5)](a0_0x14c106(0xaf),auth,async(_0x13728d,_0x3ee48f)=>{const _0x10f129=a0_0x14c106,_0x3aca25=_0x13728d[_0x10f129(0xc4)],_0x3047a9=await profile[_0x10f129(0x147)]({'email':_0x3aca25['email']}),_0x1b0c9f=await master_shop[_0x10f129(0x11c)](),_0x5551ad=await product[_0x10f129(0x11c)]();if(_0x1b0c9f[0x0][_0x10f129(0xc1)]==_0x10f129(0xa1))var _0x1f9ac7=users[_0x10f129(0xef)];else{if(_0x1b0c9f[0x0][_0x10f129(0xc1)]=='Hindi')var _0x1f9ac7=users['Hindi'];else{if(_0x1b0c9f[0x0]['language']==_0x10f129(0xc7))var _0x1f9ac7=users[_0x10f129(0xc7)];else{if(_0x1b0c9f[0x0][_0x10f129(0xc1)]==_0x10f129(0x11e))var _0x1f9ac7=users[_0x10f129(0x11e)];else{if(_0x1b0c9f[0x0]['language']=='French')var _0x1f9ac7=users['French'];else{if(_0x1b0c9f[0x0][_0x10f129(0xc1)]==_0x10f129(0xce))var _0x1f9ac7=users[_0x10f129(0xec)];else{if(_0x1b0c9f[0x0][_0x10f129(0xc1)]=='Chinese')var _0x1f9ac7=users['Chinese'];else{if(_0x1b0c9f[0x0][_0x10f129(0xc1)]==_0x10f129(0x10f))var _0x1f9ac7=users['Arabic'];}}}}}}}_0x3ee48f[_0x10f129(0x113)](_0x10f129(0x8c),{'success':_0x13728d['flash'](_0x10f129(0x134)),'errors':_0x13728d[_0x10f129(0x96)](_0x10f129(0xf3)),'role':_0x3aca25,'profile':_0x3047a9,'products':_0x5551ad,'master_shop':_0x1b0c9f,'language':_0x1f9ac7});}),router['post'](a0_0x14c106(0x103),auth,async(_0x51da52,_0x309a3c)=>{const _0x3e2387=a0_0x14c106,_0x2064f4=await product[_0x3e2387(0x11c)]();_0x309a3c[_0x3e2387(0xea)]({'data':_0x2064f4});}),router['post'](a0_0x14c106(0xd1),auth,async(_0x5dfb45,_0x14e1e2)=>{const _0x1b44a9=a0_0x14c106;try{const {dataProdCat:_0x2f2473,dataProdIdentity:_0x3e2bd1}=_0x5dfb45['body'];var _0x2fcdc7;switch(_0x2f2473){case'fg':switch(_0x3e2bd1){case'Brands':_0x2fcdc7=await product['aggregate']([{'$match':{'product_category':_0x1b44a9(0x94)}},{'$group':{'_id':_0x1b44a9(0xd8)}},{'$project':{'brand':'$_id'}}]);break;case _0x1b44a9(0xc5):_0x2fcdc7=await product[_0x1b44a9(0x8f)]([{'$match':{'product_category':_0x1b44a9(0x94)}},{'$group':{'_id':_0x1b44a9(0x12a)}},{'$project':{'category':'$_id'}}]);break;}break;case'rm':switch(_0x3e2bd1){case _0x1b44a9(0xf2):_0x2fcdc7=await product[_0x1b44a9(0x8f)]([{'$match':{'product_category':_0x1b44a9(0xe0)}},{'$group':{'_id':_0x1b44a9(0xd8)}},{'$project':{'brand':_0x1b44a9(0x97)}}]);break;case _0x1b44a9(0xc5):_0x2fcdc7=await product['aggregate']([{'$match':{'product_category':_0x1b44a9(0xe0)}},{'$group':{'_id':_0x1b44a9(0x12a)}},{'$project':{'category':_0x1b44a9(0x97)}}]);break;}break;}_0x14e1e2[_0x1b44a9(0xea)](_0x2fcdc7);}catch(_0x4a0b48){_0x14e1e2['json']({'message':_0x4a0b48[_0x1b44a9(0xe7)]});}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0xcf),auth,async(_0x1e9b42,_0x2434f)=>{const _0x15e90a=a0_0x14c106;try{console[_0x15e90a(0x102)](_0x1e9b42['body']);const {prod_cat:_0x3171c3,identity:_0x44dd94,valueData:_0x2b15d8,typeofbarcode:_0x22e84e}=_0x1e9b42[_0x15e90a(0xfe)];let _0x471b8e;switch(_0x3171c3){case'fg':if(_0x44dd94==_0x15e90a(0xf2))_0x471b8e=await product[_0x15e90a(0x8f)]([{'$match':{'product_category':_0x15e90a(0x94),'brand':_0x2b15d8}}]);else _0x44dd94=='Category'&&(_0x471b8e=await product['aggregate']([{'$match':{'product_category':_0x15e90a(0x94),'category':_0x2b15d8}}]));break;case'rm':if(_0x44dd94==_0x15e90a(0xf2))_0x471b8e=await product['aggregate']([{'$match':{'product_category':_0x15e90a(0xe0),'brand':_0x2b15d8}}]);else _0x44dd94==_0x15e90a(0xc5)&&(_0x471b8e=await product[_0x15e90a(0x8f)]([{'$match':{'product_category':_0x15e90a(0xe0),'category':_0x2b15d8}}]));break;}const _0x455735=_0x2d7ca3=>_0x2d7ca3*0x48,_0xf72cbc={'width':0x3,'height':0x1},_0x31e0a5=new PDFDocument({'margin':_0x455735(0.75),'size':[_0x455735(_0xf72cbc['width']),_0x455735(_0xf72cbc[_0x15e90a(0xb8)])],'bufferPages':!![]}),_0x33e4c6=_0x471b8e[_0x15e90a(0x13c)];for(let _0x42d898=0x0;_0x42d898<=_0x33e4c6;_0x42d898++){if(_0x42d898!=_0x33e4c6){const _0x27161b=_0x471b8e[_0x42d898]['name'],_0x33bbd5=_0x471b8e[_0x42d898]['primary_code'],_0x2a81ba=_0x471b8e[_0x42d898][_0x15e90a(0x120)],_0x10a504=_0x471b8e[_0x42d898][_0x15e90a(0xbc)];var _0x46270c;switch(_0x22e84e){case'1':_0x46270c=_0x33bbd5;break;case'2':_0x46270c=_0x2a81ba;break;case'3':_0x46270c=_0x10a504;break;}const _0x4ab5f9={'width':0xd2,'height':0x64},_0x36aaf0={'width':_0x455735(_0xf72cbc[_0x15e90a(0xc2)]),'height':_0x455735(_0xf72cbc[_0x15e90a(0xb8)])},_0x11b63c=new Canvas();JsBarcode(_0x11b63c,_0x46270c,{'format':_0x15e90a(0xa6),'height':_0x4ab5f9[_0x15e90a(0xb8)],'displayValue':!![],'text':_0x46270c});const _0x49891c=_0x11b63c['toBuffer'](),_0x7174cb=_0x36aaf0[_0x15e90a(0xc2)]/_0x4ab5f9['width'],_0x4e3a55=_0x36aaf0['height']/_0x4ab5f9[_0x15e90a(0xb8)],_0xc01023=Math[_0x15e90a(0x8a)](_0x7174cb,_0x4e3a55),_0x5102d2=_0x4ab5f9[_0x15e90a(0xc2)]*_0xc01023,_0x572531=_0x4ab5f9[_0x15e90a(0xb8)]*_0xc01023,_0xe1a2ae=(_0x36aaf0[_0x15e90a(0xc2)]-_0x5102d2)/0x2,_0x4a8d1a=(_0x36aaf0[_0x15e90a(0xb8)]-_0x572531)/0x2;_0x31e0a5[_0x15e90a(0xd9)](_0x49891c,_0xe1a2ae,_0x4a8d1a,{'width':_0x5102d2,'height':_0x572531}),_0x42d898!=_0x33e4c6&&_0x31e0a5['addPage']();}}const _0x35e0eb=[];_0x31e0a5['on'](_0x15e90a(0x107),_0x35e0eb['push'][_0x15e90a(0x111)](_0x35e0eb)),_0x31e0a5['on'](_0x15e90a(0x106),()=>{const _0x2693cf=_0x15e90a,_0x1908cb=Buffer[_0x2693cf(0x14b)](_0x35e0eb),_0x223ad1=_0x1908cb[_0x2693cf(0xd2)](_0x2693cf(0xa0));_0x2434f[_0x2693cf(0xea)]({'pdfContent':_0x223ad1});}),_0x31e0a5['end']();}catch(_0x546ac9){_0x2434f[_0x15e90a(0xea)]({'message':_0x546ac9['message']});}}),router['post'](a0_0x14c106(0xb3),auth,async(_0x226867,_0x407d3a)=>{const _0x2263b0=a0_0x14c106;try{console[_0x2263b0(0x102)](_0x226867[_0x2263b0(0xfe)]);const {prod_cat:_0x82094d,identity:_0x34ea8a,valueData:_0x5c616d}=_0x226867[_0x2263b0(0xfe)];let _0x29c980;switch(_0x82094d){case'fg':if(_0x34ea8a==_0x2263b0(0xf2))_0x29c980=await product[_0x2263b0(0x8f)]([{'$match':{'product_category':_0x2263b0(0x94),'brand':_0x5c616d}}]);else _0x34ea8a==_0x2263b0(0xc5)&&(_0x29c980=await product[_0x2263b0(0x8f)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x5c616d}}]));break;case'rm':if(_0x34ea8a==_0x2263b0(0xf2))_0x29c980=await product[_0x2263b0(0x8f)]([{'$match':{'product_category':_0x2263b0(0xe0),'brand':_0x5c616d}}]);else _0x34ea8a==_0x2263b0(0xc5)&&(_0x29c980=await product[_0x2263b0(0x8f)]([{'$match':{'product_category':_0x2263b0(0xe0),'category':_0x5c616d}}]));break;}_0x407d3a['json']({'data':_0x29c980});}catch(_0x286133){_0x407d3a[_0x2263b0(0xea)]({'message':_0x286133['message']});}}),router[a0_0x14c106(0x8b)](a0_0x14c106(0x10b),auth,async(_0x57254e,_0x27d999)=>{const _0x4db378=a0_0x14c106;try{const _0x57af3f=_0x57254e[_0x4db378(0xb6)]['id'],{copies:_0x5955db,typeofbarcode:_0x30f78b}=_0x57254e['body'];var _0x413d8f=await product[_0x4db378(0x142)](_0x57af3f);const _0x2bbcc8=_0x524912=>_0x524912*0x48,_0x2081ab={'width':0x3,'height':0x1},_0x3c8835=new PDFDocument({'margin':_0x2bbcc8(0.75),'size':[_0x2bbcc8(_0x2081ab['width']),_0x2bbcc8(_0x2081ab['height'])],'bufferPages':!![]}),_0x32a961=_0x5955db,_0x5f2c06=_0x413d8f[_0x4db378(0x99)],_0x27c00f=_0x413d8f[_0x4db378(0xbb)],_0x43e112=_0x413d8f[_0x4db378(0x120)],_0x31381b=_0x413d8f[_0x4db378(0xbc)];let _0x4c85f9;switch(_0x30f78b){case'1':_0x4c85f9=_0x27c00f;break;case'2':_0x4c85f9=_0x43e112;break;case'3':_0x4c85f9=_0x31381b;break;}const _0x42ec7b={'width':0xd2,'height':0x64},_0x493088={'width':_0x2bbcc8(_0x2081ab[_0x4db378(0xc2)]),'height':_0x2bbcc8(_0x2081ab[_0x4db378(0xb8)])};for(let _0x4d309c=0x1;_0x4d309c<=_0x32a961;_0x4d309c++){const _0x29f0d7=new Canvas();JsBarcode(_0x29f0d7,_0x4c85f9,{'format':_0x4db378(0xa6),'height':_0x42ec7b['height'],'displayValue':!![],'text':_0x4c85f9});const _0x18082c=_0x29f0d7[_0x4db378(0x12e)](),_0x28ccc3=_0x493088[_0x4db378(0xc2)]/_0x42ec7b[_0x4db378(0xc2)],_0x246107=_0x493088['height']/_0x42ec7b['height'],_0x789042=Math[_0x4db378(0x8a)](_0x28ccc3,_0x246107),_0x4c1576=_0x42ec7b['width']*_0x789042,_0x2392a8=_0x42ec7b[_0x4db378(0xb8)]*_0x789042,_0x4c6200=(_0x493088[_0x4db378(0xc2)]-_0x4c1576)/0x2,_0x15c484=(_0x493088[_0x4db378(0xb8)]-_0x2392a8)/0x2;_0x3c8835[_0x4db378(0xd9)](_0x18082c,_0x4c6200,_0x15c484,{'width':_0x4c1576,'height':_0x2392a8}),_0x4d309c!=_0x32a961&&_0x3c8835[_0x4db378(0xeb)]();}const _0x2a4305=[];_0x3c8835['on'](_0x4db378(0x107),_0x2a4305[_0x4db378(0x129)]['bind'](_0x2a4305)),_0x3c8835['on'](_0x4db378(0x106),()=>{const _0x32c8fb=_0x4db378,_0x565bd1=Buffer['concat'](_0x2a4305),_0x2b0198=_0x565bd1[_0x32c8fb(0xd2)](_0x32c8fb(0xa0));_0x27d999[_0x32c8fb(0xea)]({'pdfContent':_0x2b0198});}),_0x3c8835[_0x4db378(0x106)]();}catch(_0xd4b9d5){_0x27d999['json']({'message':_0xd4b9d5['message']});}}),module[a0_0x14c106(0x133)]=router;