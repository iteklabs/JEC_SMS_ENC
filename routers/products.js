const a0_0x12926d=a0_0x4b2a;function a0_0x131e(){const _0xa30cd3=['json','/categories','Product_Name','columns','Sheets','master','edit_product','/products_export_migrate_file','aggregate','attachment;\x20filename=Product_Migration_File.xlsx','/view','status','/categories/delete/:id','exports','/products_import_migrate_file','min','language','defaultProduct.avif','params','now','sheet_to_json','PBrands','products','xlsx','$product_name','$product_docs','map','Content-Disposition','migrate_product_fule','toString','_id','success','brands','2768349eEiyyt','Brands','log','save','Primary_Code','2598985UAYxgn','/filter_product','Secondary_Code','edit\x20Product\x20master','width','sales_category','data','6UEjtqQ','product_docs','concat','addPage','redirect','Workbook','forEach','file','brand\x20data\x20delete\x20successfully','$product_stock','bind','Finished\x20Goods','public/upload','CODE128','Raw\x20Materials','Products_category','product\x20add\x20successfully','render','categories\x20data\x20delete\x20successfully','$product_details.product_name','ProductCode','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/products/categories','SheetNames','flash','max_number_per_units','1776336JcNtZB','Units','diskStorage','Portuguese','7944692jFfPGT','find','post','message','$product_details.product_stock','Products\x20find_data','alertquantity','\x20unit\x20is\x20add\x20successfully','French','/units/:id','Arabic','PAlQty','$category','units','primary_code','product_barcode_products','product\x20update\x20successfully','originalname','filename','prod_categ','Category','Arabic\x20(ae)','length','image','findByIdAndDelete','write','add_product','end','Secondary_Units','product_category','categories','Router','English\x20(US)','../public/language/languages.json','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','canvas','unit','/products/units','/print_barcode_single/:id','\x20<>\x20','addWorksheet','findByIdAndUpdate','../models/all_models','PUnits','public/Migration/','get','category','categ','Chinese','email','product_code','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','toBuffer','/barcode/:id','findOne','/products/view','brand','express/lib/response','stock','\x20Edit\x20Successfully','/barcode_filter','/units','barcode\x20Product\x20master','English','secondary_unit','single','Portuguese\x20(BR)','multer','PCat','long','sku','user','/products/brands','warehouse','height','PName','1363684tABCTg','product\x20edit','Hindi','$brand','brand\x20data\x20update\x20successfully','exceljs','readFile','product_barcode','errors','findById','\x20brand\x20is\x20add\x20successfully','push','base64','German','/brands/:id','categories_edit','/categories/:id','/view/add_products','body','MaxperUnits','2007490HtttCz','24224288VqgnJD','$_id','then','/print_barcode','Spanish','secondary_code','Product_Code','numeric','/barcode_data','Enabled','express','Products','name','Alert_QTY','maxProdPerUnit','maxStocks'];a0_0x131e=function(){return _0xa30cd3;};return a0_0x131e();}(function(_0x265f0e,_0x342b22){const _0x4e2acc=a0_0x4b2a,_0x1ee0ac=_0x265f0e();while(!![]){try{const _0xcc335c=-parseInt(_0x4e2acc(0x10f))/0x1+-parseInt(_0x4e2acc(0x123))/0x2+-parseInt(_0x4e2acc(0x155))/0x3+-parseInt(_0x4e2acc(0x17b))/0x4+-parseInt(_0x4e2acc(0x15a))/0x5*(-parseInt(_0x4e2acc(0x161))/0x6)+parseInt(_0x4e2acc(0x17f))/0x7+parseInt(_0x4e2acc(0x124))/0x8;if(_0xcc335c===_0x342b22)break;else _0x1ee0ac['push'](_0x1ee0ac['shift']());}catch(_0x246b48){_0x1ee0ac['push'](_0x1ee0ac['shift']());}}}(a0_0x131e,0xe790d));const express=require(a0_0x12926d(0x12e)),res=require(a0_0x12926d(0xfc)),app=express(),router=express[a0_0x12926d(0xe2)](),multer=require(a0_0x12926d(0x106)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x12926d(0xed)),auth=require('../middleware/auth'),users=require(a0_0x12926d(0xe4)),excelJS=require(a0_0x12926d(0x114)),xlsx=require(a0_0x12926d(0x14b)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x12926d(0xe6)),PDFDocument=require('pdfkit-table');function a0_0x4b2a(_0x157fe1,_0x2dcecc){const _0x131e87=a0_0x131e();return a0_0x4b2a=function(_0x4b2a7f,_0x3b1b24){_0x4b2a7f=_0x4b2a7f-0xe1;let _0x12e4f9=_0x131e87[_0x4b2a7f];return _0x12e4f9;},a0_0x4b2a(_0x157fe1,_0x2dcecc);}router['get']('/categories',auth,async(_0x268c18,_0x467e30)=>{const _0x51839f=a0_0x12926d;try{const {username:_0x202f72,email:_0x37643e,role:_0x4880ae}=_0x268c18[_0x51839f(0x10a)],_0x5711c8=_0x268c18[_0x51839f(0x10a)],_0x547004=await profile['findOne']({'email':_0x5711c8[_0x51839f(0xf4)]}),_0x21d1f5=await master_shop[_0x51839f(0x180)]();console[_0x51839f(0x157)]('master',_0x21d1f5);const _0x40e3ca=await categories[_0x51839f(0x180)]();if(_0x21d1f5[0x0][_0x51839f(0x144)]==_0x51839f(0xe3))var _0x3e5a16=users[_0x51839f(0x102)];else{if(_0x21d1f5[0x0]['language']==_0x51839f(0x111))var _0x3e5a16=users[_0x51839f(0x111)];else{if(_0x21d1f5[0x0][_0x51839f(0x144)]==_0x51839f(0x11c))var _0x3e5a16=users[_0x51839f(0x11c)];else{if(_0x21d1f5[0x0][_0x51839f(0x144)]==_0x51839f(0x128))var _0x3e5a16=users[_0x51839f(0x128)];else{if(_0x21d1f5[0x0][_0x51839f(0x144)]==_0x51839f(0x187))var _0x3e5a16=users[_0x51839f(0x187)];else{if(_0x21d1f5[0x0][_0x51839f(0x144)]==_0x51839f(0x105))var _0x3e5a16=users[_0x51839f(0x17e)];else{if(_0x21d1f5[0x0][_0x51839f(0x144)]=='Chinese')var _0x3e5a16=users[_0x51839f(0xf3)];else{if(_0x21d1f5[0x0][_0x51839f(0x144)]==_0x51839f(0x194))var _0x3e5a16=users[_0x51839f(0x189)];}}}}}}}_0x467e30[_0x51839f(0x172)](_0x51839f(0xe1),{'success':_0x268c18['flash'](_0x51839f(0x153)),'errors':_0x268c18['flash']('errors'),'role':_0x5711c8,'profile':_0x547004,'user':_0x40e3ca,'master_shop':_0x21d1f5,'language':_0x3e5a16});}catch(_0x4183fe){console['log'](_0x4183fe);}}),router['post'](a0_0x12926d(0x135),auth,async(_0x2a349c,_0x2f6f1f)=>{const _0x5b2630=a0_0x12926d;try{const {name:_0x38d84f,products:_0x4e741c}=_0x2a349c[_0x5b2630(0x121)],_0x105e71=new categories({'name':_0x38d84f,'products':_0x4e741c}),_0x262913=await categories[_0x5b2630(0xf9)]({'name':_0x38d84f});_0x262913?_0x2a349c[_0x5b2630(0x179)]('errors',_0x38d84f+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x2a349c[_0x5b2630(0x179)]('success',_0x38d84f+'\x20categories\x20is\x20add\x20successfully');const _0x220921=await _0x105e71[_0x5b2630(0x158)]();_0x2f6f1f[_0x5b2630(0x165)](_0x5b2630(0x177));}catch(_0x309917){console[_0x5b2630(0x157)](_0x309917);}}),router[a0_0x12926d(0xf0)]('/categories/:id',auth,async(_0x3402ea,_0x52bc00)=>{const _0x2adc99=a0_0x12926d;try{const {username:_0x3666e2,email:_0x31d7e8,role:_0x46b225}=_0x3402ea[_0x2adc99(0x10a)],_0x3c3d3b=_0x3402ea[_0x2adc99(0x10a)],_0x5f07df=await profile[_0x2adc99(0xf9)]({'email':_0x3c3d3b['email']}),_0x1042ba=await master_shop['find']();console[_0x2adc99(0x157)](_0x2adc99(0x139),_0x1042ba);const _0x28e07f=_0x3402ea[_0x2adc99(0x146)]['id'];console[_0x2adc99(0x157)](_0x28e07f);const _0x5df96a=await categories[_0x2adc99(0x118)](_0x28e07f);if(_0x1042ba[0x0][_0x2adc99(0x144)]==_0x2adc99(0xe3))var _0x1e80c4=users[_0x2adc99(0x102)];else{if(_0x1042ba[0x0]['language']==_0x2adc99(0x111))var _0x1e80c4=users[_0x2adc99(0x111)];else{if(_0x1042ba[0x0][_0x2adc99(0x144)]==_0x2adc99(0x11c))var _0x1e80c4=users[_0x2adc99(0x11c)];else{if(_0x1042ba[0x0][_0x2adc99(0x144)]=='Spanish')var _0x1e80c4=users[_0x2adc99(0x128)];else{if(_0x1042ba[0x0]['language']==_0x2adc99(0x187))var _0x1e80c4=users[_0x2adc99(0x187)];else{if(_0x1042ba[0x0][_0x2adc99(0x144)]==_0x2adc99(0x105))var _0x1e80c4=users[_0x2adc99(0x17e)];else{if(_0x1042ba[0x0][_0x2adc99(0x144)]==_0x2adc99(0xf3))var _0x1e80c4=users[_0x2adc99(0xf3)];else{if(_0x1042ba[0x0]['language']==_0x2adc99(0x194))var _0x1e80c4=users[_0x2adc99(0x189)];}}}}}}}_0x52bc00['render'](_0x2adc99(0xe1),{'success':_0x3402ea['flash'](_0x2adc99(0x153)),'errors':_0x3402ea[_0x2adc99(0x179)](_0x2adc99(0x117)),'role':_0x3c3d3b,'profile':_0x5f07df,'master_shop':_0x1042ba,'user':_0x5df96a,'language':_0x1e80c4});}catch(_0x3bd0b3){console[_0x2adc99(0x157)](_0x3bd0b3);}}),router[a0_0x12926d(0x181)](a0_0x12926d(0x11f),auth,async(_0x3fc0af,_0x5d6289)=>{const _0x59427a=a0_0x12926d;try{const _0x427f13=_0x3fc0af[_0x59427a(0x146)]['id'],_0x4d0c01=await categories[_0x59427a(0xec)](_0x427f13,_0x3fc0af[_0x59427a(0x121)]);_0x3fc0af[_0x59427a(0x179)](_0x59427a(0x153),''+users[_0x59427a(0x11e)]),_0x5d6289[_0x59427a(0x165)](_0x59427a(0x177));}catch(_0x17ea71){console[_0x59427a(0x157)](_0x17ea71);}}),router[a0_0x12926d(0xf0)](a0_0x12926d(0x140),auth,async(_0x5d78a5,_0x4bca87)=>{const _0xba3c32=a0_0x12926d;try{const _0x5e7c4f=_0x5d78a5[_0xba3c32(0x146)]['id'],_0x561be2=await categories['findByIdAndDelete'](_0x5e7c4f);_0x5d78a5[_0xba3c32(0x179)](_0xba3c32(0x153),_0xba3c32(0x173)),_0x4bca87[_0xba3c32(0x165)](_0xba3c32(0x177));}catch(_0x51521e){console[_0xba3c32(0x157)](_0x51521e);}}),router[a0_0x12926d(0xf0)]('/brands',auth,async(_0x332f39,_0x47bec7)=>{const _0x45eaf3=a0_0x12926d;try{const {username:_0x4d2c42,email:_0x3b7e51,role:_0x137341}=_0x332f39[_0x45eaf3(0x10a)],_0x231381=_0x332f39['user'],_0x158877=await profile[_0x45eaf3(0xf9)]({'email':_0x231381[_0x45eaf3(0xf4)]}),_0x295a21=await master_shop['find']();console[_0x45eaf3(0x157)](_0x45eaf3(0x139),_0x295a21);const _0x10ebd7=await brands[_0x45eaf3(0x180)]();if(_0x295a21[0x0][_0x45eaf3(0x144)]==_0x45eaf3(0xe3))var _0xecbd78=users['English'];else{if(_0x295a21[0x0][_0x45eaf3(0x144)]=='Hindi')var _0xecbd78=users['Hindi'];else{if(_0x295a21[0x0][_0x45eaf3(0x144)]==_0x45eaf3(0x11c))var _0xecbd78=users[_0x45eaf3(0x11c)];else{if(_0x295a21[0x0]['language']==_0x45eaf3(0x128))var _0xecbd78=users['Spanish'];else{if(_0x295a21[0x0][_0x45eaf3(0x144)]==_0x45eaf3(0x187))var _0xecbd78=users[_0x45eaf3(0x187)];else{if(_0x295a21[0x0][_0x45eaf3(0x144)]==_0x45eaf3(0x105))var _0xecbd78=users[_0x45eaf3(0x17e)];else{if(_0x295a21[0x0][_0x45eaf3(0x144)]==_0x45eaf3(0xf3))var _0xecbd78=users[_0x45eaf3(0xf3)];else{if(_0x295a21[0x0][_0x45eaf3(0x144)]==_0x45eaf3(0x194))var _0xecbd78=users[_0x45eaf3(0x189)];}}}}}}}_0x47bec7[_0x45eaf3(0x172)](_0x45eaf3(0x154),{'success':_0x332f39[_0x45eaf3(0x179)](_0x45eaf3(0x153)),'errors':_0x332f39[_0x45eaf3(0x179)](_0x45eaf3(0x117)),'role':_0x231381,'profile':_0x158877,'master_shop':_0x295a21,'user':_0x10ebd7,'language':_0xecbd78});}catch(_0x4fce11){console['log'](_0x4fce11);}}),router[a0_0x12926d(0x181)]('/brands',auth,async(_0x220991,_0x34ad2a)=>{const _0x1eabba=a0_0x12926d;try{const {name:_0x33e99e,products:_0x414b33}=_0x220991[_0x1eabba(0x121)],_0x57e521=new brands({'name':_0x33e99e,'products':_0x414b33}),_0xf89355=await brands[_0x1eabba(0xf9)]({'name':_0x33e99e});_0xf89355?_0x220991['flash'](_0x1eabba(0x117),_0x33e99e+_0x1eabba(0xf6)):_0x220991['flash']('success',_0x33e99e+_0x1eabba(0x119));const _0xe25891=await _0x57e521['save']();_0x34ad2a[_0x1eabba(0x165)](_0x1eabba(0x10b));}catch(_0x3825cd){console[_0x1eabba(0x157)](_0x3825cd);}}),router[a0_0x12926d(0xf0)](a0_0x12926d(0x11d),auth,async(_0x4201be,_0x23ef71)=>{const _0x3ea2f8=a0_0x12926d;try{const {username:_0x4324b6,email:_0xaacb9b,role:_0x5e4ac8}=_0x4201be[_0x3ea2f8(0x10a)],_0x3b122d=_0x4201be[_0x3ea2f8(0x10a)],_0x1795ed=await profile[_0x3ea2f8(0xf9)]({'email':_0x3b122d[_0x3ea2f8(0xf4)]}),_0x5e1678=await master_shop['find']();console[_0x3ea2f8(0x157)](_0x3ea2f8(0x139),_0x5e1678);const _0x5922b7=_0x4201be[_0x3ea2f8(0x146)]['id'];console[_0x3ea2f8(0x157)](_0x5922b7);const _0x3f9b21=await brands[_0x3ea2f8(0x118)](_0x5922b7);if(_0x5e1678[0x0][_0x3ea2f8(0x144)]=='English\x20(US)')var _0x22f314=users[_0x3ea2f8(0x102)];else{if(_0x5e1678[0x0]['language']==_0x3ea2f8(0x111))var _0x22f314=users['Hindi'];else{if(_0x5e1678[0x0][_0x3ea2f8(0x144)]=='German')var _0x22f314=users[_0x3ea2f8(0x11c)];else{if(_0x5e1678[0x0][_0x3ea2f8(0x144)]==_0x3ea2f8(0x128))var _0x22f314=users[_0x3ea2f8(0x128)];else{if(_0x5e1678[0x0][_0x3ea2f8(0x144)]==_0x3ea2f8(0x187))var _0x22f314=users[_0x3ea2f8(0x187)];else{if(_0x5e1678[0x0][_0x3ea2f8(0x144)]=='Portuguese\x20(BR)')var _0x22f314=users[_0x3ea2f8(0x17e)];else{if(_0x5e1678[0x0][_0x3ea2f8(0x144)]==_0x3ea2f8(0xf3))var _0x22f314=users[_0x3ea2f8(0xf3)];else{if(_0x5e1678[0x0][_0x3ea2f8(0x144)]=='Arabic\x20(ae)')var _0x22f314=users[_0x3ea2f8(0x189)];}}}}}}}_0x23ef71['render'](_0x3ea2f8(0x154),{'success':_0x4201be[_0x3ea2f8(0x179)](_0x3ea2f8(0x153)),'errors':_0x4201be[_0x3ea2f8(0x179)]('errors'),'role':_0x3b122d,'profile':_0x1795ed,'master_shop':_0x5e1678,'user':_0x3f9b21,'language':_0x22f314});}catch(_0x27b4bf){console[_0x3ea2f8(0x157)](_0x27b4bf);}}),router[a0_0x12926d(0x181)](a0_0x12926d(0x11d),auth,async(_0x58d19e,_0x1296bc)=>{const _0x2bfb2c=a0_0x12926d;try{const _0x2bd906=_0x58d19e[_0x2bfb2c(0x146)]['id'],_0x5d7a09=await brands[_0x2bfb2c(0xec)](_0x2bd906,_0x58d19e[_0x2bfb2c(0x121)]);_0x58d19e['flash'](_0x2bfb2c(0x153),_0x2bfb2c(0x113)),_0x1296bc[_0x2bfb2c(0x165)]('/products/brands');}catch(_0x2f0bfb){console[_0x2bfb2c(0x157)](_0x2f0bfb);}}),router['get']('/brands/delete/:id',auth,async(_0xbc0bd0,_0x5402a3)=>{const _0x5c9097=a0_0x12926d;try{const _0x5ada44=_0xbc0bd0['params']['id'],_0x5106d7=await brands['findByIdAndDelete'](_0x5ada44);_0xbc0bd0[_0x5c9097(0x179)](_0x5c9097(0x153),_0x5c9097(0x169)),_0x5402a3[_0x5c9097(0x165)](_0x5c9097(0x10b));}catch(_0x36928c){console[_0x5c9097(0x157)](_0x36928c);}}),router[a0_0x12926d(0xf0)]('/units',auth,async(_0x11f48e,_0x26fa11)=>{const _0xd3295e=a0_0x12926d;try{const {username:_0x6ae756,email:_0x55797e,role:_0x300215}=_0x11f48e[_0xd3295e(0x10a)],_0x31c02c=_0x11f48e[_0xd3295e(0x10a)],_0x22695c=await profile[_0xd3295e(0xf9)]({'email':_0x31c02c[_0xd3295e(0xf4)]}),_0x165484=await master_shop[_0xd3295e(0x180)]();console[_0xd3295e(0x157)](_0xd3295e(0x139),_0x165484);const _0x14499a=await units[_0xd3295e(0x180)]();if(_0x165484[0x0]['language']==_0xd3295e(0xe3))var _0x409662=users['English'];else{if(_0x165484[0x0][_0xd3295e(0x144)]==_0xd3295e(0x111))var _0x409662=users[_0xd3295e(0x111)];else{if(_0x165484[0x0][_0xd3295e(0x144)]==_0xd3295e(0x11c))var _0x409662=users[_0xd3295e(0x11c)];else{if(_0x165484[0x0]['language']=='Spanish')var _0x409662=users[_0xd3295e(0x128)];else{if(_0x165484[0x0]['language']=='French')var _0x409662=users[_0xd3295e(0x187)];else{if(_0x165484[0x0][_0xd3295e(0x144)]==_0xd3295e(0x105))var _0x409662=users[_0xd3295e(0x17e)];else{if(_0x165484[0x0][_0xd3295e(0x144)]==_0xd3295e(0xf3))var _0x409662=users[_0xd3295e(0xf3)];else{if(_0x165484[0x0][_0xd3295e(0x144)]==_0xd3295e(0x194))var _0x409662=users['Arabic'];}}}}}}}_0x26fa11['render'](_0xd3295e(0x18c),{'success':_0x11f48e[_0xd3295e(0x179)]('success'),'errors':_0x11f48e[_0xd3295e(0x179)](_0xd3295e(0x117)),'role':_0x31c02c,'profile':_0x22695c,'master_shop':_0x165484,'user':_0x14499a,'language':_0x409662});}catch(_0x2d1737){console['log'](_0x2d1737);}}),router[a0_0x12926d(0x181)](a0_0x12926d(0x100),auth,async(_0xab7773,_0x1b8ad9)=>{const _0x43a235=a0_0x12926d;try{const {name:_0x3cdd40,secondary_unit:_0x4eda50,products:_0x16e260}=_0xab7773[_0x43a235(0x121)],_0x525ed4=new units({'name':_0x3cdd40,'secondary_unit':_0x4eda50,'products':_0x16e260}),_0x3193d6=await units[_0x43a235(0xf9)]({'name':_0x3cdd40});_0x3193d6?_0xab7773[_0x43a235(0x179)](_0x43a235(0x117),_0x3cdd40+_0x43a235(0x176)):_0xab7773[_0x43a235(0x179)](_0x43a235(0x153),_0x3cdd40+_0x43a235(0x186));const _0x1b2d2b=await _0x525ed4['save']();_0x1b8ad9[_0x43a235(0x165)](_0x43a235(0xe8));}catch(_0x3fba1a){console[_0x43a235(0x157)](_0x3fba1a);}}),router[a0_0x12926d(0xf0)](a0_0x12926d(0x188),auth,async(_0x2fd755,_0x2fadc3)=>{const _0x30a947=a0_0x12926d;try{const {username:_0x4c1ead,email:_0x1d3757,role:_0x4a2604}=_0x2fd755['user'],_0x1113d5=_0x2fd755[_0x30a947(0x10a)],_0x435dc8=await profile[_0x30a947(0xf9)]({'email':_0x1113d5[_0x30a947(0xf4)]}),_0xf83e02=await master_shop[_0x30a947(0x180)]();console[_0x30a947(0x157)](_0x30a947(0x139),_0xf83e02);const _0x3ff751=_0x2fd755['params']['id'],_0x2ba5ae=await units[_0x30a947(0x118)](_0x3ff751);if(_0xf83e02[0x0][_0x30a947(0x144)]==_0x30a947(0xe3))var _0x271618=users[_0x30a947(0x102)];else{if(_0xf83e02[0x0]['language']==_0x30a947(0x111))var _0x271618=users['Hindi'];else{if(_0xf83e02[0x0][_0x30a947(0x144)]==_0x30a947(0x11c))var _0x271618=users[_0x30a947(0x11c)];else{if(_0xf83e02[0x0][_0x30a947(0x144)]=='Spanish')var _0x271618=users[_0x30a947(0x128)];else{if(_0xf83e02[0x0][_0x30a947(0x144)]==_0x30a947(0x187))var _0x271618=users['French'];else{if(_0xf83e02[0x0][_0x30a947(0x144)]==_0x30a947(0x105))var _0x271618=users[_0x30a947(0x17e)];else{if(_0xf83e02[0x0][_0x30a947(0x144)]==_0x30a947(0xf3))var _0x271618=users[_0x30a947(0xf3)];else{if(_0xf83e02[0x0]['language']=='Arabic\x20(ae)')var _0x271618=users[_0x30a947(0x189)];}}}}}}}_0x2fadc3['render'](_0x30a947(0x18c),{'success':_0x2fd755[_0x30a947(0x179)]('success'),'errors':_0x2fd755['flash'](_0x30a947(0x117)),'role':_0x1113d5,'profile':_0x435dc8,'master_shop':_0xf83e02,'user':_0x2ba5ae,'language':_0x271618});}catch(_0x56c486){console[_0x30a947(0x157)](_0x56c486);}}),router['post']('/units/:id',auth,async(_0xdb7963,_0x5e13cb)=>{const _0x1455a2=a0_0x12926d;try{const _0x43740d=_0xdb7963['params']['id'],_0x58e3c7=await units[_0x1455a2(0xec)](_0x43740d,_0xdb7963[_0x1455a2(0x121)]);_0xdb7963[_0x1455a2(0x179)](_0x1455a2(0x153),'unit\x20data\x20update\x20successfully'),_0x5e13cb[_0x1455a2(0x165)](_0x1455a2(0xe8));}catch(_0x1da8d1){console[_0x1455a2(0x157)](_0x1da8d1);}}),router['get']('/units/delete/:id',auth,async(_0x2f7112,_0x5591f4)=>{const _0x78caa=a0_0x12926d;try{const _0xf470a7=_0x2f7112[_0x78caa(0x146)]['id'],_0x15d99e=await units[_0x78caa(0x197)](_0xf470a7);_0x2f7112[_0x78caa(0x179)](_0x78caa(0x153),'unit\x20data\x20delete\x20successfully'),_0x5591f4['redirect'](_0x78caa(0xe8));}catch(_0x538c88){console[_0x78caa(0x157)](_0x538c88);}});const storage=multer[a0_0x12926d(0x17d)]({'destination':(_0x138f0a,_0x380425,_0x1d46a4)=>{const _0x4291de=a0_0x12926d;_0x1d46a4(null,_0x4291de(0x16d));},'filename':(_0x3e98e5,_0x140f45,_0x336e23)=>{const _0x3cd650=a0_0x12926d;_0x336e23(null,Date[_0x3cd650(0x147)]()+_0x140f45[_0x3cd650(0x190)]);}}),upload=multer({'storage':storage});router[a0_0x12926d(0xf0)](a0_0x12926d(0x13e),auth,async(_0x432cc7,_0x30baee)=>{const _0x4167f2=a0_0x12926d;try{const {username:_0xef2872,email:_0x3f3b50,role:_0xdc0896}=_0x432cc7[_0x4167f2(0x10a)],_0x3cdc06=_0x432cc7['user'],_0x22029e=await profile[_0x4167f2(0xf9)]({'email':_0x3cdc06[_0x4167f2(0xf4)]}),_0x4fdedf={'year':_0x4167f2(0x12b),'month':_0x4167f2(0x108),'day':_0x4167f2(0x12b)},_0x6a495c=await master_shop[_0x4167f2(0x180)]();console[_0x4167f2(0x157)]('Products\x20master',_0x6a495c);const _0x1cde74=await product[_0x4167f2(0x180)]();console[_0x4167f2(0x157)]('Products\x20find_data',_0x1cde74);const _0x4807b0=await warehouse[_0x4167f2(0x13c)]([{'$unwind':'$product_details'},{'$lookup':{'from':_0x4167f2(0x14a),'localField':'product_details.product_name','foreignField':_0x4167f2(0x130),'as':_0x4167f2(0x162)}},{'$unwind':_0x4167f2(0x14d)},{'$project':{'product_name':_0x4167f2(0x174),'product_stock':_0x4167f2(0x183)}},{'$group':{'_id':_0x4167f2(0x14c),'product_stock':{'$sum':_0x4167f2(0x16a)}}}]);console[_0x4167f2(0x157)]('Products\x20warehouse_data',_0x4807b0),_0x4807b0[_0x4167f2(0x167)](_0x5b7bc4=>{const _0x2601fd=_0x4167f2,_0x45e0af=_0x1cde74[_0x2601fd(0x14e)](_0x12c19d=>{const _0x3dd13f=_0x2601fd;_0x12c19d[_0x3dd13f(0x130)]==_0x5b7bc4[_0x3dd13f(0x152)]&&(_0x12c19d['stock']=parseInt(_0x12c19d[_0x3dd13f(0xfd)])+parseInt(_0x5b7bc4['product_stock']));});}),console[_0x4167f2(0x157)](_0x4167f2(0x184),_0x1cde74);if(_0x6a495c[0x0][_0x4167f2(0x144)]=='English\x20(US)')var _0x4d136c=users[_0x4167f2(0x102)];else{if(_0x6a495c[0x0][_0x4167f2(0x144)]==_0x4167f2(0x111))var _0x4d136c=users[_0x4167f2(0x111)];else{if(_0x6a495c[0x0][_0x4167f2(0x144)]==_0x4167f2(0x11c))var _0x4d136c=users[_0x4167f2(0x11c)];else{if(_0x6a495c[0x0]['language']=='Spanish')var _0x4d136c=users[_0x4167f2(0x128)];else{if(_0x6a495c[0x0][_0x4167f2(0x144)]==_0x4167f2(0x187))var _0x4d136c=users['French'];else{if(_0x6a495c[0x0][_0x4167f2(0x144)]==_0x4167f2(0x105))var _0x4d136c=users[_0x4167f2(0x17e)];else{if(_0x6a495c[0x0][_0x4167f2(0x144)]==_0x4167f2(0xf3))var _0x4d136c=users['Chinese'];else{if(_0x6a495c[0x0][_0x4167f2(0x144)]==_0x4167f2(0x194))var _0x4d136c=users['Arabic'];}}}}}}}_0x30baee['render'](_0x4167f2(0x14a),{'success':_0x432cc7[_0x4167f2(0x179)]('success'),'errors':_0x432cc7[_0x4167f2(0x179)](_0x4167f2(0x117)),'alldata':_0x1cde74,'profile':_0x22029e,'master_shop':_0x6a495c,'role':_0x3cdc06,'product_stock':_0x4807b0,'language':_0x4d136c});}catch(_0x2d9a9b){console['log'](_0x2d9a9b);}}),router[a0_0x12926d(0xf0)](a0_0x12926d(0x120),auth,async(_0x29c115,_0x1c59ae)=>{const _0x406b50=a0_0x12926d;try{const {username:_0x2392d6,email:_0x4660e0,role:_0x339b96}=_0x29c115[_0x406b50(0x10a)],_0x384842=_0x29c115[_0x406b50(0x10a)],_0x331e3a=await profile[_0x406b50(0xf9)]({'email':_0x384842[_0x406b50(0xf4)]}),_0x40aa47=await master_shop[_0x406b50(0x180)]();console[_0x406b50(0x157)](_0x406b50(0x139),_0x40aa47);const _0x177c46=await categories[_0x406b50(0x180)]({}),_0x217bab=await brands[_0x406b50(0x180)]({}),_0x511e65=await units[_0x406b50(0x180)]({}),_0x4e522c=await warehouse[_0x406b50(0x180)]({'status':_0x406b50(0x12d)});if(_0x40aa47[0x0][_0x406b50(0x144)]==_0x406b50(0xe3))var _0x34e9cb=users[_0x406b50(0x102)];else{if(_0x40aa47[0x0][_0x406b50(0x144)]=='Hindi')var _0x34e9cb=users[_0x406b50(0x111)];else{if(_0x40aa47[0x0][_0x406b50(0x144)]=='German')var _0x34e9cb=users[_0x406b50(0x11c)];else{if(_0x40aa47[0x0][_0x406b50(0x144)]==_0x406b50(0x128))var _0x34e9cb=users[_0x406b50(0x128)];else{if(_0x40aa47[0x0][_0x406b50(0x144)]==_0x406b50(0x187))var _0x34e9cb=users[_0x406b50(0x187)];else{if(_0x40aa47[0x0][_0x406b50(0x144)]=='Portuguese\x20(BR)')var _0x34e9cb=users['Portuguese'];else{if(_0x40aa47[0x0][_0x406b50(0x144)]==_0x406b50(0xf3))var _0x34e9cb=users['Chinese'];else{if(_0x40aa47[0x0]['language']==_0x406b50(0x194))var _0x34e9cb=users[_0x406b50(0x189)];}}}}}}}_0x1c59ae['render'](_0x406b50(0x199),{'success':_0x29c115['flash']('success'),'errors':_0x29c115[_0x406b50(0x179)](_0x406b50(0x117)),'role':_0x384842,'profile':_0x331e3a,'categories':_0x177c46,'brands':_0x217bab,'master_shop':_0x40aa47,'units':_0x511e65,'language':_0x34e9cb,'find_data':_0x4e522c});}catch(_0x538f4f){console['log'](_0x538f4f);}}),router['post'](a0_0x12926d(0x120),auth,upload['single'](a0_0x12926d(0x196)),async(_0x7c3603,_0x2f7010)=>{const _0x10d226=a0_0x12926d;try{const {name:_0x27ba08,category:_0x38bfcb,brand:_0x292686,unit:_0x35082b,alertquantity:_0x16e284,stock:_0x1551ec,product_code:_0x325955,warehouse:_0xf0a678,primary_ItemCode:_0x503bf4,second_ItemCode:_0x20227f,second_unit:_0x1626e3,maxPerUnit:_0x326377,MaxPerProduct:_0x5e93e0,sales_cat:_0x5aa932,type_prod:_0x380d2b}=_0x7c3603[_0x10d226(0x121)],_0x449bda=_0x7c3603[_0x10d226(0x168)]?.[_0x10d226(0x191)]||_0x10d226(0x145),_0x41d84b=new product({'image':_0x449bda,'name':_0x27ba08,'category':_0x38bfcb,'brand':_0x292686,'unit':_0x35082b,'alertquantity':_0x16e284,'stock':_0x1551ec,'product_code':_0x325955,'warehouse':_0xf0a678,'primary_code':_0x503bf4,'secondary_code':_0x20227f,'second_unit':_0x1626e3,'maxStocks':_0x5e93e0,'maxProdPerUnit':_0x326377,'sales_category':_0x5aa932,'type_products':_0x380d2b}),_0x24564a=await _0x41d84b[_0x10d226(0x158)](),_0x3c32dd=await categories[_0x10d226(0xf9)]({'name':_0x38bfcb});_0x3c32dd[_0x10d226(0x14a)]=parseInt(_0x3c32dd['products'])+0x1,await _0x3c32dd[_0x10d226(0x158)]();const _0x12927c=await brands['findOne']({'name':_0x292686});_0x12927c['products']=parseInt(_0x12927c[_0x10d226(0x14a)])+0x1,await _0x12927c[_0x10d226(0x158)]();const _0x139fe1=await units[_0x10d226(0xf9)]({'name':_0x35082b});_0x139fe1['products']=parseInt(_0x139fe1['products'])+0x1,await _0x139fe1[_0x10d226(0x158)](),_0x7c3603['flash']('success',_0x10d226(0x171)),_0x2f7010[_0x10d226(0x165)](_0x10d226(0xfa));}catch(_0x14d818){console[_0x10d226(0x157)](_0x14d818);}}),router[a0_0x12926d(0xf0)]('/view/:id',auth,async(_0x4201ba,_0x5759b2)=>{const _0x2368cc=a0_0x12926d;try{const {username:_0x456ff7,email:_0x390767,role:_0x56cd1d}=_0x4201ba[_0x2368cc(0x10a)],_0x1e9f32=_0x4201ba[_0x2368cc(0x10a)],_0x23f15b=await profile[_0x2368cc(0xf9)]({'email':_0x1e9f32[_0x2368cc(0xf4)]}),_0xa50724=await master_shop['find']();console[_0x2368cc(0x157)](_0x2368cc(0x15d),_0xa50724);const _0x2800af=_0x4201ba[_0x2368cc(0x146)]['id'],_0x3c1982=await product[_0x2368cc(0x118)](_0x2800af),_0x3780ba=await categories['find']({}),_0x14ddb4=await brands[_0x2368cc(0x180)]({}),_0x3d13b9=await units[_0x2368cc(0x180)]({}),_0x18b378=await warehouse[_0x2368cc(0x180)]({'status':_0x2368cc(0x12d)}),_0x3f2a64=await units['aggregate']([{'$group':{'_id':_0x2368cc(0x125),'secondaryunit':{'$first':'$secondary_unit'}}}]);if(_0xa50724[0x0]['language']==_0x2368cc(0xe3))var _0x5a0fed=users[_0x2368cc(0x102)];else{if(_0xa50724[0x0][_0x2368cc(0x144)]==_0x2368cc(0x111))var _0x5a0fed=users[_0x2368cc(0x111)];else{if(_0xa50724[0x0][_0x2368cc(0x144)]==_0x2368cc(0x11c))var _0x5a0fed=users[_0x2368cc(0x11c)];else{if(_0xa50724[0x0]['language']==_0x2368cc(0x128))var _0x5a0fed=users['Spanish'];else{if(_0xa50724[0x0][_0x2368cc(0x144)]==_0x2368cc(0x187))var _0x5a0fed=users[_0x2368cc(0x187)];else{if(_0xa50724[0x0][_0x2368cc(0x144)]==_0x2368cc(0x105))var _0x5a0fed=users[_0x2368cc(0x17e)];else{if(_0xa50724[0x0][_0x2368cc(0x144)]==_0x2368cc(0xf3))var _0x5a0fed=users[_0x2368cc(0xf3)];else{if(_0xa50724[0x0][_0x2368cc(0x144)]==_0x2368cc(0x194))var _0x5a0fed=users[_0x2368cc(0x189)];}}}}}}}_0x5759b2[_0x2368cc(0x172)](_0x2368cc(0x13a),{'success':_0x4201ba['flash'](_0x2368cc(0x153)),'errors':_0x4201ba[_0x2368cc(0x179)]('errors'),'role':_0x1e9f32,'profile':_0x23f15b,'alldata':_0x3c1982,'categories':_0x3780ba,'brands':_0x14ddb4,'master_shop':_0xa50724,'units':_0x3d13b9,'secondunit':_0x3f2a64,'find_data':_0x18b378,'language':_0x5a0fed});}catch(_0x5c70d2){console[_0x2368cc(0x157)](_0x5c70d2);}}),router[a0_0x12926d(0x181)]('/view/:id',auth,upload['single']('image'),async(_0x4ff124,_0x10a849)=>{const _0x13529d=a0_0x12926d;try{const _0x1b5d0d=_0x4ff124[_0x13529d(0x146)]['id'],_0xbf6cf6=await product[_0x13529d(0x118)](_0x1b5d0d),{image:_0x5ace90,name:_0x1570ef,category:_0x3430f8,brand:_0x17c391,sku:_0x18f31a,unit:_0x23ed92,alertquantity:_0x3f6ca0,product_code:_0x2c163b,warehouse:_0x4f8d15,primary_ItemCode:_0x3cfd17,second_ItemCode:_0x5480f7,second_unit:_0x4b0156,maxPerUnit:_0x3c1e3c,MaxPerProduct:_0x57b1b4,prod_catdata:_0x43b0d2,type_prod:_0x299843,sales_cat:_0x4de601}=_0x4ff124[_0x13529d(0x121)];_0x4ff124[_0x13529d(0x168)]&&(_0xbf6cf6[_0x13529d(0x196)]=_0x4ff124[_0x13529d(0x168)][_0x13529d(0x191)]);_0xbf6cf6[_0x13529d(0x130)]=_0x1570ef,_0xbf6cf6[_0x13529d(0xf1)]=_0x3430f8,_0xbf6cf6[_0x13529d(0xfb)]=_0x17c391,_0xbf6cf6[_0x13529d(0x109)]=_0x18f31a,_0xbf6cf6[_0x13529d(0xe7)]=_0x23ed92,_0xbf6cf6[_0x13529d(0x185)]=_0x3f6ca0,_0xbf6cf6['product_code']=_0x2c163b,_0xbf6cf6[_0x13529d(0x10c)]=_0x4f8d15,_0xbf6cf6[_0x13529d(0x18d)]=_0x3cfd17,_0xbf6cf6[_0x13529d(0x129)]=_0x5480f7,_0xbf6cf6[_0x13529d(0x103)]=_0x4b0156,_0xbf6cf6[_0x13529d(0x133)]=_0x57b1b4,_0xbf6cf6[_0x13529d(0x132)]=_0x3c1e3c,_0xbf6cf6[_0x13529d(0x19c)]=_0x43b0d2,_0xbf6cf6['type_products']=_0x299843,_0xbf6cf6[_0x13529d(0x15f)]=_0x4de601;const _0x562b72=await _0xbf6cf6[_0x13529d(0x158)]();console[_0x13529d(0x157)](_0x13529d(0x110),_0xbf6cf6),_0x4ff124['flash']('success',_0x13529d(0x18f)),_0x10a849[_0x13529d(0x165)](_0x13529d(0xfa));}catch(_0x69cf6c){console[_0x13529d(0x157)](_0x69cf6c);}}),router[a0_0x12926d(0xf0)](a0_0x12926d(0xf8),auth,async(_0xc68303,_0x1ff4ff)=>{const _0x324fd5=a0_0x12926d;try{const {username:_0x5da5dc,email:_0x1ffab9,role:_0x1c8e5b}=_0xc68303['user'],_0x44ff94=_0xc68303['user'],_0x4d7dea=await profile[_0x324fd5(0xf9)]({'email':_0x44ff94['email']}),_0x45ad3d=await master_shop['find']();console[_0x324fd5(0x157)](_0x324fd5(0x101),_0x45ad3d);const _0xf25ac7=_0xc68303[_0x324fd5(0x146)]['id'],_0x435b5a=await product[_0x324fd5(0x118)](_0xf25ac7);console[_0x324fd5(0x157)]('barcode\x20user_id',_0x435b5a);if(_0x45ad3d[0x0][_0x324fd5(0x144)]==_0x324fd5(0xe3))var _0x25a48f=users[_0x324fd5(0x102)];else{if(_0x45ad3d[0x0]['language']==_0x324fd5(0x111))var _0x25a48f=users['Hindi'];else{if(_0x45ad3d[0x0][_0x324fd5(0x144)]==_0x324fd5(0x11c))var _0x25a48f=users['German'];else{if(_0x45ad3d[0x0][_0x324fd5(0x144)]==_0x324fd5(0x128))var _0x25a48f=users[_0x324fd5(0x128)];else{if(_0x45ad3d[0x0][_0x324fd5(0x144)]==_0x324fd5(0x187))var _0x25a48f=users[_0x324fd5(0x187)];else{if(_0x45ad3d[0x0][_0x324fd5(0x144)]=='Portuguese\x20(BR)')var _0x25a48f=users[_0x324fd5(0x17e)];else{if(_0x45ad3d[0x0][_0x324fd5(0x144)]==_0x324fd5(0xf3))var _0x25a48f=users['Chinese'];else{if(_0x45ad3d[0x0]['language']==_0x324fd5(0x194))var _0x25a48f=users[_0x324fd5(0x189)];}}}}}}}_0x1ff4ff[_0x324fd5(0x172)](_0x324fd5(0x116),{'success':_0xc68303['flash'](_0x324fd5(0x153)),'errors':_0xc68303[_0x324fd5(0x179)](_0x324fd5(0x117)),'role':_0x44ff94,'profile':_0x4d7dea,'alldata':_0x435b5a,'master_shop':_0x45ad3d,'language':_0x25a48f});}catch(_0x2c050a){console[_0x324fd5(0x157)](_0x2c050a);}}),router['get'](a0_0x12926d(0x13b),auth,async(_0x138791,_0x2d42f4)=>{const _0x23d910=a0_0x12926d;try{const _0x33c629=new excelJS[(_0x23d910(0x166))](),_0x3d327c=_0x33c629[_0x23d910(0xeb)](_0x23d910(0x12f));return _0x3d327c[_0x23d910(0x137)]=[{'header':_0x23d910(0x136),'key':_0x23d910(0x10e),'width':0xa},{'header':_0x23d910(0x156),'key':_0x23d910(0x149),'width':0xa},{'header':_0x23d910(0x17c),'key':_0x23d910(0xee),'width':0xa},{'header':'Secondary_Units','key':'PSecondaryUnits','width':0xa},{'header':_0x23d910(0x17a),'key':_0x23d910(0x122),'width':0xa},{'header':_0x23d910(0x159),'key':'ProductCode','width':0xa},{'header':_0x23d910(0x15c),'key':_0x23d910(0x175),'width':0xa},{'header':_0x23d910(0x12a),'key':'ProductCode','width':0xa},{'header':_0x23d910(0x193),'key':_0x23d910(0x107),'width':0xa},{'header':_0x23d910(0x131),'key':_0x23d910(0x18a),'width':0xa},{'header':'Maximum_Stocks','key':_0x23d910(0x18a),'width':0xa},{'header':'Products_category','key':'Prod_Cat','width':0xa}],_0x2d42f4['setHeader']('Content-Type',_0x23d910(0xe5)),_0x2d42f4['setHeader'](_0x23d910(0x14f),_0x23d910(0x13d)),_0x33c629['xlsx'][_0x23d910(0x198)](_0x2d42f4)[_0x23d910(0x126)](()=>{_0x2d42f4['status'](0xc8);});}catch(_0x3e85cd){_0x2d42f4[_0x23d910(0x13f)](0x190)['send'](_0x3e85cd);}});const storage1=multer[a0_0x12926d(0x17d)]({'destination':(_0x44c21b,_0x25c00b,_0x1681af)=>{_0x1681af(null,'public/Migration');},'filename':(_0x7f9d96,_0x475373,_0x28ea66)=>{const _0x2a7fcf=a0_0x12926d;_0x28ea66(null,Date['now']()+_0x475373[_0x2a7fcf(0x190)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x12926d(0x181)](a0_0x12926d(0x142),auth,uploadMigrate[a0_0x12926d(0x104)](a0_0x12926d(0x150)),async(_0x39265b,_0x282373)=>{const _0x564baa=a0_0x12926d,_0x559a23=_0x39265b['file'][_0x564baa(0x191)],_0x384d8c=await xlsx[_0x564baa(0x115)](_0x564baa(0xef)+_0x559a23);let _0x1331a3=_0x384d8c[_0x564baa(0x178)],_0x187b18=xlsx['utils'][_0x564baa(0x148)](_0x384d8c[_0x564baa(0x138)][_0x1331a3[0x0]]);for(const _0x1872b2 of _0x187b18){const _0xd0868d=_0x1872b2['Product_Name'],_0x35f8e2=_0x1872b2[_0x564baa(0x156)],_0x179867=_0x1872b2[_0x564baa(0x17c)],_0x1ea50a=_0x1872b2[_0x564baa(0x19b)],_0x2d41e3=_0x1872b2[_0x564baa(0x12a)],_0x1a52fc=_0x1872b2[_0x564baa(0x193)],_0x5bd626=_0x1872b2[_0x564baa(0x131)],_0x4b2825=_0x1872b2[_0x564baa(0x159)],_0x41a86b=_0x1872b2[_0x564baa(0x15c)],_0x50328f=_0x1872b2['Maximum_Stocks'],_0x423442=_0x1872b2[_0x564baa(0x17a)],_0x13db7f=_0x1872b2[_0x564baa(0x170)];try{let _0x2b15a6=await categories[_0x564baa(0xf9)]({'name':_0x1a52fc});if(!_0x2b15a6){const _0x291f88=new categories({'name':_0x1a52fc,'products':'0'});_0x2b15a6=await _0x291f88[_0x564baa(0x158)]();}let _0x3a1123=await brands[_0x564baa(0xf9)]({'name':_0x35f8e2});if(!_0x3a1123){const _0x1cf7da=new brands({'name':_0x35f8e2,'products':'0'});_0x3a1123=await _0x1cf7da[_0x564baa(0x158)]();}let _0x558bce=await units[_0x564baa(0xf9)]({'name':_0x179867,'secondary_unit':_0x1ea50a});if(!_0x558bce){const _0x6f245f=new units({'name':_0x179867,'secondary_unit':_0x1ea50a,'products':'0'});_0x558bce=await _0x6f245f[_0x564baa(0x158)]();}const _0x1ef58c=await product[_0x564baa(0x180)]({'name':_0xd0868d,'category':_0x2b15a6[_0x564baa(0x130)],'brand':_0x3a1123[_0x564baa(0x130)],'secondary_unit':_0x558bce[_0x564baa(0x103)],'product_code':_0x2d41e3});console[_0x564baa(0x157)](_0x1ef58c[_0x564baa(0x195)]+_0x564baa(0xea)+_0x2b15a6['name']+'\x20<>\x20'+_0x3a1123[_0x564baa(0x130)]+_0x564baa(0xea)+_0x558bce[_0x564baa(0x103)]+'\x20<>\x20'+_0x2d41e3+'\x20<>\x20'+_0xd0868d);if(_0x1ef58c[_0x564baa(0x195)]===0x0){const _0xf2e3fc=new product({'image':_0x564baa(0x145),'name':_0xd0868d,'category':_0x2b15a6[_0x564baa(0x130)],'brand':_0x3a1123[_0x564baa(0x130)],'unit':_0x558bce['name'],'alertquantity':_0x5bd626,'product_code':_0x2d41e3,'secondary_unit':_0x558bce[_0x564baa(0x103)],'primary_code':_0x4b2825,'secondary_code':_0x41a86b,'maxStocks':_0x50328f,'maxProdPerUnit':_0x423442,'product_category':_0x13db7f}),_0x5e769a=await _0xf2e3fc['save']();_0x2b15a6[_0x564baa(0x14a)]=parseInt(_0x2b15a6[_0x564baa(0x14a)])+0x1,await _0x2b15a6[_0x564baa(0x158)](),_0x3a1123[_0x564baa(0x14a)]=parseInt(_0x3a1123[_0x564baa(0x14a)])+0x1,await _0x3a1123[_0x564baa(0x158)](),_0x558bce['products']=parseInt(_0x558bce[_0x564baa(0x14a)])+0x1,await _0x558bce[_0x564baa(0x158)](),_0x39265b[_0x564baa(0x179)](_0x564baa(0x153),_0xd0868d+'\x20added\x20successfully');}else{console[_0x564baa(0x157)](_0x1ef58c[0x0]);const _0x47d0a8=_0x1ef58c[0x0];_0x47d0a8[_0x564baa(0xf1)]=_0x2b15a6[_0x564baa(0x130)],_0x47d0a8[_0x564baa(0xfb)]=_0x3a1123['name'],_0x47d0a8[_0x564baa(0xe7)]=_0x558bce['name'],_0x47d0a8[_0x564baa(0x185)]=_0x5bd626,_0x47d0a8[_0x564baa(0xf5)]=_0x2d41e3,_0x47d0a8[_0x564baa(0x103)]=_0x558bce[_0x564baa(0x103)],_0x47d0a8['primary_code']=_0x4b2825,_0x47d0a8[_0x564baa(0x129)]=_0x41a86b,_0x47d0a8[_0x564baa(0x133)]=_0x50328f,_0x47d0a8[_0x564baa(0x132)]=_0x423442,_0x47d0a8[_0x564baa(0x19c)]=_0x13db7f;const _0x14b30c=await _0x47d0a8[_0x564baa(0x158)]();_0x39265b[_0x564baa(0x179)](_0x564baa(0x153),_0x14b30c[_0x564baa(0x130)]+_0x564baa(0xfe));}}catch(_0x41e8b1){_0x282373[_0x564baa(0x13f)](0x1f4)[_0x564baa(0x134)]({'proderror':_0x41e8b1[_0x564baa(0x182)],'aproduct':_0xd0868d});}}_0x282373['redirect'](_0x564baa(0xfa));}),router[a0_0x12926d(0x181)]('/select_data',auth,async(_0x2bec27,_0x5c2c30)=>{const _0x575344=a0_0x12926d;try{console['log'](_0x2bec27[_0x575344(0x121)]);const {data_cateory:_0x509417,datachoose:_0x3025eb}=_0x2bec27['body'];var _0x13e3db;if(_0x3025eb==_0x575344(0x192))_0x13e3db=await product[_0x575344(0x13c)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x3025eb==_0x575344(0x154))_0x13e3db=await product[_0x575344(0x13c)]([{'$match':{'product_category':_0x509417}},{'$group':{'_id':_0x575344(0x112)}}]);else _0x3025eb==_0x575344(0xf2)&&(_0x13e3db=await product[_0x575344(0x13c)]([{'$match':{'product_category':_0x509417}},{'$group':{'_id':'$category'}}]));}_0x5c2c30['json'](_0x13e3db);}catch(_0xb28869){_0x5c2c30[_0x575344(0x134)]({'message':_0xb28869['message']});}}),router[a0_0x12926d(0x181)](a0_0x12926d(0x15b),auth,async(_0x225c6a,_0x1a7254)=>{const _0x4284da=a0_0x12926d;try{const {data_choosing:_0x24fcc2,data_selected:_0x21eef9}=_0x225c6a[_0x4284da(0x121)];var _0x5c5ddb;if(_0x24fcc2==_0x4284da(0x192))_0x5c5ddb=await product[_0x4284da(0x13c)]([{'$match':{'product_category':_0x21eef9}}]);else{if(_0x24fcc2==_0x4284da(0x154))_0x5c5ddb=await product[_0x4284da(0x13c)]([{'$match':{'brand':_0x21eef9}}]);else _0x24fcc2==_0x4284da(0xf2)&&(_0x5c5ddb=await product[_0x4284da(0x13c)]([{'$match':{'category':_0x21eef9}}]));}_0x1a7254[_0x4284da(0x134)](_0x5c5ddb);}catch(_0x13c5ba){_0x1a7254[_0x4284da(0x134)]({'message':_0x13c5ba[_0x4284da(0x182)]});}}),router[a0_0x12926d(0xf0)](a0_0x12926d(0x127),auth,async(_0x1dc7a9,_0x3f627c)=>{const _0x87699e=a0_0x12926d,_0x1f703f=_0x1dc7a9[_0x87699e(0x10a)],_0x580e89=await profile[_0x87699e(0xf9)]({'email':_0x1f703f[_0x87699e(0xf4)]}),_0x3d801d=await master_shop[_0x87699e(0x180)](),_0x378785=await product[_0x87699e(0x180)]();if(_0x3d801d[0x0][_0x87699e(0x144)]=='English\x20(US)')var _0x5d60f6=users[_0x87699e(0x102)];else{if(_0x3d801d[0x0][_0x87699e(0x144)]==_0x87699e(0x111))var _0x5d60f6=users[_0x87699e(0x111)];else{if(_0x3d801d[0x0]['language']=='German')var _0x5d60f6=users['German'];else{if(_0x3d801d[0x0]['language']==_0x87699e(0x128))var _0x5d60f6=users[_0x87699e(0x128)];else{if(_0x3d801d[0x0][_0x87699e(0x144)]==_0x87699e(0x187))var _0x5d60f6=users['French'];else{if(_0x3d801d[0x0][_0x87699e(0x144)]=='Portuguese\x20(BR)')var _0x5d60f6=users['Portuguese'];else{if(_0x3d801d[0x0][_0x87699e(0x144)]==_0x87699e(0xf3))var _0x5d60f6=users[_0x87699e(0xf3)];else{if(_0x3d801d[0x0][_0x87699e(0x144)]=='Arabic\x20(ae)')var _0x5d60f6=users[_0x87699e(0x189)];}}}}}}}_0x3f627c['render'](_0x87699e(0x18e),{'success':_0x1dc7a9[_0x87699e(0x179)](_0x87699e(0x153)),'errors':_0x1dc7a9['flash'](_0x87699e(0x117)),'role':_0x1f703f,'profile':_0x580e89,'products':_0x378785,'master_shop':_0x3d801d,'language':_0x5d60f6});}),router['post'](a0_0x12926d(0x12c),auth,async(_0x22be49,_0x248653)=>{const _0x19f4b5=a0_0x12926d,_0xe8d932=await product[_0x19f4b5(0x180)]();_0x248653[_0x19f4b5(0x134)]({'data':_0xe8d932});}),router['post'](a0_0x12926d(0xff),auth,async(_0x590186,_0x2b7f07)=>{const _0x4f402f=a0_0x12926d;try{const {dataProdCat:_0x93493c,dataProdIdentity:_0x4e643e}=_0x590186['body'];var _0x108633;switch(_0x93493c){case'fg':switch(_0x4e643e){case'Brands':_0x108633=await product['aggregate']([{'$match':{'product_category':_0x4f402f(0x16c)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':'$_id'}}]);break;case'Category':_0x108633=await product[_0x4f402f(0x13c)]([{'$match':{'product_category':_0x4f402f(0x16c)}},{'$group':{'_id':_0x4f402f(0x18b)}},{'$project':{'category':_0x4f402f(0x125)}}]);break;}break;case'rm':switch(_0x4e643e){case _0x4f402f(0x156):_0x108633=await product[_0x4f402f(0x13c)]([{'$match':{'product_category':_0x4f402f(0x16f)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x4f402f(0x125)}}]);break;case _0x4f402f(0x193):_0x108633=await product[_0x4f402f(0x13c)]([{'$match':{'product_category':_0x4f402f(0x16f)}},{'$group':{'_id':_0x4f402f(0x18b)}},{'$project':{'category':_0x4f402f(0x125)}}]);break;}break;}_0x2b7f07[_0x4f402f(0x134)](_0x108633);}catch(_0x28d695){_0x2b7f07[_0x4f402f(0x134)]({'message':_0x28d695[_0x4f402f(0x182)]});}}),router[a0_0x12926d(0x181)]('/print_barcode_filter/',auth,async(_0x32d557,_0x93c475)=>{const _0x7bbe6b=a0_0x12926d;try{console[_0x7bbe6b(0x157)](_0x32d557[_0x7bbe6b(0x121)]);const {prod_cat:_0x635407,identity:_0x9d0f48,valueData:_0x28b6f4,typeofbarcode:_0x1ea191}=_0x32d557[_0x7bbe6b(0x121)];let _0x445bec;switch(_0x635407){case'fg':if(_0x9d0f48==_0x7bbe6b(0x156))_0x445bec=await product['aggregate']([{'$match':{'product_category':'Finished\x20Goods','brand':_0x28b6f4}}]);else _0x9d0f48=='Category'&&(_0x445bec=await product['aggregate']([{'$match':{'product_category':_0x7bbe6b(0x16c),'category':_0x28b6f4}}]));break;case'rm':if(_0x9d0f48==_0x7bbe6b(0x156))_0x445bec=await product[_0x7bbe6b(0x13c)]([{'$match':{'product_category':_0x7bbe6b(0x16f),'brand':_0x28b6f4}}]);else _0x9d0f48==_0x7bbe6b(0x193)&&(_0x445bec=await product['aggregate']([{'$match':{'product_category':_0x7bbe6b(0x16f),'category':_0x28b6f4}}]));break;}const _0x3d12dc=_0x8639cf=>_0x8639cf*0x48,_0x37f5f7={'width':0x3,'height':0x1},_0x5aee6d=new PDFDocument({'margin':_0x3d12dc(0.75),'size':[_0x3d12dc(_0x37f5f7[_0x7bbe6b(0x15e)]),_0x3d12dc(_0x37f5f7['height'])],'bufferPages':!![]}),_0x1ec416=_0x445bec[_0x7bbe6b(0x195)];for(let _0x5030c6=0x0;_0x5030c6<=_0x1ec416;_0x5030c6++){if(_0x5030c6!=_0x1ec416){const _0x1a24bf=_0x445bec[_0x5030c6][_0x7bbe6b(0x130)],_0x29865c=_0x445bec[_0x5030c6][_0x7bbe6b(0x18d)],_0x2c55d2=_0x445bec[_0x5030c6][_0x7bbe6b(0x129)],_0x18c168=_0x445bec[_0x5030c6][_0x7bbe6b(0xf5)];var _0x680e5f;switch(_0x1ea191){case'1':_0x680e5f=_0x29865c;break;case'2':_0x680e5f=_0x2c55d2;break;case'3':_0x680e5f=_0x18c168;break;}const _0x437771={'width':0xd2,'height':0x64},_0x1dbaa1={'width':_0x3d12dc(_0x37f5f7['width']),'height':_0x3d12dc(_0x37f5f7[_0x7bbe6b(0x10d)])},_0x26f4df=new Canvas();JsBarcode(_0x26f4df,_0x680e5f,{'format':_0x7bbe6b(0x16e),'height':_0x437771[_0x7bbe6b(0x10d)],'displayValue':!![],'text':_0x680e5f});const _0x1cec96=_0x26f4df[_0x7bbe6b(0xf7)](),_0x4407fb=_0x1dbaa1[_0x7bbe6b(0x15e)]/_0x437771[_0x7bbe6b(0x15e)],_0x282260=_0x1dbaa1[_0x7bbe6b(0x10d)]/_0x437771[_0x7bbe6b(0x10d)],_0xa596d5=Math[_0x7bbe6b(0x143)](_0x4407fb,_0x282260),_0x9a31d8=_0x437771[_0x7bbe6b(0x15e)]*_0xa596d5,_0x32dd07=_0x437771[_0x7bbe6b(0x10d)]*_0xa596d5,_0x3d754b=(_0x1dbaa1['width']-_0x9a31d8)/0x2,_0x597208=(_0x1dbaa1[_0x7bbe6b(0x10d)]-_0x32dd07)/0x2;_0x5aee6d['image'](_0x1cec96,_0x3d754b,_0x597208,{'width':_0x9a31d8,'height':_0x32dd07}),_0x5030c6!=_0x1ec416&&_0x5aee6d['addPage']();}}const _0x4373d8=[];_0x5aee6d['on'](_0x7bbe6b(0x160),_0x4373d8[_0x7bbe6b(0x11a)][_0x7bbe6b(0x16b)](_0x4373d8)),_0x5aee6d['on'](_0x7bbe6b(0x19a),()=>{const _0x1ce805=_0x7bbe6b,_0x26b7a7=Buffer[_0x1ce805(0x163)](_0x4373d8),_0xdab281=_0x26b7a7['toString'](_0x1ce805(0x11b));_0x93c475[_0x1ce805(0x134)]({'pdfContent':_0xdab281});}),_0x5aee6d[_0x7bbe6b(0x19a)]();}catch(_0x297075){_0x93c475[_0x7bbe6b(0x134)]({'message':_0x297075['message']});}}),router[a0_0x12926d(0x181)]('/print_barcode_filter_search/',auth,async(_0x2c5993,_0x4928d9)=>{const _0x528ad0=a0_0x12926d;try{console[_0x528ad0(0x157)](_0x2c5993[_0x528ad0(0x121)]);const {prod_cat:_0x22d292,identity:_0xb449a1,valueData:_0x380315}=_0x2c5993[_0x528ad0(0x121)];let _0x499676;switch(_0x22d292){case'fg':if(_0xb449a1==_0x528ad0(0x156))_0x499676=await product['aggregate']([{'$match':{'product_category':_0x528ad0(0x16c),'brand':_0x380315}}]);else _0xb449a1==_0x528ad0(0x193)&&(_0x499676=await product[_0x528ad0(0x13c)]([{'$match':{'product_category':_0x528ad0(0x16c),'category':_0x380315}}]));break;case'rm':if(_0xb449a1==_0x528ad0(0x156))_0x499676=await product[_0x528ad0(0x13c)]([{'$match':{'product_category':_0x528ad0(0x16f),'brand':_0x380315}}]);else _0xb449a1==_0x528ad0(0x193)&&(_0x499676=await product[_0x528ad0(0x13c)]([{'$match':{'product_category':_0x528ad0(0x16f),'category':_0x380315}}]));break;}_0x4928d9[_0x528ad0(0x134)]({'data':_0x499676});}catch(_0x35f4f7){_0x4928d9[_0x528ad0(0x134)]({'message':_0x35f4f7['message']});}}),router[a0_0x12926d(0x181)](a0_0x12926d(0xe9),auth,async(_0x2b4b9e,_0x20de2a)=>{const _0x19d07d=a0_0x12926d;try{const _0x573ffc=_0x2b4b9e[_0x19d07d(0x146)]['id'],{copies:_0x5aeaa4,typeofbarcode:_0x327b20}=_0x2b4b9e[_0x19d07d(0x121)];var _0x449ad4=await product[_0x19d07d(0x118)](_0x573ffc);const _0x339b0e=_0x30286f=>_0x30286f*0x48,_0x69b972={'width':0x3,'height':0x1},_0x4e2e4b=new PDFDocument({'margin':_0x339b0e(0.75),'size':[_0x339b0e(_0x69b972[_0x19d07d(0x15e)]),_0x339b0e(_0x69b972['height'])],'bufferPages':!![]}),_0x2aea1e=_0x5aeaa4,_0x281e8c=_0x449ad4[_0x19d07d(0x130)],_0x157aa0=_0x449ad4[_0x19d07d(0x18d)],_0x1155ca=_0x449ad4[_0x19d07d(0x129)],_0x1887d6=_0x449ad4[_0x19d07d(0xf5)];let _0x59afbe;switch(_0x327b20){case'1':_0x59afbe=_0x157aa0;break;case'2':_0x59afbe=_0x1155ca;break;case'3':_0x59afbe=_0x1887d6;break;}const _0x221bba={'width':0xd2,'height':0x64},_0x2b8306={'width':_0x339b0e(_0x69b972[_0x19d07d(0x15e)]),'height':_0x339b0e(_0x69b972[_0x19d07d(0x10d)])};for(let _0xd0cb42=0x1;_0xd0cb42<=_0x2aea1e;_0xd0cb42++){const _0x3c77d5=new Canvas();JsBarcode(_0x3c77d5,_0x59afbe,{'format':_0x19d07d(0x16e),'height':_0x221bba[_0x19d07d(0x10d)],'displayValue':!![],'text':_0x59afbe});const _0x49aa33=_0x3c77d5[_0x19d07d(0xf7)](),_0x100b94=_0x2b8306[_0x19d07d(0x15e)]/_0x221bba[_0x19d07d(0x15e)],_0x3594d0=_0x2b8306[_0x19d07d(0x10d)]/_0x221bba[_0x19d07d(0x10d)],_0x19d5a6=Math[_0x19d07d(0x143)](_0x100b94,_0x3594d0),_0x172f0a=_0x221bba[_0x19d07d(0x15e)]*_0x19d5a6,_0x2956e9=_0x221bba[_0x19d07d(0x10d)]*_0x19d5a6,_0x45c08f=(_0x2b8306[_0x19d07d(0x15e)]-_0x172f0a)/0x2,_0x18c4f2=(_0x2b8306['height']-_0x2956e9)/0x2;_0x4e2e4b[_0x19d07d(0x196)](_0x49aa33,_0x45c08f,_0x18c4f2,{'width':_0x172f0a,'height':_0x2956e9}),_0xd0cb42!=_0x2aea1e&&_0x4e2e4b[_0x19d07d(0x164)]();}const _0x247c5d=[];_0x4e2e4b['on'](_0x19d07d(0x160),_0x247c5d[_0x19d07d(0x11a)][_0x19d07d(0x16b)](_0x247c5d)),_0x4e2e4b['on'](_0x19d07d(0x19a),()=>{const _0x45d7d9=_0x19d07d,_0x461030=Buffer['concat'](_0x247c5d),_0x4c05c9=_0x461030[_0x45d7d9(0x151)](_0x45d7d9(0x11b));_0x20de2a['json']({'pdfContent':_0x4c05c9});}),_0x4e2e4b['end']();}catch(_0x459ced){_0x20de2a['json']({'message':_0x459ced[_0x19d07d(0x182)]});}}),module[a0_0x12926d(0x141)]=router;