const a0_0x334752=a0_0x184f;function a0_0x12db(){const _0x2920f4=['Email\x20','/staff/view','render','/view','email','../public/language/languages.json','language','params','firstname','errors','find','51980tglhoB','body','findOne','Finished\x20Goods','Router','../models/all_models','24TwxisE','findById','Hindi','json','8059482kdqTKt','8343XRzqMp','214167gcCGIB','245637qUkjzd','post','warehouse','district','express','flash','hash','staff\x20data\x20update\x20successfully','German','Arabic','English\x20(US)','Portuguese','status','Raw\x20Materials','26345KjUwYk','bcryptjs','/view/:id','1639660ePiUkg','mobile','French','back','get','log','../middleware/auth','sales_man_code','685461QCtcYD','English','staff','Arabic\x20(ae)','Portuguese\x20(BR)','Chinese','$name','password','user','save','redirect','64crQxhV','exports','Spanish','\x20is\x20add\x20successfully','success','account_category'];a0_0x12db=function(){return _0x2920f4;};return a0_0x12db();}(function(_0x11f645,_0x45b1c3){const _0xd08a9b=a0_0x184f,_0x31b8ea=_0x11f645();while(!![]){try{const _0x2bc68a=-parseInt(_0xd08a9b(0xf4))/0x1+-parseInt(_0xd08a9b(0x105))/0x2+parseInt(_0xd08a9b(0xf3))/0x3*(-parseInt(_0xd08a9b(0x118))/0x4)+-parseInt(_0xd08a9b(0x102))/0x5+-parseInt(_0xd08a9b(0xf1))/0x6+-parseInt(_0xd08a9b(0x10d))/0x7*(parseInt(_0xd08a9b(0xed))/0x8)+-parseInt(_0xd08a9b(0xf2))/0x9*(-parseInt(_0xd08a9b(0xe7))/0xa);if(_0x2bc68a===_0x45b1c3)break;else _0x31b8ea['push'](_0x31b8ea['shift']());}catch(_0x5df5f9){_0x31b8ea['push'](_0x31b8ea['shift']());}}}(a0_0x12db,0xec77a));function a0_0x184f(_0x191d2c,_0x1388ef){const _0x12db02=a0_0x12db();return a0_0x184f=function(_0x184ffd,_0x3e18fc){_0x184ffd=_0x184ffd-0xe0;let _0x5457b4=_0x12db02[_0x184ffd];return _0x5457b4;},a0_0x184f(_0x191d2c,_0x1388ef);}const express=require(a0_0x334752(0xf8)),app=express(),router=express[a0_0x334752(0xeb)](),bcrypt=require(a0_0x334752(0x103)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x334752(0xec)),auth=require(a0_0x334752(0x10b)),users=require(a0_0x334752(0xe1));router[a0_0x334752(0x109)](a0_0x334752(0x121),auth,async(_0x58ecaa,_0x952bed)=>{const _0x1c1bdc=a0_0x334752;try{const {username:_0x2b7981,email:_0x63e241,role:_0xd9d768}=_0x58ecaa[_0x1c1bdc(0x115)],_0x1f4194=_0x58ecaa[_0x1c1bdc(0x115)],_0x2f926b=await profile[_0x1c1bdc(0xe9)]({'email':_0x1f4194['email']}),_0x17dfe4=await master_shop[_0x1c1bdc(0xe6)]();console[_0x1c1bdc(0x10a)]('master',_0x17dfe4),warehouse_data=await warehouse['aggregate']([{'$match':{'status':'Enabled'}},{'$group':{'_id':'$name','name':{'$first':_0x1c1bdc(0x113)}}}]);const _0x34089f=await staff[_0x1c1bdc(0xe6)]();console['log'](_0x34089f);if(_0x17dfe4[0x0][_0x1c1bdc(0xe2)]==_0x1c1bdc(0xfe)){var _0x242a7e=users[_0x1c1bdc(0x10e)];console[_0x1c1bdc(0x10a)](_0x242a7e);}else{if(_0x17dfe4[0x0]['language']==_0x1c1bdc(0xef))var _0x242a7e=users[_0x1c1bdc(0xef)];else{if(_0x17dfe4[0x0]['language']==_0x1c1bdc(0xfc))var _0x242a7e=users[_0x1c1bdc(0xfc)];else{if(_0x17dfe4[0x0][_0x1c1bdc(0xe2)]==_0x1c1bdc(0x11a))var _0x242a7e=users[_0x1c1bdc(0x11a)];else{if(_0x17dfe4[0x0][_0x1c1bdc(0xe2)]==_0x1c1bdc(0x107))var _0x242a7e=users[_0x1c1bdc(0x107)];else{if(_0x17dfe4[0x0]['language']==_0x1c1bdc(0x111))var _0x242a7e=users[_0x1c1bdc(0xff)];else{if(_0x17dfe4[0x0][_0x1c1bdc(0xe2)]==_0x1c1bdc(0x112))var _0x242a7e=users[_0x1c1bdc(0x112)];else{if(_0x17dfe4[0x0][_0x1c1bdc(0xe2)]=='Arabic\x20(ae)')var _0x242a7e=users['Arabic'];}}}}}}}let _0x1b9219=[_0x1c1bdc(0x101),_0x1c1bdc(0xea)];_0x952bed[_0x1c1bdc(0x120)]('staff',{'success':_0x58ecaa[_0x1c1bdc(0xf9)](_0x1c1bdc(0x11c)),'errors':_0x58ecaa[_0x1c1bdc(0xf9)](_0x1c1bdc(0xe5)),'role':_0x1f4194,'profile':_0x2f926b,'master_shop':_0x17dfe4,'user':_0x34089f,'language':_0x242a7e,'warehouse':warehouse_data,'warehouse_cat':_0x1b9219});}catch(_0x118b2e){console[_0x1c1bdc(0x10a)](_0x118b2e);}}),router[a0_0x334752(0xf5)](a0_0x334752(0x121),auth,async(_0x52f6fc,_0x20d823)=>{const _0x91fba2=a0_0x334752;try{const {name:_0x542167,email:_0x3190e2,mobile:_0x194716,password:_0x3745f6,status:_0x19e096,warehouse:_0x111bb4,position:_0x45cda6,warehouse_cat:_0x180ace,account_cat:_0x311c45,sales_cat:_0x39b069,sales_man_code:_0x32aafa,district:_0x2e1718}=_0x52f6fc[_0x91fba2(0xe8)],_0x33a9a3=await bcrypt[_0x91fba2(0xfa)](_0x3745f6,0xa),_0x55e5fc=new staff({'name':_0x542167,'email':_0x3190e2,'mobile':_0x194716,'status':_0x19e096,'warehouse':_0x111bb4,'position':_0x45cda6,'account_category':_0x311c45,'type_of_acc_cat':_0x39b069,'sales_man_code':_0x32aafa,'district':_0x2e1718}),_0x2fe996=await staff[_0x91fba2(0xe9)]({'email':_0x3190e2});if(_0x2fe996)return _0x52f6fc[_0x91fba2(0xf9)](_0x91fba2(0xe5),_0x91fba2(0x11e)+_0x3190e2+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x20d823[_0x91fba2(0x117)](_0x91fba2(0x108)),![];const _0x2b8cef=await _0x55e5fc[_0x91fba2(0x116)](),_0x3d2b0a=new sing_up({'name':_0x542167,'email':_0x3190e2,'password':_0x33a9a3,'role':'staff'}),_0x7fefc4=await _0x3d2b0a[_0x91fba2(0x116)](),_0xe33cc7=new profile({'firstname':_0x542167,'email':_0x3190e2}),_0x22406e=await _0xe33cc7[_0x91fba2(0x116)]();_0x52f6fc['flash'](_0x91fba2(0x11c),_0x542167+_0x91fba2(0x11b)),_0x20d823['redirect'](_0x91fba2(0x11f));}catch(_0x7b7046){console[_0x91fba2(0x10a)](_0x7b7046);}}),router[a0_0x334752(0x109)](a0_0x334752(0x104),auth,async(_0xa02b5a,_0x5bd3e2)=>{const _0x5309c8=a0_0x334752;try{const _0x45de58=_0xa02b5a[_0x5309c8(0xe3)]['id'],_0x4e0805=await master_shop[_0x5309c8(0xe6)](),_0x3ba5f2=await staff[_0x5309c8(0xee)](_0x45de58);if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0xfe)){var _0x5ab2f5=users[_0x5309c8(0x10e)];console[_0x5309c8(0x10a)](_0x5ab2f5);}else{if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0xef))var _0x5ab2f5=users[_0x5309c8(0xef)];else{if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0xfc))var _0x5ab2f5=users[_0x5309c8(0xfc)];else{if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0x11a))var _0x5ab2f5=users[_0x5309c8(0x11a)];else{if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0x107))var _0x5ab2f5=users['French'];else{if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0x111))var _0x5ab2f5=users[_0x5309c8(0xff)];else{if(_0x4e0805[0x0][_0x5309c8(0xe2)]==_0x5309c8(0x112))var _0x5ab2f5=users[_0x5309c8(0x112)];else{if(_0x4e0805[0x0]['language']==_0x5309c8(0x110))var _0x5ab2f5=users[_0x5309c8(0xfd)];}}}}}}}let _0x2a4929=[_0x5309c8(0x101),'Finished\x20Goods'];_0x5bd3e2['render'](_0x5309c8(0x10f),{'success':_0xa02b5a[_0x5309c8(0xf9)]('success'),'errors':_0xa02b5a[_0x5309c8(0xf9)](_0x5309c8(0xe5)),'master_shop':_0x4e0805,'user':_0x3ba5f2,'language':_0x5ab2f5,'warehouse_cat':_0x2a4929});}catch(_0x4798d4){console[_0x5309c8(0x10a)](_0x4798d4);}}),router[a0_0x334752(0xf5)](a0_0x334752(0x104),auth,async(_0x246502,_0x53fe9a)=>{const _0x45f18f=a0_0x334752;try{const _0x690342=_0x246502[_0x45f18f(0xe3)]['id'],_0x169417=await staff[_0x45f18f(0xee)](_0x690342),{name:_0xb14970,email:_0x53a461,mobile:_0x51282e,password:_0x17f620,status:_0x1d84cc,warehouse:_0x25e17d,position:_0x5b8596,account_edit_cat:_0x350224,sales_cat2:_0xdd6ba6,sales_man_code2:_0x4e52b5,district_edit:_0x2e3c59}=_0x246502[_0x45f18f(0xe8)];_0x169417['name']=_0xb14970,_0x169417[_0x45f18f(0xe0)]=_0x53a461,_0x169417[_0x45f18f(0x106)]=_0x51282e,_0x169417[_0x45f18f(0x114)]=_0x17f620,_0x169417[_0x45f18f(0x100)]=_0x1d84cc,_0x169417[_0x45f18f(0xf6)]=_0x25e17d,_0x169417['position']=_0x5b8596,_0x169417[_0x45f18f(0x11d)]=_0x350224,_0x169417['type_of_acc_cat']=_0xdd6ba6,_0x169417[_0x45f18f(0x10c)]=_0x4e52b5,_0x169417[_0x45f18f(0xf7)]=_0x2e3c59;const _0x26ec79=await _0x169417[_0x45f18f(0x116)](),_0x2bab90=await profile[_0x45f18f(0xe9)]({'email':_0x53a461});_0x2bab90[_0x45f18f(0xe4)]=_0xb14970,_0x2bab90[_0x45f18f(0xe0)]=_0x53a461,await _0x2bab90[_0x45f18f(0x116)](),_0x246502[_0x45f18f(0xf9)](_0x45f18f(0x11c),_0x45f18f(0xfb)),_0x53fe9a[_0x45f18f(0x117)](_0x45f18f(0x11f));}catch(_0x5ab67e){console[_0x45f18f(0x10a)](_0x5ab67e),_0x53fe9a[_0x45f18f(0x100)](0xc8)[_0x45f18f(0xf0)](_0x5ab67e);}}),module[a0_0x334752(0x119)]=router;