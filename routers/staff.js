const a0_0x5b019b=a0_0x29d4;(function(_0x1e0167,_0x125386){const _0x2710a8=a0_0x29d4,_0x17c4b6=_0x1e0167();while(!![]){try{const _0x191b2e=parseInt(_0x2710a8(0x194))/0x1+parseInt(_0x2710a8(0x177))/0x2+parseInt(_0x2710a8(0x1a0))/0x3+parseInt(_0x2710a8(0x193))/0x4+-parseInt(_0x2710a8(0x17e))/0x5+-parseInt(_0x2710a8(0x192))/0x6*(parseInt(_0x2710a8(0x1a4))/0x7)+parseInt(_0x2710a8(0x181))/0x8*(-parseInt(_0x2710a8(0x195))/0x9);if(_0x191b2e===_0x125386)break;else _0x17c4b6['push'](_0x17c4b6['shift']());}catch(_0x1fb3b8){_0x17c4b6['push'](_0x17c4b6['shift']());}}}(a0_0x1129,0x5416f));function a0_0x29d4(_0x90c989,_0x144dc6){const _0x112939=a0_0x1129();return a0_0x29d4=function(_0x29d43,_0x353ad1){_0x29d43=_0x29d43-0x172;let _0x3d9a90=_0x112939[_0x29d43];return _0x3d9a90;},a0_0x29d4(_0x90c989,_0x144dc6);}const express=require('express'),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x5b019b(0x175)),auth=require('../middleware/auth'),users=require('../public/language/languages.json');function a0_0x1129(){const _0x1f8cb4=['render','save','English','Arabic','Arabic\x20(ae)','2368176pUVyEP','2660404usdmdA','423084eOwhva','4110633lQuTMj','Hindi','params','success','findOne','warehouse','sales_man_code','master','position','French','flash','615585YQfZRl','\x20is\x20add\x20successfully','Spanish','log','7IOuKse','findById','Finished\x20Goods','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','$name','exports','language','district','redirect','English\x20(US)','/view/:id','json','../models/all_models','firstname','878022lBToKw','Enabled','Portuguese','hash','errors','aggregate','find','2682635TFWjBB','German','Chinese','8XaVbdC','post','user','Raw\x20Materials','body','email','status','staff','/view','get','back','Email\x20'];a0_0x1129=function(){return _0x1f8cb4;};return a0_0x1129();}router[a0_0x5b019b(0x18a)](a0_0x5b019b(0x189),auth,async(_0x5045ce,_0x14fb21)=>{const _0x4d2c4a=a0_0x5b019b;try{const {username:_0x43e269,email:_0x26f6f8,role:_0x403d69}=_0x5045ce[_0x4d2c4a(0x183)],_0xb7723d=_0x5045ce[_0x4d2c4a(0x183)],_0x3fc7a5=await profile[_0x4d2c4a(0x199)]({'email':_0xb7723d[_0x4d2c4a(0x186)]}),_0x225bb7=await master_shop[_0x4d2c4a(0x17d)]();console[_0x4d2c4a(0x1a3)](_0x4d2c4a(0x19c),_0x225bb7),warehouse_data=await warehouse[_0x4d2c4a(0x17c)]([{'$match':{'status':_0x4d2c4a(0x178)}},{'$group':{'_id':_0x4d2c4a(0x1a8),'name':{'$first':_0x4d2c4a(0x1a8)}}}]);const _0x5ba21d=await staff[_0x4d2c4a(0x17d)]();console[_0x4d2c4a(0x1a3)](_0x5ba21d);if(_0x225bb7[0x0][_0x4d2c4a(0x1aa)]==_0x4d2c4a(0x172)){var _0x3e2243=users[_0x4d2c4a(0x18f)];console['log'](_0x3e2243);}else{if(_0x225bb7[0x0]['language']=='Hindi')var _0x3e2243=users[_0x4d2c4a(0x196)];else{if(_0x225bb7[0x0][_0x4d2c4a(0x1aa)]==_0x4d2c4a(0x17f))var _0x3e2243=users[_0x4d2c4a(0x17f)];else{if(_0x225bb7[0x0][_0x4d2c4a(0x1aa)]==_0x4d2c4a(0x1a2))var _0x3e2243=users[_0x4d2c4a(0x1a2)];else{if(_0x225bb7[0x0][_0x4d2c4a(0x1aa)]=='French')var _0x3e2243=users['French'];else{if(_0x225bb7[0x0][_0x4d2c4a(0x1aa)]=='Portuguese\x20(BR)')var _0x3e2243=users[_0x4d2c4a(0x179)];else{if(_0x225bb7[0x0]['language']==_0x4d2c4a(0x180))var _0x3e2243=users[_0x4d2c4a(0x180)];else{if(_0x225bb7[0x0][_0x4d2c4a(0x1aa)]==_0x4d2c4a(0x191))var _0x3e2243=users[_0x4d2c4a(0x190)];}}}}}}}let _0x241baf=[_0x4d2c4a(0x184),_0x4d2c4a(0x1a6)];_0x14fb21[_0x4d2c4a(0x18d)](_0x4d2c4a(0x188),{'success':_0x5045ce[_0x4d2c4a(0x19f)]('success'),'errors':_0x5045ce[_0x4d2c4a(0x19f)](_0x4d2c4a(0x17b)),'role':_0xb7723d,'profile':_0x3fc7a5,'master_shop':_0x225bb7,'user':_0x5ba21d,'language':_0x3e2243,'warehouse':warehouse_data,'warehouse_cat':_0x241baf});}catch(_0x1add59){console[_0x4d2c4a(0x1a3)](_0x1add59);}}),router[a0_0x5b019b(0x182)](a0_0x5b019b(0x189),auth,async(_0x24136d,_0xfd7fff)=>{const _0x5d8bd9=a0_0x5b019b;try{const {name:_0x209b34,email:_0x63de6a,mobile:_0xe52e17,password:_0x314049,status:_0x8f396a,warehouse:_0x4a9b91,position:_0x20fa52,warehouse_cat:_0x3012bb,account_cat:_0x346c7a,sales_cat:_0x3232d2,sales_man_code:_0x430d69,district:_0x443aca}=_0x24136d[_0x5d8bd9(0x185)],_0x2f4153=await bcrypt[_0x5d8bd9(0x17a)](_0x314049,0xa),_0x53d642=new staff({'name':_0x209b34,'email':_0x63de6a,'mobile':_0xe52e17,'status':_0x8f396a,'warehouse':_0x4a9b91,'position':_0x20fa52,'account_category':_0x346c7a,'type_of_acc_cat':_0x3232d2,'sales_man_code':_0x430d69,'district':_0x443aca}),_0x1fa688=await staff[_0x5d8bd9(0x199)]({'email':_0x63de6a});if(_0x1fa688)return _0x24136d[_0x5d8bd9(0x19f)](_0x5d8bd9(0x17b),_0x5d8bd9(0x18c)+_0x63de6a+_0x5d8bd9(0x1a7)),_0xfd7fff[_0x5d8bd9(0x1ac)](_0x5d8bd9(0x18b)),![];const _0x3d624e=await _0x53d642[_0x5d8bd9(0x18e)](),_0x446ba1=new sing_up({'name':_0x209b34,'email':_0x63de6a,'password':_0x2f4153,'role':_0x5d8bd9(0x188)}),_0x572486=await _0x446ba1['save'](),_0x3fafd0=new profile({'firstname':_0x209b34,'email':_0x63de6a}),_0x38c8fe=await _0x3fafd0[_0x5d8bd9(0x18e)]();_0x24136d['flash'](_0x5d8bd9(0x198),_0x209b34+_0x5d8bd9(0x1a1)),_0xfd7fff['redirect']('/staff/view');}catch(_0x569978){console[_0x5d8bd9(0x1a3)](_0x569978);}}),router[a0_0x5b019b(0x18a)](a0_0x5b019b(0x173),auth,async(_0x2d134f,_0x4b02c6)=>{const _0x7dcfed=a0_0x5b019b;try{const _0x343360=_0x2d134f[_0x7dcfed(0x197)]['id'],_0x5d8405=await master_shop[_0x7dcfed(0x17d)](),_0x566fdb=await staff[_0x7dcfed(0x1a5)](_0x343360);if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]=='English\x20(US)'){var _0x2f6df3=users['English'];console[_0x7dcfed(0x1a3)](_0x2f6df3);}else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]==_0x7dcfed(0x196))var _0x2f6df3=users[_0x7dcfed(0x196)];else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]==_0x7dcfed(0x17f))var _0x2f6df3=users[_0x7dcfed(0x17f)];else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]==_0x7dcfed(0x1a2))var _0x2f6df3=users['Spanish'];else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]==_0x7dcfed(0x19e))var _0x2f6df3=users[_0x7dcfed(0x19e)];else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]=='Portuguese\x20(BR)')var _0x2f6df3=users['Portuguese'];else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]==_0x7dcfed(0x180))var _0x2f6df3=users[_0x7dcfed(0x180)];else{if(_0x5d8405[0x0][_0x7dcfed(0x1aa)]==_0x7dcfed(0x191))var _0x2f6df3=users[_0x7dcfed(0x190)];}}}}}}}let _0x1c02b6=[_0x7dcfed(0x184),_0x7dcfed(0x1a6)];_0x4b02c6[_0x7dcfed(0x18d)]('staff',{'success':_0x2d134f[_0x7dcfed(0x19f)](_0x7dcfed(0x198)),'errors':_0x2d134f['flash'](_0x7dcfed(0x17b)),'master_shop':_0x5d8405,'user':_0x566fdb,'language':_0x2f6df3,'warehouse_cat':_0x1c02b6});}catch(_0x3cfb4f){console[_0x7dcfed(0x1a3)](_0x3cfb4f);}}),router['post'](a0_0x5b019b(0x173),auth,async(_0x23e786,_0x255598)=>{const _0x4e227c=a0_0x5b019b;try{const _0x42ad11=_0x23e786[_0x4e227c(0x197)]['id'],_0x164d75=await staff[_0x4e227c(0x1a5)](_0x42ad11),{name:_0x42e68c,email:_0x5f329d,mobile:_0x405073,password:_0x4c621f,status:_0x59545c,warehouse:_0x51d25d,position:_0x58f582,account_edit_cat:_0x29167a,sales_cat2:_0x555279,sales_man_code2:_0x45fedb,district_edit:_0x26854b}=_0x23e786[_0x4e227c(0x185)];_0x164d75['name']=_0x42e68c,_0x164d75['email']=_0x5f329d,_0x164d75['mobile']=_0x405073,_0x164d75['password']=_0x4c621f,_0x164d75['status']=_0x59545c,_0x164d75[_0x4e227c(0x19a)]=_0x51d25d,_0x164d75[_0x4e227c(0x19d)]=_0x58f582,_0x164d75['account_category']=_0x29167a,_0x164d75['type_of_acc_cat']=_0x555279,_0x164d75[_0x4e227c(0x19b)]=_0x45fedb,_0x164d75[_0x4e227c(0x1ab)]=_0x26854b;const _0x4aaaa5=await _0x164d75[_0x4e227c(0x18e)](),_0x230f22=await profile[_0x4e227c(0x199)]({'email':_0x5f329d});_0x230f22[_0x4e227c(0x176)]=_0x42e68c,_0x230f22[_0x4e227c(0x186)]=_0x5f329d,await _0x230f22[_0x4e227c(0x18e)](),_0x23e786[_0x4e227c(0x19f)](_0x4e227c(0x198),'staff\x20data\x20update\x20successfully'),_0x255598['redirect']('/staff/view');}catch(_0x2658cf){console[_0x4e227c(0x1a3)](_0x2658cf),_0x255598[_0x4e227c(0x187)](0xc8)[_0x4e227c(0x174)](_0x2658cf);}}),module[a0_0x5b019b(0x1a9)]=router;