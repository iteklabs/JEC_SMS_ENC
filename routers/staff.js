const a0_0x4ea1dd=a0_0x3467;function a0_0x3467(_0x1157c5,_0x165ab9){const _0x501ed5=a0_0x501e();return a0_0x3467=function(_0x3467b3,_0x323529){_0x3467b3=_0x3467b3-0x134;let _0x35c7f1=_0x501ed5[_0x3467b3];return _0x35c7f1;},a0_0x3467(_0x1157c5,_0x165ab9);}(function(_0x1f54ab,_0x4a0dce){const _0x2c228e=a0_0x3467,_0x503d54=_0x1f54ab();while(!![]){try{const _0x5d1e88=parseInt(_0x2c228e(0x153))/0x1+-parseInt(_0x2c228e(0x13d))/0x2+-parseInt(_0x2c228e(0x14f))/0x3*(-parseInt(_0x2c228e(0x137))/0x4)+parseInt(_0x2c228e(0x142))/0x5+parseInt(_0x2c228e(0x159))/0x6*(parseInt(_0x2c228e(0x138))/0x7)+-parseInt(_0x2c228e(0x162))/0x8*(parseInt(_0x2c228e(0x167))/0x9)+parseInt(_0x2c228e(0x144))/0xa*(-parseInt(_0x2c228e(0x156))/0xb);if(_0x5d1e88===_0x4a0dce)break;else _0x503d54['push'](_0x503d54['shift']());}catch(_0x31e438){_0x503d54['push'](_0x503d54['shift']());}}}(a0_0x501e,0x3fb5d));const express=require('express'),app=express(),router=express[a0_0x4ea1dd(0x140)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require(a0_0x4ea1dd(0x165)),users=require(a0_0x4ea1dd(0x134));router[a0_0x4ea1dd(0x160)](a0_0x4ea1dd(0x14e),auth,async(_0xa71cba,_0x32c6d1)=>{const _0x253516=a0_0x4ea1dd;try{const {username:_0x16e3d9,email:_0x4308dd,role:_0x1d8470}=_0xa71cba[_0x253516(0x147)],_0xe093bc=_0xa71cba[_0x253516(0x147)],_0x1c0a66=await profile[_0x253516(0x16f)]({'email':_0xe093bc[_0x253516(0x16b)]}),_0x21b9ce=await master_shop['find']();console[_0x253516(0x13c)]('master',_0x21b9ce),warehouse_data=await warehouse[_0x253516(0x139)]([{'$match':{'status':_0x253516(0x151)}},{'$group':{'_id':_0x253516(0x15c),'name':{'$first':_0x253516(0x15c)}}}]);const _0x18df5c=await staff[_0x253516(0x16c)]();console[_0x253516(0x13c)](_0x18df5c);if(_0x21b9ce[0x0][_0x253516(0x170)]=='English\x20(US)'){var _0xf1c619=users['English'];console[_0x253516(0x13c)](_0xf1c619);}else{if(_0x21b9ce[0x0][_0x253516(0x170)]=='Hindi')var _0xf1c619=users['Hindi'];else{if(_0x21b9ce[0x0][_0x253516(0x170)]==_0x253516(0x148))var _0xf1c619=users[_0x253516(0x148)];else{if(_0x21b9ce[0x0][_0x253516(0x170)]==_0x253516(0x13e))var _0xf1c619=users[_0x253516(0x13e)];else{if(_0x21b9ce[0x0][_0x253516(0x170)]==_0x253516(0x150))var _0xf1c619=users['French'];else{if(_0x21b9ce[0x0][_0x253516(0x170)]=='Portuguese\x20(BR)')var _0xf1c619=users[_0x253516(0x152)];else{if(_0x21b9ce[0x0]['language']=='Chinese')var _0xf1c619=users[_0x253516(0x141)];else{if(_0x21b9ce[0x0][_0x253516(0x170)]==_0x253516(0x158))var _0xf1c619=users[_0x253516(0x168)];}}}}}}}let _0x583d74=[_0x253516(0x16d),_0x253516(0x171)];_0x32c6d1[_0x253516(0x15d)]('staff',{'success':_0xa71cba[_0x253516(0x145)]('success'),'errors':_0xa71cba[_0x253516(0x145)](_0x253516(0x157)),'role':_0xe093bc,'profile':_0x1c0a66,'master_shop':_0x21b9ce,'user':_0x18df5c,'language':_0xf1c619,'warehouse':warehouse_data,'warehouse_cat':_0x583d74});}catch(_0x4db5a0){console[_0x253516(0x13c)](_0x4db5a0);}}),router[a0_0x4ea1dd(0x13b)](a0_0x4ea1dd(0x14e),auth,async(_0x3e2299,_0x3d9b85)=>{const _0x2b172f=a0_0x4ea1dd;try{const {name:_0xdd0428,email:_0x157698,mobile:_0x34a3d7,password:_0x5223dc,status:_0x23e161,warehouse:_0x1c5bf6,position:_0x102404,warehouse_cat:_0x3359cb,account_cat:_0x201f09,sales_cat:_0x3a9ec7,sales_man_code:_0x283998,district:_0x4540b1}=_0x3e2299[_0x2b172f(0x166)],_0x1d0c17=await bcrypt[_0x2b172f(0x136)](_0x5223dc,0xa),_0x1b3117=new staff({'name':_0xdd0428,'email':_0x157698,'mobile':_0x34a3d7,'status':_0x23e161,'warehouse':_0x1c5bf6,'position':_0x102404,'account_category':_0x201f09,'type_of_acc_cat':_0x3a9ec7,'sales_man_code':_0x283998,'district':_0x4540b1}),_0x55dfc6=await staff['findOne']({'email':_0x157698});if(_0x55dfc6)return _0x3e2299['flash'](_0x2b172f(0x157),_0x2b172f(0x14a)+_0x157698+_0x2b172f(0x163)),_0x3d9b85[_0x2b172f(0x14b)](_0x2b172f(0x143)),![];const _0x1cfcf4=await _0x1b3117[_0x2b172f(0x149)](),_0x690fd0=new sing_up({'name':_0xdd0428,'email':_0x157698,'password':_0x1d0c17,'role':_0x2b172f(0x14c)}),_0x2f4114=await _0x690fd0[_0x2b172f(0x149)](),_0x40456a=new profile({'firstname':_0xdd0428,'email':_0x157698}),_0x161968=await _0x40456a[_0x2b172f(0x149)]();_0x3e2299[_0x2b172f(0x145)]('success',_0xdd0428+_0x2b172f(0x15b)),_0x3d9b85['redirect'](_0x2b172f(0x135));}catch(_0x598547){console[_0x2b172f(0x13c)](_0x598547);}}),router[a0_0x4ea1dd(0x160)]('/view/:id',auth,async(_0x371a19,_0x5c41e6)=>{const _0x543599=a0_0x4ea1dd;try{const _0x5da7f7=_0x371a19[_0x543599(0x164)]['id'],_0x1e113c=await master_shop[_0x543599(0x16c)](),_0x4f249b=await staff[_0x543599(0x155)](_0x5da7f7);if(_0x1e113c[0x0][_0x543599(0x170)]==_0x543599(0x161)){var _0x3a856d=users[_0x543599(0x146)];console[_0x543599(0x13c)](_0x3a856d);}else{if(_0x1e113c[0x0][_0x543599(0x170)]=='Hindi')var _0x3a856d=users['Hindi'];else{if(_0x1e113c[0x0][_0x543599(0x170)]==_0x543599(0x148))var _0x3a856d=users['German'];else{if(_0x1e113c[0x0][_0x543599(0x170)]==_0x543599(0x13e))var _0x3a856d=users['Spanish'];else{if(_0x1e113c[0x0][_0x543599(0x170)]==_0x543599(0x150))var _0x3a856d=users[_0x543599(0x150)];else{if(_0x1e113c[0x0][_0x543599(0x170)]=='Portuguese\x20(BR)')var _0x3a856d=users['Portuguese'];else{if(_0x1e113c[0x0][_0x543599(0x170)]==_0x543599(0x141))var _0x3a856d=users[_0x543599(0x141)];else{if(_0x1e113c[0x0][_0x543599(0x170)]==_0x543599(0x158))var _0x3a856d=users[_0x543599(0x168)];}}}}}}}let _0x579767=['Raw\x20Materials','Finished\x20Goods'];_0x5c41e6[_0x543599(0x15d)](_0x543599(0x14c),{'success':_0x371a19[_0x543599(0x145)](_0x543599(0x13f)),'errors':_0x371a19[_0x543599(0x145)]('errors'),'master_shop':_0x1e113c,'user':_0x4f249b,'language':_0x3a856d,'warehouse_cat':_0x579767});}catch(_0x4f286d){console['log'](_0x4f286d);}}),router[a0_0x4ea1dd(0x13b)]('/view/:id',auth,async(_0x203f10,_0x513a27)=>{const _0x515b0e=a0_0x4ea1dd;try{const _0x5238f1=_0x203f10[_0x515b0e(0x164)]['id'],_0x3d1d1c=await staff[_0x515b0e(0x155)](_0x5238f1),{name:_0x5201a6,email:_0xdf6b86,mobile:_0x2110ce,password:_0x4645d2,status:_0x12d693,warehouse:_0x45c928,position:_0x365b8b,account_edit_cat:_0x1fa46c,sales_cat2:_0x142209,sales_man_code2:_0x47554b,district_edit:_0x39a679}=_0x203f10['body'];_0x3d1d1c[_0x515b0e(0x14d)]=_0x5201a6,_0x3d1d1c[_0x515b0e(0x16b)]=_0xdf6b86,_0x3d1d1c['mobile']=_0x2110ce,_0x3d1d1c[_0x515b0e(0x15f)]=_0x4645d2,_0x3d1d1c[_0x515b0e(0x15e)]=_0x12d693,_0x3d1d1c[_0x515b0e(0x16e)]=_0x45c928,_0x3d1d1c['position']=_0x365b8b,_0x3d1d1c[_0x515b0e(0x154)]=_0x1fa46c,_0x3d1d1c[_0x515b0e(0x15a)]=_0x142209,_0x3d1d1c['sales_man_code']=_0x47554b,_0x3d1d1c[_0x515b0e(0x169)]=_0x39a679;const _0x306b8c=await _0x3d1d1c['save'](),_0x4d0699=await profile['findOne']({'email':_0xdf6b86});_0x4d0699['firstname']=_0x5201a6,_0x4d0699[_0x515b0e(0x16b)]=_0xdf6b86,await _0x4d0699[_0x515b0e(0x149)](),_0x203f10[_0x515b0e(0x145)](_0x515b0e(0x13f),_0x515b0e(0x16a)),_0x513a27[_0x515b0e(0x14b)](_0x515b0e(0x135));}catch(_0x132312){console[_0x515b0e(0x13c)](_0x132312),_0x513a27[_0x515b0e(0x15e)](0xc8)['json'](_0x132312);}}),module[a0_0x4ea1dd(0x13a)]=router;function a0_0x501e(){const _0x3fb78e=['10901mDnQLQ','errors','Arabic\x20(ae)','12juqNsG','type_of_acc_cat','\x20is\x20add\x20successfully','$name','render','status','password','get','English\x20(US)','16noemmR','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','params','../middleware/auth','body','715239hcWsBt','Arabic','district','staff\x20data\x20update\x20successfully','email','find','Raw\x20Materials','warehouse','findOne','language','Finished\x20Goods','../public/language/languages.json','/staff/view','hash','4492Rfkfqk','1183434zmUrnj','aggregate','exports','post','log','173072BHRSHi','Spanish','success','Router','Chinese','2603415zvZBlL','back','9830MWSzut','flash','English','user','German','save','Email\x20','redirect','staff','name','/view','1353qoXcvI','French','Enabled','Portuguese','115308YlgHjZ','account_category','findById'];a0_0x501e=function(){return _0x3fb78e;};return a0_0x501e();}