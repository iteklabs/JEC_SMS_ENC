const a0_0x7c4ba2=a0_0x41de;function a0_0x3632(){const _0x5c12d8=['save','log','/staff/view','8433144bBxkVO','/view','district','post','mobile','staff','8611456LRyDRg','flash','English','render','params','hash','sales_man_code','117812rYGmHh','Hindi','Arabic\x20(ae)','../public/language/languages.json','Enabled','Finished\x20Goods','English\x20(US)','65JNzzCm','language','Chinese','errors','position','Spanish','Router','status','firstname','account_category','get','find','password','type_of_acc_cat','452405jvWETy','name','Portuguese\x20(BR)','email','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','express','../models/all_models','4484265vLPMne','master','Portuguese','findById','findOne','json','warehouse','success','/view/:id','exports','French','user','redirect','Raw\x20Materials','../middleware/auth','2IDeraK','$name','Email\x20','3585501oofouk','7417656biLjku','German'];a0_0x3632=function(){return _0x5c12d8;};return a0_0x3632();}(function(_0x65d234,_0x3f7228){const _0x7bee86=a0_0x41de,_0x5eef13=_0x65d234();while(!![]){try{const _0x2052c4=-parseInt(_0x7bee86(0xa5))/0x1*(-parseInt(_0x7bee86(0x7a))/0x2)+parseInt(_0x7bee86(0xac))/0x3+-parseInt(_0x7bee86(0x90))/0x4*(parseInt(_0x7bee86(0x97))/0x5)+-parseInt(_0x7bee86(0x7e))/0x6+parseInt(_0x7bee86(0x89))/0x7+-parseInt(_0x7bee86(0x83))/0x8+parseInt(_0x7bee86(0x7d))/0x9;if(_0x2052c4===_0x3f7228)break;else _0x5eef13['push'](_0x5eef13['shift']());}catch(_0x3182a3){_0x5eef13['push'](_0x5eef13['shift']());}}}(a0_0x3632,0xdc531));const express=require(a0_0x7c4ba2(0xaa)),app=express(),router=express[a0_0x7c4ba2(0x9d)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x7c4ba2(0xab)),auth=require(a0_0x7c4ba2(0x79)),users=require(a0_0x7c4ba2(0x93));function a0_0x41de(_0x29c008,_0x12fe84){const _0x36322c=a0_0x3632();return a0_0x41de=function(_0x41de67,_0x144d04){_0x41de67=_0x41de67-0x6f;let _0x205335=_0x36322c[_0x41de67];return _0x205335;},a0_0x41de(_0x29c008,_0x12fe84);}router[a0_0x7c4ba2(0xa1)](a0_0x7c4ba2(0x84),auth,async(_0xddafe3,_0x2c3664)=>{const _0x1efac3=a0_0x7c4ba2;try{const {username:_0x495885,email:_0x358558,role:_0x1bf863}=_0xddafe3['user'],_0x2ae039=_0xddafe3[_0x1efac3(0x76)],_0x3d140a=await profile[_0x1efac3(0x6f)]({'email':_0x2ae039[_0x1efac3(0xa8)]}),_0x3d4852=await master_shop[_0x1efac3(0xa2)]();console[_0x1efac3(0x81)](_0x1efac3(0xad),_0x3d4852),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x1efac3(0x94)}},{'$group':{'_id':_0x1efac3(0x7b),'name':{'$first':'$name'}}}]);const _0x2f702b=await staff[_0x1efac3(0xa2)]();console[_0x1efac3(0x81)](_0x2f702b);if(_0x3d4852[0x0][_0x1efac3(0x98)]==_0x1efac3(0x96)){var _0x3248f0=users[_0x1efac3(0x8b)];console[_0x1efac3(0x81)](_0x3248f0);}else{if(_0x3d4852[0x0][_0x1efac3(0x98)]=='Hindi')var _0x3248f0=users['Hindi'];else{if(_0x3d4852[0x0][_0x1efac3(0x98)]=='German')var _0x3248f0=users[_0x1efac3(0x7f)];else{if(_0x3d4852[0x0][_0x1efac3(0x98)]==_0x1efac3(0x9c))var _0x3248f0=users[_0x1efac3(0x9c)];else{if(_0x3d4852[0x0]['language']==_0x1efac3(0x75))var _0x3248f0=users['French'];else{if(_0x3d4852[0x0][_0x1efac3(0x98)]==_0x1efac3(0xa7))var _0x3248f0=users[_0x1efac3(0xae)];else{if(_0x3d4852[0x0][_0x1efac3(0x98)]==_0x1efac3(0x99))var _0x3248f0=users['Chinese'];else{if(_0x3d4852[0x0][_0x1efac3(0x98)]==_0x1efac3(0x92))var _0x3248f0=users['Arabic'];}}}}}}}let _0x3becfa=[_0x1efac3(0x78),'Finished\x20Goods'];_0x2c3664[_0x1efac3(0x8c)](_0x1efac3(0x88),{'success':_0xddafe3[_0x1efac3(0x8a)](_0x1efac3(0x72)),'errors':_0xddafe3['flash'](_0x1efac3(0x9a)),'role':_0x2ae039,'profile':_0x3d140a,'master_shop':_0x3d4852,'user':_0x2f702b,'language':_0x3248f0,'warehouse':warehouse_data,'warehouse_cat':_0x3becfa});}catch(_0x156f1c){console[_0x1efac3(0x81)](_0x156f1c);}}),router[a0_0x7c4ba2(0x86)](a0_0x7c4ba2(0x84),auth,async(_0x1c9cad,_0x44f1dd)=>{const _0x1fea14=a0_0x7c4ba2;try{const {name:_0x17e3a0,email:_0x2ddf41,mobile:_0x4df062,password:_0x9a741a,status:_0x2583c0,warehouse:_0x42bde6,position:_0x5b6955,warehouse_cat:_0x467ab6,account_cat:_0x5dca23,sales_cat:_0x1b7a66,sales_man_code:_0x3903be,district:_0x1651bf}=_0x1c9cad['body'],_0x26a9b7=await bcrypt[_0x1fea14(0x8e)](_0x9a741a,0xa),_0x38635e=new staff({'name':_0x17e3a0,'email':_0x2ddf41,'mobile':_0x4df062,'status':_0x2583c0,'warehouse':_0x42bde6,'position':_0x5b6955,'account_category':_0x5dca23,'type_of_acc_cat':_0x1b7a66,'sales_man_code':_0x3903be,'district':_0x1651bf}),_0x57d589=await staff[_0x1fea14(0x6f)]({'email':_0x2ddf41});if(_0x57d589)return _0x1c9cad[_0x1fea14(0x8a)]('errors',_0x1fea14(0x7c)+_0x2ddf41+_0x1fea14(0xa9)),_0x44f1dd[_0x1fea14(0x77)]('back'),![];const _0x3ab31c=await _0x38635e['save'](),_0x55272c=new sing_up({'name':_0x17e3a0,'email':_0x2ddf41,'password':_0x26a9b7,'role':_0x1fea14(0x88)}),_0x4d281b=await _0x55272c[_0x1fea14(0x80)](),_0x1d2186=new profile({'firstname':_0x17e3a0,'email':_0x2ddf41}),_0x11f162=await _0x1d2186[_0x1fea14(0x80)]();_0x1c9cad['flash'](_0x1fea14(0x72),_0x17e3a0+'\x20is\x20add\x20successfully'),_0x44f1dd['redirect'](_0x1fea14(0x82));}catch(_0x41b6a3){console[_0x1fea14(0x81)](_0x41b6a3);}}),router[a0_0x7c4ba2(0xa1)]('/view/:id',auth,async(_0x1ef2a8,_0x1ba1bb)=>{const _0x8ad10d=a0_0x7c4ba2;try{const _0x1d6074=_0x1ef2a8['params']['id'],_0x5e892e=await master_shop[_0x8ad10d(0xa2)](),_0x392244=await staff[_0x8ad10d(0xaf)](_0x1d6074);if(_0x5e892e[0x0][_0x8ad10d(0x98)]==_0x8ad10d(0x96)){var _0x4a78f9=users[_0x8ad10d(0x8b)];console[_0x8ad10d(0x81)](_0x4a78f9);}else{if(_0x5e892e[0x0]['language']=='Hindi')var _0x4a78f9=users[_0x8ad10d(0x91)];else{if(_0x5e892e[0x0][_0x8ad10d(0x98)]==_0x8ad10d(0x7f))var _0x4a78f9=users['German'];else{if(_0x5e892e[0x0][_0x8ad10d(0x98)]==_0x8ad10d(0x9c))var _0x4a78f9=users[_0x8ad10d(0x9c)];else{if(_0x5e892e[0x0][_0x8ad10d(0x98)]=='French')var _0x4a78f9=users['French'];else{if(_0x5e892e[0x0][_0x8ad10d(0x98)]==_0x8ad10d(0xa7))var _0x4a78f9=users[_0x8ad10d(0xae)];else{if(_0x5e892e[0x0][_0x8ad10d(0x98)]=='Chinese')var _0x4a78f9=users['Chinese'];else{if(_0x5e892e[0x0][_0x8ad10d(0x98)]==_0x8ad10d(0x92))var _0x4a78f9=users['Arabic'];}}}}}}}let _0x5f633a=[_0x8ad10d(0x78),_0x8ad10d(0x95)];_0x1ba1bb[_0x8ad10d(0x8c)](_0x8ad10d(0x88),{'success':_0x1ef2a8[_0x8ad10d(0x8a)](_0x8ad10d(0x72)),'errors':_0x1ef2a8['flash']('errors'),'master_shop':_0x5e892e,'user':_0x392244,'language':_0x4a78f9,'warehouse_cat':_0x5f633a});}catch(_0x389d9e){console[_0x8ad10d(0x81)](_0x389d9e);}}),router[a0_0x7c4ba2(0x86)](a0_0x7c4ba2(0x73),auth,async(_0x5c32b2,_0x2be880)=>{const _0x5e8f4a=a0_0x7c4ba2;try{const _0x425cb0=_0x5c32b2[_0x5e8f4a(0x8d)]['id'],_0x292f1b=await staff[_0x5e8f4a(0xaf)](_0x425cb0),{name:_0x92466a,email:_0x522ad6,mobile:_0x41bb13,password:_0x254ef4,status:_0x4d2063,warehouse:_0x4558f0,position:_0x41da16,account_edit_cat:_0x565d9d,sales_cat2:_0xc2b191,sales_man_code2:_0x5c0ae1,district_edit:_0x191ae7}=_0x5c32b2['body'];_0x292f1b[_0x5e8f4a(0xa6)]=_0x92466a,_0x292f1b[_0x5e8f4a(0xa8)]=_0x522ad6,_0x292f1b[_0x5e8f4a(0x87)]=_0x41bb13,_0x292f1b[_0x5e8f4a(0xa3)]=_0x254ef4,_0x292f1b[_0x5e8f4a(0x9e)]=_0x4d2063,_0x292f1b[_0x5e8f4a(0x71)]=_0x4558f0,_0x292f1b[_0x5e8f4a(0x9b)]=_0x41da16,_0x292f1b[_0x5e8f4a(0xa0)]=_0x565d9d,_0x292f1b[_0x5e8f4a(0xa4)]=_0xc2b191,_0x292f1b[_0x5e8f4a(0x8f)]=_0x5c0ae1,_0x292f1b[_0x5e8f4a(0x85)]=_0x191ae7;const _0x5f1541=await _0x292f1b['save'](),_0xc9027f=await profile[_0x5e8f4a(0x6f)]({'email':_0x522ad6});_0xc9027f[_0x5e8f4a(0x9f)]=_0x92466a,_0xc9027f[_0x5e8f4a(0xa8)]=_0x522ad6,await _0xc9027f[_0x5e8f4a(0x80)](),_0x5c32b2[_0x5e8f4a(0x8a)]('success','staff\x20data\x20update\x20successfully'),_0x2be880[_0x5e8f4a(0x77)]('/staff/view');}catch(_0x55fa47){console[_0x5e8f4a(0x81)](_0x55fa47),_0x2be880[_0x5e8f4a(0x9e)](0xc8)[_0x5e8f4a(0x70)](_0x55fa47);}}),module[a0_0x7c4ba2(0x74)]=router;