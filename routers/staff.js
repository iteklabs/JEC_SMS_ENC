const a0_0x24a09f=a0_0x2391;function a0_0x2391(_0x4429ba,_0x45da2f){const _0x2d3a72=a0_0x2d3a();return a0_0x2391=function(_0x23911e,_0x8fde43){_0x23911e=_0x23911e-0x1d4;let _0x2c41a2=_0x2d3a72[_0x23911e];return _0x2c41a2;},a0_0x2391(_0x4429ba,_0x45da2f);}(function(_0x55644b,_0x2d89e9){const _0x34dc13=a0_0x2391,_0xe150d2=_0x55644b();while(!![]){try{const _0x4bda27=parseInt(_0x34dc13(0x1f4))/0x1+-parseInt(_0x34dc13(0x1f0))/0x2+parseInt(_0x34dc13(0x1fe))/0x3*(parseInt(_0x34dc13(0x1ec))/0x4)+-parseInt(_0x34dc13(0x1d8))/0x5+parseInt(_0x34dc13(0x1fa))/0x6+parseInt(_0x34dc13(0x1f6))/0x7*(parseInt(_0x34dc13(0x1f7))/0x8)+-parseInt(_0x34dc13(0x1e3))/0x9;if(_0x4bda27===_0x2d89e9)break;else _0xe150d2['push'](_0xe150d2['shift']());}catch(_0x3ef64b){_0xe150d2['push'](_0xe150d2['shift']());}}}(a0_0x2d3a,0x85c74));const express=require(a0_0x24a09f(0x1f9)),app=express(),router=express[a0_0x24a09f(0x1d7)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x24a09f(0x200)),auth=require(a0_0x24a09f(0x208)),users=require('../public/language/languages.json');function a0_0x2d3a(){const _0x16c5c1=['warehouse','errors','English\x20(US)','Arabic','language','\x20is\x20add\x20successfully','status','exports','Arabic\x20(ae)','Hindi','13413996lbsHAH','redirect','Portuguese','flash','name','English','Raw\x20Materials','params','password','1417764PWYvNX','firstname','$name','German','2068884OtKtpI','/view','mobile','staff','455515NnVpSa','Enabled','5983201cvKzjf','8vezsAP','Chinese','express','5265978dJzRAF','findOne','district','get','9zibMzQ','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','../models/all_models','hash','staff\x20data\x20update\x20successfully','French','Spanish','log','position','account_category','../middleware/auth','type_of_acc_cat','email','body','post','success','user','Portuguese\x20(BR)','Finished\x20Goods','/view/:id','/staff/view','findById','save','find','master','Router','892010oheYKF'];a0_0x2d3a=function(){return _0x16c5c1;};return a0_0x2d3a();}router[a0_0x24a09f(0x1fd)](a0_0x24a09f(0x1f1),auth,async(_0xbd1bf5,_0x50e217)=>{const _0x7a679e=a0_0x24a09f;try{const {username:_0x4399c0,email:_0x4ccee6,role:_0x8520dc}=_0xbd1bf5[_0x7a679e(0x20e)],_0x369266=_0xbd1bf5['user'],_0x2318b0=await profile[_0x7a679e(0x1fb)]({'email':_0x369266['email']}),_0x2f5c54=await master_shop[_0x7a679e(0x1d5)]();console[_0x7a679e(0x205)](_0x7a679e(0x1d6),_0x2f5c54),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x7a679e(0x1f5)}},{'$group':{'_id':_0x7a679e(0x1ee),'name':{'$first':_0x7a679e(0x1ee)}}}]);const _0x2e7e8f=await staff[_0x7a679e(0x1d5)]();console[_0x7a679e(0x205)](_0x2e7e8f);if(_0x2f5c54[0x0][_0x7a679e(0x1dd)]==_0x7a679e(0x1db)){var _0x1d6bbf=users[_0x7a679e(0x1e8)];console[_0x7a679e(0x205)](_0x1d6bbf);}else{if(_0x2f5c54[0x0][_0x7a679e(0x1dd)]==_0x7a679e(0x1e2))var _0x1d6bbf=users[_0x7a679e(0x1e2)];else{if(_0x2f5c54[0x0]['language']==_0x7a679e(0x1ef))var _0x1d6bbf=users[_0x7a679e(0x1ef)];else{if(_0x2f5c54[0x0][_0x7a679e(0x1dd)]=='Spanish')var _0x1d6bbf=users['Spanish'];else{if(_0x2f5c54[0x0][_0x7a679e(0x1dd)]==_0x7a679e(0x203))var _0x1d6bbf=users[_0x7a679e(0x203)];else{if(_0x2f5c54[0x0]['language']==_0x7a679e(0x20f))var _0x1d6bbf=users[_0x7a679e(0x1e5)];else{if(_0x2f5c54[0x0][_0x7a679e(0x1dd)]=='Chinese')var _0x1d6bbf=users[_0x7a679e(0x1f8)];else{if(_0x2f5c54[0x0][_0x7a679e(0x1dd)]==_0x7a679e(0x1e1))var _0x1d6bbf=users[_0x7a679e(0x1dc)];}}}}}}}let _0x5be8bb=[_0x7a679e(0x1e9),_0x7a679e(0x210)];_0x50e217['render'](_0x7a679e(0x1f3),{'success':_0xbd1bf5['flash'](_0x7a679e(0x20d)),'errors':_0xbd1bf5['flash']('errors'),'role':_0x369266,'profile':_0x2318b0,'master_shop':_0x2f5c54,'user':_0x2e7e8f,'language':_0x1d6bbf,'warehouse':warehouse_data,'warehouse_cat':_0x5be8bb});}catch(_0x1a16c2){console['log'](_0x1a16c2);}}),router[a0_0x24a09f(0x20c)](a0_0x24a09f(0x1f1),auth,async(_0x54c029,_0x5b3d23)=>{const _0x3c5fa5=a0_0x24a09f;try{const {name:_0x3e4e7f,email:_0x2e7a5f,mobile:_0x119a1b,password:_0x533a61,status:_0x180d69,warehouse:_0x4efb31,position:_0xbe688f,warehouse_cat:_0x517cda,account_cat:_0x40f0ab,sales_cat:_0x4132c4,sales_man_code:_0x497d12,district:_0x12486a}=_0x54c029[_0x3c5fa5(0x20b)],_0x246003=await bcrypt[_0x3c5fa5(0x201)](_0x533a61,0xa),_0x2e6635=new staff({'name':_0x3e4e7f,'email':_0x2e7a5f,'mobile':_0x119a1b,'status':_0x180d69,'warehouse':_0x4efb31,'position':_0xbe688f,'account_category':_0x40f0ab,'type_of_acc_cat':_0x4132c4,'sales_man_code':_0x497d12,'district':_0x12486a}),_0x4564eb=await staff[_0x3c5fa5(0x1fb)]({'email':_0x2e7a5f});if(_0x4564eb)return _0x54c029['flash']('errors','Email\x20'+_0x2e7a5f+_0x3c5fa5(0x1ff)),_0x5b3d23['redirect']('back'),![];const _0x47e2bc=await _0x2e6635['save'](),_0x5cd0b1=new sing_up({'name':_0x3e4e7f,'email':_0x2e7a5f,'password':_0x246003,'role':'staff'}),_0xc8253a=await _0x5cd0b1[_0x3c5fa5(0x1d4)](),_0x4a9ecb=new profile({'firstname':_0x3e4e7f,'email':_0x2e7a5f}),_0x119ffa=await _0x4a9ecb['save']();_0x54c029[_0x3c5fa5(0x1e6)](_0x3c5fa5(0x20d),_0x3e4e7f+_0x3c5fa5(0x1de)),_0x5b3d23[_0x3c5fa5(0x1e4)]('/staff/view');}catch(_0x1a138a){console[_0x3c5fa5(0x205)](_0x1a138a);}}),router[a0_0x24a09f(0x1fd)](a0_0x24a09f(0x211),auth,async(_0x3a4c16,_0x4f3afc)=>{const _0x300079=a0_0x24a09f;try{const _0x4c5ed1=_0x3a4c16['params']['id'],_0x50cd0a=await master_shop[_0x300079(0x1d5)](),_0x452cd7=await staff[_0x300079(0x213)](_0x4c5ed1);if(_0x50cd0a[0x0][_0x300079(0x1dd)]==_0x300079(0x1db)){var _0x4ae80e=users['English'];console['log'](_0x4ae80e);}else{if(_0x50cd0a[0x0]['language']==_0x300079(0x1e2))var _0x4ae80e=users['Hindi'];else{if(_0x50cd0a[0x0]['language']=='German')var _0x4ae80e=users[_0x300079(0x1ef)];else{if(_0x50cd0a[0x0][_0x300079(0x1dd)]==_0x300079(0x204))var _0x4ae80e=users[_0x300079(0x204)];else{if(_0x50cd0a[0x0][_0x300079(0x1dd)]==_0x300079(0x203))var _0x4ae80e=users[_0x300079(0x203)];else{if(_0x50cd0a[0x0][_0x300079(0x1dd)]==_0x300079(0x20f))var _0x4ae80e=users['Portuguese'];else{if(_0x50cd0a[0x0]['language']==_0x300079(0x1f8))var _0x4ae80e=users['Chinese'];else{if(_0x50cd0a[0x0][_0x300079(0x1dd)]=='Arabic\x20(ae)')var _0x4ae80e=users['Arabic'];}}}}}}}let _0x43a629=[_0x300079(0x1e9),_0x300079(0x210)];_0x4f3afc['render']('staff',{'success':_0x3a4c16[_0x300079(0x1e6)](_0x300079(0x20d)),'errors':_0x3a4c16[_0x300079(0x1e6)](_0x300079(0x1da)),'master_shop':_0x50cd0a,'user':_0x452cd7,'language':_0x4ae80e,'warehouse_cat':_0x43a629});}catch(_0x2a3654){console['log'](_0x2a3654);}}),router['post']('/view/:id',auth,async(_0x5aafba,_0x128514)=>{const _0xa43e1e=a0_0x24a09f;try{const _0x4616bc=_0x5aafba[_0xa43e1e(0x1ea)]['id'],_0x3ab3e6=await staff['findById'](_0x4616bc),{name:_0x41f161,email:_0xb6f843,mobile:_0x4e9805,password:_0x17e84c,status:_0x5b1612,warehouse:_0x225e68,position:_0x2fe667,account_edit_cat:_0x2a13fa,sales_cat2:_0x55a2ae,sales_man_code2:_0x5cfc18,district_edit:_0x4936d2}=_0x5aafba[_0xa43e1e(0x20b)];_0x3ab3e6[_0xa43e1e(0x1e7)]=_0x41f161,_0x3ab3e6['email']=_0xb6f843,_0x3ab3e6[_0xa43e1e(0x1f2)]=_0x4e9805,_0x3ab3e6[_0xa43e1e(0x1eb)]=_0x17e84c,_0x3ab3e6[_0xa43e1e(0x1df)]=_0x5b1612,_0x3ab3e6[_0xa43e1e(0x1d9)]=_0x225e68,_0x3ab3e6[_0xa43e1e(0x206)]=_0x2fe667,_0x3ab3e6[_0xa43e1e(0x207)]=_0x2a13fa,_0x3ab3e6[_0xa43e1e(0x209)]=_0x55a2ae,_0x3ab3e6['sales_man_code']=_0x5cfc18,_0x3ab3e6[_0xa43e1e(0x1fc)]=_0x4936d2;const _0x34b76a=await _0x3ab3e6[_0xa43e1e(0x1d4)](),_0xc61d00=await profile[_0xa43e1e(0x1fb)]({'email':_0xb6f843});_0xc61d00[_0xa43e1e(0x1ed)]=_0x41f161,_0xc61d00[_0xa43e1e(0x20a)]=_0xb6f843,await _0xc61d00[_0xa43e1e(0x1d4)](),_0x5aafba[_0xa43e1e(0x1e6)]('success',_0xa43e1e(0x202)),_0x128514[_0xa43e1e(0x1e4)](_0xa43e1e(0x212));}catch(_0x1741c3){console['log'](_0x1741c3),_0x128514[_0xa43e1e(0x1df)](0xc8)['json'](_0x1741c3);}}),module[a0_0x24a09f(0x1e0)]=router;