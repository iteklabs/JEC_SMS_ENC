const a0_0x4bd0f4=a0_0x590e;function a0_0x590e(_0x1cf0ac,_0x3b8114){const _0x934815=a0_0x9348();return a0_0x590e=function(_0x590ebf,_0xe9aa99){_0x590ebf=_0x590ebf-0x117;let _0x3f282b=_0x934815[_0x590ebf];return _0x3f282b;},a0_0x590e(_0x1cf0ac,_0x3b8114);}function a0_0x9348(){const _0x3d8e3e=['errors','8EENEBk','7099875qmGmbD','Enabled','account_category','Chinese','render','findById','French','/view/:id','Raw\x20Materials','891970rraKRL','Finished\x20Goods','1525096aMVpEr','English','Portuguese\x20(BR)','mobile','German','user','status','sales_man_code','7238oixeEd','236SWoMms','15260ReEbvz','3hpbURI','password','flash','language','/view','/staff/view','find','3997SoFDag','params','Arabic','Arabic\x20(ae)','log','master','findOne','type_of_acc_cat','email','3847476eIgGKC','get','$name','hash','staff','warehouse','back','express','redirect','district','firstname','Hindi','json','save','exports','body','position','../middleware/auth','post','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Spanish','../public/language/languages.json','bcryptjs','success','1902663jdHOtg'];a0_0x9348=function(){return _0x3d8e3e;};return a0_0x9348();}(function(_0x2837ed,_0x442941){const _0xec64ab=a0_0x590e,_0x33cec7=_0x2837ed();while(!![]){try{const _0x15872c=parseInt(_0xec64ab(0x140))/0x1*(-parseInt(_0xec64ab(0x137))/0x2)+-parseInt(_0xec64ab(0x139))/0x3*(-parseInt(_0xec64ab(0x12e))/0x4)+-parseInt(_0xec64ab(0x12c))/0x5+parseInt(_0xec64ab(0x149))/0x6+parseInt(_0xec64ab(0x120))/0x7*(parseInt(_0xec64ab(0x122))/0x8)+parseInt(_0xec64ab(0x123))/0x9+parseInt(_0xec64ab(0x138))/0xa*(-parseInt(_0xec64ab(0x136))/0xb);if(_0x15872c===_0x442941)break;else _0x33cec7['push'](_0x33cec7['shift']());}catch(_0x46fec2){_0x33cec7['push'](_0x33cec7['shift']());}}}(a0_0x9348,0x68c00));const express=require(a0_0x4bd0f4(0x150)),app=express(),router=express['Router'](),bcrypt=require(a0_0x4bd0f4(0x11e)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require(a0_0x4bd0f4(0x119)),users=require(a0_0x4bd0f4(0x11d));router[a0_0x4bd0f4(0x14a)](a0_0x4bd0f4(0x13d),auth,async(_0x3c2f0d,_0x5ec14b)=>{const _0x386792=a0_0x4bd0f4;try{const {username:_0x4f3203,email:_0x1ca0ad,role:_0x8d212b}=_0x3c2f0d[_0x386792(0x133)],_0x20fcc3=_0x3c2f0d['user'],_0x335662=await profile['findOne']({'email':_0x20fcc3[_0x386792(0x148)]}),_0x48fad8=await master_shop['find']();console[_0x386792(0x144)](_0x386792(0x145),_0x48fad8),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x386792(0x124)}},{'$group':{'_id':_0x386792(0x14b),'name':{'$first':_0x386792(0x14b)}}}]);const _0xd17826=await staff[_0x386792(0x13f)]();console[_0x386792(0x144)](_0xd17826);if(_0x48fad8[0x0][_0x386792(0x13c)]=='English\x20(US)'){var _0x52474f=users[_0x386792(0x12f)];console[_0x386792(0x144)](_0x52474f);}else{if(_0x48fad8[0x0]['language']=='Hindi')var _0x52474f=users['Hindi'];else{if(_0x48fad8[0x0][_0x386792(0x13c)]==_0x386792(0x132))var _0x52474f=users[_0x386792(0x132)];else{if(_0x48fad8[0x0][_0x386792(0x13c)]==_0x386792(0x11c))var _0x52474f=users[_0x386792(0x11c)];else{if(_0x48fad8[0x0]['language']==_0x386792(0x129))var _0x52474f=users['French'];else{if(_0x48fad8[0x0][_0x386792(0x13c)]=='Portuguese\x20(BR)')var _0x52474f=users['Portuguese'];else{if(_0x48fad8[0x0][_0x386792(0x13c)]==_0x386792(0x126))var _0x52474f=users[_0x386792(0x126)];else{if(_0x48fad8[0x0][_0x386792(0x13c)]==_0x386792(0x143))var _0x52474f=users[_0x386792(0x142)];}}}}}}}let _0x156c12=['Raw\x20Materials',_0x386792(0x12d)];_0x5ec14b[_0x386792(0x127)](_0x386792(0x14d),{'success':_0x3c2f0d['flash'](_0x386792(0x11f)),'errors':_0x3c2f0d[_0x386792(0x13b)](_0x386792(0x121)),'role':_0x20fcc3,'profile':_0x335662,'master_shop':_0x48fad8,'user':_0xd17826,'language':_0x52474f,'warehouse':warehouse_data,'warehouse_cat':_0x156c12});}catch(_0x3ef089){console[_0x386792(0x144)](_0x3ef089);}}),router[a0_0x4bd0f4(0x11a)](a0_0x4bd0f4(0x13d),auth,async(_0x5bd8d3,_0x36e368)=>{const _0x58f66f=a0_0x4bd0f4;try{const {name:_0x3f2cb8,email:_0x545570,mobile:_0x56ccdb,password:_0x116f4f,status:_0xe083cc,warehouse:_0x2ab866,position:_0x3f5563,warehouse_cat:_0x4d3094,account_cat:_0x117fa2,sales_cat:_0x664da2,sales_man_code:_0x338f23,district:_0x47f92f}=_0x5bd8d3['body'],_0x310c04=await bcrypt[_0x58f66f(0x14c)](_0x116f4f,0xa),_0x28efc9=new staff({'name':_0x3f2cb8,'email':_0x545570,'mobile':_0x56ccdb,'status':_0xe083cc,'warehouse':_0x2ab866,'position':_0x3f5563,'account_category':_0x117fa2,'type_of_acc_cat':_0x664da2,'sales_man_code':_0x338f23,'district':_0x47f92f}),_0x10e823=await staff['findOne']({'email':_0x545570});if(_0x10e823)return _0x5bd8d3['flash'](_0x58f66f(0x121),'Email\x20'+_0x545570+_0x58f66f(0x11b)),_0x36e368['redirect'](_0x58f66f(0x14f)),![];const _0xfd4153=await _0x28efc9[_0x58f66f(0x156)](),_0x17325c=new sing_up({'name':_0x3f2cb8,'email':_0x545570,'password':_0x310c04,'role':_0x58f66f(0x14d)}),_0x593041=await _0x17325c[_0x58f66f(0x156)](),_0x50da08=new profile({'firstname':_0x3f2cb8,'email':_0x545570}),_0x2f0805=await _0x50da08['save']();_0x5bd8d3['flash']('success',_0x3f2cb8+'\x20is\x20add\x20successfully'),_0x36e368[_0x58f66f(0x151)]('/staff/view');}catch(_0x1b857d){console[_0x58f66f(0x144)](_0x1b857d);}}),router[a0_0x4bd0f4(0x14a)](a0_0x4bd0f4(0x12a),auth,async(_0x2df3c3,_0x230869)=>{const _0x3b2735=a0_0x4bd0f4;try{const _0x5506a7=_0x2df3c3[_0x3b2735(0x141)]['id'],_0x2b70f1=await master_shop[_0x3b2735(0x13f)](),_0x3ffc30=await staff[_0x3b2735(0x128)](_0x5506a7);if(_0x2b70f1[0x0]['language']=='English\x20(US)'){var _0xce948=users[_0x3b2735(0x12f)];console[_0x3b2735(0x144)](_0xce948);}else{if(_0x2b70f1[0x0][_0x3b2735(0x13c)]==_0x3b2735(0x154))var _0xce948=users[_0x3b2735(0x154)];else{if(_0x2b70f1[0x0][_0x3b2735(0x13c)]==_0x3b2735(0x132))var _0xce948=users['German'];else{if(_0x2b70f1[0x0]['language']==_0x3b2735(0x11c))var _0xce948=users[_0x3b2735(0x11c)];else{if(_0x2b70f1[0x0][_0x3b2735(0x13c)]==_0x3b2735(0x129))var _0xce948=users[_0x3b2735(0x129)];else{if(_0x2b70f1[0x0][_0x3b2735(0x13c)]==_0x3b2735(0x130))var _0xce948=users['Portuguese'];else{if(_0x2b70f1[0x0][_0x3b2735(0x13c)]=='Chinese')var _0xce948=users[_0x3b2735(0x126)];else{if(_0x2b70f1[0x0][_0x3b2735(0x13c)]=='Arabic\x20(ae)')var _0xce948=users[_0x3b2735(0x142)];}}}}}}}let _0x5c31c0=[_0x3b2735(0x12b),_0x3b2735(0x12d)];_0x230869[_0x3b2735(0x127)]('staff',{'success':_0x2df3c3[_0x3b2735(0x13b)](_0x3b2735(0x11f)),'errors':_0x2df3c3['flash'](_0x3b2735(0x121)),'master_shop':_0x2b70f1,'user':_0x3ffc30,'language':_0xce948,'warehouse_cat':_0x5c31c0});}catch(_0x51189d){console[_0x3b2735(0x144)](_0x51189d);}}),router[a0_0x4bd0f4(0x11a)](a0_0x4bd0f4(0x12a),auth,async(_0x595ecd,_0x3e0d22)=>{const _0x300d8a=a0_0x4bd0f4;try{const _0x4eef1e=_0x595ecd['params']['id'],_0x5a9278=await staff['findById'](_0x4eef1e),{name:_0xbd10d0,email:_0x5631ad,mobile:_0x5b80b5,password:_0x1e5e54,status:_0x43f3d2,warehouse:_0x250941,position:_0x5836f1,account_edit_cat:_0x1372c2,sales_cat2:_0x27c30e,sales_man_code2:_0x45639c,district_edit:_0x4eb6cb}=_0x595ecd[_0x300d8a(0x117)];_0x5a9278['name']=_0xbd10d0,_0x5a9278[_0x300d8a(0x148)]=_0x5631ad,_0x5a9278[_0x300d8a(0x131)]=_0x5b80b5,_0x5a9278[_0x300d8a(0x13a)]=_0x1e5e54,_0x5a9278[_0x300d8a(0x134)]=_0x43f3d2,_0x5a9278[_0x300d8a(0x14e)]=_0x250941,_0x5a9278[_0x300d8a(0x118)]=_0x5836f1,_0x5a9278[_0x300d8a(0x125)]=_0x1372c2,_0x5a9278[_0x300d8a(0x147)]=_0x27c30e,_0x5a9278[_0x300d8a(0x135)]=_0x45639c,_0x5a9278[_0x300d8a(0x152)]=_0x4eb6cb;const _0x124e88=await _0x5a9278[_0x300d8a(0x156)](),_0x3f84e4=await profile[_0x300d8a(0x146)]({'email':_0x5631ad});_0x3f84e4[_0x300d8a(0x153)]=_0xbd10d0,_0x3f84e4[_0x300d8a(0x148)]=_0x5631ad,await _0x3f84e4[_0x300d8a(0x156)](),_0x595ecd[_0x300d8a(0x13b)]('success','staff\x20data\x20update\x20successfully'),_0x3e0d22[_0x300d8a(0x151)](_0x300d8a(0x13e));}catch(_0x21da9d){console['log'](_0x21da9d),_0x3e0d22[_0x300d8a(0x134)](0xc8)[_0x300d8a(0x155)](_0x21da9d);}}),module[a0_0x4bd0f4(0x157)]=router;