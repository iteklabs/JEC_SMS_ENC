const a0_0x4f5b23=a0_0x1d61;function a0_0x1d61(_0x30897e,_0x44c5e6){const _0x44571d=a0_0x4457();return a0_0x1d61=function(_0x1d614a,_0x324d7e){_0x1d614a=_0x1d614a-0x1a6;let _0x20c0c5=_0x44571d[_0x1d614a];return _0x20c0c5;},a0_0x1d61(_0x30897e,_0x44c5e6);}(function(_0x86d51f,_0x565c03){const _0x599de9=a0_0x1d61,_0x4c3291=_0x86d51f();while(!![]){try{const _0x2fa380=-parseInt(_0x599de9(0x1e8))/0x1+-parseInt(_0x599de9(0x1c3))/0x2*(-parseInt(_0x599de9(0x1ac))/0x3)+-parseInt(_0x599de9(0x1e0))/0x4*(parseInt(_0x599de9(0x1bb))/0x5)+parseInt(_0x599de9(0x1b4))/0x6*(-parseInt(_0x599de9(0x1df))/0x7)+-parseInt(_0x599de9(0x1ea))/0x8+-parseInt(_0x599de9(0x1ab))/0x9*(-parseInt(_0x599de9(0x1d5))/0xa)+parseInt(_0x599de9(0x1de))/0xb;if(_0x2fa380===_0x565c03)break;else _0x4c3291['push'](_0x4c3291['shift']());}catch(_0x410455){_0x4c3291['push'](_0x4c3291['shift']());}}}(a0_0x4457,0x4c1a8));const express=require('express'),app=express(),router=express[a0_0x4f5b23(0x1a6)](),bcrypt=require(a0_0x4f5b23(0x1b2)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x4f5b23(0x1db)),auth=require(a0_0x4f5b23(0x1b7)),users=require(a0_0x4f5b23(0x1d6));router['get'](a0_0x4f5b23(0x1dd),auth,async(_0x400470,_0x2a6a60)=>{const _0x282c0b=a0_0x4f5b23;try{const {username:_0x5d3498,email:_0x12b22e,role:_0xfbe6bf}=_0x400470['user'],_0x102742=_0x400470[_0x282c0b(0x1cf)],_0x7faee=await profile[_0x282c0b(0x1b8)]({'email':_0x102742['email']}),_0x379a4e=await master_shop[_0x282c0b(0x1a8)]();console[_0x282c0b(0x1d0)](_0x282c0b(0x1c7),_0x379a4e),warehouse_data=await warehouse[_0x282c0b(0x1bc)]([{'$match':{'status':_0x282c0b(0x1e1)}},{'$group':{'_id':_0x282c0b(0x1dc),'name':{'$first':_0x282c0b(0x1dc)}}}]);const _0x4a5c30=await staff['find']();console['log'](_0x4a5c30);if(_0x379a4e[0x0][_0x282c0b(0x1be)]==_0x282c0b(0x1d1)){var _0xd5dd5c=users[_0x282c0b(0x1af)];console[_0x282c0b(0x1d0)](_0xd5dd5c);}else{if(_0x379a4e[0x0][_0x282c0b(0x1be)]==_0x282c0b(0x1c6))var _0xd5dd5c=users[_0x282c0b(0x1c6)];else{if(_0x379a4e[0x0]['language']=='German')var _0xd5dd5c=users[_0x282c0b(0x1d8)];else{if(_0x379a4e[0x0][_0x282c0b(0x1be)]==_0x282c0b(0x1eb))var _0xd5dd5c=users[_0x282c0b(0x1eb)];else{if(_0x379a4e[0x0][_0x282c0b(0x1be)]==_0x282c0b(0x1e5))var _0xd5dd5c=users[_0x282c0b(0x1e5)];else{if(_0x379a4e[0x0]['language']==_0x282c0b(0x1ca))var _0xd5dd5c=users[_0x282c0b(0x1c5)];else{if(_0x379a4e[0x0][_0x282c0b(0x1be)]==_0x282c0b(0x1c1))var _0xd5dd5c=users[_0x282c0b(0x1c1)];else{if(_0x379a4e[0x0][_0x282c0b(0x1be)]==_0x282c0b(0x1c9))var _0xd5dd5c=users[_0x282c0b(0x1ce)];}}}}}}}let _0x4e063b=['Raw\x20Materials',_0x282c0b(0x1ad)];_0x2a6a60['render'](_0x282c0b(0x1e4),{'success':_0x400470[_0x282c0b(0x1e7)](_0x282c0b(0x1c4)),'errors':_0x400470[_0x282c0b(0x1e7)](_0x282c0b(0x1d9)),'role':_0x102742,'profile':_0x7faee,'master_shop':_0x379a4e,'user':_0x4a5c30,'language':_0xd5dd5c,'warehouse':warehouse_data,'warehouse_cat':_0x4e063b});}catch(_0x5f132c){console[_0x282c0b(0x1d0)](_0x5f132c);}}),router[a0_0x4f5b23(0x1bd)](a0_0x4f5b23(0x1dd),auth,async(_0x557a01,_0x3f8e34)=>{const _0x407887=a0_0x4f5b23;try{const {name:_0x322cd3,email:_0x3eca67,mobile:_0x3a8561,password:_0xf9473,status:_0x5a3a78,warehouse:_0x2482a9,position:_0x2dc673,warehouse_cat:_0x1075c7,account_cat:_0x104aa3,sales_cat:_0x26e75e,sales_man_code:_0x5b8eb1,district:_0x111f78}=_0x557a01[_0x407887(0x1aa)],_0x1f07ff=await bcrypt['hash'](_0xf9473,0xa),_0x40291c=new staff({'name':_0x322cd3,'email':_0x3eca67,'mobile':_0x3a8561,'status':_0x5a3a78,'warehouse':_0x2482a9,'position':_0x2dc673,'account_category':_0x104aa3,'type_of_acc_cat':_0x26e75e,'sales_man_code':_0x5b8eb1,'district':_0x111f78}),_0x251543=await staff['findOne']({'email':_0x3eca67});if(_0x251543)return _0x557a01[_0x407887(0x1e7)](_0x407887(0x1d9),_0x407887(0x1c2)+_0x3eca67+_0x407887(0x1b3)),_0x3f8e34['redirect']('back'),![];const _0x21ae93=await _0x40291c[_0x407887(0x1d4)](),_0x3d79b4=new sing_up({'name':_0x322cd3,'email':_0x3eca67,'password':_0x1f07ff,'role':'staff'}),_0x2bc108=await _0x3d79b4[_0x407887(0x1d4)](),_0x26c0f0=new profile({'firstname':_0x322cd3,'email':_0x3eca67}),_0x491b59=await _0x26c0f0['save']();_0x557a01[_0x407887(0x1e7)](_0x407887(0x1c4),_0x322cd3+_0x407887(0x1ae)),_0x3f8e34[_0x407887(0x1cc)](_0x407887(0x1cb));}catch(_0x44b459){console[_0x407887(0x1d0)](_0x44b459);}}),router[a0_0x4f5b23(0x1b9)]('/view/:id',auth,async(_0x386b20,_0x174155)=>{const _0x22667d=a0_0x4f5b23;try{const _0xe72e77=_0x386b20['params']['id'],_0x3b727e=await master_shop[_0x22667d(0x1a8)](),_0x4545ff=await staff[_0x22667d(0x1e3)](_0xe72e77);if(_0x3b727e[0x0]['language']==_0x22667d(0x1d1)){var _0x253aa0=users['English'];console[_0x22667d(0x1d0)](_0x253aa0);}else{if(_0x3b727e[0x0]['language']==_0x22667d(0x1c6))var _0x253aa0=users[_0x22667d(0x1c6)];else{if(_0x3b727e[0x0][_0x22667d(0x1be)]==_0x22667d(0x1d8))var _0x253aa0=users[_0x22667d(0x1d8)];else{if(_0x3b727e[0x0][_0x22667d(0x1be)]==_0x22667d(0x1eb))var _0x253aa0=users['Spanish'];else{if(_0x3b727e[0x0][_0x22667d(0x1be)]==_0x22667d(0x1e5))var _0x253aa0=users[_0x22667d(0x1e5)];else{if(_0x3b727e[0x0]['language']=='Portuguese\x20(BR)')var _0x253aa0=users['Portuguese'];else{if(_0x3b727e[0x0]['language']==_0x22667d(0x1c1))var _0x253aa0=users[_0x22667d(0x1c1)];else{if(_0x3b727e[0x0]['language']=='Arabic\x20(ae)')var _0x253aa0=users['Arabic'];}}}}}}}let _0x10ba15=['Raw\x20Materials',_0x22667d(0x1ad)];_0x174155[_0x22667d(0x1d3)]('staff',{'success':_0x386b20[_0x22667d(0x1e7)](_0x22667d(0x1c4)),'errors':_0x386b20['flash']('errors'),'master_shop':_0x3b727e,'user':_0x4545ff,'language':_0x253aa0,'warehouse_cat':_0x10ba15});}catch(_0x1e1a2c){console[_0x22667d(0x1d0)](_0x1e1a2c);}}),router[a0_0x4f5b23(0x1bd)](a0_0x4f5b23(0x1da),auth,async(_0x2de77e,_0x1a1dc4)=>{const _0x375cd2=a0_0x4f5b23;try{const _0x5cf84e=_0x2de77e[_0x375cd2(0x1ba)]['id'],_0x22107e=await staff[_0x375cd2(0x1e3)](_0x5cf84e),{name:_0x15c5fc,email:_0x66b6f6,mobile:_0x306fe7,password:_0x3e95c7,status:_0x52d3f7,warehouse:_0x3e8be5,position:_0x9b2d4c,account_edit_cat:_0x3aa4de,sales_cat2:_0x4a34b5,sales_man_code2:_0x46f260,district_edit:_0x378dc1}=_0x2de77e['body'];_0x22107e[_0x375cd2(0x1e2)]=_0x15c5fc,_0x22107e[_0x375cd2(0x1d7)]=_0x66b6f6,_0x22107e[_0x375cd2(0x1b6)]=_0x306fe7,_0x22107e[_0x375cd2(0x1a7)]=_0x3e95c7,_0x22107e[_0x375cd2(0x1e9)]=_0x52d3f7,_0x22107e[_0x375cd2(0x1c0)]=_0x3e8be5,_0x22107e[_0x375cd2(0x1b0)]=_0x9b2d4c,_0x22107e[_0x375cd2(0x1c8)]=_0x3aa4de,_0x22107e[_0x375cd2(0x1b1)]=_0x4a34b5,_0x22107e[_0x375cd2(0x1d2)]=_0x46f260,_0x22107e[_0x375cd2(0x1cd)]=_0x378dc1;const _0x2c8492=await _0x22107e['save'](),_0x18c23b=await profile['findOne']({'email':_0x66b6f6});_0x18c23b[_0x375cd2(0x1a9)]=_0x15c5fc,_0x18c23b['email']=_0x66b6f6,await _0x18c23b[_0x375cd2(0x1d4)](),_0x2de77e[_0x375cd2(0x1e7)]('success',_0x375cd2(0x1bf)),_0x1a1dc4[_0x375cd2(0x1cc)](_0x375cd2(0x1cb));}catch(_0x3f2612){console[_0x375cd2(0x1d0)](_0x3f2612),_0x1a1dc4[_0x375cd2(0x1e9)](0xc8)[_0x375cd2(0x1e6)](_0x3f2612);}}),module[a0_0x4f5b23(0x1b5)]=router;function a0_0x4457(){const _0x2f7f1c=['sales_man_code','render','save','47260CCxwze','../public/language/languages.json','email','German','errors','/view/:id','../models/all_models','$name','/view','11651123VZhwnO','1477952NKFRbl','2032umPMnf','Enabled','name','findById','staff','French','json','flash','394625Uzoxid','status','3861928ZVzkeZ','Spanish','Router','password','find','firstname','body','927CqtWRi','54477HmoinO','Finished\x20Goods','\x20is\x20add\x20successfully','English','position','type_of_acc_cat','bcryptjs','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','12hnVCQC','exports','mobile','../middleware/auth','findOne','get','params','965WqlxeY','aggregate','post','language','staff\x20data\x20update\x20successfully','warehouse','Chinese','Email\x20','18avDhdD','success','Portuguese','Hindi','master','account_category','Arabic\x20(ae)','Portuguese\x20(BR)','/staff/view','redirect','district','Arabic','user','log','English\x20(US)'];a0_0x4457=function(){return _0x2f7f1c;};return a0_0x4457();}