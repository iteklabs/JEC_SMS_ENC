const a0_0x50bd14=a0_0x3355;(function(_0x3c2679,_0x45a8fb){const _0x21f0d6=a0_0x3355,_0x57bcca=_0x3c2679();while(!![]){try{const _0x2aa8d5=-parseInt(_0x21f0d6(0x1b8))/0x1+parseInt(_0x21f0d6(0x1aa))/0x2*(parseInt(_0x21f0d6(0x1b4))/0x3)+parseInt(_0x21f0d6(0x1a8))/0x4+-parseInt(_0x21f0d6(0x18f))/0x5+parseInt(_0x21f0d6(0x1af))/0x6*(-parseInt(_0x21f0d6(0x1ae))/0x7)+parseInt(_0x21f0d6(0x1b7))/0x8+-parseInt(_0x21f0d6(0x17a))/0x9*(parseInt(_0x21f0d6(0x18a))/0xa);if(_0x2aa8d5===_0x45a8fb)break;else _0x57bcca['push'](_0x57bcca['shift']());}catch(_0x59a112){_0x57bcca['push'](_0x57bcca['shift']());}}}(a0_0x5041,0x3f82f));const express=require(a0_0x50bd14(0x1ac)),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x50bd14(0x197)),auth=require('../middleware/auth'),users=require(a0_0x50bd14(0x17d));function a0_0x3355(_0x181056,_0xa60c36){const _0x50418d=a0_0x5041();return a0_0x3355=function(_0x33559b,_0x1c5537){_0x33559b=_0x33559b-0x17a;let _0x6a9264=_0x50418d[_0x33559b];return _0x6a9264;},a0_0x3355(_0x181056,_0xa60c36);}function a0_0x5041(){const _0x32086e=['warehouse','render','findById','master','384980iewmjl','Enabled','status','email','mobile','164820kgIIXw','log','/staff/view','get','position','Spanish','Arabic\x20(ae)','sales_man_code','../models/all_models','staff','Finished\x20Goods','Email\x20','save','success','user','json','/view','post','exports','errors','staff\x20data\x20update\x20successfully','Portuguese','district','find','account_category','1685124pWVFdc','Arabic','2YtlnKD','aggregate','express','$name','49lJKiwk','298338UZWNSu','French','Portuguese\x20(BR)','English\x20(US)','Hindi','389817aRYXEP','type_of_acc_cat','English','3572688dRCcxn','318140UlaPNK','9wZynzX','flash','findOne','../public/language/languages.json','password','German','Chinese','/view/:id','Raw\x20Materials','language','redirect','hash'];a0_0x5041=function(){return _0x32086e;};return a0_0x5041();}router[a0_0x50bd14(0x192)](a0_0x50bd14(0x19f),auth,async(_0x4800aa,_0x237cb4)=>{const _0x2e6860=a0_0x50bd14;try{const {username:_0x187bf5,email:_0x695361,role:_0xd6403c}=_0x4800aa['user'],_0x363dca=_0x4800aa[_0x2e6860(0x19d)],_0x118f58=await profile[_0x2e6860(0x17c)]({'email':_0x363dca[_0x2e6860(0x18d)]}),_0x59b564=await master_shop[_0x2e6860(0x1a6)]();console['log'](_0x2e6860(0x189),_0x59b564),warehouse_data=await warehouse[_0x2e6860(0x1ab)]([{'$match':{'status':_0x2e6860(0x18b)}},{'$group':{'_id':_0x2e6860(0x1ad),'name':{'$first':'$name'}}}]);const _0x26e4ed=await staff['find']();console[_0x2e6860(0x190)](_0x26e4ed);if(_0x59b564[0x0]['language']=='English\x20(US)'){var _0x1471b5=users['English'];console[_0x2e6860(0x190)](_0x1471b5);}else{if(_0x59b564[0x0]['language']=='Hindi')var _0x1471b5=users[_0x2e6860(0x1b3)];else{if(_0x59b564[0x0][_0x2e6860(0x183)]==_0x2e6860(0x17f))var _0x1471b5=users[_0x2e6860(0x17f)];else{if(_0x59b564[0x0][_0x2e6860(0x183)]==_0x2e6860(0x194))var _0x1471b5=users[_0x2e6860(0x194)];else{if(_0x59b564[0x0]['language']==_0x2e6860(0x1b0))var _0x1471b5=users[_0x2e6860(0x1b0)];else{if(_0x59b564[0x0][_0x2e6860(0x183)]=='Portuguese\x20(BR)')var _0x1471b5=users[_0x2e6860(0x1a4)];else{if(_0x59b564[0x0][_0x2e6860(0x183)]=='Chinese')var _0x1471b5=users[_0x2e6860(0x180)];else{if(_0x59b564[0x0][_0x2e6860(0x183)]=='Arabic\x20(ae)')var _0x1471b5=users[_0x2e6860(0x1a9)];}}}}}}}let _0x237e60=[_0x2e6860(0x182),_0x2e6860(0x199)];_0x237cb4[_0x2e6860(0x187)]('staff',{'success':_0x4800aa[_0x2e6860(0x17b)](_0x2e6860(0x19c)),'errors':_0x4800aa[_0x2e6860(0x17b)](_0x2e6860(0x1a2)),'role':_0x363dca,'profile':_0x118f58,'master_shop':_0x59b564,'user':_0x26e4ed,'language':_0x1471b5,'warehouse':warehouse_data,'warehouse_cat':_0x237e60});}catch(_0x4d70b2){console[_0x2e6860(0x190)](_0x4d70b2);}}),router[a0_0x50bd14(0x1a0)](a0_0x50bd14(0x19f),auth,async(_0x214719,_0x305af3)=>{const _0xcdd338=a0_0x50bd14;try{const {name:_0xa06877,email:_0xd03b52,mobile:_0x2ef149,password:_0x464d4c,status:_0x4878d3,warehouse:_0x3ed6b2,position:_0xd0913d,warehouse_cat:_0x109772,account_cat:_0x1e0c0d,sales_cat:_0x166d47,sales_man_code:_0x53a1da,district:_0xdcb27f}=_0x214719['body'],_0xea493e=await bcrypt[_0xcdd338(0x185)](_0x464d4c,0xa),_0x582958=new staff({'name':_0xa06877,'email':_0xd03b52,'mobile':_0x2ef149,'status':_0x4878d3,'warehouse':_0x3ed6b2,'position':_0xd0913d,'account_category':_0x1e0c0d,'type_of_acc_cat':_0x166d47,'sales_man_code':_0x53a1da,'district':_0xdcb27f}),_0x335a2b=await staff['findOne']({'email':_0xd03b52});if(_0x335a2b)return _0x214719[_0xcdd338(0x17b)]('errors',_0xcdd338(0x19a)+_0xd03b52+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x305af3[_0xcdd338(0x184)]('back'),![];const _0x3d3c0c=await _0x582958['save'](),_0x4fb12a=new sing_up({'name':_0xa06877,'email':_0xd03b52,'password':_0xea493e,'role':_0xcdd338(0x198)}),_0x2a3164=await _0x4fb12a[_0xcdd338(0x19b)](),_0x41a95e=new profile({'firstname':_0xa06877,'email':_0xd03b52}),_0x526f67=await _0x41a95e[_0xcdd338(0x19b)]();_0x214719[_0xcdd338(0x17b)](_0xcdd338(0x19c),_0xa06877+'\x20is\x20add\x20successfully'),_0x305af3[_0xcdd338(0x184)]('/staff/view');}catch(_0x419da3){console[_0xcdd338(0x190)](_0x419da3);}}),router[a0_0x50bd14(0x192)](a0_0x50bd14(0x181),auth,async(_0x4ab67b,_0x42d1b5)=>{const _0x1952c9=a0_0x50bd14;try{const _0x40b26d=_0x4ab67b['params']['id'],_0x3adbd6=await master_shop[_0x1952c9(0x1a6)](),_0x3e9e5f=await staff[_0x1952c9(0x188)](_0x40b26d);if(_0x3adbd6[0x0][_0x1952c9(0x183)]==_0x1952c9(0x1b2)){var _0x432247=users[_0x1952c9(0x1b6)];console[_0x1952c9(0x190)](_0x432247);}else{if(_0x3adbd6[0x0][_0x1952c9(0x183)]=='Hindi')var _0x432247=users[_0x1952c9(0x1b3)];else{if(_0x3adbd6[0x0][_0x1952c9(0x183)]==_0x1952c9(0x17f))var _0x432247=users[_0x1952c9(0x17f)];else{if(_0x3adbd6[0x0][_0x1952c9(0x183)]==_0x1952c9(0x194))var _0x432247=users[_0x1952c9(0x194)];else{if(_0x3adbd6[0x0]['language']==_0x1952c9(0x1b0))var _0x432247=users[_0x1952c9(0x1b0)];else{if(_0x3adbd6[0x0][_0x1952c9(0x183)]==_0x1952c9(0x1b1))var _0x432247=users['Portuguese'];else{if(_0x3adbd6[0x0][_0x1952c9(0x183)]==_0x1952c9(0x180))var _0x432247=users[_0x1952c9(0x180)];else{if(_0x3adbd6[0x0][_0x1952c9(0x183)]==_0x1952c9(0x195))var _0x432247=users[_0x1952c9(0x1a9)];}}}}}}}let _0x182951=['Raw\x20Materials','Finished\x20Goods'];_0x42d1b5[_0x1952c9(0x187)]('staff',{'success':_0x4ab67b[_0x1952c9(0x17b)](_0x1952c9(0x19c)),'errors':_0x4ab67b[_0x1952c9(0x17b)](_0x1952c9(0x1a2)),'master_shop':_0x3adbd6,'user':_0x3e9e5f,'language':_0x432247,'warehouse_cat':_0x182951});}catch(_0x9a3b3a){console[_0x1952c9(0x190)](_0x9a3b3a);}}),router[a0_0x50bd14(0x1a0)](a0_0x50bd14(0x181),auth,async(_0x13dcf,_0x557fc3)=>{const _0x5d1174=a0_0x50bd14;try{const _0x35f335=_0x13dcf['params']['id'],_0xde277c=await staff[_0x5d1174(0x188)](_0x35f335),{name:_0x10f3d9,email:_0x5ce2cf,mobile:_0x1f7e8b,password:_0xcc2bbb,status:_0x37a999,warehouse:_0x260a5e,position:_0x4bc4d8,account_edit_cat:_0xeddb68,sales_cat2:_0x13c971,sales_man_code2:_0x1251b4,district_edit:_0x5c5919}=_0x13dcf['body'];_0xde277c['name']=_0x10f3d9,_0xde277c[_0x5d1174(0x18d)]=_0x5ce2cf,_0xde277c[_0x5d1174(0x18e)]=_0x1f7e8b,_0xde277c[_0x5d1174(0x17e)]=_0xcc2bbb,_0xde277c[_0x5d1174(0x18c)]=_0x37a999,_0xde277c[_0x5d1174(0x186)]=_0x260a5e,_0xde277c[_0x5d1174(0x193)]=_0x4bc4d8,_0xde277c[_0x5d1174(0x1a7)]=_0xeddb68,_0xde277c[_0x5d1174(0x1b5)]=_0x13c971,_0xde277c[_0x5d1174(0x196)]=_0x1251b4,_0xde277c[_0x5d1174(0x1a5)]=_0x5c5919;const _0x31b6a8=await _0xde277c[_0x5d1174(0x19b)](),_0x30fd61=await profile[_0x5d1174(0x17c)]({'email':_0x5ce2cf});_0x30fd61['firstname']=_0x10f3d9,_0x30fd61[_0x5d1174(0x18d)]=_0x5ce2cf,await _0x30fd61['save'](),_0x13dcf[_0x5d1174(0x17b)](_0x5d1174(0x19c),_0x5d1174(0x1a3)),_0x557fc3[_0x5d1174(0x184)](_0x5d1174(0x191));}catch(_0x27cbb7){console[_0x5d1174(0x190)](_0x27cbb7),_0x557fc3[_0x5d1174(0x18c)](0xc8)[_0x5d1174(0x19e)](_0x27cbb7);}}),module[a0_0x50bd14(0x1a1)]=router;