const a0_0x1915d1=a0_0x29e2;function a0_0x29e2(_0x5440bc,_0x27ecb8){const _0xf84145=a0_0xf841();return a0_0x29e2=function(_0x29e21c,_0x12a150){_0x29e21c=_0x29e21c-0x1e0;let _0xf37a9b=_0xf84145[_0x29e21c];return _0xf37a9b;},a0_0x29e2(_0x5440bc,_0x27ecb8);}function a0_0xf841(){const _0x32cb15=['errors','save','English','params','hash','warehouse','Finished\x20Goods','/staff/view','Email\x20','firstname','48130XmwhqL','/view/:id','1998213KYiSPQ','post','bcryptjs','48aFQdKE','2432LVyKFv','Portuguese\x20(BR)','Router','back','render','redirect','findById','24iFTLGK','36SQonYs','user','362895BCmwqH','findOne','district','\x20is\x20add\x20successfully','aggregate','Portuguese','get','Spanish','1422jeDggC','body','Hindi','staff\x20data\x20update\x20successfully','5001lpdQFc','position','English\x20(US)','German','Chinese','Arabic\x20(ae)','status','find','master','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/view','../models/all_models','7798549vWEBLT','$name','flash','staff','account_category','success','exports','174pemaIP','../middleware/auth','1989962lEexJR','Raw\x20Materials','language','email','express','French','11282mXKCeG','log'];a0_0xf841=function(){return _0x32cb15;};return a0_0xf841();}(function(_0x2131b9,_0x322b06){const _0x416fef=a0_0x29e2,_0x8ec9c5=_0x2131b9();while(!![]){try{const _0xcf999a=parseInt(_0x416fef(0x21f))/0x1*(-parseInt(_0x416fef(0x1e4))/0x2)+parseInt(_0x416fef(0x20c))/0x3*(parseInt(_0x416fef(0x1f6))/0x4)+-parseInt(_0x416fef(0x200))/0x5*(parseInt(_0x416fef(0x1f5))/0x6)+parseInt(_0x416fef(0x1f2))/0x7*(-parseInt(_0x416fef(0x1fd))/0x8)+parseInt(_0x416fef(0x208))/0x9*(parseInt(_0x416fef(0x1f0))/0xa)+parseInt(_0x416fef(0x218))/0xb+-parseInt(_0x416fef(0x1fe))/0xc*(-parseInt(_0x416fef(0x221))/0xd);if(_0xcf999a===_0x322b06)break;else _0x8ec9c5['push'](_0x8ec9c5['shift']());}catch(_0x305a37){_0x8ec9c5['push'](_0x8ec9c5['shift']());}}}(a0_0xf841,0x7fd6c));const express=require(a0_0x1915d1(0x1e2)),app=express(),router=express[a0_0x1915d1(0x1f8)](),bcrypt=require(a0_0x1915d1(0x1f4)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x1915d1(0x217)),auth=require(a0_0x1915d1(0x220)),users=require('../public/language/languages.json');router[a0_0x1915d1(0x206)](a0_0x1915d1(0x216),auth,async(_0x1ce688,_0x6df81c)=>{const _0x433dd6=a0_0x1915d1;try{const {username:_0x6e3a8f,email:_0x3909b6,role:_0x4143a3}=_0x1ce688[_0x433dd6(0x1ff)],_0x4254f0=_0x1ce688['user'],_0x5ce517=await profile[_0x433dd6(0x201)]({'email':_0x4254f0['email']}),_0x558f88=await master_shop['find']();console[_0x433dd6(0x1e5)](_0x433dd6(0x214),_0x558f88),warehouse_data=await warehouse[_0x433dd6(0x204)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':'$name','name':{'$first':_0x433dd6(0x219)}}}]);const _0x4cf972=await staff['find']();console[_0x433dd6(0x1e5)](_0x4cf972);if(_0x558f88[0x0]['language']=='English\x20(US)'){var _0x3ae836=users[_0x433dd6(0x1e8)];console[_0x433dd6(0x1e5)](_0x3ae836);}else{if(_0x558f88[0x0]['language']==_0x433dd6(0x20a))var _0x3ae836=users[_0x433dd6(0x20a)];else{if(_0x558f88[0x0][_0x433dd6(0x1e0)]==_0x433dd6(0x20f))var _0x3ae836=users[_0x433dd6(0x20f)];else{if(_0x558f88[0x0][_0x433dd6(0x1e0)]==_0x433dd6(0x207))var _0x3ae836=users['Spanish'];else{if(_0x558f88[0x0]['language']=='French')var _0x3ae836=users[_0x433dd6(0x1e3)];else{if(_0x558f88[0x0][_0x433dd6(0x1e0)]=='Portuguese\x20(BR)')var _0x3ae836=users[_0x433dd6(0x205)];else{if(_0x558f88[0x0][_0x433dd6(0x1e0)]=='Chinese')var _0x3ae836=users[_0x433dd6(0x210)];else{if(_0x558f88[0x0][_0x433dd6(0x1e0)]==_0x433dd6(0x211))var _0x3ae836=users['Arabic'];}}}}}}}let _0x3a6498=[_0x433dd6(0x222),_0x433dd6(0x1ec)];_0x6df81c['render']('staff',{'success':_0x1ce688[_0x433dd6(0x21a)]('success'),'errors':_0x1ce688[_0x433dd6(0x21a)](_0x433dd6(0x1e6)),'role':_0x4254f0,'profile':_0x5ce517,'master_shop':_0x558f88,'user':_0x4cf972,'language':_0x3ae836,'warehouse':warehouse_data,'warehouse_cat':_0x3a6498});}catch(_0x51fea9){console[_0x433dd6(0x1e5)](_0x51fea9);}}),router['post'](a0_0x1915d1(0x216),auth,async(_0x1c0ce9,_0xe5802e)=>{const _0x13b0d1=a0_0x1915d1;try{const {name:_0x5acd7c,email:_0x3d96d7,mobile:_0x8a8e52,password:_0x441b39,status:_0x31544b,warehouse:_0xe7bae6,position:_0x214aba,warehouse_cat:_0x2b737c,account_cat:_0xbc3d49,sales_cat:_0x472934,sales_man_code:_0x10bf23,district:_0x504bfd}=_0x1c0ce9[_0x13b0d1(0x209)],_0x18f216=await bcrypt[_0x13b0d1(0x1ea)](_0x441b39,0xa),_0x578b79=new staff({'name':_0x5acd7c,'email':_0x3d96d7,'mobile':_0x8a8e52,'status':_0x31544b,'warehouse':_0xe7bae6,'position':_0x214aba,'account_category':_0xbc3d49,'type_of_acc_cat':_0x472934,'sales_man_code':_0x10bf23,'district':_0x504bfd}),_0x165a63=await staff[_0x13b0d1(0x201)]({'email':_0x3d96d7});if(_0x165a63)return _0x1c0ce9[_0x13b0d1(0x21a)](_0x13b0d1(0x1e6),_0x13b0d1(0x1ee)+_0x3d96d7+_0x13b0d1(0x215)),_0xe5802e[_0x13b0d1(0x1fb)](_0x13b0d1(0x1f9)),![];const _0xca2caf=await _0x578b79[_0x13b0d1(0x1e7)](),_0x5d6733=new sing_up({'name':_0x5acd7c,'email':_0x3d96d7,'password':_0x18f216,'role':_0x13b0d1(0x21b)}),_0x1f787d=await _0x5d6733[_0x13b0d1(0x1e7)](),_0x4b079b=new profile({'firstname':_0x5acd7c,'email':_0x3d96d7}),_0x3a5d8b=await _0x4b079b[_0x13b0d1(0x1e7)]();_0x1c0ce9[_0x13b0d1(0x21a)]('success',_0x5acd7c+_0x13b0d1(0x203)),_0xe5802e[_0x13b0d1(0x1fb)](_0x13b0d1(0x1ed));}catch(_0x4c11b2){console[_0x13b0d1(0x1e5)](_0x4c11b2);}}),router[a0_0x1915d1(0x206)](a0_0x1915d1(0x1f1),auth,async(_0x55d942,_0x475305)=>{const _0x372ebf=a0_0x1915d1;try{const _0x283b44=_0x55d942[_0x372ebf(0x1e9)]['id'],_0x27730a=await master_shop[_0x372ebf(0x213)](),_0x1adb88=await staff[_0x372ebf(0x1fc)](_0x283b44);if(_0x27730a[0x0][_0x372ebf(0x1e0)]==_0x372ebf(0x20e)){var _0x26af3e=users[_0x372ebf(0x1e8)];console['log'](_0x26af3e);}else{if(_0x27730a[0x0][_0x372ebf(0x1e0)]==_0x372ebf(0x20a))var _0x26af3e=users['Hindi'];else{if(_0x27730a[0x0][_0x372ebf(0x1e0)]=='German')var _0x26af3e=users[_0x372ebf(0x20f)];else{if(_0x27730a[0x0]['language']==_0x372ebf(0x207))var _0x26af3e=users['Spanish'];else{if(_0x27730a[0x0]['language']==_0x372ebf(0x1e3))var _0x26af3e=users['French'];else{if(_0x27730a[0x0][_0x372ebf(0x1e0)]==_0x372ebf(0x1f7))var _0x26af3e=users[_0x372ebf(0x205)];else{if(_0x27730a[0x0]['language']=='Chinese')var _0x26af3e=users['Chinese'];else{if(_0x27730a[0x0][_0x372ebf(0x1e0)]==_0x372ebf(0x211))var _0x26af3e=users['Arabic'];}}}}}}}let _0x4cfa4d=[_0x372ebf(0x222),_0x372ebf(0x1ec)];_0x475305[_0x372ebf(0x1fa)](_0x372ebf(0x21b),{'success':_0x55d942[_0x372ebf(0x21a)](_0x372ebf(0x21d)),'errors':_0x55d942[_0x372ebf(0x21a)](_0x372ebf(0x1e6)),'master_shop':_0x27730a,'user':_0x1adb88,'language':_0x26af3e,'warehouse_cat':_0x4cfa4d});}catch(_0x1272cf){console['log'](_0x1272cf);}}),router[a0_0x1915d1(0x1f3)](a0_0x1915d1(0x1f1),auth,async(_0x190b66,_0x2d94e7)=>{const _0x467703=a0_0x1915d1;try{const _0x38f7fa=_0x190b66[_0x467703(0x1e9)]['id'],_0x2cadf5=await staff[_0x467703(0x1fc)](_0x38f7fa),{name:_0x1957c3,email:_0x380a47,mobile:_0x41f4f6,password:_0x51f912,status:_0x55be7e,warehouse:_0x27a6ec,position:_0x1e19f3,account_edit_cat:_0xbd562a,sales_cat2:_0x92e0aa,sales_man_code2:_0x2c81e7,district_edit:_0x16f1c2}=_0x190b66[_0x467703(0x209)];_0x2cadf5['name']=_0x1957c3,_0x2cadf5[_0x467703(0x1e1)]=_0x380a47,_0x2cadf5['mobile']=_0x41f4f6,_0x2cadf5['password']=_0x51f912,_0x2cadf5[_0x467703(0x212)]=_0x55be7e,_0x2cadf5[_0x467703(0x1eb)]=_0x27a6ec,_0x2cadf5[_0x467703(0x20d)]=_0x1e19f3,_0x2cadf5[_0x467703(0x21c)]=_0xbd562a,_0x2cadf5['type_of_acc_cat']=_0x92e0aa,_0x2cadf5['sales_man_code']=_0x2c81e7,_0x2cadf5[_0x467703(0x202)]=_0x16f1c2;const _0x2de88b=await _0x2cadf5[_0x467703(0x1e7)](),_0x232402=await profile[_0x467703(0x201)]({'email':_0x380a47});_0x232402[_0x467703(0x1ef)]=_0x1957c3,_0x232402[_0x467703(0x1e1)]=_0x380a47,await _0x232402['save'](),_0x190b66[_0x467703(0x21a)](_0x467703(0x21d),_0x467703(0x20b)),_0x2d94e7[_0x467703(0x1fb)](_0x467703(0x1ed));}catch(_0x7ded40){console[_0x467703(0x1e5)](_0x7ded40),_0x2d94e7[_0x467703(0x212)](0xc8)['json'](_0x7ded40);}}),module[a0_0x1915d1(0x21e)]=router;