const a0_0x3e5393=a0_0x4a54;(function(_0x4f60a3,_0x3a4b9f){const _0x1b3ee3=a0_0x4a54,_0x425abf=_0x4f60a3();while(!![]){try{const _0x2a22d0=parseInt(_0x1b3ee3(0xb8))/0x1+-parseInt(_0x1b3ee3(0xf1))/0x2*(-parseInt(_0x1b3ee3(0xe9))/0x3)+-parseInt(_0x1b3ee3(0xe3))/0x4*(-parseInt(_0x1b3ee3(0xb4))/0x5)+parseInt(_0x1b3ee3(0xba))/0x6*(-parseInt(_0x1b3ee3(0xe2))/0x7)+-parseInt(_0x1b3ee3(0xdc))/0x8*(-parseInt(_0x1b3ee3(0xcc))/0x9)+parseInt(_0x1b3ee3(0xf2))/0xa*(-parseInt(_0x1b3ee3(0xdb))/0xb)+-parseInt(_0x1b3ee3(0xd2))/0xc;if(_0x2a22d0===_0x3a4b9f)break;else _0x425abf['push'](_0x425abf['shift']());}catch(_0x9e6a3d){_0x425abf['push'](_0x425abf['shift']());}}}(a0_0x5d86,0xbda75));function a0_0x4a54(_0x54ad1c,_0x4a74f9){const _0x5d86c6=a0_0x5d86();return a0_0x4a54=function(_0x4a54f4,_0x59d4d7){_0x4a54f4=_0x4a54f4-0xb1;let _0x5cb9c2=_0x5d86c6[_0x4a54f4];return _0x5cb9c2;},a0_0x4a54(_0x54ad1c,_0x4a74f9);}const express=require(a0_0x3e5393(0xd3)),app=express(),router=express[a0_0x3e5393(0xc7)](),bcrypt=require(a0_0x3e5393(0xf0)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x3e5393(0xd7)),auth=require(a0_0x3e5393(0xd4)),users=require(a0_0x3e5393(0xbb));router[a0_0x3e5393(0xce)]('/view',auth,async(_0x306b97,_0x2ec5b9)=>{const _0x40db04=a0_0x3e5393;try{const {username:_0x3497ed,email:_0x1e5a67,role:_0x1423b4}=_0x306b97[_0x40db04(0xe1)],_0x3e6207=_0x306b97['user'],_0x442651=await profile[_0x40db04(0xb5)]({'email':_0x3e6207[_0x40db04(0xf5)]}),_0x4e3afe=await master_shop['find']();console[_0x40db04(0xda)](_0x40db04(0xd1),_0x4e3afe),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x40db04(0xcd)}},{'$group':{'_id':'$name','name':{'$first':_0x40db04(0xde)}}}]);const _0x3d1fcb=await staff[_0x40db04(0xed)]();console[_0x40db04(0xda)](_0x3d1fcb);if(_0x4e3afe[0x0][_0x40db04(0xea)]==_0x40db04(0xf4)){var _0x191091=users['English'];console[_0x40db04(0xda)](_0x191091);}else{if(_0x4e3afe[0x0]['language']==_0x40db04(0xe7))var _0x191091=users[_0x40db04(0xe7)];else{if(_0x4e3afe[0x0][_0x40db04(0xea)]==_0x40db04(0xc9))var _0x191091=users[_0x40db04(0xc9)];else{if(_0x4e3afe[0x0]['language']==_0x40db04(0xbf))var _0x191091=users['Spanish'];else{if(_0x4e3afe[0x0]['language']==_0x40db04(0xe0))var _0x191091=users['French'];else{if(_0x4e3afe[0x0][_0x40db04(0xea)]==_0x40db04(0xe4))var _0x191091=users[_0x40db04(0xbd)];else{if(_0x4e3afe[0x0]['language']==_0x40db04(0xee))var _0x191091=users['Chinese'];else{if(_0x4e3afe[0x0][_0x40db04(0xea)]=='Arabic\x20(ae)')var _0x191091=users[_0x40db04(0xcf)];}}}}}}}let _0x562c7d=['Raw\x20Materials',_0x40db04(0xdd)];_0x2ec5b9[_0x40db04(0xb2)](_0x40db04(0xbe),{'success':_0x306b97[_0x40db04(0xc4)](_0x40db04(0xb7)),'errors':_0x306b97[_0x40db04(0xc4)]('errors'),'role':_0x3e6207,'profile':_0x442651,'master_shop':_0x4e3afe,'user':_0x3d1fcb,'language':_0x191091,'warehouse':warehouse_data,'warehouse_cat':_0x562c7d});}catch(_0x3555c1){console[_0x40db04(0xda)](_0x3555c1);}}),router['post']('/view',auth,async(_0x10e3f4,_0x480263)=>{const _0x3fae95=a0_0x3e5393;try{const {name:_0x49deec,email:_0x263117,mobile:_0x2cc676,password:_0x4e3891,status:_0x54461d,warehouse:_0x5ceb08,position:_0x3ac60b,warehouse_cat:_0x41f7da,account_cat:_0x38847e,sales_cat:_0x4db859,sales_man_code:_0xcbe457,district:_0x219742}=_0x10e3f4[_0x3fae95(0xf3)],_0xa144aa=await bcrypt['hash'](_0x4e3891,0xa),_0x1b44c5=new staff({'name':_0x49deec,'email':_0x263117,'mobile':_0x2cc676,'status':_0x54461d,'warehouse':_0x5ceb08,'position':_0x3ac60b,'account_category':_0x38847e,'type_of_acc_cat':_0x4db859,'sales_man_code':_0xcbe457,'district':_0x219742}),_0x121c71=await staff[_0x3fae95(0xb5)]({'email':_0x263117});if(_0x121c71)return _0x10e3f4[_0x3fae95(0xc4)](_0x3fae95(0xec),_0x3fae95(0xe8)+_0x263117+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x480263[_0x3fae95(0xe6)](_0x3fae95(0xc3)),![];const _0x1179a7=await _0x1b44c5[_0x3fae95(0xc1)](),_0x3465b4=new sing_up({'name':_0x49deec,'email':_0x263117,'password':_0xa144aa,'role':_0x3fae95(0xbe)}),_0x3ad5a5=await _0x3465b4[_0x3fae95(0xc1)](),_0x5161e7=new profile({'firstname':_0x49deec,'email':_0x263117}),_0x12f6b3=await _0x5161e7[_0x3fae95(0xc1)]();_0x10e3f4[_0x3fae95(0xc4)](_0x3fae95(0xb7),_0x49deec+_0x3fae95(0xb3)),_0x480263['redirect'](_0x3fae95(0xca));}catch(_0x20ad11){console[_0x3fae95(0xda)](_0x20ad11);}}),router[a0_0x3e5393(0xce)](a0_0x3e5393(0xb1),auth,async(_0xfde8c8,_0x16b7ad)=>{const _0x4fbaf3=a0_0x3e5393;try{const _0x6c6234=_0xfde8c8[_0x4fbaf3(0xe5)]['id'],_0x2427c6=await master_shop[_0x4fbaf3(0xed)](),_0x4592bc=await staff[_0x4fbaf3(0xbc)](_0x6c6234);if(_0x2427c6[0x0][_0x4fbaf3(0xea)]=='English\x20(US)'){var _0x1d81fe=users[_0x4fbaf3(0xd8)];console[_0x4fbaf3(0xda)](_0x1d81fe);}else{if(_0x2427c6[0x0][_0x4fbaf3(0xea)]==_0x4fbaf3(0xe7))var _0x1d81fe=users['Hindi'];else{if(_0x2427c6[0x0][_0x4fbaf3(0xea)]==_0x4fbaf3(0xc9))var _0x1d81fe=users['German'];else{if(_0x2427c6[0x0]['language']==_0x4fbaf3(0xbf))var _0x1d81fe=users[_0x4fbaf3(0xbf)];else{if(_0x2427c6[0x0][_0x4fbaf3(0xea)]==_0x4fbaf3(0xe0))var _0x1d81fe=users['French'];else{if(_0x2427c6[0x0]['language']==_0x4fbaf3(0xe4))var _0x1d81fe=users[_0x4fbaf3(0xbd)];else{if(_0x2427c6[0x0][_0x4fbaf3(0xea)]==_0x4fbaf3(0xee))var _0x1d81fe=users[_0x4fbaf3(0xee)];else{if(_0x2427c6[0x0]['language']==_0x4fbaf3(0xb9))var _0x1d81fe=users[_0x4fbaf3(0xcf)];}}}}}}}let _0x3255a1=[_0x4fbaf3(0xd9),_0x4fbaf3(0xdd)];_0x16b7ad[_0x4fbaf3(0xb2)](_0x4fbaf3(0xbe),{'success':_0xfde8c8['flash'](_0x4fbaf3(0xb7)),'errors':_0xfde8c8[_0x4fbaf3(0xc4)](_0x4fbaf3(0xec)),'master_shop':_0x2427c6,'user':_0x4592bc,'language':_0x1d81fe,'warehouse_cat':_0x3255a1});}catch(_0x226d25){console[_0x4fbaf3(0xda)](_0x226d25);}}),router['post'](a0_0x3e5393(0xb1),auth,async(_0x3e8237,_0x174ea4)=>{const _0x2a4234=a0_0x3e5393;try{const _0x2b6777=_0x3e8237[_0x2a4234(0xe5)]['id'],_0x44a6ec=await staff[_0x2a4234(0xbc)](_0x2b6777),{name:_0x1118a4,email:_0x447c3e,mobile:_0x30d2ab,password:_0x1f5744,status:_0x2b5577,warehouse:_0x5dff53,position:_0x268300,account_edit_cat:_0x25330a,sales_cat2:_0x5e3ba7,sales_man_code2:_0x24059e,district_edit:_0x5f22d5}=_0x3e8237['body'];_0x44a6ec[_0x2a4234(0xc0)]=_0x1118a4,_0x44a6ec[_0x2a4234(0xf5)]=_0x447c3e,_0x44a6ec[_0x2a4234(0xb6)]=_0x30d2ab,_0x44a6ec[_0x2a4234(0xcb)]=_0x1f5744,_0x44a6ec['status']=_0x2b5577,_0x44a6ec[_0x2a4234(0xd6)]=_0x5dff53,_0x44a6ec[_0x2a4234(0xc6)]=_0x268300,_0x44a6ec[_0x2a4234(0xdf)]=_0x25330a,_0x44a6ec[_0x2a4234(0xef)]=_0x5e3ba7,_0x44a6ec[_0x2a4234(0xeb)]=_0x24059e,_0x44a6ec[_0x2a4234(0xd5)]=_0x5f22d5;const _0x172695=await _0x44a6ec['save'](),_0x37e33e=await profile['findOne']({'email':_0x447c3e});_0x37e33e['firstname']=_0x1118a4,_0x37e33e['email']=_0x447c3e,await _0x37e33e['save'](),_0x3e8237[_0x2a4234(0xc4)]('success',_0x2a4234(0xc5)),_0x174ea4[_0x2a4234(0xe6)]('/staff/view');}catch(_0x2e11b0){console[_0x2a4234(0xda)](_0x2e11b0),_0x174ea4[_0x2a4234(0xc2)](0xc8)[_0x2a4234(0xd0)](_0x2e11b0);}}),module[a0_0x3e5393(0xc8)]=router;function a0_0x5d86(){const _0x2e0e39=['express','../middleware/auth','district','warehouse','../models/all_models','English','Raw\x20Materials','log','930138NKaTzp','988088YPXWKC','Finished\x20Goods','$name','account_category','French','user','889InUHNP','1717016ILdLyb','Portuguese\x20(BR)','params','redirect','Hindi','Email\x20','2235609LWpMfG','language','sales_man_code','errors','find','Chinese','type_of_acc_cat','bcryptjs','2kgIyPZ','10XJvNsi','body','English\x20(US)','email','/view/:id','render','\x20is\x20add\x20successfully','10myJiqc','findOne','mobile','success','1094560iIACcH','Arabic\x20(ae)','23946tMCaiG','../public/language/languages.json','findById','Portuguese','staff','Spanish','name','save','status','back','flash','staff\x20data\x20update\x20successfully','position','Router','exports','German','/staff/view','password','9uzomFh','Enabled','get','Arabic','json','master','17442552mjRglq'];a0_0x5d86=function(){return _0x2e0e39;};return a0_0x5d86();}