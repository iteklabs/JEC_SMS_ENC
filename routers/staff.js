function a0_0x3d22(){const _0x369372=['master','Portuguese','315534ukwPXd','28TAwlNb','findById','params','Spanish','sales_man_code','staff','/view/:id','express','Email\x20','7731140OeNoop','English\x20(US)','password','account_category','258255XirmmU','$name','flash','render','/view','findOne','16uSfVbR','redirect','166436ujGDxR','Arabic','get','7GigPNr','Finished\x20Goods','Portuguese\x20(BR)','type_of_acc_cat','Hindi','success','104787nWoMbf','find','body','German','/staff/view','\x20is\x20add\x20successfully','Chinese','log','staff\x20data\x20update\x20successfully','hash','French','1277586iJvBFR','json','English','Router','317637qLYZro','district','user','language','Raw\x20Materials','email','../public/language/languages.json','save','Enabled','mobile','firstname'];a0_0x3d22=function(){return _0x369372;};return a0_0x3d22();}const a0_0x594c2e=a0_0xc6ae;(function(_0x3d3559,_0x398053){const _0x3767b9=a0_0xc6ae,_0x421719=_0x3d3559();while(!![]){try{const _0x4307f4=parseInt(_0x3767b9(0x1b2))/0x1+parseInt(_0x3767b9(0x18d))/0x2+parseInt(_0x3767b9(0x196))/0x3*(parseInt(_0x3767b9(0x1b3))/0x4)+parseInt(_0x3767b9(0x185))/0x5+-parseInt(_0x3767b9(0x1a1))/0x6*(-parseInt(_0x3767b9(0x190))/0x7)+parseInt(_0x3767b9(0x18b))/0x8*(parseInt(_0x3767b9(0x1a5))/0x9)+-parseInt(_0x3767b9(0x181))/0xa;if(_0x4307f4===_0x398053)break;else _0x421719['push'](_0x421719['shift']());}catch(_0xc368c4){_0x421719['push'](_0x421719['shift']());}}}(a0_0x3d22,0x321fd));function a0_0xc6ae(_0x25907a,_0x4e01f7){const _0x3d228b=a0_0x3d22();return a0_0xc6ae=function(_0xc6ae0d,_0x31d7ae){_0xc6ae0d=_0xc6ae0d-0x17a;let _0x5aa4e3=_0x3d228b[_0xc6ae0d];return _0x5aa4e3;},a0_0xc6ae(_0x25907a,_0x4e01f7);}const express=require(a0_0x594c2e(0x17f)),app=express(),router=express[a0_0x594c2e(0x1a4)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x594c2e(0x1ab));router['get']('/view',auth,async(_0x3b20a9,_0x20f7e0)=>{const _0x164bed=a0_0x594c2e;try{const {username:_0x12358b,email:_0x5acd7b,role:_0x29d6cf}=_0x3b20a9[_0x164bed(0x1a7)],_0x481ed7=_0x3b20a9[_0x164bed(0x1a7)],_0x192d28=await profile[_0x164bed(0x18a)]({'email':_0x481ed7[_0x164bed(0x1aa)]}),_0x545894=await master_shop['find']();console[_0x164bed(0x19d)](_0x164bed(0x1b0),_0x545894),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x164bed(0x1ad)}},{'$group':{'_id':_0x164bed(0x186),'name':{'$first':_0x164bed(0x186)}}}]);const _0x5eaed3=await staff['find']();console[_0x164bed(0x19d)](_0x5eaed3);if(_0x545894[0x0][_0x164bed(0x1a8)]==_0x164bed(0x182)){var _0x5ad4e0=users[_0x164bed(0x1a3)];console['log'](_0x5ad4e0);}else{if(_0x545894[0x0][_0x164bed(0x1a8)]==_0x164bed(0x194))var _0x5ad4e0=users[_0x164bed(0x194)];else{if(_0x545894[0x0][_0x164bed(0x1a8)]==_0x164bed(0x199))var _0x5ad4e0=users[_0x164bed(0x199)];else{if(_0x545894[0x0]['language']==_0x164bed(0x17b))var _0x5ad4e0=users[_0x164bed(0x17b)];else{if(_0x545894[0x0][_0x164bed(0x1a8)]==_0x164bed(0x1a0))var _0x5ad4e0=users['French'];else{if(_0x545894[0x0][_0x164bed(0x1a8)]==_0x164bed(0x192))var _0x5ad4e0=users[_0x164bed(0x1b1)];else{if(_0x545894[0x0][_0x164bed(0x1a8)]==_0x164bed(0x19c))var _0x5ad4e0=users['Chinese'];else{if(_0x545894[0x0]['language']=='Arabic\x20(ae)')var _0x5ad4e0=users[_0x164bed(0x18e)];}}}}}}}let _0x23899a=[_0x164bed(0x1a9),'Finished\x20Goods'];_0x20f7e0[_0x164bed(0x188)]('staff',{'success':_0x3b20a9[_0x164bed(0x187)](_0x164bed(0x195)),'errors':_0x3b20a9['flash']('errors'),'role':_0x481ed7,'profile':_0x192d28,'master_shop':_0x545894,'user':_0x5eaed3,'language':_0x5ad4e0,'warehouse':warehouse_data,'warehouse_cat':_0x23899a});}catch(_0x22fd86){console[_0x164bed(0x19d)](_0x22fd86);}}),router['post'](a0_0x594c2e(0x189),auth,async(_0x311cc5,_0x4e3814)=>{const _0x221ccf=a0_0x594c2e;try{const {name:_0xd36f23,email:_0x5f00fc,mobile:_0x1d2c3a,password:_0x199a81,status:_0x434dea,warehouse:_0x291c59,position:_0x5bbd03,warehouse_cat:_0x2e62c9,account_cat:_0x2a0be2,sales_cat:_0x7e78cd,sales_man_code:_0x2d8d2c,district:_0x4feade}=_0x311cc5[_0x221ccf(0x198)],_0x3ed610=await bcrypt[_0x221ccf(0x19f)](_0x199a81,0xa),_0x51a6cc=new staff({'name':_0xd36f23,'email':_0x5f00fc,'mobile':_0x1d2c3a,'status':_0x434dea,'warehouse':_0x291c59,'position':_0x5bbd03,'account_category':_0x2a0be2,'type_of_acc_cat':_0x7e78cd,'sales_man_code':_0x2d8d2c,'district':_0x4feade}),_0x2e7629=await staff[_0x221ccf(0x18a)]({'email':_0x5f00fc});if(_0x2e7629)return _0x311cc5[_0x221ccf(0x187)]('errors',_0x221ccf(0x180)+_0x5f00fc+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x4e3814[_0x221ccf(0x18c)]('back'),![];const _0x23454f=await _0x51a6cc[_0x221ccf(0x1ac)](),_0x4f6456=new sing_up({'name':_0xd36f23,'email':_0x5f00fc,'password':_0x3ed610,'role':_0x221ccf(0x17d)}),_0x5187c4=await _0x4f6456[_0x221ccf(0x1ac)](),_0x48e6fa=new profile({'firstname':_0xd36f23,'email':_0x5f00fc}),_0x10233f=await _0x48e6fa['save']();_0x311cc5[_0x221ccf(0x187)](_0x221ccf(0x195),_0xd36f23+_0x221ccf(0x19b)),_0x4e3814[_0x221ccf(0x18c)](_0x221ccf(0x19a));}catch(_0x3a840b){console['log'](_0x3a840b);}}),router[a0_0x594c2e(0x18f)](a0_0x594c2e(0x17e),auth,async(_0x2bc334,_0x148ca3)=>{const _0x18836e=a0_0x594c2e;try{const _0xbde28e=_0x2bc334[_0x18836e(0x17a)]['id'],_0x1f9ca1=await master_shop[_0x18836e(0x197)](),_0xa951bd=await staff[_0x18836e(0x1b4)](_0xbde28e);if(_0x1f9ca1[0x0]['language']==_0x18836e(0x182)){var _0x2e3877=users[_0x18836e(0x1a3)];console['log'](_0x2e3877);}else{if(_0x1f9ca1[0x0]['language']==_0x18836e(0x194))var _0x2e3877=users[_0x18836e(0x194)];else{if(_0x1f9ca1[0x0]['language']==_0x18836e(0x199))var _0x2e3877=users[_0x18836e(0x199)];else{if(_0x1f9ca1[0x0][_0x18836e(0x1a8)]=='Spanish')var _0x2e3877=users[_0x18836e(0x17b)];else{if(_0x1f9ca1[0x0]['language']==_0x18836e(0x1a0))var _0x2e3877=users['French'];else{if(_0x1f9ca1[0x0][_0x18836e(0x1a8)]==_0x18836e(0x192))var _0x2e3877=users['Portuguese'];else{if(_0x1f9ca1[0x0][_0x18836e(0x1a8)]==_0x18836e(0x19c))var _0x2e3877=users[_0x18836e(0x19c)];else{if(_0x1f9ca1[0x0][_0x18836e(0x1a8)]=='Arabic\x20(ae)')var _0x2e3877=users[_0x18836e(0x18e)];}}}}}}}let _0x29bce9=[_0x18836e(0x1a9),_0x18836e(0x191)];_0x148ca3[_0x18836e(0x188)](_0x18836e(0x17d),{'success':_0x2bc334[_0x18836e(0x187)]('success'),'errors':_0x2bc334[_0x18836e(0x187)]('errors'),'master_shop':_0x1f9ca1,'user':_0xa951bd,'language':_0x2e3877,'warehouse_cat':_0x29bce9});}catch(_0x39b5fe){console['log'](_0x39b5fe);}}),router['post'](a0_0x594c2e(0x17e),auth,async(_0x13ec97,_0x59c5d5)=>{const _0x5ed4f2=a0_0x594c2e;try{const _0x28398b=_0x13ec97[_0x5ed4f2(0x17a)]['id'],_0x223c5e=await staff['findById'](_0x28398b),{name:_0x3ead9b,email:_0x46b9a8,mobile:_0x3367f6,password:_0x1dc87f,status:_0x295a61,warehouse:_0x2f201f,position:_0x2fae24,account_edit_cat:_0x56ee00,sales_cat2:_0x1adaa0,sales_man_code2:_0x527a9b,district_edit:_0x2b2b0a}=_0x13ec97['body'];_0x223c5e['name']=_0x3ead9b,_0x223c5e[_0x5ed4f2(0x1aa)]=_0x46b9a8,_0x223c5e[_0x5ed4f2(0x1ae)]=_0x3367f6,_0x223c5e[_0x5ed4f2(0x183)]=_0x1dc87f,_0x223c5e['status']=_0x295a61,_0x223c5e['warehouse']=_0x2f201f,_0x223c5e['position']=_0x2fae24,_0x223c5e[_0x5ed4f2(0x184)]=_0x56ee00,_0x223c5e[_0x5ed4f2(0x193)]=_0x1adaa0,_0x223c5e[_0x5ed4f2(0x17c)]=_0x527a9b,_0x223c5e[_0x5ed4f2(0x1a6)]=_0x2b2b0a;const _0xc20822=await _0x223c5e[_0x5ed4f2(0x1ac)](),_0x599f19=await profile[_0x5ed4f2(0x18a)]({'email':_0x46b9a8});_0x599f19[_0x5ed4f2(0x1af)]=_0x3ead9b,_0x599f19[_0x5ed4f2(0x1aa)]=_0x46b9a8,await _0x599f19['save'](),_0x13ec97['flash'](_0x5ed4f2(0x195),_0x5ed4f2(0x19e)),_0x59c5d5['redirect'](_0x5ed4f2(0x19a));}catch(_0x4e277f){console[_0x5ed4f2(0x19d)](_0x4e277f),_0x59c5d5['status'](0xc8)[_0x5ed4f2(0x1a2)](_0x4e277f);}}),module['exports']=router;