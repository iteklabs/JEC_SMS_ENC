const a0_0x5aae57=a0_0x262c;(function(_0x1e56dc,_0x1e124f){const _0x4f3a46=a0_0x262c,_0x2bed3f=_0x1e56dc();while(!![]){try{const _0xdf1388=parseInt(_0x4f3a46(0x92))/0x1+-parseInt(_0x4f3a46(0x79))/0x2*(-parseInt(_0x4f3a46(0xa2))/0x3)+parseInt(_0x4f3a46(0x90))/0x4*(parseInt(_0x4f3a46(0x6e))/0x5)+-parseInt(_0x4f3a46(0x98))/0x6*(-parseInt(_0x4f3a46(0x9c))/0x7)+parseInt(_0x4f3a46(0x6c))/0x8+-parseInt(_0x4f3a46(0x85))/0x9*(-parseInt(_0x4f3a46(0x8b))/0xa)+parseInt(_0x4f3a46(0x75))/0xb*(-parseInt(_0x4f3a46(0x95))/0xc);if(_0xdf1388===_0x1e124f)break;else _0x2bed3f['push'](_0x2bed3f['shift']());}catch(_0x3f22d6){_0x2bed3f['push'](_0x2bed3f['shift']());}}}(a0_0x585f,0x86fc9));const express=require('express'),app=express(),router=express['Router'](),bcrypt=require(a0_0x5aae57(0x8e)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x5aae57(0x8a)),auth=require(a0_0x5aae57(0xa9)),users=require(a0_0x5aae57(0xa7));function a0_0x262c(_0x247896,_0x593291){const _0x585f85=a0_0x585f();return a0_0x262c=function(_0x262ce6,_0x467d8b){_0x262ce6=_0x262ce6-0x6b;let _0x16a912=_0x585f85[_0x262ce6];return _0x16a912;},a0_0x262c(_0x247896,_0x593291);}router[a0_0x5aae57(0x78)](a0_0x5aae57(0x99),auth,async(_0x36863d,_0x428396)=>{const _0x5202dc=a0_0x5aae57;try{const {username:_0x493e17,email:_0x1baf61,role:_0x2198e9}=_0x36863d[_0x5202dc(0x93)],_0x5b179b=_0x36863d[_0x5202dc(0x93)],_0x18daf7=await profile['findOne']({'email':_0x5b179b[_0x5202dc(0x80)]}),_0x4cd15b=await master_shop[_0x5202dc(0xa3)]();console[_0x5202dc(0xaa)](_0x5202dc(0xa0),_0x4cd15b),warehouse_data=await warehouse[_0x5202dc(0xa6)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x5202dc(0x71),'name':{'$first':_0x5202dc(0x71)}}}]);const _0x232c29=await staff[_0x5202dc(0xa3)]();console['log'](_0x232c29);if(_0x4cd15b[0x0][_0x5202dc(0x7f)]==_0x5202dc(0x6f)){var _0x216312=users[_0x5202dc(0x9e)];console[_0x5202dc(0xaa)](_0x216312);}else{if(_0x4cd15b[0x0][_0x5202dc(0x7f)]==_0x5202dc(0x7c))var _0x216312=users[_0x5202dc(0x7c)];else{if(_0x4cd15b[0x0][_0x5202dc(0x7f)]==_0x5202dc(0x8d))var _0x216312=users['German'];else{if(_0x4cd15b[0x0]['language']==_0x5202dc(0x94))var _0x216312=users[_0x5202dc(0x94)];else{if(_0x4cd15b[0x0][_0x5202dc(0x7f)]==_0x5202dc(0xa5))var _0x216312=users[_0x5202dc(0xa5)];else{if(_0x4cd15b[0x0]['language']==_0x5202dc(0xae))var _0x216312=users[_0x5202dc(0x9b)];else{if(_0x4cd15b[0x0]['language']==_0x5202dc(0x8f))var _0x216312=users['Chinese'];else{if(_0x4cd15b[0x0][_0x5202dc(0x7f)]==_0x5202dc(0x91))var _0x216312=users['Arabic'];}}}}}}}let _0x42fe0b=[_0x5202dc(0x82),_0x5202dc(0x9d)];_0x428396['render']('staff',{'success':_0x36863d[_0x5202dc(0x96)]('success'),'errors':_0x36863d[_0x5202dc(0x96)](_0x5202dc(0x7d)),'role':_0x5b179b,'profile':_0x18daf7,'master_shop':_0x4cd15b,'user':_0x232c29,'language':_0x216312,'warehouse':warehouse_data,'warehouse_cat':_0x42fe0b});}catch(_0x742c51){console[_0x5202dc(0xaa)](_0x742c51);}}),router[a0_0x5aae57(0x8c)](a0_0x5aae57(0x99),auth,async(_0x11b437,_0xbb32fb)=>{const _0x56b7c1=a0_0x5aae57;try{const {name:_0x3333b0,email:_0x158e14,mobile:_0x223c63,password:_0x1430af,status:_0x268832,warehouse:_0x2322e9,position:_0xd3da0d,warehouse_cat:_0xa96236,account_cat:_0x2e08d4,sales_cat:_0x309fad,sales_man_code:_0x1778b6,district:_0x3a875a}=_0x11b437[_0x56b7c1(0xac)],_0x5bcce0=await bcrypt['hash'](_0x1430af,0xa),_0x1b9dad=new staff({'name':_0x3333b0,'email':_0x158e14,'mobile':_0x223c63,'status':_0x268832,'warehouse':_0x2322e9,'position':_0xd3da0d,'account_category':_0x2e08d4,'type_of_acc_cat':_0x309fad,'sales_man_code':_0x1778b6,'district':_0x3a875a}),_0x5bd8ee=await staff[_0x56b7c1(0x9a)]({'email':_0x158e14});if(_0x5bd8ee)return _0x11b437[_0x56b7c1(0x96)]('errors',_0x56b7c1(0x7b)+_0x158e14+_0x56b7c1(0x73)),_0xbb32fb['redirect'](_0x56b7c1(0x9f)),![];const _0x3ee840=await _0x1b9dad[_0x56b7c1(0x72)](),_0x44152a=new sing_up({'name':_0x3333b0,'email':_0x158e14,'password':_0x5bcce0,'role':_0x56b7c1(0xad)}),_0x523e05=await _0x44152a[_0x56b7c1(0x72)](),_0x3d02b5=new profile({'firstname':_0x3333b0,'email':_0x158e14}),_0x5961ae=await _0x3d02b5[_0x56b7c1(0x72)]();_0x11b437[_0x56b7c1(0x96)](_0x56b7c1(0x74),_0x3333b0+'\x20is\x20add\x20successfully'),_0xbb32fb[_0x56b7c1(0x87)](_0x56b7c1(0x77));}catch(_0x1f47f9){console[_0x56b7c1(0xaa)](_0x1f47f9);}}),router[a0_0x5aae57(0x78)](a0_0x5aae57(0xab),auth,async(_0x3d5693,_0x5a7614)=>{const _0x15038b=a0_0x5aae57;try{const _0x2116ef=_0x3d5693[_0x15038b(0x6d)]['id'],_0x2da8a0=await master_shop['find'](),_0x464a66=await staff[_0x15038b(0x84)](_0x2116ef);if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0x6f)){var _0x1bc43e=users[_0x15038b(0x9e)];console[_0x15038b(0xaa)](_0x1bc43e);}else{if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0x7c))var _0x1bc43e=users[_0x15038b(0x7c)];else{if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0x8d))var _0x1bc43e=users['German'];else{if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0x94))var _0x1bc43e=users[_0x15038b(0x94)];else{if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0xa5))var _0x1bc43e=users[_0x15038b(0xa5)];else{if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0xae))var _0x1bc43e=users[_0x15038b(0x9b)];else{if(_0x2da8a0[0x0]['language']==_0x15038b(0x8f))var _0x1bc43e=users[_0x15038b(0x8f)];else{if(_0x2da8a0[0x0][_0x15038b(0x7f)]==_0x15038b(0x91))var _0x1bc43e=users[_0x15038b(0xa1)];}}}}}}}let _0x2e96c7=['Raw\x20Materials',_0x15038b(0x9d)];_0x5a7614[_0x15038b(0x88)]('staff',{'success':_0x3d5693[_0x15038b(0x96)]('success'),'errors':_0x3d5693['flash']('errors'),'master_shop':_0x2da8a0,'user':_0x464a66,'language':_0x1bc43e,'warehouse_cat':_0x2e96c7});}catch(_0x3e4f58){console['log'](_0x3e4f58);}}),router[a0_0x5aae57(0x8c)](a0_0x5aae57(0xab),auth,async(_0x300782,_0x10383e)=>{const _0x3fa5fd=a0_0x5aae57;try{const _0x10f140=_0x300782[_0x3fa5fd(0x6d)]['id'],_0x574039=await staff[_0x3fa5fd(0x84)](_0x10f140),{name:_0x1860bd,email:_0x56300c,mobile:_0x12b37e,password:_0x5d6a6c,status:_0xdc6201,warehouse:_0x2aa548,position:_0x23be3e,account_edit_cat:_0x26019a,sales_cat2:_0x57b656,sales_man_code2:_0x2fe083,district_edit:_0x4c98a0}=_0x300782['body'];_0x574039[_0x3fa5fd(0x83)]=_0x1860bd,_0x574039[_0x3fa5fd(0x80)]=_0x56300c,_0x574039[_0x3fa5fd(0x86)]=_0x12b37e,_0x574039[_0x3fa5fd(0xa8)]=_0x5d6a6c,_0x574039[_0x3fa5fd(0x89)]=_0xdc6201,_0x574039[_0x3fa5fd(0x6b)]=_0x2aa548,_0x574039[_0x3fa5fd(0x7e)]=_0x23be3e,_0x574039['account_category']=_0x26019a,_0x574039[_0x3fa5fd(0x70)]=_0x57b656,_0x574039[_0x3fa5fd(0x97)]=_0x2fe083,_0x574039[_0x3fa5fd(0x81)]=_0x4c98a0;const _0x3961d7=await _0x574039['save'](),_0x479d36=await profile[_0x3fa5fd(0x9a)]({'email':_0x56300c});_0x479d36[_0x3fa5fd(0xa4)]=_0x1860bd,_0x479d36[_0x3fa5fd(0x80)]=_0x56300c,await _0x479d36['save'](),_0x300782[_0x3fa5fd(0x96)](_0x3fa5fd(0x74),_0x3fa5fd(0x76)),_0x10383e[_0x3fa5fd(0x87)](_0x3fa5fd(0x77));}catch(_0x37abd0){console[_0x3fa5fd(0xaa)](_0x37abd0),_0x10383e[_0x3fa5fd(0x89)](0xc8)['json'](_0x37abd0);}}),module[a0_0x5aae57(0x7a)]=router;function a0_0x585f(){const _0x5ff455=['English\x20(US)','type_of_acc_cat','$name','save','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','success','594bgfquX','staff\x20data\x20update\x20successfully','/staff/view','get','2vxEvUG','exports','Email\x20','Hindi','errors','position','language','email','district','Raw\x20Materials','name','findById','459RYlQEq','mobile','redirect','render','status','../models/all_models','194880EFoIBc','post','German','bcryptjs','Chinese','1865892uQHzdk','Arabic\x20(ae)','76202aOULdL','user','Spanish','552792GZikBz','flash','sales_man_code','313848FimQWu','/view','findOne','Portuguese','98aNauIi','Finished\x20Goods','English','back','master','Arabic','697521MOVjAF','find','firstname','French','aggregate','../public/language/languages.json','password','../middleware/auth','log','/view/:id','body','staff','Portuguese\x20(BR)','warehouse','4312696gjzYZL','params','5lNWNCL'];a0_0x585f=function(){return _0x5ff455;};return a0_0x585f();}