const a0_0x11fa2c=a0_0x433f;function a0_0x4a9a(){const _0x8a8be3=['district','1483560ZqRqqC','find','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','3601xXCEPV','warehouse','express','326172SMcJsO','24vhpNFy','findById','1147068hmCEoO','Email\x20','../middleware/auth','Router','/view','Portuguese\x20(BR)','English','master','1849500erToWf','status','French','9687788PzhyYe','post','render','Hindi','929790vQwxrH','save','aggregate','Arabic\x20(ae)','staff','password','account_category','166NEWVbV','../models/all_models','name','body','language','back','type_of_acc_cat','Enabled','hash','get','Raw\x20Materials','English\x20(US)','user','$name','/staff/view','exports','German','params','20bPLfse','Arabic','bcryptjs','redirect','Spanish','position','log','email','json','flash','/view/:id','errors','../public/language/languages.json','Chinese','success','5othwJF','\x20is\x20add\x20successfully','Finished\x20Goods'];a0_0x4a9a=function(){return _0x8a8be3;};return a0_0x4a9a();}(function(_0x39b74b,_0x39f845){const _0x8a7f3d=a0_0x433f,_0x491876=_0x39b74b();while(!![]){try{const _0x379beb=-parseInt(_0x8a7f3d(0x16f))/0x1*(parseInt(_0x8a7f3d(0x18b))/0x2)+-parseInt(_0x8a7f3d(0x184))/0x3+-parseInt(_0x8a7f3d(0x175))/0x4*(parseInt(_0x8a7f3d(0x1ac))/0x5)+-parseInt(_0x8a7f3d(0x16c))/0x6+-parseInt(_0x8a7f3d(0x172))/0x7*(parseInt(_0x8a7f3d(0x173))/0x8)+-parseInt(_0x8a7f3d(0x17d))/0x9+parseInt(_0x8a7f3d(0x19d))/0xa*(parseInt(_0x8a7f3d(0x180))/0xb);if(_0x379beb===_0x39f845)break;else _0x491876['push'](_0x491876['shift']());}catch(_0x2c41bf){_0x491876['push'](_0x491876['shift']());}}}(a0_0x4a9a,0x42b88));const express=require(a0_0x11fa2c(0x171)),app=express(),router=express[a0_0x11fa2c(0x178)](),bcrypt=require(a0_0x11fa2c(0x19f)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x11fa2c(0x18c)),auth=require(a0_0x11fa2c(0x177)),users=require(a0_0x11fa2c(0x1a9));function a0_0x433f(_0x13027d,_0x478617){const _0x4a9a0d=a0_0x4a9a();return a0_0x433f=function(_0x433fb5,_0x1c2047){_0x433fb5=_0x433fb5-0x16b;let _0x2d35f1=_0x4a9a0d[_0x433fb5];return _0x2d35f1;},a0_0x433f(_0x13027d,_0x478617);}router[a0_0x11fa2c(0x194)](a0_0x11fa2c(0x179),auth,async(_0x228b51,_0x4545b9)=>{const _0x1d8729=a0_0x11fa2c;try{const {username:_0x49556a,email:_0x4faec3,role:_0x48d31a}=_0x228b51['user'],_0x490fb7=_0x228b51[_0x1d8729(0x197)],_0x27e453=await profile['findOne']({'email':_0x490fb7[_0x1d8729(0x1a4)]}),_0x266543=await master_shop[_0x1d8729(0x16d)]();console[_0x1d8729(0x1a3)](_0x1d8729(0x17c),_0x266543),warehouse_data=await warehouse[_0x1d8729(0x186)]([{'$match':{'status':_0x1d8729(0x192)}},{'$group':{'_id':'$name','name':{'$first':_0x1d8729(0x198)}}}]);const _0x591de8=await staff['find']();console[_0x1d8729(0x1a3)](_0x591de8);if(_0x266543[0x0]['language']==_0x1d8729(0x196)){var _0x42396d=users[_0x1d8729(0x17b)];console[_0x1d8729(0x1a3)](_0x42396d);}else{if(_0x266543[0x0][_0x1d8729(0x18f)]==_0x1d8729(0x183))var _0x42396d=users[_0x1d8729(0x183)];else{if(_0x266543[0x0][_0x1d8729(0x18f)]==_0x1d8729(0x19b))var _0x42396d=users[_0x1d8729(0x19b)];else{if(_0x266543[0x0][_0x1d8729(0x18f)]=='Spanish')var _0x42396d=users[_0x1d8729(0x1a1)];else{if(_0x266543[0x0][_0x1d8729(0x18f)]==_0x1d8729(0x17f))var _0x42396d=users[_0x1d8729(0x17f)];else{if(_0x266543[0x0][_0x1d8729(0x18f)]==_0x1d8729(0x17a))var _0x42396d=users['Portuguese'];else{if(_0x266543[0x0][_0x1d8729(0x18f)]==_0x1d8729(0x1aa))var _0x42396d=users[_0x1d8729(0x1aa)];else{if(_0x266543[0x0]['language']==_0x1d8729(0x187))var _0x42396d=users[_0x1d8729(0x19e)];}}}}}}}let _0x10a36b=[_0x1d8729(0x195),_0x1d8729(0x1ae)];_0x4545b9[_0x1d8729(0x182)]('staff',{'success':_0x228b51[_0x1d8729(0x1a6)](_0x1d8729(0x1ab)),'errors':_0x228b51[_0x1d8729(0x1a6)](_0x1d8729(0x1a8)),'role':_0x490fb7,'profile':_0x27e453,'master_shop':_0x266543,'user':_0x591de8,'language':_0x42396d,'warehouse':warehouse_data,'warehouse_cat':_0x10a36b});}catch(_0x50b107){console[_0x1d8729(0x1a3)](_0x50b107);}}),router[a0_0x11fa2c(0x181)]('/view',auth,async(_0x48a799,_0x46d0aa)=>{const _0x7c1398=a0_0x11fa2c;try{const {name:_0x34c286,email:_0x1784eb,mobile:_0x2aabe9,password:_0x11e1b3,status:_0x269a22,warehouse:_0x5047ae,position:_0x4dbbe5,warehouse_cat:_0x45023e,account_cat:_0x38bd11,sales_cat:_0x45a88d,sales_man_code:_0x1e091e,district:_0x26c6fd}=_0x48a799[_0x7c1398(0x18e)],_0x86d0d1=await bcrypt[_0x7c1398(0x193)](_0x11e1b3,0xa),_0x11edd7=new staff({'name':_0x34c286,'email':_0x1784eb,'mobile':_0x2aabe9,'status':_0x269a22,'warehouse':_0x5047ae,'position':_0x4dbbe5,'account_category':_0x38bd11,'type_of_acc_cat':_0x45a88d,'sales_man_code':_0x1e091e,'district':_0x26c6fd}),_0xf0de56=await staff['findOne']({'email':_0x1784eb});if(_0xf0de56)return _0x48a799['flash']('errors',_0x7c1398(0x176)+_0x1784eb+_0x7c1398(0x16e)),_0x46d0aa[_0x7c1398(0x1a0)](_0x7c1398(0x190)),![];const _0x3b77f1=await _0x11edd7[_0x7c1398(0x185)](),_0x56822d=new sing_up({'name':_0x34c286,'email':_0x1784eb,'password':_0x86d0d1,'role':_0x7c1398(0x188)}),_0x3903a9=await _0x56822d[_0x7c1398(0x185)](),_0x3374ff=new profile({'firstname':_0x34c286,'email':_0x1784eb}),_0x460606=await _0x3374ff[_0x7c1398(0x185)]();_0x48a799['flash']('success',_0x34c286+_0x7c1398(0x1ad)),_0x46d0aa[_0x7c1398(0x1a0)](_0x7c1398(0x199));}catch(_0x379bc3){console['log'](_0x379bc3);}}),router['get']('/view/:id',auth,async(_0x31e604,_0x5a0a8a)=>{const _0x3757a7=a0_0x11fa2c;try{const _0x3adada=_0x31e604[_0x3757a7(0x19c)]['id'],_0xd11e2f=await master_shop[_0x3757a7(0x16d)](),_0x588922=await staff[_0x3757a7(0x174)](_0x3adada);if(_0xd11e2f[0x0][_0x3757a7(0x18f)]=='English\x20(US)'){var _0x364eec=users[_0x3757a7(0x17b)];console['log'](_0x364eec);}else{if(_0xd11e2f[0x0][_0x3757a7(0x18f)]==_0x3757a7(0x183))var _0x364eec=users[_0x3757a7(0x183)];else{if(_0xd11e2f[0x0][_0x3757a7(0x18f)]==_0x3757a7(0x19b))var _0x364eec=users[_0x3757a7(0x19b)];else{if(_0xd11e2f[0x0][_0x3757a7(0x18f)]==_0x3757a7(0x1a1))var _0x364eec=users['Spanish'];else{if(_0xd11e2f[0x0][_0x3757a7(0x18f)]==_0x3757a7(0x17f))var _0x364eec=users['French'];else{if(_0xd11e2f[0x0][_0x3757a7(0x18f)]=='Portuguese\x20(BR)')var _0x364eec=users['Portuguese'];else{if(_0xd11e2f[0x0][_0x3757a7(0x18f)]=='Chinese')var _0x364eec=users[_0x3757a7(0x1aa)];else{if(_0xd11e2f[0x0]['language']==_0x3757a7(0x187))var _0x364eec=users[_0x3757a7(0x19e)];}}}}}}}let _0x36a2a6=[_0x3757a7(0x195),_0x3757a7(0x1ae)];_0x5a0a8a[_0x3757a7(0x182)](_0x3757a7(0x188),{'success':_0x31e604[_0x3757a7(0x1a6)](_0x3757a7(0x1ab)),'errors':_0x31e604['flash'](_0x3757a7(0x1a8)),'master_shop':_0xd11e2f,'user':_0x588922,'language':_0x364eec,'warehouse_cat':_0x36a2a6});}catch(_0x12b56d){console['log'](_0x12b56d);}}),router[a0_0x11fa2c(0x181)](a0_0x11fa2c(0x1a7),auth,async(_0x2a145b,_0x1a9e47)=>{const _0x244c07=a0_0x11fa2c;try{const _0x566980=_0x2a145b[_0x244c07(0x19c)]['id'],_0x23e1be=await staff[_0x244c07(0x174)](_0x566980),{name:_0x4f9740,email:_0x1256c1,mobile:_0x2ee23f,password:_0x489da3,status:_0xd67803,warehouse:_0x2aa04c,position:_0x58a396,account_edit_cat:_0x3490e4,sales_cat2:_0x31c825,sales_man_code2:_0x49a11c,district_edit:_0x4a155e}=_0x2a145b['body'];_0x23e1be[_0x244c07(0x18d)]=_0x4f9740,_0x23e1be[_0x244c07(0x1a4)]=_0x1256c1,_0x23e1be['mobile']=_0x2ee23f,_0x23e1be[_0x244c07(0x189)]=_0x489da3,_0x23e1be[_0x244c07(0x17e)]=_0xd67803,_0x23e1be[_0x244c07(0x170)]=_0x2aa04c,_0x23e1be[_0x244c07(0x1a2)]=_0x58a396,_0x23e1be[_0x244c07(0x18a)]=_0x3490e4,_0x23e1be[_0x244c07(0x191)]=_0x31c825,_0x23e1be['sales_man_code']=_0x49a11c,_0x23e1be[_0x244c07(0x16b)]=_0x4a155e;const _0x209cbd=await _0x23e1be[_0x244c07(0x185)](),_0x6c9e27=await profile['findOne']({'email':_0x1256c1});_0x6c9e27['firstname']=_0x4f9740,_0x6c9e27[_0x244c07(0x1a4)]=_0x1256c1,await _0x6c9e27[_0x244c07(0x185)](),_0x2a145b[_0x244c07(0x1a6)]('success','staff\x20data\x20update\x20successfully'),_0x1a9e47[_0x244c07(0x1a0)](_0x244c07(0x199));}catch(_0x369784){console[_0x244c07(0x1a3)](_0x369784),_0x1a9e47[_0x244c07(0x17e)](0xc8)[_0x244c07(0x1a5)](_0x369784);}}),module[a0_0x11fa2c(0x19a)]=router;