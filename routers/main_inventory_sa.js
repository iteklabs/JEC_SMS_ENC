const a0_0x3a450a=a0_0x3aa7;(function(_0x30867f,_0x2d496b){const _0x243f41=a0_0x3aa7,_0xc76ac8=_0x30867f();while(!![]){try{const _0x43693d=parseInt(_0x243f41(0x11d))/0x1+parseInt(_0x243f41(0x10e))/0x2+-parseInt(_0x243f41(0x113))/0x3*(parseInt(_0x243f41(0x11e))/0x4)+parseInt(_0x243f41(0x10a))/0x5+parseInt(_0x243f41(0x11b))/0x6+-parseInt(_0x243f41(0xfe))/0x7+parseInt(_0x243f41(0x10c))/0x8*(-parseInt(_0x243f41(0x103))/0x9);if(_0x43693d===_0x2d496b)break;else _0xc76ac8['push'](_0xc76ac8['shift']());}catch(_0x40b070){_0xc76ac8['push'](_0xc76ac8['shift']());}}}(a0_0x3d55,0x4cf29));function a0_0x3aa7(_0x161df7,_0x2a5a5c){const _0x3d555f=a0_0x3d55();return a0_0x3aa7=function(_0x3aa746,_0x3ff28e){_0x3aa746=_0x3aa746-0xf9;let _0x41da82=_0x3d555f[_0x3aa746];return _0x41da82;},a0_0x3aa7(_0x161df7,_0x2a5a5c);}const express=require(a0_0x3a450a(0x109)),app=express(),router=express[a0_0x3a450a(0x118)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sing_up}=require(a0_0x3a450a(0xfd)),auth=require(a0_0x3a450a(0x10f)),users=require(a0_0x3a450a(0x122)),excelJS=require('exceljs'),xlsx=require('xlsx');function a0_0x3d55(){const _0x32e46c=['Portuguese','find','/view','get','../models/all_models','397061KolIfl','$product_details','render','English\x20(US)','Portuguese\x20(BR)','4939587XGjICW','log','Chinese','product_list','language','email','express','2721610yZqkOl','/table','8JriTcN','Spanish','1110606KedywG','../middleware/auth','English','German','body','2358eAJCEL','json','Arabic\x20(ae)','French','findOne','Router','$product_details.product_stock','Arabic','147204hUXiDK','success','85046PItkvM','1468xpqRhp','Hindi','errors','$name','../public/language/languages.json'];a0_0x3d55=function(){return _0x32e46c;};return a0_0x3d55();}router[a0_0x3a450a(0xfc)](a0_0x3a450a(0xfb),auth,async(_0x15d64f,_0x5ceacf)=>{const _0x401fc8=a0_0x3a450a;try{const _0xd808c=await master_shop[_0x401fc8(0xfa)](),_0x1ec3d9=_0x15d64f['user'],_0xd1a9a1=await profile['findOne']({'email':_0x1ec3d9[_0x401fc8(0x108)]}),_0x1bc36b=await staff[_0x401fc8(0x117)]({'email':_0x1ec3d9[_0x401fc8(0x108)]});if(_0xd808c[0x0]['language']==_0x401fc8(0x101))var _0x24dc5b=users[_0x401fc8(0x110)];else{if(_0xd808c[0x0][_0x401fc8(0x107)]==_0x401fc8(0x11f))var _0x24dc5b=users[_0x401fc8(0x11f)];else{if(_0xd808c[0x0][_0x401fc8(0x107)]==_0x401fc8(0x111))var _0x24dc5b=users[_0x401fc8(0x111)];else{if(_0xd808c[0x0][_0x401fc8(0x107)]=='Spanish')var _0x24dc5b=users[_0x401fc8(0x10d)];else{if(_0xd808c[0x0][_0x401fc8(0x107)]==_0x401fc8(0x116))var _0x24dc5b=users['French'];else{if(_0xd808c[0x0][_0x401fc8(0x107)]==_0x401fc8(0x102))var _0x24dc5b=users[_0x401fc8(0xf9)];else{if(_0xd808c[0x0]['language']==_0x401fc8(0x105))var _0x24dc5b=users['Chinese'];else{if(_0xd808c[0x0][_0x401fc8(0x107)]==_0x401fc8(0x115))var _0x24dc5b=users[_0x401fc8(0x11a)];}}}}}}}_0x5ceacf[_0x401fc8(0x100)]('main_inventory',{'success':_0x15d64f['flash'](_0x401fc8(0x11c)),'errors':_0x15d64f['flash'](_0x401fc8(0x120)),'master_shop':_0xd808c,'profile':_0xd1a9a1,'role':_0x1ec3d9,'language':_0x24dc5b,'product_list':_0x1bc36b[_0x401fc8(0x106)]});}catch(_0x3cd38d){console[_0x401fc8(0x104)](_0x3cd38d);}}),router['post'](a0_0x3a450a(0x10b),async(_0x352212,_0x202a58)=>{const _0x797f8e=a0_0x3a450a;try{const {isbool:_0x67b31f}=_0x352212[_0x797f8e(0x112)],_0x4207c2=_0x352212['user'],_0x3ee994=await warehouse['aggregate']([{'$unwind':_0x797f8e(0xff)},{'$group':{'_id':{'name':_0x797f8e(0x121),'product_code':'$product_details.product_code'},'product_name':{'$first':'$product_details.product_name'},'product_stock':{'$sum':_0x797f8e(0x119)}}},{'$sort':{'_id.name':0x1}}]);_0x202a58[_0x797f8e(0x114)](_0x3ee994);}catch(_0x37d90d){_0x202a58[_0x797f8e(0x114)]({'isConfirm':![],'error':_0x37d90d});}}),module['exports']=router;