const a0_0x34806a=a0_0x52ff;(function(_0x2ab262,_0x4343c5){const _0x4799d5=a0_0x52ff,_0x31f2f9=_0x2ab262();while(!![]){try{const _0x519ccc=parseInt(_0x4799d5(0x114))/0x1+parseInt(_0x4799d5(0x112))/0x2*(parseInt(_0x4799d5(0xf1))/0x3)+-parseInt(_0x4799d5(0xf0))/0x4*(-parseInt(_0x4799d5(0xf6))/0x5)+parseInt(_0x4799d5(0x108))/0x6*(parseInt(_0x4799d5(0x118))/0x7)+-parseInt(_0x4799d5(0xf3))/0x8+parseInt(_0x4799d5(0x107))/0x9*(-parseInt(_0x4799d5(0xfd))/0xa)+-parseInt(_0x4799d5(0x11d))/0xb*(parseInt(_0x4799d5(0xf5))/0xc);if(_0x519ccc===_0x4343c5)break;else _0x31f2f9['push'](_0x31f2f9['shift']());}catch(_0x3b2f33){_0x31f2f9['push'](_0x31f2f9['shift']());}}}(a0_0x229d,0x2eb53));function a0_0x52ff(_0x10a166,_0x2a3c2a){const _0x229d07=a0_0x229d();return a0_0x52ff=function(_0x52ff5b,_0x52b897){_0x52ff5b=_0x52ff5b-0xf0;let _0x5977d7=_0x229d07[_0x52ff5b];return _0x5977d7;},a0_0x52ff(_0x10a166,_0x2a3c2a);}const express=require(a0_0x34806a(0x10e)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sing_up}=require(a0_0x34806a(0x10d)),auth=require(a0_0x34806a(0x103)),users=require(a0_0x34806a(0x10b)),excelJS=require(a0_0x34806a(0x11b)),xlsx=require(a0_0x34806a(0x101));function a0_0x229d(){const _0x205946=['/table','$product_details.product_name','$product_details.product_stock','$name','findOne','10ypFHeB','json','log','body','xlsx','user','../middleware/auth','English\x20(US)','Arabic','flash','423693luaBUz','12jHaZBZ','$product_details.product_code','email','../public/language/languages.json','main_inventory','../models/all_models','express','English','post','Chinese','2cclJzl','Hindi','314736eXRFmc','Arabic\x20(ae)','language','French','955171yYOCnK','Portuguese\x20(BR)','find','exceljs','success','11XqXTTf','10312mctYmj','897429FksUMO','Spanish','392528chPuzI','Portuguese','8707788EyXqIU','245nrKZmn','errors'];a0_0x229d=function(){return _0x205946;};return a0_0x229d();}router['get']('/view',auth,async(_0x3d8142,_0x3b481e)=>{const _0x599e11=a0_0x34806a;try{const _0x1dacc0=await master_shop[_0x599e11(0x11a)](),_0x5a2dba=_0x3d8142[_0x599e11(0x102)],_0x2b299a=await profile[_0x599e11(0xfc)]({'email':_0x5a2dba[_0x599e11(0x10a)]}),_0x1e7222=await staff['findOne']({'email':_0x5a2dba[_0x599e11(0x10a)]});if(_0x1dacc0[0x0][_0x599e11(0x116)]==_0x599e11(0x104))var _0x56a16a=users[_0x599e11(0x10f)];else{if(_0x1dacc0[0x0][_0x599e11(0x116)]==_0x599e11(0x113))var _0x56a16a=users[_0x599e11(0x113)];else{if(_0x1dacc0[0x0][_0x599e11(0x116)]=='German')var _0x56a16a=users['German'];else{if(_0x1dacc0[0x0][_0x599e11(0x116)]==_0x599e11(0xf2))var _0x56a16a=users[_0x599e11(0xf2)];else{if(_0x1dacc0[0x0][_0x599e11(0x116)]==_0x599e11(0x117))var _0x56a16a=users[_0x599e11(0x117)];else{if(_0x1dacc0[0x0][_0x599e11(0x116)]==_0x599e11(0x119))var _0x56a16a=users[_0x599e11(0xf4)];else{if(_0x1dacc0[0x0]['language']=='Chinese')var _0x56a16a=users[_0x599e11(0x111)];else{if(_0x1dacc0[0x0][_0x599e11(0x116)]==_0x599e11(0x115))var _0x56a16a=users[_0x599e11(0x105)];}}}}}}}_0x3b481e['render'](_0x599e11(0x10c),{'success':_0x3d8142[_0x599e11(0x106)](_0x599e11(0x11c)),'errors':_0x3d8142[_0x599e11(0x106)](_0x599e11(0xf7)),'master_shop':_0x1dacc0,'profile':_0x2b299a,'role':_0x5a2dba,'language':_0x56a16a,'product_list':_0x1e7222['product_list']});}catch(_0x24c780){console[_0x599e11(0xff)](_0x24c780);}}),router[a0_0x34806a(0x110)](a0_0x34806a(0xf8),async(_0x5eefb3,_0x1cb3b3)=>{const _0x4d5baa=a0_0x34806a;try{const {isbool:_0x2301db}=_0x5eefb3[_0x4d5baa(0x100)],_0x48bd63=_0x5eefb3[_0x4d5baa(0x102)],_0x23d34a=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$group':{'_id':{'name':_0x4d5baa(0xfb),'product_code':_0x4d5baa(0x109)},'product_name':{'$first':_0x4d5baa(0xf9)},'product_stock':{'$sum':_0x4d5baa(0xfa)}}},{'$sort':{'_id.name':0x1}}]);_0x1cb3b3[_0x4d5baa(0xfe)](_0x23d34a);}catch(_0x187bbd){_0x1cb3b3['json']({'isConfirm':![],'error':_0x187bbd});}}),module['exports']=router;