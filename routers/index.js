const a0_0x1785e1=a0_0x27cf;(function(_0x3222e9,_0x2e3afa){const _0x3ff13c=a0_0x27cf,_0x2fbff1=_0x3222e9();while(!![]){try{const _0x3c0964=parseInt(_0x3ff13c(0xca))/0x1*(parseInt(_0x3ff13c(0xd2))/0x2)+-parseInt(_0x3ff13c(0xd3))/0x3*(parseInt(_0x3ff13c(0x10c))/0x4)+parseInt(_0x3ff13c(0xf0))/0x5+-parseInt(_0x3ff13c(0x113))/0x6*(parseInt(_0x3ff13c(0xc2))/0x7)+parseInt(_0x3ff13c(0xd6))/0x8*(parseInt(_0x3ff13c(0xc4))/0x9)+parseInt(_0x3ff13c(0xcb))/0xa*(-parseInt(_0x3ff13c(0xf7))/0xb)+parseInt(_0x3ff13c(0xe3))/0xc;if(_0x3c0964===_0x2e3afa)break;else _0x2fbff1['push'](_0x2fbff1['shift']());}catch(_0x20f6fb){_0x2fbff1['push'](_0x2fbff1['shift']());}}}(a0_0x62d9,0xaeac4));function a0_0x27cf(_0x23754e,_0x129586){const _0x62d933=a0_0x62d9();return a0_0x27cf=function(_0x27cf4c,_0x4c0e09){_0x27cf4c=_0x27cf4c-0xc2;let _0x2e4730=_0x62d933[_0x27cf4c];return _0x2e4730;},a0_0x27cf(_0x23754e,_0x129586);}const express=require(a0_0x1785e1(0xef)),app=express(),router=express[a0_0x1785e1(0xfc)](),auth=require(a0_0x1785e1(0xe1)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order}=require(a0_0x1785e1(0xd4)),users=require('../public/language/languages.json');function a0_0x62d9(){const _0x2584da=['English','exports','1128lBkinB','fss','Arabic','False','$product.product_name','json','success','351540uIChVl','paid','findById','$total_amount','Chinese','get','168kHZRVi','$to_warehouse','9FLNIwm','$product.quantity','length','index_acc','render','warehouse_category','46beSgxc','20FSchIs','French','$date','Raw\x20Materials','Portuguese\x20(BR)','/paid_data','Spanish','13322dUYMIJ','8889ntFtmj','../models/all_models','find','6163024OphrkZ','_id','language','true','$return_sale.sale_qty','errors','Hindi','$sale_product.price','$sale_product.totalprice','$count','index_asd','../middleware/auth','Finished\x20Goods','10591632TOBIIH','/pending_data_table','save','user','$product.from_quantity','account_category','$product_list.product_stock','flash','index','True','$from_warehouse','/price_chart','express','5630250Npbdqn','German','$product_list','$sale_product.quantity','/avg_data','post','sad','705562mbpcCy','email','valueOf','false','$product','Router','$return_sale','$return_product.return_qty','findOne','$sale_product','body','$product.to_quantity','aggregate','$total_price','/pending_data','acc','$sumprice','/sales_chart','$return_product'];a0_0x62d9=function(){return _0x2584da;};return a0_0x62d9();}router[a0_0x1785e1(0x118)]('/index',auth,async(_0x5669d3,_0x36f686)=>{const _0x5600f8=a0_0x1785e1;try{const {username:_0x1d8fe7,email:_0x42e53d,role:_0x43c0a1}=_0x5669d3[_0x5600f8(0xe6)],_0x25e08a=_0x5669d3[_0x5600f8(0xe6)],_0x1c3a00=await master_shop[_0x5600f8(0xd5)](),_0x10fb86=await profile[_0x5600f8(0xff)]({'email':_0x25e08a[_0x5600f8(0xf8)]});if(_0x1c3a00[0x0][_0x5600f8(0xd8)]=='English\x20(US)')var _0x245f5b=users[_0x5600f8(0x10a)];else{if(_0x1c3a00[0x0][_0x5600f8(0xd8)]==_0x5600f8(0xdc))var _0x245f5b=users[_0x5600f8(0xdc)];else{if(_0x1c3a00[0x0]['language']==_0x5600f8(0xf1))var _0x245f5b=users['German'];else{if(_0x1c3a00[0x0][_0x5600f8(0xd8)]=='Spanish')var _0x245f5b=users[_0x5600f8(0xd1)];else{if(_0x1c3a00[0x0][_0x5600f8(0xd8)]==_0x5600f8(0xcc))var _0x245f5b=users[_0x5600f8(0xcc)];else{if(_0x1c3a00[0x0][_0x5600f8(0xd8)]==_0x5600f8(0xcf))var _0x245f5b=users['Portuguese'];else{if(_0x1c3a00[0x0][_0x5600f8(0xd8)]=='Chinese')var _0x245f5b=users[_0x5600f8(0x117)];else{if(_0x1c3a00[0x0][_0x5600f8(0xd8)]=='Arabic\x20(ae)')var _0x245f5b=users[_0x5600f8(0x10e)];}}}}}}}if(_0x25e08a['account_category']=='wm'){var _0x4e2153;if(_0x25e08a['warehouse_category']==_0x5600f8(0xce)){const _0x358d53=await product[_0x5600f8(0xd5)]({'product_category':'Raw\x20Materials'});_0x4e2153=_0x358d53[_0x5600f8(0xc6)];}else{if(_0x25e08a[_0x5600f8(0xc9)]==_0x5600f8(0xe2)){const _0x54c4e2=await product[_0x5600f8(0xd5)]({'product_category':_0x5600f8(0xe2)});_0x4e2153=_0x54c4e2[_0x5600f8(0xc6)];}else{const _0x362ee5=await product[_0x5600f8(0xd5)]();_0x4e2153=_0x362ee5[_0x5600f8(0xc6)];}}const _0x3b8448=await sales[_0x5600f8(0x103)]([{'$group':{'_id':null,'total_price':{'$sum':_0x5600f8(0x104)}}}]),_0x32e304=await sales['aggregate']([{'$unwind':_0x5600f8(0x100)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5600f8(0xf3)}}}]),_0xd59191=await sales_return[_0x5600f8(0x103)]([{'$group':{'_id':null,'total':{'$sum':_0x5600f8(0x116)}}}]),_0x400842=await sales_return[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0xfd)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_sale.sale_qty'}}}]),_0x461342=await purchases[_0x5600f8(0x103)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x322665=await purchases_return[_0x5600f8(0x103)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x1106f4=await purchases_return[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0x109)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x318d57=await purchases[_0x5600f8(0x103)]([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5600f8(0xc5)}}}]),_0x238438=await purchases[_0x5600f8(0x103)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2f3a88=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x21eb88=await transfers[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0xfb)},{'$group':{'_id':_0x5600f8(0x110),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':_0x5600f8(0xe7)},'TototalQuantity':{'$sum':_0x5600f8(0x102)}}}]),_0x13db53=await categories['find'](),_0x5d16a0=await product['find'](),_0x3d9f46=await suppliers[_0x5600f8(0xd5)](),_0x1df41e=await customer[_0x5600f8(0xd5)]();_0x36f686[_0x5600f8(0xc8)](_0x5600f8(0xeb),{'success':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0x112)),'errors':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0xdb)),'role':_0x25e08a,'profile':_0x10fb86,'sale':_0x3b8448[0x0],'sales_return':_0xd59191[0x0],'purchases':_0x461342[0x0],'purchases_return':_0x322665[0x0],'purchases_table':_0x238438,'sales_table':_0x2f3a88,'categories':_0x13db53[_0x5600f8(0xc6)],'product':_0x5d16a0[_0x5600f8(0xc6)],'suppliers':_0x3d9f46['length'],'customer':_0x1df41e[_0x5600f8(0xc6)],'master_shop':_0x1c3a00,'language':_0x245f5b,'sale_QTY':_0x32e304[0x0],'purchases_QTY':_0x318d57[0x0],'sales_return_QTY':_0x400842[0x0],'purchases_return_QTY':_0x1106f4[0x0],'transfer_table':_0x21eb88,'product_cnt':_0x4e2153});}else{if(_0x25e08a['account_category']=='sa'){const _0x29ab45=await staff[_0x5600f8(0xff)]({'email':_0x25e08a['email']}),_0x285ea7=await sales_sa['find']({'sales_staff_id':_0x29ab45[_0x5600f8(0xd7)]}),_0x3322ea=await sales_sa[_0x5600f8(0xd5)]({'sales_staff_id':_0x29ab45[_0x5600f8(0xd7)],'paid':_0x5600f8(0xec)}),_0x2c4ae1=await sales_sa[_0x5600f8(0xd5)]({'sales_staff_id':_0x29ab45['_id'],'paid':_0x5600f8(0x10f)}),_0x129b02=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x29ab45[_0x5600f8(0xd7)]['valueOf']()}},{'$unwind':_0x5600f8(0x100)},{'$group':{'_id':null,'sumprice':{'$sum':'$sale_product.price'},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x5600f8(0x107),_0x5600f8(0xdf)]},0x2]}}}]),_0x449f31=await staff['aggregate']([{'$match':{'email':_0x25e08a[_0x5600f8(0xf8)]}},{'$unwind':_0x5600f8(0xf2)},{'$group':{'_id':null,'totalQTY':{'$sum':_0x5600f8(0xe9)}}}]);_0x36f686[_0x5600f8(0xc8)]('index_sa',{'success':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0x112)),'errors':_0x5669d3['flash'](_0x5600f8(0xdb)),'role':_0x25e08a,'profile':_0x10fb86,'master_shop':_0x1c3a00,'language':_0x245f5b,'cntPaid':_0x3322ea,'cntNotPaid':_0x2c4ae1,'avg_price':_0x129b02[0x0],'my_stock':_0x449f31[0x0],'staff_arr':_0x29ab45});}else{if(_0x25e08a[_0x5600f8(0xe8)]==_0x5600f8(0x106)){const _0x5a8a61=await staff[_0x5600f8(0xff)]({'email':_0x25e08a[_0x5600f8(0xf8)]});_0x36f686['render'](_0x5600f8(0xc7),{'success':_0x5669d3['flash'](_0x5600f8(0x112)),'errors':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0xdb)),'role':_0x25e08a,'profile':_0x10fb86,'master_shop':_0x1c3a00,'language':_0x245f5b}),_0x36f686[_0x5600f8(0x111)](_0x5a8a61);}else{if(_0x25e08a[_0x5600f8(0xe8)]==_0x5600f8(0xf6)||_0x25e08a[_0x5600f8(0xe8)]=='rsm'||_0x25e08a['account_category']==_0x5600f8(0x10d)){const _0x300276=await staff[_0x5600f8(0xff)]({'email':_0x25e08a[_0x5600f8(0xf8)]});_0x36f686['render'](_0x5600f8(0xe0),{'success':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0x112)),'errors':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0xdb)),'role':_0x25e08a,'profile':_0x10fb86,'master_shop':_0x1c3a00,'language':_0x245f5b});}else{var _0x4e2153;if(_0x25e08a[_0x5600f8(0xc9)]==_0x5600f8(0xce)){const _0x3116cb=await product['find']({'product_category':'Raw\x20Materials'});_0x4e2153=_0x3116cb[_0x5600f8(0xc6)];}else{if(_0x25e08a[_0x5600f8(0xc9)]==_0x5600f8(0xe2)){const _0xfd27cb=await product[_0x5600f8(0xd5)]({'product_category':'Finished\x20Goods'});_0x4e2153=_0xfd27cb[_0x5600f8(0xc6)];}else{const _0x2a89dc=await product['find']();_0x4e2153=_0x2a89dc['length'];}}const _0x18195b=await sales[_0x5600f8(0x103)]([{'$group':{'_id':null,'total_price':{'$sum':_0x5600f8(0x104)}}}]),_0x3ab306=await sales[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0x100)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5600f8(0xf3)}}}]),_0x1c90da=await sales_return[_0x5600f8(0x103)]([{'$group':{'_id':null,'total':{'$sum':_0x5600f8(0x116)}}}]),_0x475de8=await sales_return[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0xfd)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5600f8(0xda)}}}]),_0x12fe5f=await purchases[_0x5600f8(0x103)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x2bd0df=await purchases_return[_0x5600f8(0x103)]([{'$group':{'_id':null,'total':{'$sum':_0x5600f8(0x116)}}}]),_0xf682a0=await purchases_return[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0x109)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5600f8(0xfe)}}}]),_0x2ba273=await purchases[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0xfb)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5600f8(0xc5)}}}]),_0x1182eb=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x3b5a2f=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1843d3=await transfers[_0x5600f8(0x103)]([{'$unwind':_0x5600f8(0xfb)},{'$group':{'_id':_0x5600f8(0x110),'fromWarehouse':{'$first':_0x5600f8(0xed)},'toWareHouse':{'$first':_0x5600f8(0xc3)},'FromtotalQuantity':{'$sum':_0x5600f8(0xe7)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x11d2cb=await categories[_0x5600f8(0xd5)](),_0x588d6b=await product['find'](),_0x4aff9a=await suppliers[_0x5600f8(0xd5)](),_0x7f8cd2=await customer[_0x5600f8(0xd5)]();_0x36f686['render'](_0x5600f8(0xeb),{'success':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0x112)),'errors':_0x5669d3[_0x5600f8(0xea)](_0x5600f8(0xdb)),'role':_0x25e08a,'profile':_0x10fb86,'sale':_0x18195b[0x0],'sales_return':_0x1c90da[0x0],'purchases':_0x12fe5f[0x0],'purchases_return':_0x2bd0df[0x0],'purchases_table':_0x1182eb,'sales_table':_0x3b5a2f,'categories':_0x11d2cb[_0x5600f8(0xc6)],'product':_0x588d6b[_0x5600f8(0xc6)],'suppliers':_0x4aff9a['length'],'customer':_0x7f8cd2[_0x5600f8(0xc6)],'master_shop':_0x1c3a00,'language':_0x245f5b,'sale_QTY':_0x3ab306[0x0],'purchases_QTY':_0x2ba273[0x0],'sales_return_QTY':_0x475de8[0x0],'purchases_return_QTY':_0xf682a0[0x0],'transfer_table':_0x1843d3,'product_cnt':_0x4e2153});}}}}}catch(_0x246f2f){console['log'](_0x246f2f);}}),router[a0_0x1785e1(0x118)](a0_0x1785e1(0xe4),auth,async(_0x3c19c2,_0x382239)=>{const _0x1e5c05=a0_0x1785e1;try{const _0x3221da=_0x3c19c2['user'],_0x278f6c=await staff['findOne']({'email':_0x3221da[_0x1e5c05(0xf8)]}),_0x543fe4=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x278f6c[_0x1e5c05(0xd7)][_0x1e5c05(0xf9)](),'paid':'False'}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x382239[_0x1e5c05(0x111)](_0x543fe4);}catch(_0x581c26){_0x382239[_0x1e5c05(0x111)](_0x581c26);}}),router[a0_0x1785e1(0x118)](a0_0x1785e1(0x105),auth,async(_0x40192f,_0x1a0201)=>{const _0x4ad4cf=a0_0x1785e1;try{const _0x3c4b8f=_0x40192f[_0x4ad4cf(0xe6)],_0x5c89c4=await staff['findOne']({'email':_0x3c4b8f[_0x4ad4cf(0xf8)]}),_0x26e30f=await sales_sa['find']({'sales_staff_id':_0x5c89c4['_id'],'paid':'False'});_0x1a0201[_0x4ad4cf(0x111)](_0x26e30f);}catch(_0x20e8c4){_0x1a0201['json'](_0x20e8c4);}}),router[a0_0x1785e1(0xf5)]('/get_count',auth,async(_0x5b3582,_0x43a2b4)=>{const _0x3f020c=a0_0x1785e1;try{const {sttaff_id:_0x7453e2,warehouse:_0x539672,account_category:_0x5d7da2}=_0x5b3582[_0x3f020c(0xe6)],_0x491f81=await sales_order['aggregate']([{'$match':{'accounting_account_id':_0x7453e2,'accounting_account_confirm':_0x3f020c(0xfa)}}]);_0x43a2b4['json'](_0x491f81);}catch(_0x3692d7){}}),router[a0_0x1785e1(0x118)]('/paid_data_table',auth,async(_0x461f11,_0x318e6b)=>{const _0xa1c0e0=a0_0x1785e1;try{const _0x4e87e9=_0x461f11['user'],_0x2de2ee=await staff['findOne']({'email':_0x4e87e9['email']}),_0x3fe028=await sales_sa[_0xa1c0e0(0xd5)]({'sales_staff_id':_0x2de2ee[_0xa1c0e0(0xd7)],'paid':_0xa1c0e0(0xec)});_0x318e6b[_0xa1c0e0(0x111)](_0x3fe028);}catch(_0x5e3f0b){_0x318e6b[_0xa1c0e0(0x111)](_0x5e3f0b);}}),router[a0_0x1785e1(0x118)](a0_0x1785e1(0xd0),auth,async(_0x38ff34,_0x48a5d7)=>{const _0x10a0db=a0_0x1785e1;try{const _0x2fa8db=_0x38ff34[_0x10a0db(0xe6)],_0x1d5121=await staff[_0x10a0db(0xff)]({'email':_0x2fa8db['email']}),_0x488003=await sales_sa[_0x10a0db(0x103)]([{'$match':{'sales_staff_id':_0x1d5121[_0x10a0db(0xd7)][_0x10a0db(0xf9)](),'paid':_0x10a0db(0xec)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x48a5d7['json'](_0x488003);}catch(_0x3e05ca){_0x48a5d7[_0x10a0db(0x111)](_0x3e05ca);}}),router[a0_0x1785e1(0xf5)]('/update_data',auth,async(_0x138f80,_0x246d71)=>{const _0x4f0218=a0_0x1785e1;try{const {id:_0x54e639,price:_0xc925ce}=_0x138f80[_0x4f0218(0x101)],_0x83e781=await sales_sa[_0x4f0218(0x115)](_0x54e639);_0x83e781[_0x4f0218(0x114)]=_0x4f0218(0xec),_0x83e781['collection_price']=parseFloat(_0xc925ce);const _0x3dcf97=await _0x83e781[_0x4f0218(0xe5)]();_0x246d71[_0x4f0218(0x111)](_0x3dcf97);}catch(_0x3cc15b){_0x246d71[_0x4f0218(0x111)](_0x3cc15b);}}),router[a0_0x1785e1(0x118)](a0_0x1785e1(0x105),auth,async(_0x55fbcb,_0x42f5f5)=>{const _0x5eed09=a0_0x1785e1;try{const _0x327f07=_0x55fbcb[_0x5eed09(0xe6)],_0x297338=await staff['findOne']({'email':_0x327f07[_0x5eed09(0xf8)]}),_0x38d096=await sales_sa[_0x5eed09(0xd5)]({'sales_staff_id':_0x297338[_0x5eed09(0xd7)],'paid':_0x5eed09(0x10f)});_0x42f5f5[_0x5eed09(0x111)](_0x38d096);}catch(_0x50c454){_0x42f5f5[_0x5eed09(0x111)](_0x50c454);}}),router['get'](a0_0x1785e1(0xf4),auth,async(_0x29e25c,_0x1ea86f)=>{const _0x41b0de=a0_0x1785e1;try{const _0x2a050f=_0x29e25c[_0x41b0de(0xe6)],_0x33a6d0=await staff[_0x41b0de(0xff)]({'email':_0x2a050f[_0x41b0de(0xf8)]}),_0xfb159c=await sales_sa[_0x41b0de(0x103)]([{'$match':{'sales_staff_id':_0x33a6d0[_0x41b0de(0xd7)][_0x41b0de(0xf9)]()}},{'$unwind':_0x41b0de(0x100)},{'$group':{'_id':null,'sumprice':{'$sum':_0x41b0de(0xdd)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x41b0de(0x107),_0x41b0de(0xdf)]},0x2]}}}]);_0x1ea86f[_0x41b0de(0x111)](_0xfb159c);}catch(_0x2ea10f){_0x1ea86f[_0x41b0de(0x111)](_0x2ea10f);}}),router[a0_0x1785e1(0x118)]('/my_inv',auth,async(_0x12d69f,_0x2ac129)=>{const _0x4f2d08=a0_0x1785e1;try{const _0x390178=_0x12d69f[_0x4f2d08(0xe6)],_0x1c2453=await staff['findOne']({'email':_0x390178[_0x4f2d08(0xf8)]}),_0x1504e1=await staff[_0x4f2d08(0x103)]([{'$match':{'email':_0x390178[_0x4f2d08(0xf8)]}},{'$unwind':_0x4f2d08(0xf2)},{'$match':{'product_list.isConfirm':_0x4f2d08(0xd9)}},{'$group':{'_id':null,'totalQTY':{'$sum':_0x4f2d08(0xe9)}}}]);_0x2ac129['json'](_0x1504e1);}catch(_0x500801){_0x2ac129[_0x4f2d08(0x111)](_0x500801);}}),router[a0_0x1785e1(0x118)](a0_0x1785e1(0x108),auth,async(_0x1bb1bf,_0x28b04f)=>{const _0x503883=a0_0x1785e1;try{const _0x4be90b=_0x1bb1bf[_0x503883(0xe6)],_0x1c1da5=await staff[_0x503883(0xff)]({'email':_0x4be90b[_0x503883(0xf8)]}),_0xcdb2ac=await sales_sa[_0x503883(0x103)]([{'$match':{'sales_staff_id':_0x1c1da5[_0x503883(0xd7)][_0x503883(0xf9)]()}},{'$unwind':'$sale_product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x503883(0xcd)}}},{'$sort':{'date':0x1}}]);_0x28b04f[_0x503883(0x111)](_0xcdb2ac);}catch(_0x598417){_0x28b04f[_0x503883(0x111)](_0x598417);}}),router[a0_0x1785e1(0x118)](a0_0x1785e1(0xee),auth,async(_0x112191,_0x58000a)=>{const _0x130aee=a0_0x1785e1;try{const _0x32b137=_0x112191[_0x130aee(0xe6)],_0x1a0980=await staff[_0x130aee(0xff)]({'email':_0x32b137['email']}),_0x5b8919=await sales_sa[_0x130aee(0x103)]([{'$match':{'sales_staff_id':_0x1a0980['_id'][_0x130aee(0xf9)]()}},{'$unwind':_0x130aee(0x100)},{'$group':{'_id':_0x130aee(0xcd),'totalPrice':{'$sum':_0x130aee(0xde)},'date':{'$first':_0x130aee(0xcd)}}},{'$sort':{'date':0x1}}]);_0x58000a['json'](_0x5b8919);}catch(_0xb34d72){_0x58000a[_0x130aee(0x111)](_0xb34d72);}}),module[a0_0x1785e1(0x10b)]=router;