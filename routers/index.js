const a0_0x1c7f0a=a0_0x5d9d;(function(_0x5f5562,_0x3908a5){const _0x2f5078=a0_0x5d9d,_0x3bb785=_0x5f5562();while(!![]){try{const _0x174b9c=parseInt(_0x2f5078(0x162))/0x1+parseInt(_0x2f5078(0x16b))/0x2+-parseInt(_0x2f5078(0x182))/0x3+-parseInt(_0x2f5078(0x16d))/0x4+parseInt(_0x2f5078(0x196))/0x5*(-parseInt(_0x2f5078(0x17e))/0x6)+-parseInt(_0x2f5078(0x19d))/0x7*(parseInt(_0x2f5078(0x19b))/0x8)+parseInt(_0x2f5078(0x16c))/0x9;if(_0x174b9c===_0x3908a5)break;else _0x3bb785['push'](_0x3bb785['shift']());}catch(_0x5dc6cf){_0x3bb785['push'](_0x3bb785['shift']());}}}(a0_0x778c,0x7bda4));function a0_0x778c(){const _0x345259=['$date','body','flash','findOne','Chinese','$sumprice','$product.quantity','$sale_product.quantity','$product_list.product_stock','user','$sale_product','sad','$return_product.return_qty','$sale_product.price','rsm','/paid_data_table','find','/sales_chart','warehouse_category','success','877315KvAKVg','express','../public/language/languages.json','$to_warehouse','Portuguese','index','English\x20(US)','Finished\x20Goods','false','570042xAklQC','895842VNTUts','497920EFpHKJ','German','render','/pending_data','/price_chart','/paid_data','email','$product','French','save','true','exports','json','$return_sale','$product.product_name','$count','errors','26004bCUDyW','Hindi','log','Arabic','970731qhwVhr','False','findById','valueOf','$total_price','../middleware/auth','$total_amount','$from_warehouse','/index','aggregate','$product_list','account_category','acc','English','True','get','$product.from_quantity','Raw\x20Materials','$product.to_quantity','index_asd','120tVYEuT','length','Arabic\x20(ae)','_id','$return_product','124616mvMIVp','language','91tICmdX','$return_sale.sale_qty','$sale_product.totalprice','/update_data'];a0_0x778c=function(){return _0x345259;};return a0_0x778c();}const express=require(a0_0x1c7f0a(0x163)),app=express(),router=express['Router'](),auth=require(a0_0x1c7f0a(0x187)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order}=require('../models/all_models'),users=require(a0_0x1c7f0a(0x164));function a0_0x5d9d(_0x4ab5f5,_0x19e7e5){const _0x778c60=a0_0x778c();return a0_0x5d9d=function(_0x5d9d63,_0x49afca){_0x5d9d63=_0x5d9d63-0x161;let _0x1da24a=_0x778c60[_0x5d9d63];return _0x1da24a;},a0_0x5d9d(_0x4ab5f5,_0x19e7e5);}router[a0_0x1c7f0a(0x191)](a0_0x1c7f0a(0x18a),auth,async(_0x5c51b7,_0x30e68e)=>{const _0x5e1587=a0_0x1c7f0a;try{const {username:_0x239ac0,email:_0x4aa9a9,role:_0x4c1c33}=_0x5c51b7['user'],_0x4daf83=_0x5c51b7[_0x5e1587(0x1aa)],_0x48087f=await master_shop[_0x5e1587(0x1b1)](),_0x4eb6bd=await profile[_0x5e1587(0x1a4)]({'email':_0x4daf83['email']});if(_0x48087f[0x0]['language']==_0x5e1587(0x168))var _0x4310e5=users[_0x5e1587(0x18f)];else{if(_0x48087f[0x0][_0x5e1587(0x19c)]==_0x5e1587(0x17f))var _0x4310e5=users[_0x5e1587(0x17f)];else{if(_0x48087f[0x0][_0x5e1587(0x19c)]==_0x5e1587(0x16e))var _0x4310e5=users[_0x5e1587(0x16e)];else{if(_0x48087f[0x0][_0x5e1587(0x19c)]=='Spanish')var _0x4310e5=users['Spanish'];else{if(_0x48087f[0x0][_0x5e1587(0x19c)]==_0x5e1587(0x175))var _0x4310e5=users['French'];else{if(_0x48087f[0x0]['language']=='Portuguese\x20(BR)')var _0x4310e5=users[_0x5e1587(0x166)];else{if(_0x48087f[0x0][_0x5e1587(0x19c)]==_0x5e1587(0x1a5))var _0x4310e5=users[_0x5e1587(0x1a5)];else{if(_0x48087f[0x0][_0x5e1587(0x19c)]==_0x5e1587(0x198))var _0x4310e5=users[_0x5e1587(0x181)];}}}}}}}if(_0x4daf83['account_category']=='wm'){var _0x1d431d;if(_0x4daf83['warehouse_category']==_0x5e1587(0x193)){const _0x4d146a=await product['find']({'product_category':_0x5e1587(0x193)});_0x1d431d=_0x4d146a['length'];}else{if(_0x4daf83[_0x5e1587(0x1b3)]=='Finished\x20Goods'){const _0x3ea601=await product[_0x5e1587(0x1b1)]({'product_category':_0x5e1587(0x169)});_0x1d431d=_0x3ea601[_0x5e1587(0x197)];}else{const _0x469ab2=await product[_0x5e1587(0x1b1)]();_0x1d431d=_0x469ab2[_0x5e1587(0x197)];}}const _0x42a964=await sales[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total_price':{'$sum':_0x5e1587(0x186)}}}]),_0x1d6f69=await sales[_0x5e1587(0x18b)]([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e1587(0x1a8)}}}]),_0x5be8a6=await sales_return[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total':{'$sum':_0x5e1587(0x188)}}}]),_0x28d1ec=await sales_return[_0x5e1587(0x18b)]([{'$unwind':_0x5e1587(0x17a)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e1587(0x19e)}}}]),_0x2d3a12=await purchases[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x5e1587(0x188)}}}]),_0x35b593=await purchases_return[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total':{'$sum':_0x5e1587(0x188)}}}]),_0x30b637=await purchases_return[_0x5e1587(0x18b)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e1587(0x1ad)}}}]),_0xdd5056=await purchases[_0x5e1587(0x18b)]([{'$unwind':_0x5e1587(0x174)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e1587(0x1a7)}}}]),_0x30c831=await purchases[_0x5e1587(0x18b)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x371a84=await sales[_0x5e1587(0x18b)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x432e61=await transfers[_0x5e1587(0x18b)]([{'$unwind':'$product'},{'$group':{'_id':_0x5e1587(0x17b),'fromWarehouse':{'$first':_0x5e1587(0x189)},'toWareHouse':{'$first':_0x5e1587(0x165)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x5e1587(0x194)}}}]),_0x524025=await categories['find'](),_0xa4c063=await product[_0x5e1587(0x1b1)](),_0x398733=await suppliers[_0x5e1587(0x1b1)](),_0x241ccc=await customer[_0x5e1587(0x1b1)]();_0x30e68e['render'](_0x5e1587(0x167),{'success':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x161)),'errors':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x17d)),'role':_0x4daf83,'profile':_0x4eb6bd,'sale':_0x42a964[0x0],'sales_return':_0x5be8a6[0x0],'purchases':_0x2d3a12[0x0],'purchases_return':_0x35b593[0x0],'purchases_table':_0x30c831,'sales_table':_0x371a84,'categories':_0x524025[_0x5e1587(0x197)],'product':_0xa4c063[_0x5e1587(0x197)],'suppliers':_0x398733[_0x5e1587(0x197)],'customer':_0x241ccc[_0x5e1587(0x197)],'master_shop':_0x48087f,'language':_0x4310e5,'sale_QTY':_0x1d6f69[0x0],'purchases_QTY':_0xdd5056[0x0],'sales_return_QTY':_0x28d1ec[0x0],'purchases_return_QTY':_0x30b637[0x0],'transfer_table':_0x432e61,'product_cnt':_0x1d431d});}else{if(_0x4daf83[_0x5e1587(0x18d)]=='sa'){const _0x200d37=await staff[_0x5e1587(0x1a4)]({'email':_0x4daf83['email']}),_0x5f1a0f=await sales_sa[_0x5e1587(0x1b1)]({'sales_staff_id':_0x200d37[_0x5e1587(0x199)]}),_0x41c4a1=await sales_sa[_0x5e1587(0x1b1)]({'sales_staff_id':_0x200d37[_0x5e1587(0x199)],'paid':_0x5e1587(0x190)}),_0x5f4073=await sales_sa['find']({'sales_staff_id':_0x200d37[_0x5e1587(0x199)],'paid':_0x5e1587(0x183)}),_0x4089d9=await sales_sa[_0x5e1587(0x18b)]([{'$match':{'sales_staff_id':_0x200d37['_id']['valueOf']()}},{'$unwind':_0x5e1587(0x1ab)},{'$group':{'_id':null,'sumprice':{'$sum':_0x5e1587(0x1ae)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x5e1587(0x1a6),_0x5e1587(0x17c)]},0x2]}}}]),_0x546cda=await staff[_0x5e1587(0x18b)]([{'$match':{'email':_0x4daf83['email']}},{'$unwind':_0x5e1587(0x18c)},{'$group':{'_id':null,'totalQTY':{'$sum':_0x5e1587(0x1a9)}}}]);_0x30e68e[_0x5e1587(0x16f)]('index_sa',{'success':_0x5c51b7[_0x5e1587(0x1a3)]('success'),'errors':_0x5c51b7[_0x5e1587(0x1a3)]('errors'),'role':_0x4daf83,'profile':_0x4eb6bd,'master_shop':_0x48087f,'language':_0x4310e5,'cntPaid':_0x41c4a1,'cntNotPaid':_0x5f4073,'avg_price':_0x4089d9[0x0],'my_stock':_0x546cda[0x0],'staff_arr':_0x200d37});}else{if(_0x4daf83[_0x5e1587(0x18d)]==_0x5e1587(0x18e)){const _0x2188e8=await staff[_0x5e1587(0x1a4)]({'email':_0x4daf83[_0x5e1587(0x173)]});_0x30e68e['render']('index_acc',{'success':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x161)),'errors':_0x5c51b7[_0x5e1587(0x1a3)]('errors'),'role':_0x4daf83,'profile':_0x4eb6bd,'master_shop':_0x48087f,'language':_0x4310e5}),_0x30e68e[_0x5e1587(0x179)](_0x2188e8);}else{if(_0x4daf83[_0x5e1587(0x18d)]==_0x5e1587(0x1ac)||_0x4daf83[_0x5e1587(0x18d)]==_0x5e1587(0x1af)||_0x4daf83[_0x5e1587(0x18d)]=='fss'){const _0x23177b=await staff['findOne']({'email':_0x4daf83[_0x5e1587(0x173)]});_0x30e68e[_0x5e1587(0x16f)](_0x5e1587(0x195),{'success':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x161)),'errors':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x17d)),'role':_0x4daf83,'profile':_0x4eb6bd,'master_shop':_0x48087f,'language':_0x4310e5});}else{var _0x1d431d;if(_0x4daf83[_0x5e1587(0x1b3)]==_0x5e1587(0x193)){const _0x490eee=await product[_0x5e1587(0x1b1)]({'product_category':_0x5e1587(0x193)});_0x1d431d=_0x490eee[_0x5e1587(0x197)];}else{if(_0x4daf83['warehouse_category']==_0x5e1587(0x169)){const _0x8ddb6=await product['find']({'product_category':_0x5e1587(0x169)});_0x1d431d=_0x8ddb6['length'];}else{const _0x235c70=await product[_0x5e1587(0x1b1)]();_0x1d431d=_0x235c70['length'];}}const _0x5b5c0b=await sales[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total_price':{'$sum':'$total_price'}}}]),_0x51f2d4=await sales['aggregate']([{'$unwind':_0x5e1587(0x1ab)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x311fc8=await sales_return[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total':{'$sum':_0x5e1587(0x188)}}}]),_0x299744=await sales_return[_0x5e1587(0x18b)]([{'$unwind':_0x5e1587(0x17a)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e1587(0x19e)}}}]),_0xb71358=await purchases[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x5e1587(0x188)}}}]),_0x18bde9=await purchases_return[_0x5e1587(0x18b)]([{'$group':{'_id':null,'total':{'$sum':_0x5e1587(0x188)}}}]),_0x4cad6e=await purchases_return[_0x5e1587(0x18b)]([{'$unwind':_0x5e1587(0x19a)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x441ddb=await purchases['aggregate']([{'$unwind':_0x5e1587(0x174)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x48f9f7=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0xfb4fd4=await sales[_0x5e1587(0x18b)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x6754f0=await transfers[_0x5e1587(0x18b)]([{'$unwind':'$product'},{'$group':{'_id':_0x5e1587(0x17b),'fromWarehouse':{'$first':_0x5e1587(0x189)},'toWareHouse':{'$first':_0x5e1587(0x165)},'FromtotalQuantity':{'$sum':_0x5e1587(0x192)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x4eabd4=await categories[_0x5e1587(0x1b1)](),_0x38a1ce=await product['find'](),_0x59e541=await suppliers[_0x5e1587(0x1b1)](),_0x49ed3d=await customer[_0x5e1587(0x1b1)]();_0x30e68e['render'](_0x5e1587(0x167),{'success':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x161)),'errors':_0x5c51b7[_0x5e1587(0x1a3)](_0x5e1587(0x17d)),'role':_0x4daf83,'profile':_0x4eb6bd,'sale':_0x5b5c0b[0x0],'sales_return':_0x311fc8[0x0],'purchases':_0xb71358[0x0],'purchases_return':_0x18bde9[0x0],'purchases_table':_0x48f9f7,'sales_table':_0xfb4fd4,'categories':_0x4eabd4[_0x5e1587(0x197)],'product':_0x38a1ce[_0x5e1587(0x197)],'suppliers':_0x59e541['length'],'customer':_0x49ed3d['length'],'master_shop':_0x48087f,'language':_0x4310e5,'sale_QTY':_0x51f2d4[0x0],'purchases_QTY':_0x441ddb[0x0],'sales_return_QTY':_0x299744[0x0],'purchases_return_QTY':_0x4cad6e[0x0],'transfer_table':_0x6754f0,'product_cnt':_0x1d431d});}}}}}catch(_0x3864e2){console[_0x5e1587(0x180)](_0x3864e2);}}),router[a0_0x1c7f0a(0x191)]('/pending_data_table',auth,async(_0x556db7,_0x2b5a05)=>{const _0x4536c7=a0_0x1c7f0a;try{const _0x13c4fc=_0x556db7[_0x4536c7(0x1aa)],_0x744da2=await staff[_0x4536c7(0x1a4)]({'email':_0x13c4fc[_0x4536c7(0x173)]}),_0xecead2=await sales_sa[_0x4536c7(0x18b)]([{'$match':{'sales_staff_id':_0x744da2[_0x4536c7(0x199)]['valueOf'](),'paid':'False'}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x2b5a05[_0x4536c7(0x179)](_0xecead2);}catch(_0x3f3fdf){_0x2b5a05[_0x4536c7(0x179)](_0x3f3fdf);}}),router['get'](a0_0x1c7f0a(0x170),auth,async(_0x4df360,_0x21297f)=>{const _0x1a87b8=a0_0x1c7f0a;try{const _0x3712db=_0x4df360[_0x1a87b8(0x1aa)],_0x3d0cc9=await staff[_0x1a87b8(0x1a4)]({'email':_0x3712db[_0x1a87b8(0x173)]}),_0x5f1db0=await sales_sa[_0x1a87b8(0x1b1)]({'sales_staff_id':_0x3d0cc9[_0x1a87b8(0x199)],'paid':_0x1a87b8(0x183)});_0x21297f[_0x1a87b8(0x179)](_0x5f1db0);}catch(_0x1dde30){_0x21297f[_0x1a87b8(0x179)](_0x1dde30);}}),router['post']('/get_count',auth,async(_0x2ce74e,_0x5928ba)=>{const _0x267092=a0_0x1c7f0a;try{const {sttaff_id:_0x223c07,warehouse:_0x49bd2b,account_category:_0x2f06c1}=_0x2ce74e['user'],_0x50f905=await sales_order[_0x267092(0x18b)]([{'$match':{'accounting_account_id':_0x223c07,'accounting_account_confirm':_0x267092(0x16a)}}]);_0x5928ba['json'](_0x50f905);}catch(_0x5877d7){}}),router[a0_0x1c7f0a(0x191)](a0_0x1c7f0a(0x1b0),auth,async(_0x39a8c5,_0x26817a)=>{const _0x481ed5=a0_0x1c7f0a;try{const _0x50f5f8=_0x39a8c5[_0x481ed5(0x1aa)],_0x309080=await staff[_0x481ed5(0x1a4)]({'email':_0x50f5f8['email']}),_0x27bd33=await sales_sa[_0x481ed5(0x1b1)]({'sales_staff_id':_0x309080[_0x481ed5(0x199)],'paid':_0x481ed5(0x190)});_0x26817a[_0x481ed5(0x179)](_0x27bd33);}catch(_0x2b554c){_0x26817a['json'](_0x2b554c);}}),router['get'](a0_0x1c7f0a(0x172),auth,async(_0x3a1fd4,_0x34ad69)=>{const _0x57bd72=a0_0x1c7f0a;try{const _0xe3b6e3=_0x3a1fd4[_0x57bd72(0x1aa)],_0x55409e=await staff[_0x57bd72(0x1a4)]({'email':_0xe3b6e3['email']}),_0x4bfdb6=await sales_sa[_0x57bd72(0x18b)]([{'$match':{'sales_staff_id':_0x55409e['_id'][_0x57bd72(0x185)](),'paid':_0x57bd72(0x190)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x34ad69[_0x57bd72(0x179)](_0x4bfdb6);}catch(_0x179af4){_0x34ad69['json'](_0x179af4);}}),router['post'](a0_0x1c7f0a(0x1a0),auth,async(_0x4b5499,_0x803fda)=>{const _0x5765d5=a0_0x1c7f0a;try{const {id:_0x3dfd6c,price:_0x5d97ae}=_0x4b5499[_0x5765d5(0x1a2)],_0x23ed75=await sales_sa[_0x5765d5(0x184)](_0x3dfd6c);_0x23ed75['paid']='True',_0x23ed75['collection_price']=parseFloat(_0x5d97ae);const _0x4a15d7=await _0x23ed75[_0x5765d5(0x176)]();_0x803fda[_0x5765d5(0x179)](_0x4a15d7);}catch(_0x58e653){_0x803fda['json'](_0x58e653);}}),router[a0_0x1c7f0a(0x191)](a0_0x1c7f0a(0x170),auth,async(_0x2a740e,_0x2bf14f)=>{const _0x5b35a1=a0_0x1c7f0a;try{const _0x29081f=_0x2a740e[_0x5b35a1(0x1aa)],_0x5d2ba2=await staff['findOne']({'email':_0x29081f['email']}),_0x3e2759=await sales_sa[_0x5b35a1(0x1b1)]({'sales_staff_id':_0x5d2ba2[_0x5b35a1(0x199)],'paid':_0x5b35a1(0x183)});_0x2bf14f['json'](_0x3e2759);}catch(_0x3cea76){_0x2bf14f[_0x5b35a1(0x179)](_0x3cea76);}}),router[a0_0x1c7f0a(0x191)]('/avg_data',auth,async(_0x34daef,_0x40f6ce)=>{const _0x2b6d3b=a0_0x1c7f0a;try{const _0xe93c30=_0x34daef['user'],_0x46d04f=await staff['findOne']({'email':_0xe93c30[_0x2b6d3b(0x173)]}),_0xaca2b=await sales_sa[_0x2b6d3b(0x18b)]([{'$match':{'sales_staff_id':_0x46d04f[_0x2b6d3b(0x199)][_0x2b6d3b(0x185)]()}},{'$unwind':_0x2b6d3b(0x1ab)},{'$group':{'_id':null,'sumprice':{'$sum':_0x2b6d3b(0x1ae)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x2b6d3b(0x1a6),'$count']},0x2]}}}]);_0x40f6ce[_0x2b6d3b(0x179)](_0xaca2b);}catch(_0x412c51){_0x40f6ce[_0x2b6d3b(0x179)](_0x412c51);}}),router[a0_0x1c7f0a(0x191)]('/my_inv',auth,async(_0x35dcc6,_0x16410a)=>{const _0x213333=a0_0x1c7f0a;try{const _0x15892c=_0x35dcc6[_0x213333(0x1aa)],_0x700694=await staff[_0x213333(0x1a4)]({'email':_0x15892c[_0x213333(0x173)]}),_0x52762f=await staff[_0x213333(0x18b)]([{'$match':{'email':_0x15892c[_0x213333(0x173)]}},{'$unwind':_0x213333(0x18c)},{'$match':{'product_list.isConfirm':_0x213333(0x177)}},{'$group':{'_id':null,'totalQTY':{'$sum':_0x213333(0x1a9)}}}]);_0x16410a[_0x213333(0x179)](_0x52762f);}catch(_0x1cd85f){_0x16410a[_0x213333(0x179)](_0x1cd85f);}}),router[a0_0x1c7f0a(0x191)](a0_0x1c7f0a(0x1b2),auth,async(_0x3dbede,_0x35de55)=>{const _0x1d042f=a0_0x1c7f0a;try{const _0x32cda2=_0x3dbede[_0x1d042f(0x1aa)],_0x22f633=await staff['findOne']({'email':_0x32cda2[_0x1d042f(0x173)]}),_0x4e3c6e=await sales_sa[_0x1d042f(0x18b)]([{'$match':{'sales_staff_id':_0x22f633[_0x1d042f(0x199)][_0x1d042f(0x185)]()}},{'$unwind':'$sale_product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x1d042f(0x1a1)}}},{'$sort':{'date':0x1}}]);_0x35de55[_0x1d042f(0x179)](_0x4e3c6e);}catch(_0x4cb0c5){_0x35de55[_0x1d042f(0x179)](_0x4cb0c5);}}),router[a0_0x1c7f0a(0x191)](a0_0x1c7f0a(0x171),auth,async(_0x2910ba,_0x18265f)=>{const _0x5ab53d=a0_0x1c7f0a;try{const _0x445f3d=_0x2910ba[_0x5ab53d(0x1aa)],_0x5cfe55=await staff['findOne']({'email':_0x445f3d[_0x5ab53d(0x173)]}),_0x3529fa=await sales_sa[_0x5ab53d(0x18b)]([{'$match':{'sales_staff_id':_0x5cfe55['_id'][_0x5ab53d(0x185)]()}},{'$unwind':_0x5ab53d(0x1ab)},{'$group':{'_id':_0x5ab53d(0x1a1),'totalPrice':{'$sum':_0x5ab53d(0x19f)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x18265f[_0x5ab53d(0x179)](_0x3529fa);}catch(_0x16c912){_0x18265f['json'](_0x16c912);}}),module[a0_0x1c7f0a(0x178)]=router;