const a0_0x7818f5=a0_0x5e34;function a0_0x5e34(_0x23fed3,_0x5e2767){const _0x36da0d=a0_0x36da();return a0_0x5e34=function(_0x5e3412,_0xc78e61){_0x5e3412=_0x5e3412-0x153;let _0x3fdea5=_0x36da0d[_0x5e3412];return _0x3fdea5;},a0_0x5e34(_0x23fed3,_0x5e2767);}function a0_0x36da(){const _0x5183b1=['$sale_product.quantity','3328010PGdVkW','245632nrSubq','email','True','json','Arabic\x20(ae)','$return_product','/update_data','$from_warehouse','German','language','get','/sales_chart','find','$sale_product','collection_price','account_category','false','$to_warehouse','log','render','13458yephkX','/pending_data','rsm','455OcWnET','$count','save','Raw\x20Materials','English\x20(US)','errors','Finished\x20Goods','$product_list','$date','post','French','$sale_product.totalprice','False','410KCAmCi','/paid_data','933555GlYmRr','$total_price','index_sa','$product.quantity','user','fss','$return_sale','exports','22887OlEzeC','$product.to_quantity','Chinese','Arabic','valueOf','index','/price_chart','length','1024860PeAsxE','../models/all_models','$product','success','../public/language/languages.json','$sumprice','Portuguese\x20(BR)','$sale_product.price','/paid_data_table','$return_product.return_qty','_id','$product.product_name','$return_sale.sale_qty','/my_inv','warehouse_category','findOne','aggregate','$total_amount','../middleware/auth','Spanish','true','acc','$product.from_quantity','1496HntiCg','/avg_data','5385PsDkKh','index_acc','flash','index_asd','express','Hindi','body'];a0_0x36da=function(){return _0x5183b1;};return a0_0x36da();}(function(_0x57119d,_0x49121b){const _0x13199a=a0_0x5e34,_0x1a4c8b=_0x57119d();while(!![]){try{const _0x2dd254=-parseInt(_0x13199a(0x18f))/0x1+parseInt(_0x13199a(0x15b))/0x2*(parseInt(_0x13199a(0x186))/0x3)+parseInt(_0x13199a(0x16d))/0x4+parseInt(_0x13199a(0x15d))/0x5+-parseInt(_0x13199a(0x1a3))/0x6*(parseInt(_0x13199a(0x1a6))/0x7)+-parseInt(_0x13199a(0x184))/0x8*(parseInt(_0x13199a(0x165))/0x9)+parseInt(_0x13199a(0x18e))/0xa;if(_0x2dd254===_0x49121b)break;else _0x1a4c8b['push'](_0x1a4c8b['shift']());}catch(_0x452d73){_0x1a4c8b['push'](_0x1a4c8b['shift']());}}}(a0_0x36da,0x438fe));const express=require(a0_0x7818f5(0x18a)),app=express(),router=express['Router'](),auth=require(a0_0x7818f5(0x17f)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order}=require(a0_0x7818f5(0x16e)),users=require(a0_0x7818f5(0x171));router[a0_0x7818f5(0x199)]('/index',auth,async(_0x3d43f1,_0x4f4b70)=>{const _0x41a814=a0_0x7818f5;try{const {username:_0x35bd83,email:_0x348a56,role:_0x34f2c9}=_0x3d43f1['user'],_0x8caf0f=_0x3d43f1[_0x41a814(0x161)],_0x4ed91a=await master_shop[_0x41a814(0x19b)](),_0x5af9d6=await profile['findOne']({'email':_0x8caf0f[_0x41a814(0x190)]});if(_0x4ed91a[0x0][_0x41a814(0x198)]==_0x41a814(0x1aa))var _0x1da5c8=users['English'];else{if(_0x4ed91a[0x0]['language']==_0x41a814(0x18b))var _0x1da5c8=users[_0x41a814(0x18b)];else{if(_0x4ed91a[0x0][_0x41a814(0x198)]==_0x41a814(0x197))var _0x1da5c8=users['German'];else{if(_0x4ed91a[0x0][_0x41a814(0x198)]==_0x41a814(0x180))var _0x1da5c8=users[_0x41a814(0x180)];else{if(_0x4ed91a[0x0][_0x41a814(0x198)]==_0x41a814(0x158))var _0x1da5c8=users[_0x41a814(0x158)];else{if(_0x4ed91a[0x0][_0x41a814(0x198)]==_0x41a814(0x173))var _0x1da5c8=users['Portuguese'];else{if(_0x4ed91a[0x0][_0x41a814(0x198)]=='Chinese')var _0x1da5c8=users[_0x41a814(0x167)];else{if(_0x4ed91a[0x0][_0x41a814(0x198)]==_0x41a814(0x193))var _0x1da5c8=users[_0x41a814(0x168)];}}}}}}}if(_0x8caf0f['account_category']=='wm'){var _0x5065cf;if(_0x8caf0f[_0x41a814(0x17b)]==_0x41a814(0x1a9)){const _0x3cdc38=await product[_0x41a814(0x19b)]({'product_category':_0x41a814(0x1a9)});_0x5065cf=_0x3cdc38[_0x41a814(0x16c)];}else{if(_0x8caf0f['warehouse_category']==_0x41a814(0x154)){const _0x3b6aa4=await product['find']({'product_category':'Finished\x20Goods'});_0x5065cf=_0x3b6aa4[_0x41a814(0x16c)];}else{const _0x36f7ab=await product[_0x41a814(0x19b)]();_0x5065cf=_0x36f7ab[_0x41a814(0x16c)];}}const _0xcf6503=await sales[_0x41a814(0x17d)]([{'$group':{'_id':null,'total_price':{'$sum':_0x41a814(0x15e)}}}]),_0x4ad41a=await sales[_0x41a814(0x17d)]([{'$unwind':_0x41a814(0x19c)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x18d)}}}]),_0x3316b5=await sales_return[_0x41a814(0x17d)]([{'$group':{'_id':null,'total':{'$sum':_0x41a814(0x17e)}}}]),_0x1758f1=await sales_return[_0x41a814(0x17d)]([{'$unwind':_0x41a814(0x163)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x179)}}}]),_0x18de26=await purchases[_0x41a814(0x17d)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x1fc194=await purchases_return[_0x41a814(0x17d)]([{'$group':{'_id':null,'total':{'$sum':_0x41a814(0x17e)}}}]),_0x480a67=await purchases_return['aggregate']([{'$unwind':_0x41a814(0x194)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x176)}}}]),_0x1d6a6f=await purchases[_0x41a814(0x17d)]([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x160)}}}]),_0x2d4c4a=await purchases[_0x41a814(0x17d)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x17f638=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1d9f29=await transfers[_0x41a814(0x17d)]([{'$unwind':_0x41a814(0x16f)},{'$group':{'_id':_0x41a814(0x178),'fromWarehouse':{'$first':_0x41a814(0x196)},'toWareHouse':{'$first':_0x41a814(0x1a0)},'FromtotalQuantity':{'$sum':_0x41a814(0x183)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x4ffcf0=await categories[_0x41a814(0x19b)](),_0x22e18c=await product[_0x41a814(0x19b)](),_0x1c9fae=await suppliers[_0x41a814(0x19b)](),_0x17a797=await customer['find']();_0x4f4b70[_0x41a814(0x1a2)](_0x41a814(0x16a),{'success':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x170)),'errors':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x153)),'role':_0x8caf0f,'profile':_0x5af9d6,'sale':_0xcf6503[0x0],'sales_return':_0x3316b5[0x0],'purchases':_0x18de26[0x0],'purchases_return':_0x1fc194[0x0],'purchases_table':_0x2d4c4a,'sales_table':_0x17f638,'categories':_0x4ffcf0[_0x41a814(0x16c)],'product':_0x22e18c[_0x41a814(0x16c)],'suppliers':_0x1c9fae[_0x41a814(0x16c)],'customer':_0x17a797[_0x41a814(0x16c)],'master_shop':_0x4ed91a,'language':_0x1da5c8,'sale_QTY':_0x4ad41a[0x0],'purchases_QTY':_0x1d6a6f[0x0],'sales_return_QTY':_0x1758f1[0x0],'purchases_return_QTY':_0x480a67[0x0],'transfer_table':_0x1d9f29,'product_cnt':_0x5065cf});}else{if(_0x8caf0f[_0x41a814(0x19e)]=='sa'){const _0x36ffc7=await staff[_0x41a814(0x17c)]({'email':_0x8caf0f[_0x41a814(0x190)]}),_0x7bde22=await sales_sa[_0x41a814(0x19b)]({'sales_staff_id':_0x36ffc7[_0x41a814(0x177)]}),_0x3e90d3=await sales_sa[_0x41a814(0x19b)]({'sales_staff_id':_0x36ffc7[_0x41a814(0x177)],'paid':_0x41a814(0x191)}),_0x15ea99=await sales_sa[_0x41a814(0x19b)]({'sales_staff_id':_0x36ffc7['_id'],'paid':_0x41a814(0x15a)}),_0x7445a4=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x36ffc7['_id'][_0x41a814(0x169)]()}},{'$unwind':_0x41a814(0x19c)},{'$group':{'_id':null,'sumprice':{'$sum':_0x41a814(0x174)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x41a814(0x172),_0x41a814(0x1a7)]},0x2]}}}]),_0x4400ff=await staff[_0x41a814(0x17d)]([{'$match':{'email':_0x8caf0f[_0x41a814(0x190)]}},{'$unwind':_0x41a814(0x155)},{'$group':{'_id':null,'totalQTY':{'$sum':'$product_list.product_stock'}}}]);_0x4f4b70[_0x41a814(0x1a2)](_0x41a814(0x15f),{'success':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x170)),'errors':_0x3d43f1[_0x41a814(0x188)]('errors'),'role':_0x8caf0f,'profile':_0x5af9d6,'master_shop':_0x4ed91a,'language':_0x1da5c8,'cntPaid':_0x3e90d3,'cntNotPaid':_0x15ea99,'avg_price':_0x7445a4[0x0],'my_stock':_0x4400ff[0x0],'staff_arr':_0x36ffc7});}else{if(_0x8caf0f[_0x41a814(0x19e)]==_0x41a814(0x182)){const _0x31b5a1=await staff[_0x41a814(0x17c)]({'email':_0x8caf0f[_0x41a814(0x190)]});_0x4f4b70['render'](_0x41a814(0x187),{'success':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x170)),'errors':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x153)),'role':_0x8caf0f,'profile':_0x5af9d6,'master_shop':_0x4ed91a,'language':_0x1da5c8}),_0x4f4b70['json'](_0x31b5a1);}else{if(_0x8caf0f['account_category']=='sad'||_0x8caf0f['account_category']==_0x41a814(0x1a5)||_0x8caf0f[_0x41a814(0x19e)]==_0x41a814(0x162)){const _0x3d7cb4=await staff['findOne']({'email':_0x8caf0f['email']});_0x4f4b70[_0x41a814(0x1a2)](_0x41a814(0x189),{'success':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x170)),'errors':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x153)),'role':_0x8caf0f,'profile':_0x5af9d6,'master_shop':_0x4ed91a,'language':_0x1da5c8});}else{var _0x5065cf;if(_0x8caf0f['warehouse_category']=='Raw\x20Materials'){const _0xc8aba0=await product[_0x41a814(0x19b)]({'product_category':_0x41a814(0x1a9)});_0x5065cf=_0xc8aba0[_0x41a814(0x16c)];}else{if(_0x8caf0f[_0x41a814(0x17b)]==_0x41a814(0x154)){const _0x279b57=await product[_0x41a814(0x19b)]({'product_category':'Finished\x20Goods'});_0x5065cf=_0x279b57['length'];}else{const _0x542b69=await product[_0x41a814(0x19b)]();_0x5065cf=_0x542b69[_0x41a814(0x16c)];}}const _0x49871f=await sales[_0x41a814(0x17d)]([{'$group':{'_id':null,'total_price':{'$sum':_0x41a814(0x15e)}}}]),_0x9b281a=await sales[_0x41a814(0x17d)]([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x18d)}}}]),_0x272da1=await sales_return[_0x41a814(0x17d)]([{'$group':{'_id':null,'total':{'$sum':_0x41a814(0x17e)}}}]),_0x2b391b=await sales_return[_0x41a814(0x17d)]([{'$unwind':_0x41a814(0x163)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x179)}}}]),_0x47e13c=await purchases[_0x41a814(0x17d)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x41a814(0x17e)}}}]),_0x54efbe=await purchases_return[_0x41a814(0x17d)]([{'$group':{'_id':null,'total':{'$sum':_0x41a814(0x17e)}}}]),_0x683cbc=await purchases_return[_0x41a814(0x17d)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x41a814(0x176)}}}]),_0x51ef0d=await purchases['aggregate']([{'$unwind':_0x41a814(0x16f)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0xe91c1e=await purchases[_0x41a814(0x17d)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4146d5=await sales[_0x41a814(0x17d)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x288bb1=await transfers['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x41a814(0x178),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x41a814(0x1a0)},'FromtotalQuantity':{'$sum':_0x41a814(0x183)},'TototalQuantity':{'$sum':_0x41a814(0x166)}}}]),_0x4b8969=await categories['find'](),_0x1d9fae=await product['find'](),_0xf9b918=await suppliers[_0x41a814(0x19b)](),_0x1d12c2=await customer[_0x41a814(0x19b)]();_0x4f4b70[_0x41a814(0x1a2)](_0x41a814(0x16a),{'success':_0x3d43f1[_0x41a814(0x188)](_0x41a814(0x170)),'errors':_0x3d43f1[_0x41a814(0x188)]('errors'),'role':_0x8caf0f,'profile':_0x5af9d6,'sale':_0x49871f[0x0],'sales_return':_0x272da1[0x0],'purchases':_0x47e13c[0x0],'purchases_return':_0x54efbe[0x0],'purchases_table':_0xe91c1e,'sales_table':_0x4146d5,'categories':_0x4b8969[_0x41a814(0x16c)],'product':_0x1d9fae[_0x41a814(0x16c)],'suppliers':_0xf9b918[_0x41a814(0x16c)],'customer':_0x1d12c2['length'],'master_shop':_0x4ed91a,'language':_0x1da5c8,'sale_QTY':_0x9b281a[0x0],'purchases_QTY':_0x51ef0d[0x0],'sales_return_QTY':_0x2b391b[0x0],'purchases_return_QTY':_0x683cbc[0x0],'transfer_table':_0x288bb1,'product_cnt':_0x5065cf});}}}}}catch(_0x20bcc7){console[_0x41a814(0x1a1)](_0x20bcc7);}}),router['get']('/pending_data_table',auth,async(_0x2de860,_0x3f4258)=>{const _0x59f2c0=a0_0x7818f5;try{const _0x21f023=_0x2de860[_0x59f2c0(0x161)],_0x513ff0=await staff[_0x59f2c0(0x17c)]({'email':_0x21f023['email']}),_0x5a9a7b=await sales_sa[_0x59f2c0(0x17d)]([{'$match':{'sales_staff_id':_0x513ff0[_0x59f2c0(0x177)]['valueOf'](),'paid':_0x59f2c0(0x15a)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x3f4258[_0x59f2c0(0x192)](_0x5a9a7b);}catch(_0xc4408f){_0x3f4258[_0x59f2c0(0x192)](_0xc4408f);}}),router['get'](a0_0x7818f5(0x1a4),auth,async(_0x5bec1b,_0x321960)=>{const _0x5dd989=a0_0x7818f5;try{const _0x20afd1=_0x5bec1b[_0x5dd989(0x161)],_0x29dcb7=await staff[_0x5dd989(0x17c)]({'email':_0x20afd1[_0x5dd989(0x190)]}),_0x782ca=await sales_sa[_0x5dd989(0x19b)]({'sales_staff_id':_0x29dcb7[_0x5dd989(0x177)],'paid':_0x5dd989(0x15a)});_0x321960[_0x5dd989(0x192)](_0x782ca);}catch(_0x543cfc){_0x321960[_0x5dd989(0x192)](_0x543cfc);}}),router[a0_0x7818f5(0x157)]('/get_count',auth,async(_0x73f4ae,_0xd88374)=>{const _0x501238=a0_0x7818f5;try{const {sttaff_id:_0x317611,warehouse:_0x10c1ab,account_category:_0x17e0fc}=_0x73f4ae[_0x501238(0x161)],_0x20cb56=await sales_order[_0x501238(0x17d)]([{'$match':{'accounting_account_id':_0x317611,'accounting_account_confirm':_0x501238(0x19f)}}]);_0xd88374[_0x501238(0x192)](_0x20cb56);}catch(_0x4b47f1){}}),router[a0_0x7818f5(0x199)](a0_0x7818f5(0x175),auth,async(_0x455d39,_0x115442)=>{const _0x3012ac=a0_0x7818f5;try{const _0x3dcaaf=_0x455d39['user'],_0x318068=await staff[_0x3012ac(0x17c)]({'email':_0x3dcaaf[_0x3012ac(0x190)]}),_0x2728da=await sales_sa[_0x3012ac(0x19b)]({'sales_staff_id':_0x318068[_0x3012ac(0x177)],'paid':_0x3012ac(0x191)});_0x115442[_0x3012ac(0x192)](_0x2728da);}catch(_0x4ca216){_0x115442[_0x3012ac(0x192)](_0x4ca216);}}),router[a0_0x7818f5(0x199)](a0_0x7818f5(0x15c),auth,async(_0x16dc6a,_0x118fcd)=>{const _0x1be17b=a0_0x7818f5;try{const _0x572bc3=_0x16dc6a[_0x1be17b(0x161)],_0x1fe78e=await staff[_0x1be17b(0x17c)]({'email':_0x572bc3[_0x1be17b(0x190)]}),_0x59181d=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x1fe78e['_id'][_0x1be17b(0x169)](),'paid':_0x1be17b(0x191)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x118fcd[_0x1be17b(0x192)](_0x59181d);}catch(_0x1add1e){_0x118fcd[_0x1be17b(0x192)](_0x1add1e);}}),router['post'](a0_0x7818f5(0x195),auth,async(_0x14cb1e,_0x5ef1e1)=>{const _0x1ae998=a0_0x7818f5;try{const {id:_0xe6bfea,price:_0x35d3b4}=_0x14cb1e[_0x1ae998(0x18c)],_0xff8de8=await sales_sa['findById'](_0xe6bfea);_0xff8de8['paid']=_0x1ae998(0x191),_0xff8de8[_0x1ae998(0x19d)]=parseFloat(_0x35d3b4);const _0x4afcfb=await _0xff8de8[_0x1ae998(0x1a8)]();_0x5ef1e1['json'](_0x4afcfb);}catch(_0x445cca){_0x5ef1e1['json'](_0x445cca);}}),router[a0_0x7818f5(0x199)](a0_0x7818f5(0x1a4),auth,async(_0x3ad9a2,_0x12e534)=>{const _0x17e370=a0_0x7818f5;try{const _0x5eec42=_0x3ad9a2[_0x17e370(0x161)],_0x403865=await staff['findOne']({'email':_0x5eec42[_0x17e370(0x190)]}),_0x2e3b9d=await sales_sa[_0x17e370(0x19b)]({'sales_staff_id':_0x403865['_id'],'paid':_0x17e370(0x15a)});_0x12e534['json'](_0x2e3b9d);}catch(_0xc36e25){_0x12e534[_0x17e370(0x192)](_0xc36e25);}}),router['get'](a0_0x7818f5(0x185),auth,async(_0x3da2b5,_0x370fdf)=>{const _0x5acd9c=a0_0x7818f5;try{const _0x182fc1=_0x3da2b5[_0x5acd9c(0x161)],_0x4cb42e=await staff[_0x5acd9c(0x17c)]({'email':_0x182fc1['email']}),_0x210f59=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x4cb42e[_0x5acd9c(0x177)][_0x5acd9c(0x169)]()}},{'$unwind':_0x5acd9c(0x19c)},{'$group':{'_id':null,'sumprice':{'$sum':_0x5acd9c(0x174)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x5acd9c(0x172),_0x5acd9c(0x1a7)]},0x2]}}}]);_0x370fdf[_0x5acd9c(0x192)](_0x210f59);}catch(_0x4a6219){_0x370fdf[_0x5acd9c(0x192)](_0x4a6219);}}),router[a0_0x7818f5(0x199)](a0_0x7818f5(0x17a),auth,async(_0x140f20,_0x2b9fa2)=>{const _0x326def=a0_0x7818f5;try{const _0x22c955=_0x140f20[_0x326def(0x161)],_0x4316ba=await staff[_0x326def(0x17c)]({'email':_0x22c955[_0x326def(0x190)]}),_0x1a759e=await staff[_0x326def(0x17d)]([{'$match':{'email':_0x22c955[_0x326def(0x190)]}},{'$unwind':_0x326def(0x155)},{'$match':{'product_list.isConfirm':_0x326def(0x181)}},{'$group':{'_id':null,'totalQTY':{'$sum':'$product_list.product_stock'}}}]);_0x2b9fa2[_0x326def(0x192)](_0x1a759e);}catch(_0x4698a3){_0x2b9fa2['json'](_0x4698a3);}}),router[a0_0x7818f5(0x199)](a0_0x7818f5(0x19a),auth,async(_0x1dfaca,_0x2f629c)=>{const _0x8a1dba=a0_0x7818f5;try{const _0x4eb253=_0x1dfaca['user'],_0x149fcd=await staff[_0x8a1dba(0x17c)]({'email':_0x4eb253['email']}),_0x4c7dba=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x149fcd['_id'][_0x8a1dba(0x169)]()}},{'$unwind':_0x8a1dba(0x19c)},{'$group':{'_id':_0x8a1dba(0x156),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x8a1dba(0x156)}}},{'$sort':{'date':0x1}}]);_0x2f629c[_0x8a1dba(0x192)](_0x4c7dba);}catch(_0x15e0d2){_0x2f629c['json'](_0x15e0d2);}}),router[a0_0x7818f5(0x199)](a0_0x7818f5(0x16b),auth,async(_0x52a7a5,_0x41621f)=>{const _0x549c21=a0_0x7818f5;try{const _0x3b89a8=_0x52a7a5[_0x549c21(0x161)],_0xefaeb0=await staff[_0x549c21(0x17c)]({'email':_0x3b89a8[_0x549c21(0x190)]}),_0x3d5268=await sales_sa[_0x549c21(0x17d)]([{'$match':{'sales_staff_id':_0xefaeb0[_0x549c21(0x177)][_0x549c21(0x169)]()}},{'$unwind':_0x549c21(0x19c)},{'$group':{'_id':_0x549c21(0x156),'totalPrice':{'$sum':_0x549c21(0x159)},'date':{'$first':_0x549c21(0x156)}}},{'$sort':{'date':0x1}}]);_0x41621f[_0x549c21(0x192)](_0x3d5268);}catch(_0x3c4f9c){_0x41621f[_0x549c21(0x192)](_0x3c4f9c);}}),module[a0_0x7818f5(0x164)]=router;