const a0_0x1b3739=a0_0x2d4f;function a0_0x2d4f(_0x5437a7,_0x494163){const _0x5cebd5=a0_0x5ceb();return a0_0x2d4f=function(_0x2d4f37,_0x532b37){_0x2d4f37=_0x2d4f37-0x1b1;let _0x298bf3=_0x5cebd5[_0x2d4f37];return _0x298bf3;},a0_0x2d4f(_0x5437a7,_0x494163);}(function(_0x10b282,_0x1f8cf3){const _0x3a3c00=a0_0x2d4f,_0x47be61=_0x10b282();while(!![]){try{const _0x251e2b=-parseInt(_0x3a3c00(0x1ce))/0x1*(parseInt(_0x3a3c00(0x1e9))/0x2)+parseInt(_0x3a3c00(0x1d2))/0x3*(-parseInt(_0x3a3c00(0x1b7))/0x4)+parseInt(_0x3a3c00(0x1e0))/0x5+parseInt(_0x3a3c00(0x1c9))/0x6*(-parseInt(_0x3a3c00(0x1f2))/0x7)+parseInt(_0x3a3c00(0x1d4))/0x8+parseInt(_0x3a3c00(0x1cd))/0x9+parseInt(_0x3a3c00(0x1d3))/0xa;if(_0x251e2b===_0x1f8cf3)break;else _0x47be61['push'](_0x47be61['shift']());}catch(_0x3872c3){_0x47be61['push'](_0x47be61['shift']());}}}(a0_0x5ceb,0xb04b9));const express=require(a0_0x1b3739(0x1ba)),app=express(),router=express['Router'](),auth=require(a0_0x1b3739(0x1fc)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order}=require('../models/all_models'),users=require(a0_0x1b3739(0x1de));function a0_0x5ceb(){const _0x589794=['33390XYgYZr','findOne','fss','$return_sale','json','$sumprice','errors','$total_amount','Chinese','7204myRctS','/paid_data','$return_product.return_qty','German','false','$product_list.product_stock','$return_sale.sale_qty','render','true','8585157SdcyJZ','index','warehouse_category','valueOf','Arabic\x20(ae)','/get_count','log','_id','$sale_product.price','Portuguese\x20(BR)','../middleware/auth','index_acc','body','$product.quantity','/index','$total_price','email','/update_data','Portuguese','$sale_product.quantity','find','Spanish','length','False','20oPGgNl','user','$count','express','$return_product','get','language','$product.product_name','$date','aggregate','Finished\x20Goods','$sale_product','English\x20(US)','$to_warehouse','/price_chart','save','Hindi','index_asd','6NVmtFw','success','$product.to_quantity','/pending_data_table','7947927YAWbcG','239uPSqnD','findById','French','True','372510aztIjM','23452500rceYWZ','1562024WrmBqO','Raw\x20Materials','exports','$product','sad','$product.from_quantity','$sale_product.totalprice','$from_warehouse','flash','account_category','../public/language/languages.json','English'];a0_0x5ceb=function(){return _0x589794;};return a0_0x5ceb();}router['get'](a0_0x1b3739(0x200),auth,async(_0x42a44d,_0x582336)=>{const _0x11f079=a0_0x1b3739;try{const {username:_0x1cf74d,email:_0x43d419,role:_0x20bcd6}=_0x42a44d[_0x11f079(0x1b8)],_0x56e7c7=_0x42a44d[_0x11f079(0x1b8)],_0x58f557=await master_shop['find'](),_0x15f91c=await profile[_0x11f079(0x1e1)]({'email':_0x56e7c7[_0x11f079(0x202)]});if(_0x58f557[0x0][_0x11f079(0x1bd)]==_0x11f079(0x1c3))var _0xa658e=users[_0x11f079(0x1df)];else{if(_0x58f557[0x0][_0x11f079(0x1bd)]=='Hindi')var _0xa658e=users[_0x11f079(0x1c7)];else{if(_0x58f557[0x0][_0x11f079(0x1bd)]==_0x11f079(0x1ec))var _0xa658e=users[_0x11f079(0x1ec)];else{if(_0x58f557[0x0][_0x11f079(0x1bd)]==_0x11f079(0x1b4))var _0xa658e=users['Spanish'];else{if(_0x58f557[0x0][_0x11f079(0x1bd)]==_0x11f079(0x1d0))var _0xa658e=users[_0x11f079(0x1d0)];else{if(_0x58f557[0x0][_0x11f079(0x1bd)]==_0x11f079(0x1fb))var _0xa658e=users[_0x11f079(0x1b1)];else{if(_0x58f557[0x0]['language']==_0x11f079(0x1e8))var _0xa658e=users['Chinese'];else{if(_0x58f557[0x0][_0x11f079(0x1bd)]==_0x11f079(0x1f6))var _0xa658e=users['Arabic'];}}}}}}}if(_0x56e7c7[_0x11f079(0x1dd)]=='wm'){var _0x120276;if(_0x56e7c7[_0x11f079(0x1f4)]==_0x11f079(0x1d5)){const _0x26af01=await product[_0x11f079(0x1b3)]({'product_category':_0x11f079(0x1d5)});_0x120276=_0x26af01[_0x11f079(0x1b5)];}else{if(_0x56e7c7[_0x11f079(0x1f4)]==_0x11f079(0x1c1)){const _0x5a7823=await product['find']({'product_category':_0x11f079(0x1c1)});_0x120276=_0x5a7823[_0x11f079(0x1b5)];}else{const _0x2f9703=await product['find']();_0x120276=_0x2f9703[_0x11f079(0x1b5)];}}const _0x52f1ac=await sales[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total_price':{'$sum':_0x11f079(0x201)}}}]),_0x4bd960=await sales[_0x11f079(0x1c0)]([{'$unwind':_0x11f079(0x1c2)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1b2)}}}]),_0x2321b5=await sales_return[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total':{'$sum':_0x11f079(0x1e7)}}}]),_0x989bf3=await sales_return[_0x11f079(0x1c0)]([{'$unwind':'$return_sale'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1ef)}}}]),_0x57e3a4=await purchases[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x11f079(0x1e7)}}}]),_0x285b5a=await purchases_return[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0xf7108b=await purchases_return[_0x11f079(0x1c0)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x321ede=await purchases[_0x11f079(0x1c0)]([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1ff)}}}]),_0x432a2a=await purchases[_0x11f079(0x1c0)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x48d208=await sales[_0x11f079(0x1c0)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2b3c20=await transfers[_0x11f079(0x1c0)]([{'$unwind':_0x11f079(0x1d7)},{'$group':{'_id':_0x11f079(0x1be),'fromWarehouse':{'$first':_0x11f079(0x1db)},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':_0x11f079(0x1d9)},'TototalQuantity':{'$sum':_0x11f079(0x1cb)}}}]),_0x5888d=await categories[_0x11f079(0x1b3)](),_0x214993=await product['find'](),_0x3f2b11=await suppliers['find'](),_0x2a4acd=await customer[_0x11f079(0x1b3)]();_0x582336[_0x11f079(0x1f0)]('index',{'success':_0x42a44d[_0x11f079(0x1dc)]('success'),'errors':_0x42a44d[_0x11f079(0x1dc)](_0x11f079(0x1e6)),'role':_0x56e7c7,'profile':_0x15f91c,'sale':_0x52f1ac[0x0],'sales_return':_0x2321b5[0x0],'purchases':_0x57e3a4[0x0],'purchases_return':_0x285b5a[0x0],'purchases_table':_0x432a2a,'sales_table':_0x48d208,'categories':_0x5888d[_0x11f079(0x1b5)],'product':_0x214993[_0x11f079(0x1b5)],'suppliers':_0x3f2b11['length'],'customer':_0x2a4acd['length'],'master_shop':_0x58f557,'language':_0xa658e,'sale_QTY':_0x4bd960[0x0],'purchases_QTY':_0x321ede[0x0],'sales_return_QTY':_0x989bf3[0x0],'purchases_return_QTY':_0xf7108b[0x0],'transfer_table':_0x2b3c20,'product_cnt':_0x120276});}else{if(_0x56e7c7['account_category']=='sa'){const _0x1261f5=await staff[_0x11f079(0x1e1)]({'email':_0x56e7c7[_0x11f079(0x202)]}),_0xfdb40c=await sales_sa[_0x11f079(0x1b3)]({'sales_staff_id':_0x1261f5[_0x11f079(0x1f9)]}),_0x9317e4=await sales_sa['find']({'sales_staff_id':_0x1261f5['_id'],'paid':_0x11f079(0x1d1)}),_0x4df92d=await sales_sa[_0x11f079(0x1b3)]({'sales_staff_id':_0x1261f5['_id'],'paid':_0x11f079(0x1b6)}),_0x53f167=await sales_sa[_0x11f079(0x1c0)]([{'$match':{'sales_staff_id':_0x1261f5[_0x11f079(0x1f9)][_0x11f079(0x1f5)]()}},{'$unwind':_0x11f079(0x1c2)},{'$group':{'_id':null,'sumprice':{'$sum':'$sale_product.price'},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x11f079(0x1e5),_0x11f079(0x1b9)]},0x2]}}}]),_0x5707e7=await staff[_0x11f079(0x1c0)]([{'$match':{'email':_0x56e7c7[_0x11f079(0x202)]}},{'$unwind':'$product_list'},{'$group':{'_id':null,'totalQTY':{'$sum':_0x11f079(0x1ee)}}}]);_0x582336[_0x11f079(0x1f0)]('index_sa',{'success':_0x42a44d[_0x11f079(0x1dc)](_0x11f079(0x1ca)),'errors':_0x42a44d[_0x11f079(0x1dc)](_0x11f079(0x1e6)),'role':_0x56e7c7,'profile':_0x15f91c,'master_shop':_0x58f557,'language':_0xa658e,'cntPaid':_0x9317e4,'cntNotPaid':_0x4df92d,'avg_price':_0x53f167[0x0],'my_stock':_0x5707e7[0x0],'staff_arr':_0x1261f5});}else{if(_0x56e7c7[_0x11f079(0x1dd)]=='acc'){const _0x5c64a7=await staff[_0x11f079(0x1e1)]({'email':_0x56e7c7['email']});_0x582336[_0x11f079(0x1f0)](_0x11f079(0x1fd),{'success':_0x42a44d['flash'](_0x11f079(0x1ca)),'errors':_0x42a44d[_0x11f079(0x1dc)](_0x11f079(0x1e6)),'role':_0x56e7c7,'profile':_0x15f91c,'master_shop':_0x58f557,'language':_0xa658e}),_0x582336[_0x11f079(0x1e4)](_0x5c64a7);}else{if(_0x56e7c7[_0x11f079(0x1dd)]==_0x11f079(0x1d8)||_0x56e7c7[_0x11f079(0x1dd)]=='rsm'||_0x56e7c7['account_category']==_0x11f079(0x1e2)){const _0x23b94a=await staff['findOne']({'email':_0x56e7c7[_0x11f079(0x202)]});_0x582336['render'](_0x11f079(0x1c8),{'success':_0x42a44d['flash']('success'),'errors':_0x42a44d[_0x11f079(0x1dc)](_0x11f079(0x1e6)),'role':_0x56e7c7,'profile':_0x15f91c,'master_shop':_0x58f557,'language':_0xa658e});}else{var _0x120276;if(_0x56e7c7[_0x11f079(0x1f4)]==_0x11f079(0x1d5)){const _0x20c20e=await product[_0x11f079(0x1b3)]({'product_category':'Raw\x20Materials'});_0x120276=_0x20c20e[_0x11f079(0x1b5)];}else{if(_0x56e7c7[_0x11f079(0x1f4)]==_0x11f079(0x1c1)){const _0x50040e=await product[_0x11f079(0x1b3)]({'product_category':'Finished\x20Goods'});_0x120276=_0x50040e[_0x11f079(0x1b5)];}else{const _0x2d8b1d=await product[_0x11f079(0x1b3)]();_0x120276=_0x2d8b1d['length'];}}const _0x2f15f5=await sales[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total_price':{'$sum':_0x11f079(0x201)}}}]),_0x578160=await sales[_0x11f079(0x1c0)]([{'$unwind':_0x11f079(0x1c2)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1b2)}}}]),_0x375b17=await sales_return[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total':{'$sum':_0x11f079(0x1e7)}}}]),_0x48ef52=await sales_return['aggregate']([{'$unwind':_0x11f079(0x1e3)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1ef)}}}]),_0x5c41a9=await purchases['aggregate']([{'$group':{'_id':null,'total_amount':{'$sum':_0x11f079(0x1e7)}}}]),_0x550b16=await purchases_return[_0x11f079(0x1c0)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x550b8e=await purchases_return['aggregate']([{'$unwind':_0x11f079(0x1bb)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1eb)}}}]),_0x34e0de=await purchases[_0x11f079(0x1c0)]([{'$unwind':_0x11f079(0x1d7)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x11f079(0x1ff)}}}]),_0xa426bf=await purchases[_0x11f079(0x1c0)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x5d4e6b=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0xe90eba=await transfers[_0x11f079(0x1c0)]([{'$unwind':_0x11f079(0x1d7)},{'$group':{'_id':'$product.product_name','fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x11f079(0x1c4)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x11f079(0x1cb)}}}]),_0x342d42=await categories[_0x11f079(0x1b3)](),_0xa4d773=await product[_0x11f079(0x1b3)](),_0x41aefb=await suppliers['find'](),_0x3ba5eb=await customer['find']();_0x582336[_0x11f079(0x1f0)](_0x11f079(0x1f3),{'success':_0x42a44d[_0x11f079(0x1dc)]('success'),'errors':_0x42a44d[_0x11f079(0x1dc)](_0x11f079(0x1e6)),'role':_0x56e7c7,'profile':_0x15f91c,'sale':_0x2f15f5[0x0],'sales_return':_0x375b17[0x0],'purchases':_0x5c41a9[0x0],'purchases_return':_0x550b16[0x0],'purchases_table':_0xa426bf,'sales_table':_0x5d4e6b,'categories':_0x342d42['length'],'product':_0xa4d773[_0x11f079(0x1b5)],'suppliers':_0x41aefb[_0x11f079(0x1b5)],'customer':_0x3ba5eb[_0x11f079(0x1b5)],'master_shop':_0x58f557,'language':_0xa658e,'sale_QTY':_0x578160[0x0],'purchases_QTY':_0x34e0de[0x0],'sales_return_QTY':_0x48ef52[0x0],'purchases_return_QTY':_0x550b8e[0x0],'transfer_table':_0xe90eba,'product_cnt':_0x120276});}}}}}catch(_0x4ad43a){console[_0x11f079(0x1f8)](_0x4ad43a);}}),router['get'](a0_0x1b3739(0x1cc),auth,async(_0x52969c,_0x1ee0a5)=>{const _0x31c85e=a0_0x1b3739;try{const _0x1db536=_0x52969c[_0x31c85e(0x1b8)],_0x2bf16a=await staff[_0x31c85e(0x1e1)]({'email':_0x1db536[_0x31c85e(0x202)]}),_0x4d86e2=await sales_sa[_0x31c85e(0x1c0)]([{'$match':{'sales_staff_id':_0x2bf16a[_0x31c85e(0x1f9)][_0x31c85e(0x1f5)](),'paid':_0x31c85e(0x1b6)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x1ee0a5[_0x31c85e(0x1e4)](_0x4d86e2);}catch(_0x4e38df){_0x1ee0a5['json'](_0x4e38df);}}),router[a0_0x1b3739(0x1bc)]('/pending_data',auth,async(_0x372909,_0x3a69eb)=>{const _0x5ae588=a0_0x1b3739;try{const _0x20b498=_0x372909[_0x5ae588(0x1b8)],_0x25e19e=await staff[_0x5ae588(0x1e1)]({'email':_0x20b498[_0x5ae588(0x202)]}),_0x27d3fc=await sales_sa[_0x5ae588(0x1b3)]({'sales_staff_id':_0x25e19e[_0x5ae588(0x1f9)],'paid':_0x5ae588(0x1b6)});_0x3a69eb['json'](_0x27d3fc);}catch(_0x4391b8){_0x3a69eb['json'](_0x4391b8);}}),router['post'](a0_0x1b3739(0x1f7),auth,async(_0x18783a,_0x4789c7)=>{const _0x5d350c=a0_0x1b3739;try{const {sttaff_id:_0x310304,warehouse:_0x594608,account_category:_0x2f9aee}=_0x18783a[_0x5d350c(0x1b8)],_0x48581c=await sales_order[_0x5d350c(0x1c0)]([{'$match':{'accounting_account_id':_0x310304,'accounting_account_confirm':_0x5d350c(0x1ed)}}]);_0x4789c7['json'](_0x48581c);}catch(_0x3fb107){}}),router[a0_0x1b3739(0x1bc)]('/paid_data_table',auth,async(_0x4f7431,_0x3e9a05)=>{const _0x1c516e=a0_0x1b3739;try{const _0x5d1274=_0x4f7431['user'],_0x3f78f7=await staff['findOne']({'email':_0x5d1274[_0x1c516e(0x202)]}),_0x1445ec=await sales_sa[_0x1c516e(0x1b3)]({'sales_staff_id':_0x3f78f7['_id'],'paid':_0x1c516e(0x1d1)});_0x3e9a05['json'](_0x1445ec);}catch(_0x268642){_0x3e9a05[_0x1c516e(0x1e4)](_0x268642);}}),router['get'](a0_0x1b3739(0x1ea),auth,async(_0x427919,_0x4527da)=>{const _0x666332=a0_0x1b3739;try{const _0x1a0651=_0x427919[_0x666332(0x1b8)],_0x896ce9=await staff[_0x666332(0x1e1)]({'email':_0x1a0651[_0x666332(0x202)]}),_0x54cbf8=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x896ce9[_0x666332(0x1f9)][_0x666332(0x1f5)](),'paid':_0x666332(0x1d1)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x4527da[_0x666332(0x1e4)](_0x54cbf8);}catch(_0x81ba5f){_0x4527da[_0x666332(0x1e4)](_0x81ba5f);}}),router['post'](a0_0x1b3739(0x203),auth,async(_0x34af0a,_0x251da0)=>{const _0x921cc6=a0_0x1b3739;try{const {id:_0x4551c1,price:_0x43c6d0}=_0x34af0a[_0x921cc6(0x1fe)],_0x53585e=await sales_sa[_0x921cc6(0x1cf)](_0x4551c1);_0x53585e['paid']=_0x921cc6(0x1d1),_0x53585e['collection_price']=parseFloat(_0x43c6d0);const _0x4d6860=await _0x53585e[_0x921cc6(0x1c6)]();_0x251da0[_0x921cc6(0x1e4)](_0x4d6860);}catch(_0x750f0e){_0x251da0[_0x921cc6(0x1e4)](_0x750f0e);}}),router[a0_0x1b3739(0x1bc)]('/pending_data',auth,async(_0x2d309a,_0x17c037)=>{const _0xbb657c=a0_0x1b3739;try{const _0x53889d=_0x2d309a[_0xbb657c(0x1b8)],_0x23b5d2=await staff['findOne']({'email':_0x53889d[_0xbb657c(0x202)]}),_0x3ba735=await sales_sa['find']({'sales_staff_id':_0x23b5d2[_0xbb657c(0x1f9)],'paid':'False'});_0x17c037[_0xbb657c(0x1e4)](_0x3ba735);}catch(_0x252a5c){_0x17c037[_0xbb657c(0x1e4)](_0x252a5c);}}),router['get']('/avg_data',auth,async(_0x140c38,_0x4e6d1c)=>{const _0x149758=a0_0x1b3739;try{const _0x41d005=_0x140c38[_0x149758(0x1b8)],_0x15102d=await staff[_0x149758(0x1e1)]({'email':_0x41d005[_0x149758(0x202)]}),_0x34672e=await sales_sa[_0x149758(0x1c0)]([{'$match':{'sales_staff_id':_0x15102d[_0x149758(0x1f9)][_0x149758(0x1f5)]()}},{'$unwind':_0x149758(0x1c2)},{'$group':{'_id':null,'sumprice':{'$sum':_0x149758(0x1fa)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x149758(0x1e5),_0x149758(0x1b9)]},0x2]}}}]);_0x4e6d1c[_0x149758(0x1e4)](_0x34672e);}catch(_0x276989){_0x4e6d1c[_0x149758(0x1e4)](_0x276989);}}),router[a0_0x1b3739(0x1bc)]('/my_inv',auth,async(_0x303745,_0x1e1114)=>{const _0x2d20af=a0_0x1b3739;try{const _0x8247b2=_0x303745['user'],_0x3102a2=await staff['findOne']({'email':_0x8247b2[_0x2d20af(0x202)]}),_0x417816=await staff[_0x2d20af(0x1c0)]([{'$match':{'email':_0x8247b2[_0x2d20af(0x202)]}},{'$unwind':'$product_list'},{'$match':{'product_list.isConfirm':_0x2d20af(0x1f1)}},{'$group':{'_id':null,'totalQTY':{'$sum':_0x2d20af(0x1ee)}}}]);_0x1e1114[_0x2d20af(0x1e4)](_0x417816);}catch(_0x335382){_0x1e1114[_0x2d20af(0x1e4)](_0x335382);}}),router[a0_0x1b3739(0x1bc)]('/sales_chart',auth,async(_0x3957ac,_0x54cec4)=>{const _0x4331de=a0_0x1b3739;try{const _0x14c79a=_0x3957ac[_0x4331de(0x1b8)],_0x38cfa7=await staff[_0x4331de(0x1e1)]({'email':_0x14c79a['email']}),_0x527b0e=await sales_sa[_0x4331de(0x1c0)]([{'$match':{'sales_staff_id':_0x38cfa7[_0x4331de(0x1f9)][_0x4331de(0x1f5)]()}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x4331de(0x1bf),'totalQuantity':{'$sum':_0x4331de(0x1b2)},'date':{'$first':_0x4331de(0x1bf)}}},{'$sort':{'date':0x1}}]);_0x54cec4[_0x4331de(0x1e4)](_0x527b0e);}catch(_0x5e981c){_0x54cec4[_0x4331de(0x1e4)](_0x5e981c);}}),router[a0_0x1b3739(0x1bc)](a0_0x1b3739(0x1c5),auth,async(_0x5715d1,_0x1102d8)=>{const _0x64e40a=a0_0x1b3739;try{const _0x5c9731=_0x5715d1[_0x64e40a(0x1b8)],_0x69f23=await staff['findOne']({'email':_0x5c9731['email']}),_0x1facd3=await sales_sa[_0x64e40a(0x1c0)]([{'$match':{'sales_staff_id':_0x69f23['_id'][_0x64e40a(0x1f5)]()}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x64e40a(0x1bf),'totalPrice':{'$sum':_0x64e40a(0x1da)},'date':{'$first':_0x64e40a(0x1bf)}}},{'$sort':{'date':0x1}}]);_0x1102d8[_0x64e40a(0x1e4)](_0x1facd3);}catch(_0x47b7b5){_0x1102d8[_0x64e40a(0x1e4)](_0x47b7b5);}}),module[a0_0x1b3739(0x1d6)]=router;