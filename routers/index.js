function a0_0x5ee9(_0x1339fc,_0x2d6977){const _0x53a540=a0_0x53a5();return a0_0x5ee9=function(_0x5ee939,_0x253c5c){_0x5ee939=_0x5ee939-0x1f1;let _0x176ca9=_0x53a540[_0x5ee939];return _0x176ca9;},a0_0x5ee9(_0x1339fc,_0x2d6977);}const a0_0x381efe=a0_0x5ee9;function a0_0x53a5(){const _0x14ed72=['5894AhYtjL','/sales_chart','render','English\x20(US)','$to_warehouse','length','valueOf','$product.from_quantity','sad','Raw\x20Materials','29058WxvSkD','$product','email','$return_product','Chinese','1810ykRPLL','/paid_data_table','express','post','$sale_product.totalprice','Arabic\x20(ae)','../middleware/auth','4647042FqQRYR','$product.product_name','/price_chart','2593248xdEQpK','index','aggregate','success','rsm','/pending_data_table','fss','2WZHbtZ','index_asd','/paid_data','body','/get_count','collection_price','Router','errors','Finished\x20Goods','Spanish','language','197679GvDpxn','$sumprice','$count','False','$return_sale.sale_qty','$product_list.product_stock','$return_product.return_qty','German','true','115434fIKrLw','24452OzhdLb','Portuguese\x20(BR)','5qJnZJC','$product.to_quantity','find','$sale_product.price','paid','_id','279NivTJX','$product_list','../models/all_models','Hindi','$sale_product','account_category','$date','$total_price','get','$return_sale','$total_amount','exports','save','/update_data','json','warehouse_category','user','/pending_data','French','findOne','True','$from_warehouse','log','../public/language/languages.json','$sale_product.quantity','/index','flash','false'];a0_0x53a5=function(){return _0x14ed72;};return a0_0x53a5();}(function(_0x238b4d,_0x2cf83e){const _0x52c9b3=a0_0x5ee9,_0x27e82a=_0x238b4d();while(!![]){try{const _0x45c2de=parseInt(_0x52c9b3(0x240))/0x1*(-parseInt(_0x52c9b3(0x235))/0x2)+parseInt(_0x52c9b3(0x1f9))/0x3*(-parseInt(_0x52c9b3(0x1f1))/0x4)+-parseInt(_0x52c9b3(0x1f3))/0x5*(parseInt(_0x52c9b3(0x21f))/0x6)+parseInt(_0x52c9b3(0x215))/0x7+-parseInt(_0x52c9b3(0x22e))/0x8+-parseInt(_0x52c9b3(0x22b))/0x9+-parseInt(_0x52c9b3(0x224))/0xa*(-parseInt(_0x52c9b3(0x249))/0xb);if(_0x45c2de===_0x2cf83e)break;else _0x27e82a['push'](_0x27e82a['shift']());}catch(_0x16388c){_0x27e82a['push'](_0x27e82a['shift']());}}}(a0_0x53a5,0x467db));const express=require(a0_0x381efe(0x226)),app=express(),router=express[a0_0x381efe(0x23b)](),auth=require(a0_0x381efe(0x22a)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order}=require(a0_0x381efe(0x1fb)),users=require(a0_0x381efe(0x210));router['get'](a0_0x381efe(0x212),auth,async(_0x51f5ea,_0x20bfd9)=>{const _0x2daf7c=a0_0x381efe;try{const {username:_0x3bed64,email:_0x392c8e,role:_0x34d05a}=_0x51f5ea[_0x2daf7c(0x209)],_0x1ea949=_0x51f5ea[_0x2daf7c(0x209)],_0x311c58=await master_shop[_0x2daf7c(0x1f5)](),_0x39ca78=await profile['findOne']({'email':_0x1ea949[_0x2daf7c(0x221)]});if(_0x311c58[0x0][_0x2daf7c(0x23f)]==_0x2daf7c(0x218))var _0xca6bea=users['English'];else{if(_0x311c58[0x0][_0x2daf7c(0x23f)]==_0x2daf7c(0x1fc))var _0xca6bea=users[_0x2daf7c(0x1fc)];else{if(_0x311c58[0x0][_0x2daf7c(0x23f)]==_0x2daf7c(0x247))var _0xca6bea=users[_0x2daf7c(0x247)];else{if(_0x311c58[0x0]['language']==_0x2daf7c(0x23e))var _0xca6bea=users['Spanish'];else{if(_0x311c58[0x0][_0x2daf7c(0x23f)]==_0x2daf7c(0x20b))var _0xca6bea=users['French'];else{if(_0x311c58[0x0]['language']==_0x2daf7c(0x1f2))var _0xca6bea=users['Portuguese'];else{if(_0x311c58[0x0][_0x2daf7c(0x23f)]=='Chinese')var _0xca6bea=users[_0x2daf7c(0x223)];else{if(_0x311c58[0x0][_0x2daf7c(0x23f)]==_0x2daf7c(0x229))var _0xca6bea=users['Arabic'];}}}}}}}if(_0x1ea949['account_category']=='wm'){var _0x1de289;if(_0x1ea949[_0x2daf7c(0x208)]==_0x2daf7c(0x21e)){const _0x3fbc23=await product[_0x2daf7c(0x1f5)]({'product_category':_0x2daf7c(0x21e)});_0x1de289=_0x3fbc23['length'];}else{if(_0x1ea949[_0x2daf7c(0x208)]=='Finished\x20Goods'){const _0x5d4852=await product[_0x2daf7c(0x1f5)]({'product_category':'Finished\x20Goods'});_0x1de289=_0x5d4852[_0x2daf7c(0x21a)];}else{const _0x430b00=await product[_0x2daf7c(0x1f5)]();_0x1de289=_0x430b00[_0x2daf7c(0x21a)];}}const _0x12d1b2=await sales[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total_price':{'$sum':'$total_price'}}}]),_0x48ff2c=await sales[_0x2daf7c(0x230)]([{'$unwind':_0x2daf7c(0x1fd)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x2daf7c(0x211)}}}]),_0x4c2d75=await sales_return[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total':{'$sum':_0x2daf7c(0x203)}}}]),_0x38c70c=await sales_return[_0x2daf7c(0x230)]([{'$unwind':_0x2daf7c(0x202)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x2daf7c(0x244)}}}]),_0x287650=await purchases[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x2daf7c(0x203)}}}]),_0x4fe4c1=await purchases_return[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total':{'$sum':_0x2daf7c(0x203)}}}]),_0x19ccb0=await purchases_return[_0x2daf7c(0x230)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x17ca50=await purchases['aggregate']([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x77b0a7=await purchases[_0x2daf7c(0x230)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x3df309=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x14f3a7=await transfers[_0x2daf7c(0x230)]([{'$unwind':_0x2daf7c(0x220)},{'$group':{'_id':_0x2daf7c(0x22c),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x11e8a5=await categories[_0x2daf7c(0x1f5)](),_0x40588e=await product[_0x2daf7c(0x1f5)](),_0x9105b1=await suppliers[_0x2daf7c(0x1f5)](),_0x556176=await customer['find']();_0x20bfd9[_0x2daf7c(0x217)](_0x2daf7c(0x22f),{'success':_0x51f5ea['flash'](_0x2daf7c(0x231)),'errors':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x23c)),'role':_0x1ea949,'profile':_0x39ca78,'sale':_0x12d1b2[0x0],'sales_return':_0x4c2d75[0x0],'purchases':_0x287650[0x0],'purchases_return':_0x4fe4c1[0x0],'purchases_table':_0x77b0a7,'sales_table':_0x3df309,'categories':_0x11e8a5[_0x2daf7c(0x21a)],'product':_0x40588e['length'],'suppliers':_0x9105b1[_0x2daf7c(0x21a)],'customer':_0x556176['length'],'master_shop':_0x311c58,'language':_0xca6bea,'sale_QTY':_0x48ff2c[0x0],'purchases_QTY':_0x17ca50[0x0],'sales_return_QTY':_0x38c70c[0x0],'purchases_return_QTY':_0x19ccb0[0x0],'transfer_table':_0x14f3a7,'product_cnt':_0x1de289});}else{if(_0x1ea949[_0x2daf7c(0x1fe)]=='sa'){const _0x2d9830=await staff[_0x2daf7c(0x20c)]({'email':_0x1ea949[_0x2daf7c(0x221)]}),_0x3dc827=await sales_sa['find']({'sales_staff_id':_0x2d9830[_0x2daf7c(0x1f8)]}),_0x1ce5e9=await sales_sa[_0x2daf7c(0x1f5)]({'sales_staff_id':_0x2d9830[_0x2daf7c(0x1f8)],'paid':_0x2daf7c(0x20d)}),_0x179ab8=await sales_sa[_0x2daf7c(0x1f5)]({'sales_staff_id':_0x2d9830['_id'],'paid':'False'}),_0x231e5b=await sales_sa[_0x2daf7c(0x230)]([{'$match':{'sales_staff_id':_0x2d9830[_0x2daf7c(0x1f8)][_0x2daf7c(0x21b)]()}},{'$unwind':_0x2daf7c(0x1fd)},{'$group':{'_id':null,'sumprice':{'$sum':_0x2daf7c(0x1f6)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x2daf7c(0x241),_0x2daf7c(0x242)]},0x2]}}}]),_0x59fb24=await staff[_0x2daf7c(0x230)]([{'$match':{'email':_0x1ea949[_0x2daf7c(0x221)]}},{'$unwind':_0x2daf7c(0x1fa)},{'$group':{'_id':null,'totalQTY':{'$sum':_0x2daf7c(0x245)}}}]);_0x20bfd9[_0x2daf7c(0x217)]('index_sa',{'success':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x231)),'errors':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x23c)),'role':_0x1ea949,'profile':_0x39ca78,'master_shop':_0x311c58,'language':_0xca6bea,'cntPaid':_0x1ce5e9,'cntNotPaid':_0x179ab8,'avg_price':_0x231e5b[0x0],'my_stock':_0x59fb24[0x0],'staff_arr':_0x2d9830});}else{if(_0x1ea949[_0x2daf7c(0x1fe)]=='acc'){const _0x53ed79=await staff[_0x2daf7c(0x20c)]({'email':_0x1ea949[_0x2daf7c(0x221)]});_0x20bfd9[_0x2daf7c(0x217)]('index_acc',{'success':_0x51f5ea[_0x2daf7c(0x213)]('success'),'errors':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x23c)),'role':_0x1ea949,'profile':_0x39ca78,'master_shop':_0x311c58,'language':_0xca6bea}),_0x20bfd9[_0x2daf7c(0x207)](_0x53ed79);}else{if(_0x1ea949[_0x2daf7c(0x1fe)]==_0x2daf7c(0x21d)||_0x1ea949[_0x2daf7c(0x1fe)]==_0x2daf7c(0x232)||_0x1ea949[_0x2daf7c(0x1fe)]==_0x2daf7c(0x234)){const _0x2c5175=await staff[_0x2daf7c(0x20c)]({'email':_0x1ea949[_0x2daf7c(0x221)]});_0x20bfd9[_0x2daf7c(0x217)](_0x2daf7c(0x236),{'success':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x231)),'errors':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x23c)),'role':_0x1ea949,'profile':_0x39ca78,'master_shop':_0x311c58,'language':_0xca6bea});}else{var _0x1de289;if(_0x1ea949[_0x2daf7c(0x208)]==_0x2daf7c(0x21e)){const _0x255316=await product[_0x2daf7c(0x1f5)]({'product_category':_0x2daf7c(0x21e)});_0x1de289=_0x255316['length'];}else{if(_0x1ea949['warehouse_category']==_0x2daf7c(0x23d)){const _0x4c7834=await product['find']({'product_category':_0x2daf7c(0x23d)});_0x1de289=_0x4c7834[_0x2daf7c(0x21a)];}else{const _0x22f497=await product[_0x2daf7c(0x1f5)]();_0x1de289=_0x22f497[_0x2daf7c(0x21a)];}}const _0x598482=await sales[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total_price':{'$sum':_0x2daf7c(0x200)}}}]),_0x221f31=await sales['aggregate']([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x2daf7c(0x211)}}}]),_0x2c6f69=await sales_return[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x2a65d3=await sales_return[_0x2daf7c(0x230)]([{'$unwind':_0x2daf7c(0x202)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x2daf7c(0x244)}}}]),_0xbef910=await purchases[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x2daf7c(0x203)}}}]),_0x227d7e=await purchases_return[_0x2daf7c(0x230)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x3cb677=await purchases_return[_0x2daf7c(0x230)]([{'$unwind':_0x2daf7c(0x222)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x2daf7c(0x246)}}}]),_0x505cf7=await purchases[_0x2daf7c(0x230)]([{'$unwind':_0x2daf7c(0x220)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x36b5f0=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x3937be=await sales[_0x2daf7c(0x230)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4aa682=await transfers['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x2daf7c(0x22c),'fromWarehouse':{'$first':_0x2daf7c(0x20e)},'toWareHouse':{'$first':_0x2daf7c(0x219)},'FromtotalQuantity':{'$sum':_0x2daf7c(0x21c)},'TototalQuantity':{'$sum':_0x2daf7c(0x1f4)}}}]),_0x1daa2d=await categories[_0x2daf7c(0x1f5)](),_0x1c3fed=await product[_0x2daf7c(0x1f5)](),_0x120eda=await suppliers[_0x2daf7c(0x1f5)](),_0x53dab9=await customer[_0x2daf7c(0x1f5)]();_0x20bfd9[_0x2daf7c(0x217)](_0x2daf7c(0x22f),{'success':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x231)),'errors':_0x51f5ea[_0x2daf7c(0x213)](_0x2daf7c(0x23c)),'role':_0x1ea949,'profile':_0x39ca78,'sale':_0x598482[0x0],'sales_return':_0x2c6f69[0x0],'purchases':_0xbef910[0x0],'purchases_return':_0x227d7e[0x0],'purchases_table':_0x36b5f0,'sales_table':_0x3937be,'categories':_0x1daa2d['length'],'product':_0x1c3fed[_0x2daf7c(0x21a)],'suppliers':_0x120eda[_0x2daf7c(0x21a)],'customer':_0x53dab9[_0x2daf7c(0x21a)],'master_shop':_0x311c58,'language':_0xca6bea,'sale_QTY':_0x221f31[0x0],'purchases_QTY':_0x505cf7[0x0],'sales_return_QTY':_0x2a65d3[0x0],'purchases_return_QTY':_0x3cb677[0x0],'transfer_table':_0x4aa682,'product_cnt':_0x1de289});}}}}}catch(_0x533638){console[_0x2daf7c(0x20f)](_0x533638);}}),router[a0_0x381efe(0x201)](a0_0x381efe(0x233),auth,async(_0x456003,_0x4bb13e)=>{const _0x2d7e3d=a0_0x381efe;try{const _0x28ab88=_0x456003[_0x2d7e3d(0x209)],_0x1312ec=await staff[_0x2d7e3d(0x20c)]({'email':_0x28ab88[_0x2d7e3d(0x221)]}),_0x280b4f=await sales_sa[_0x2d7e3d(0x230)]([{'$match':{'sales_staff_id':_0x1312ec[_0x2d7e3d(0x1f8)][_0x2d7e3d(0x21b)](),'paid':_0x2d7e3d(0x243)}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x4bb13e['json'](_0x280b4f);}catch(_0x538f7a){_0x4bb13e[_0x2d7e3d(0x207)](_0x538f7a);}}),router[a0_0x381efe(0x201)](a0_0x381efe(0x20a),auth,async(_0xa98be3,_0xb6679d)=>{const _0x3b6b14=a0_0x381efe;try{const _0x4396fa=_0xa98be3[_0x3b6b14(0x209)],_0x12a041=await staff['findOne']({'email':_0x4396fa[_0x3b6b14(0x221)]}),_0x119e8f=await sales_sa[_0x3b6b14(0x1f5)]({'sales_staff_id':_0x12a041[_0x3b6b14(0x1f8)],'paid':_0x3b6b14(0x243)});_0xb6679d[_0x3b6b14(0x207)](_0x119e8f);}catch(_0x183eeb){_0xb6679d['json'](_0x183eeb);}}),router['post'](a0_0x381efe(0x239),auth,async(_0x1efb3e,_0x580d25)=>{const _0x367b76=a0_0x381efe;try{const {sttaff_id:_0x32b9bd,warehouse:_0x2e1873,account_category:_0x42fb0a}=_0x1efb3e[_0x367b76(0x209)],_0x534166=await sales_order['aggregate']([{'$match':{'accounting_account_id':_0x32b9bd,'accounting_account_confirm':_0x367b76(0x214)}}]);_0x580d25[_0x367b76(0x207)](_0x534166);}catch(_0x1bd642){}}),router['get'](a0_0x381efe(0x225),auth,async(_0x595461,_0x459a02)=>{const _0x19f14f=a0_0x381efe;try{const _0x25d860=_0x595461[_0x19f14f(0x209)],_0x5a34b1=await staff['findOne']({'email':_0x25d860[_0x19f14f(0x221)]}),_0x2aa78a=await sales_sa['find']({'sales_staff_id':_0x5a34b1[_0x19f14f(0x1f8)],'paid':_0x19f14f(0x20d)});_0x459a02[_0x19f14f(0x207)](_0x2aa78a);}catch(_0x89477f){_0x459a02[_0x19f14f(0x207)](_0x89477f);}}),router['get'](a0_0x381efe(0x237),auth,async(_0x1ebac8,_0x1caf02)=>{const _0x3a05aa=a0_0x381efe;try{const _0x572c74=_0x1ebac8[_0x3a05aa(0x209)],_0x2cea05=await staff['findOne']({'email':_0x572c74[_0x3a05aa(0x221)]}),_0x59fde6=await sales_sa[_0x3a05aa(0x230)]([{'$match':{'sales_staff_id':_0x2cea05[_0x3a05aa(0x1f8)][_0x3a05aa(0x21b)](),'paid':'True'}},{'$limit':0x4},{'$sort':{'invoice':-0x1}}]);_0x1caf02[_0x3a05aa(0x207)](_0x59fde6);}catch(_0x50867e){_0x1caf02[_0x3a05aa(0x207)](_0x50867e);}}),router[a0_0x381efe(0x227)](a0_0x381efe(0x206),auth,async(_0x18e506,_0x35179e)=>{const _0x37272b=a0_0x381efe;try{const {id:_0x3dfce4,price:_0x60a0f6}=_0x18e506[_0x37272b(0x238)],_0x30d4f2=await sales_sa['findById'](_0x3dfce4);_0x30d4f2[_0x37272b(0x1f7)]='True',_0x30d4f2[_0x37272b(0x23a)]=parseFloat(_0x60a0f6);const _0x552418=await _0x30d4f2[_0x37272b(0x205)]();_0x35179e['json'](_0x552418);}catch(_0xa36142){_0x35179e['json'](_0xa36142);}}),router[a0_0x381efe(0x201)](a0_0x381efe(0x20a),auth,async(_0xae86ef,_0x5dba7)=>{const _0xa32ffe=a0_0x381efe;try{const _0x10729e=_0xae86ef[_0xa32ffe(0x209)],_0x5d0c69=await staff[_0xa32ffe(0x20c)]({'email':_0x10729e[_0xa32ffe(0x221)]}),_0x24b354=await sales_sa[_0xa32ffe(0x1f5)]({'sales_staff_id':_0x5d0c69[_0xa32ffe(0x1f8)],'paid':'False'});_0x5dba7[_0xa32ffe(0x207)](_0x24b354);}catch(_0x1b712e){_0x5dba7[_0xa32ffe(0x207)](_0x1b712e);}}),router['get']('/avg_data',auth,async(_0x5a7b08,_0x422759)=>{const _0x617f71=a0_0x381efe;try{const _0x80fe6e=_0x5a7b08['user'],_0x114be8=await staff[_0x617f71(0x20c)]({'email':_0x80fe6e['email']}),_0xa5926c=await sales_sa[_0x617f71(0x230)]([{'$match':{'sales_staff_id':_0x114be8[_0x617f71(0x1f8)][_0x617f71(0x21b)]()}},{'$unwind':_0x617f71(0x1fd)},{'$group':{'_id':null,'sumprice':{'$sum':_0x617f71(0x1f6)},'count':{'$sum':0x1}}},{'$project':{'_id':0x0,'sumprice':0x1,'averageprice':{'$round':[{'$divide':[_0x617f71(0x241),_0x617f71(0x242)]},0x2]}}}]);_0x422759[_0x617f71(0x207)](_0xa5926c);}catch(_0x5f064b){_0x422759[_0x617f71(0x207)](_0x5f064b);}}),router[a0_0x381efe(0x201)]('/my_inv',auth,async(_0x155adc,_0x2f0a77)=>{const _0xe85afb=a0_0x381efe;try{const _0xf8c135=_0x155adc[_0xe85afb(0x209)],_0x4747f7=await staff[_0xe85afb(0x20c)]({'email':_0xf8c135[_0xe85afb(0x221)]}),_0x359c64=await staff[_0xe85afb(0x230)]([{'$match':{'email':_0xf8c135[_0xe85afb(0x221)]}},{'$unwind':_0xe85afb(0x1fa)},{'$match':{'product_list.isConfirm':_0xe85afb(0x248)}},{'$group':{'_id':null,'totalQTY':{'$sum':'$product_list.product_stock'}}}]);_0x2f0a77['json'](_0x359c64);}catch(_0x35348a){_0x2f0a77[_0xe85afb(0x207)](_0x35348a);}}),router['get'](a0_0x381efe(0x216),auth,async(_0x20abf0,_0x2f3949)=>{const _0x1ed4d3=a0_0x381efe;try{const _0x583116=_0x20abf0['user'],_0x56eb86=await staff[_0x1ed4d3(0x20c)]({'email':_0x583116[_0x1ed4d3(0x221)]}),_0x260c41=await sales_sa['aggregate']([{'$match':{'sales_staff_id':_0x56eb86[_0x1ed4d3(0x1f8)][_0x1ed4d3(0x21b)]()}},{'$unwind':_0x1ed4d3(0x1fd)},{'$group':{'_id':_0x1ed4d3(0x1ff),'totalQuantity':{'$sum':_0x1ed4d3(0x211)},'date':{'$first':_0x1ed4d3(0x1ff)}}},{'$sort':{'date':0x1}}]);_0x2f3949['json'](_0x260c41);}catch(_0x42908f){_0x2f3949[_0x1ed4d3(0x207)](_0x42908f);}}),router[a0_0x381efe(0x201)](a0_0x381efe(0x22d),auth,async(_0x40b0e4,_0x3a3b8d)=>{const _0x54ce26=a0_0x381efe;try{const _0x44d6dd=_0x40b0e4[_0x54ce26(0x209)],_0xc5bcc2=await staff['findOne']({'email':_0x44d6dd[_0x54ce26(0x221)]}),_0xc69390=await sales_sa[_0x54ce26(0x230)]([{'$match':{'sales_staff_id':_0xc5bcc2[_0x54ce26(0x1f8)]['valueOf']()}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x54ce26(0x1ff),'totalPrice':{'$sum':_0x54ce26(0x228)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x3a3b8d['json'](_0xc69390);}catch(_0x27fa3e){_0x3a3b8d[_0x54ce26(0x207)](_0x27fa3e);}}),module[a0_0x381efe(0x204)]=router;