function a0_0x27bd(){var _0x46ca3f=['1480qgxWyW','valueOf','Arabic','all_sales_order','sttaff_id','findById','../middleware/auth','/../public','<br><br><br>','$JD','$member.name','password','<table\x20style=\x22width:\x20100%\x20!important;\x22>','<tr>','Types','tmpisFG','$accounting_account_confirm','errors','dicount_price','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','/upload/','</div>','log','createTransport','Portuguese','totalPrice','quantity','nodemailer','invoice_init','7oeAJwy','Portuguese\x20(BR)','accounting_account_id','English','sales_category','../models/all_models','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','express','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','646140agZetZ','$head_id_staff','dicount_price_adjust','host','783366rARYCi','$invoice','/add_sales','prod_cat','secondary_unit','post','<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22','sale_product','$customer','/product_data','conversion_data','</tbody>','/accounting_approval/','head_staff_info','wms_data','French','isFG','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','account_data','<span>\x20Dear\x20<b>','209305gVQhkM','<h5>\x20JEC\x20SMS\x20</h5>','Arabic\x20(ae)','protocol','</thead>','conversion_unit','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>','German','invoice','no_per_unit','$head_staff_info','</head><body>','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','true','<h2>\x20JEC\x20SMS\x20</h2>','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>','primary_code','$member.id_member','</b></span>\x20<br>','date','flash','forEach','string','</table>','find','unit','43317yUMqlX','</tr>','language','Spanish','981775ROyNOp','Chinese','3vaQjrv','toString','user','get','$wms_account_confirm','product_code','$sale_product.quantity','$sale_product','<span>\x20Request\x20ID:\x20<b>','4hOHQtM','head_id_staff','/view_sales/:id','<hr\x20class=\x22my-3\x22>','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','image','$wms_account_id','head_id_staff_id','\x22>Change\x20Status</a>','../public/language/languages.json','headers','mongodb','exports','Hindi','Email\x20sent\x20successfully','staffs','product_name','mongoose','wms_account_id','<!DOCTYPE\x20html>','/sales_order/view_sales/','5979786wVPBTM','save','Approval\x20for\x20','success','getPrimUnitNo','</b></span>\x20<br><br>','json','_id','ObjectId','<span>\x20Request\x20Date:\x20<b>','</td>','Sales\x20Order\x20is\x20ongoing','product_id','findOne','132domPfS','email','redirect','body','xlsx','</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>','Router','301164pEHWAd','English\x20(US)','price','<html><head><title></title>','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','prod_name','padStart','$_id','sendMail','://',';christian.villamer@jakagroup.com','$date','prod_code','</body></html>','<div>','<div\x20style=\x22text-align:\x20center;\x22>','totalprice'];a0_0x27bd=function(){return _0x46ca3f;};return a0_0x27bd();}var a0_0x4fc6e9=a0_0x1100;(function(_0x57c958,_0x87f79c){var _0x5df993=a0_0x1100,_0x544b72=_0x57c958();while(!![]){try{var _0x588bb3=parseInt(_0x5df993(0x19d))/0x1+parseInt(_0x5df993(0x16b))/0x2*(-parseInt(_0x5df993(0x19f))/0x3)+-parseInt(_0x5df993(0x1a8))/0x4*(-parseInt(_0x5df993(0x17f))/0x5)+-parseInt(_0x5df993(0x1bd))/0x6*(-parseInt(_0x5df993(0x15e))/0x7)+parseInt(_0x5df993(0x141))/0x8*(-parseInt(_0x5df993(0x199))/0x9)+parseInt(_0x5df993(0x167))/0xa+-parseInt(_0x5df993(0x1cb))/0xb*(parseInt(_0x5df993(0x12f))/0xc);if(_0x588bb3===_0x87f79c)break;else _0x544b72['push'](_0x544b72['shift']());}catch(_0x4d8c42){_0x544b72['push'](_0x544b72['shift']());}}}(a0_0x27bd,0x7a77d));const express=require(a0_0x4fc6e9(0x165)),app=express(),router=express[a0_0x4fc6e9(0x12e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require(a0_0x4fc6e9(0x163)),auth=require(a0_0x4fc6e9(0x147)),users=require(a0_0x4fc6e9(0x1b1)),excelJS=require('exceljs'),xlsx=require(a0_0x4fc6e9(0x12c)),mongoose=require(a0_0x4fc6e9(0x1b9)),{ObjectId}=require(a0_0x4fc6e9(0x1b3)),nodemailer=require(a0_0x4fc6e9(0x15c));function a0_0x1100(_0x3063bb,_0x548f38){var _0x27bd96=a0_0x27bd();return a0_0x1100=function(_0x110048,_0x5cfce5){_0x110048=_0x110048-0x12c;var _0x2316cc=_0x27bd96[_0x110048];return _0x2316cc;},a0_0x1100(_0x3063bb,_0x548f38);}router[a0_0x4fc6e9(0x1a2)]('/',auth,async(_0x35fd07,_0x28a012)=>{var _0x1f139f=a0_0x4fc6e9;try{const _0x173742=await master_shop[_0x1f139f(0x197)](),_0x4bf8cd=_0x35fd07[_0x1f139f(0x1a1)],_0x182238=await profile[_0x1f139f(0x1ca)]({'email':_0x4bf8cd[_0x1f139f(0x1cc)]}),_0x4aa90d=await staff[_0x1f139f(0x1ca)]({'email':_0x4bf8cd[_0x1f139f(0x1cc)]}),_0x436b82=await sales_order['aggregate']([{'$match':{'sales_staff_id':_0x4aa90d[_0x1f139f(0x1c4)][_0x1f139f(0x142)]()}},{'$unwind':_0x1f139f(0x1a6)},{'$group':{'_id':_0x1f139f(0x137),'invoice':{'$first':_0x1f139f(0x16c)},'customer':{'$first':_0x1f139f(0x173)},'date':{'$first':_0x1f139f(0x13b)},'JD':{'$first':_0x1f139f(0x14a)},'accounting_account_confirm':{'$first':_0x1f139f(0x151)},'wms_account_confirm':{'$first':_0x1f139f(0x1a3)},'totalQTY':{'$sum':_0x1f139f(0x1a5)}}}]);if(_0x173742[0x0]['language']=='English\x20(US)')var _0x377f23=users[_0x1f139f(0x161)];else{if(_0x173742[0x0][_0x1f139f(0x19b)]==_0x1f139f(0x1b5))var _0x377f23=users[_0x1f139f(0x1b5)];else{if(_0x173742[0x0][_0x1f139f(0x19b)]=='German')var _0x377f23=users['German'];else{if(_0x173742[0x0][_0x1f139f(0x19b)]==_0x1f139f(0x19c))var _0x377f23=users[_0x1f139f(0x19c)];else{if(_0x173742[0x0][_0x1f139f(0x19b)]==_0x1f139f(0x17a))var _0x377f23=users[_0x1f139f(0x17a)];else{if(_0x173742[0x0][_0x1f139f(0x19b)]==_0x1f139f(0x15f))var _0x377f23=users[_0x1f139f(0x159)];else{if(_0x173742[0x0][_0x1f139f(0x19b)]==_0x1f139f(0x19e))var _0x377f23=users[_0x1f139f(0x19e)];else{if(_0x173742[0x0][_0x1f139f(0x19b)]=='Arabic\x20(ae)')var _0x377f23=users[_0x1f139f(0x143)];}}}}}}}_0x28a012['render'](_0x1f139f(0x144),{'success':_0x35fd07[_0x1f139f(0x193)](_0x1f139f(0x1c0)),'errors':_0x35fd07['flash']('errors'),'master_shop':_0x173742,'profile':_0x182238,'role':_0x4bf8cd,'language':_0x377f23,'product_list':_0x4aa90d['product_list'],'sales_mine':_0x436b82,'staff_arr':_0x4aa90d});}catch(_0x731d6e){console[_0x1f139f(0x157)](_0x731d6e);}}),router[a0_0x4fc6e9(0x1a2)]('/add_sales',auth,async(_0x198be4,_0x4424f2)=>{var _0xe78931=a0_0x4fc6e9;try{const _0x8b241d=await master_shop['find'](),_0x33dbca=_0x198be4[_0xe78931(0x1a1)],_0x38f153=await profile[_0xe78931(0x1ca)]({'email':_0x33dbca[_0xe78931(0x1cc)]}),_0x2e073f=await staff[_0xe78931(0x1ca)]({'email':_0x33dbca[_0xe78931(0x1cc)]}),_0x1d05e8=await customer[_0xe78931(0x197)]({'agent_id':_0x2e073f[_0xe78931(0x1c4)]});if(_0x8b241d[0x0]['language']==_0xe78931(0x130))var _0x2a853e=users[_0xe78931(0x161)];else{if(_0x8b241d[0x0][_0xe78931(0x19b)]==_0xe78931(0x1b5))var _0x2a853e=users['Hindi'];else{if(_0x8b241d[0x0][_0xe78931(0x19b)]==_0xe78931(0x186))var _0x2a853e=users['German'];else{if(_0x8b241d[0x0]['language']=='Spanish')var _0x2a853e=users[_0xe78931(0x19c)];else{if(_0x8b241d[0x0][_0xe78931(0x19b)]==_0xe78931(0x17a))var _0x2a853e=users[_0xe78931(0x17a)];else{if(_0x8b241d[0x0]['language']==_0xe78931(0x15f))var _0x2a853e=users['Portuguese'];else{if(_0x8b241d[0x0]['language']==_0xe78931(0x19e))var _0x2a853e=users[_0xe78931(0x19e)];else{if(_0x8b241d[0x0][_0xe78931(0x19b)]==_0xe78931(0x181))var _0x2a853e=users[_0xe78931(0x143)];}}}}}}}_0x4424f2['render']('add_sales_order',{'success':_0x198be4[_0xe78931(0x193)](_0xe78931(0x1c0)),'errors':_0x198be4['flash'](_0xe78931(0x152)),'master_shop':_0x8b241d,'profile':_0x38f153,'role':_0x33dbca,'language':_0x2a853e,'customer':_0x1d05e8,'staff_arr':_0x2e073f});}catch(_0x24ebc6){console[_0xe78931(0x157)](_0x24ebc6);}}),router[a0_0x4fc6e9(0x1a2)](a0_0x4fc6e9(0x1aa),auth,async(_0x589a60,_0x54c89c)=>{var _0x20defe=a0_0x4fc6e9;try{const _0x246d38=await master_shop[_0x20defe(0x197)](),_0x393f73=_0x589a60[_0x20defe(0x1a1)],_0x25b6d9=await profile[_0x20defe(0x1ca)]({'email':_0x393f73[_0x20defe(0x1cc)]}),_0xf36be4=await staff[_0x20defe(0x1ca)]({'email':_0x393f73['email']}),_0x4a119a=await customer[_0x20defe(0x197)]({'agent_id':_0xf36be4['_id']}),_0x4ffdcf=mongoose['Types']['ObjectId'],_0x42c99c=_0x589a60['params']['id'],_0x25bf69=await sales_order[_0x20defe(0x146)](_0x42c99c),_0x1bd6c5=await sales_order['aggregate']([{'$match':{'_id':_0x4ffdcf(_0x42c99c)}},{'$addFields':{'accounting_account_id':{'$toObjectId':'$accounting_account_id'}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x20defe(0x1ae)}}},{'$lookup':{'from':_0x20defe(0x1b7),'localField':_0x20defe(0x160),'foreignField':_0x20defe(0x1c4),'as':_0x20defe(0x17d)}},{'$unwind':'$account_data'},{'$lookup':{'from':'staffs','localField':_0x20defe(0x1ba),'foreignField':'_id','as':_0x20defe(0x179)}},{'$unwind':{'path':'$wms_data','preserveNullAndEmptyArrays':!![]}}]);if(_0x246d38[0x0][_0x20defe(0x19b)]=='English\x20(US)')var _0x57a032=users['English'];else{if(_0x246d38[0x0]['language']==_0x20defe(0x1b5))var _0x57a032=users['Hindi'];else{if(_0x246d38[0x0][_0x20defe(0x19b)]==_0x20defe(0x186))var _0x57a032=users['German'];else{if(_0x246d38[0x0][_0x20defe(0x19b)]==_0x20defe(0x19c))var _0x57a032=users[_0x20defe(0x19c)];else{if(_0x246d38[0x0]['language']==_0x20defe(0x17a))var _0x57a032=users[_0x20defe(0x17a)];else{if(_0x246d38[0x0][_0x20defe(0x19b)]=='Portuguese\x20(BR)')var _0x57a032=users[_0x20defe(0x159)];else{if(_0x246d38[0x0][_0x20defe(0x19b)]=='Chinese')var _0x57a032=users[_0x20defe(0x19e)];else{if(_0x246d38[0x0]['language']==_0x20defe(0x181))var _0x57a032=users[_0x20defe(0x143)];}}}}}}}_0x54c89c['render']('view_sales_order',{'success':_0x589a60['flash']('success'),'errors':_0x589a60[_0x20defe(0x193)](_0x20defe(0x152)),'master_shop':_0x246d38,'profile':_0x25b6d9,'role':_0x393f73,'language':_0x57a032,'customer':_0x4a119a,'sales_sa':_0x25bf69,'approvers':_0x1bd6c5[0x0],'staff_arr':_0xf36be4});}catch(_0x13262a){console[_0x20defe(0x157)](_0x13262a);}}),router[a0_0x4fc6e9(0x170)](a0_0x4fc6e9(0x16d),auth,async(_0x1b750a,_0x3cd7b6)=>{var _0x3485b4=a0_0x4fc6e9;try{const {customer:_0x2a07fa,date:_0x23d850,prod_code:_0x24e6cf,note:_0x4202ee,paid_status:_0xa3deff,JD:_0x4f6238,po_number:_0x5a523f,desire_date:_0x5f1c4b}=_0x1b750a['body'];if(typeof _0x24e6cf==_0x3485b4(0x195))var _0x1f83f4=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x13c)]],_0x265512=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x135)]],_0x5875fb=[_0x1b750a['body'][_0x3485b4(0x18f)]],_0x4195ed=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x15b)]],_0x3ae604=[_0x1b750a['body'][_0x3485b4(0x198)]],_0xb571ef=[_0x1b750a[_0x3485b4(0x1ce)]['product_id']],_0x5c1a84=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x131)]],_0x1cb550=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x15a)]],_0x2d554a=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x153)]],_0x56493e=[_0x1b750a[_0x3485b4(0x1ce)]['tmpisFG']],_0x54d2b1=[_0x1b750a['body'][_0x3485b4(0x169)]],_0x50e6be=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x188)]],_0x40465b=[_0x1b750a[_0x3485b4(0x1ce)]['getPrimUnitNo']],_0xd3c2a9=[_0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x16e)]],_0x3acdb4=[_0x1b750a[_0x3485b4(0x1ce)]['secondary_unit']],_0x605294=[_0x1b750a['body'][_0x3485b4(0x184)]];else var _0x1f83f4=[..._0x1b750a['body'][_0x3485b4(0x13c)]],_0x265512=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x135)]],_0x5875fb=[..._0x1b750a['body'][_0x3485b4(0x18f)]],_0x4195ed=[..._0x1b750a['body'][_0x3485b4(0x15b)]],_0x3ae604=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x198)]],_0xb571ef=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x1c9)]],_0x5c1a84=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x131)]],_0x1cb550=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x15a)]],_0x2d554a=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x153)]],_0x56493e=[..._0x1b750a['body'][_0x3485b4(0x150)]],_0x54d2b1=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x169)]],_0x50e6be=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x188)]],_0x40465b=[..._0x1b750a['body'][_0x3485b4(0x1c1)]],_0xd3c2a9=[..._0x1b750a[_0x3485b4(0x1ce)]['prod_cat']],_0x3acdb4=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x16f)]],_0x605294=[..._0x1b750a[_0x3485b4(0x1ce)][_0x3485b4(0x184)]];const _0x28903c=_0x1f83f4['map'](_0x2f67f3=>{return _0x2f67f3={'product_code':_0x2f67f3};});_0x265512['forEach']((_0x3f3c60,_0x25f267)=>{_0x28903c[_0x25f267]['product_name']=_0x3f3c60;}),_0x5875fb[_0x3485b4(0x194)]((_0x227f37,_0x18f57b)=>{var _0x2109ce=_0x3485b4;_0x28903c[_0x18f57b][_0x2109ce(0x18f)]=_0x227f37;}),_0x4195ed[_0x3485b4(0x194)]((_0x110c80,_0x5154fc)=>{var _0x428474=_0x3485b4;_0x28903c[_0x5154fc][_0x428474(0x15b)]=_0x110c80;}),_0x3ae604[_0x3485b4(0x194)]((_0x343c84,_0x53ab34)=>{var _0x4375c3=_0x3485b4;_0x28903c[_0x53ab34][_0x4375c3(0x198)]=_0x343c84;}),_0xb571ef['forEach']((_0x2dabcb,_0x4fde37)=>{var _0x141c8b=_0x3485b4;_0x28903c[_0x4fde37][_0x141c8b(0x1c9)]=_0x2dabcb;}),_0x54d2b1[_0x3485b4(0x194)]((_0x11fbbc,_0xda987c)=>{_0x28903c[_0xda987c]['adjustment_discount']=_0x11fbbc;}),_0x5c1a84[_0x3485b4(0x194)]((_0x5dedeb,_0x342fb2)=>{var _0x2c2447=_0x3485b4;_0x28903c[_0x342fb2][_0x2c2447(0x131)]=_0x5dedeb;}),_0x1cb550[_0x3485b4(0x194)]((_0x29c23e,_0x3f20ca)=>{var _0x5776dd=_0x3485b4;_0x28903c[_0x3f20ca][_0x5776dd(0x140)]=_0x29c23e;}),_0x2d554a[_0x3485b4(0x194)]((_0x340e9b,_0x5d69d7)=>{_0x28903c[_0x5d69d7]['discount']=_0x340e9b;}),_0x56493e['forEach']((_0xa50872,_0x3518a5)=>{var _0x4d2719=_0x3485b4;_0x28903c[_0x3518a5][_0x4d2719(0x17b)]=_0xa50872;}),_0x3acdb4[_0x3485b4(0x194)]((_0x5565ac,_0x5ec8eb)=>{var _0x30d9f5=_0x3485b4;_0x28903c[_0x5ec8eb][_0x30d9f5(0x16f)]=_0x5565ac;}),_0x40465b[_0x3485b4(0x194)]((_0x149d4a,_0x31077b)=>{_0x28903c[_0x31077b]['real_qty_unit_val']=_0x149d4a;}),_0xd3c2a9[_0x3485b4(0x194)]((_0x1524f8,_0xcc5563)=>{var _0x8d9d2e=_0x3485b4;_0x28903c[_0xcc5563][_0x8d9d2e(0x16e)]=_0x1524f8;}),_0x605294['forEach']((_0x76f2a1,_0x5cbf27)=>{var _0x30e30f=_0x3485b4;_0x28903c[_0x5cbf27][_0x30e30f(0x175)]=_0x76f2a1;}),_0x50e6be[_0x3485b4(0x194)]((_0x5b6719,_0x2cf92a)=>{var _0x19e5b5=_0x3485b4;_0x28903c[_0x2cf92a][_0x19e5b5(0x188)]=_0x5b6719;});const _0x39bf20=await approver_acct['aggregate']([{'$unwind':'$member'},{'$match':{'member.id_member':_0x1b750a['user'][_0x3485b4(0x145)]}},{'$group':{'_id':{'id_member':_0x3485b4(0x190),'name':_0x3485b4(0x14b)},'head_id_staff':{'$first':_0x3485b4(0x168)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':_0x3485b4(0x168)}}},{'$lookup':{'from':_0x3485b4(0x1b7),'localField':_0x3485b4(0x1af),'foreignField':'_id','as':_0x3485b4(0x178)}},{'$unwind':_0x3485b4(0x189)}]),_0x2faf0d=new invoice_for_sales_order();await _0x2faf0d[_0x3485b4(0x1be)]();const _0x126019=_0x1b750a[_0x3485b4(0x1a1)],_0x44ca1f=await staff['findOne']({'email':_0x126019[_0x3485b4(0x1cc)]}),_0x455ee3=new sales_order({'invoice':_0x2faf0d[_0x3485b4(0x15d)][_0x3485b4(0x1a0)]()[_0x3485b4(0x136)](0x8,'0'),'customer':_0x2a07fa,'date':_0x23d850,'sale_product':_0x28903c,'note':_0x4202ee,'sales_staff_id':_0x44ca1f[_0x3485b4(0x1c4)]['valueOf'](),'JD':_0x4f6238,'accounting_account_id':_0x39bf20[0x0][_0x3485b4(0x1a9)],'po_number':_0x5a523f,'desired_delivery':_0x5f1c4b,'wms_account_confirm':_0x3485b4(0x18c),'accounting_account_confirm':_0x3485b4(0x18c)}),_0x280ba3=await _0x455ee3[_0x3485b4(0x1be)]();var _0x4774fe=_0x280ba3[_0x3485b4(0x172)],_0x31f66e='',_0x4e6372,_0x4f4de0=0x0;for(_0x4e6372 in _0x4774fe){_0x31f66e+=_0x3485b4(0x14e)+_0x3485b4(0x133)+_0x4774fe[_0x4e6372][_0x3485b4(0x1b8)]+_0x3485b4(0x1c7)+_0x3485b4(0x133)+_0x4774fe[_0x4e6372][_0x3485b4(0x1a4)]+'</td>'+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x4774fe[_0x4e6372][_0x3485b4(0x15b)]+_0x3485b4(0x1c7)+_0x3485b4(0x133)+_0x4774fe[_0x4e6372][_0x3485b4(0x198)]+_0x3485b4(0x1c7)+_0x3485b4(0x19a),_0x4f4de0+=parseInt(_0x4774fe[_0x4e6372][_0x3485b4(0x15b)]);}const _0x480b00=await master_shop[_0x3485b4(0x197)](),_0x48f9bb=await email_settings[_0x3485b4(0x1ca)]();let _0x2adb90=nodemailer[_0x3485b4(0x158)]({'port':Number(_0x48f9bb['port']),'secure':![],'auth':{'user':_0x48f9bb['email'],'pass':_0x48f9bb[_0x3485b4(0x14c)]}});const _0x2dfddd=_0x1b750a[_0x3485b4(0x182)]+_0x3485b4(0x139)+_0x1b750a[_0x3485b4(0x1b2)][_0x3485b4(0x16a)];let _0xda2b7={'from':_0x48f9bb[_0x3485b4(0x1cc)],'to':_0x39bf20[0x0][_0x3485b4(0x178)][_0x3485b4(0x1cc)]+_0x3485b4(0x13a),'subject':_0x3485b4(0x1bf)+_0x280ba3[_0x3485b4(0x187)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x3485b4(0x148)+_0x3485b4(0x155)+_0x480b00[0x0][_0x3485b4(0x1ad)],'cid':'logo'}],'html':_0x3485b4(0x1bb)+_0x3485b4(0x132)+_0x3485b4(0x166)+_0x3485b4(0x18a)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x3485b4(0x13e)+_0x3485b4(0x134)+'</div>'+_0x3485b4(0x13e)+_0x3485b4(0x18d)+_0x3485b4(0x156)+_0x3485b4(0x156)+_0x3485b4(0x1ab)+'<div>'+_0x3485b4(0x17e)+_0x39bf20[0x0][_0x3485b4(0x178)]['name']+'</b>,\x20</span><br>'+_0x3485b4(0x156)+_0x3485b4(0x13e)+_0x3485b4(0x1ac)+_0x3485b4(0x156)+_0x3485b4(0x13e)+_0x3485b4(0x1a7)+_0x280ba3[_0x3485b4(0x187)]+_0x3485b4(0x191)+'<span>\x20Requested\x20By:\x20<b>'+_0x44ca1f['name']+'</b></span>\x20<br>'+_0x3485b4(0x1c6)+_0x280ba3[_0x3485b4(0x192)]+_0x3485b4(0x1c2)+_0x3485b4(0x156)+_0x3485b4(0x14d)+_0x3485b4(0x18b)+_0x3485b4(0x14e)+_0x3485b4(0x154)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>'+_0x3485b4(0x18e)+_0x3485b4(0x185)+_0x3485b4(0x19a)+_0x3485b4(0x183)+'<tbody\x20style=\x22text-align:\x20center;\x22>'+'\x20'+_0x31f66e+'\x20'+_0x3485b4(0x176)+_0x3485b4(0x196)+'<div>'+_0x3485b4(0x17c)+_0x4f4de0+_0x3485b4(0x12d)+'<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>'+'<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>'+_0x3485b4(0x149)+_0x3485b4(0x156)+_0x3485b4(0x13f)+_0x3485b4(0x171)+_0x2dfddd+_0x3485b4(0x177)+_0x280ba3['_id']+_0x3485b4(0x1b0)+'<br><br>'+_0x3485b4(0x156)+_0x3485b4(0x13e)+'<strong>\x20Regards\x20</strong>'+_0x3485b4(0x180)+_0x3485b4(0x156)+_0x3485b4(0x156)+_0x3485b4(0x164)+_0x3485b4(0x13d)};_0x2adb90[_0x3485b4(0x138)](_0xda2b7,function(_0x5bfa8e,_0x1acf03){var _0x117d70=_0x3485b4;_0x5bfa8e?(console[_0x117d70(0x157)](_0x5bfa8e),console[_0x117d70(0x157)]('Error\x20Occurs')):console['log'](_0x117d70(0x1b6));}),_0x1b750a[_0x3485b4(0x193)](_0x3485b4(0x1c0),_0x3485b4(0x1c8)),_0x3cd7b6[_0x3485b4(0x1cd)](_0x3485b4(0x1bc)+_0x280ba3[_0x3485b4(0x1c4)]);}catch(_0x5a78a6){}}),router[a0_0x4fc6e9(0x170)]('/product_list',auth,async(_0x3f381c,_0x5f3e4d)=>{var _0x4a3bd0=a0_0x4fc6e9;try{const _0x3511fe=_0x3f381c[_0x4a3bd0(0x1a1)],_0x31eabc=await profile[_0x4a3bd0(0x1ca)]({'email':_0x3511fe[_0x4a3bd0(0x1cc)]}),_0x3f19e1=await product[_0x4a3bd0(0x197)]({'sales_category':_0x3511fe[_0x4a3bd0(0x162)]});_0x5f3e4d[_0x4a3bd0(0x1c3)](_0x3f19e1);}catch(_0x2d4b97){}}),router['post'](a0_0x4fc6e9(0x174),auth,async(_0x53bfec,_0x19121f)=>{var _0x130f3c=a0_0x4fc6e9;try{const _0x5d29fd=_0x53bfec['user'],{id_data:_0x5e9052}=_0x53bfec[_0x130f3c(0x1ce)],_0x24ae93=await profile[_0x130f3c(0x1ca)]({'email':_0x5d29fd['email']}),_0x2b94eb=mongoose[_0x130f3c(0x14f)][_0x130f3c(0x1c5)];var _0x430cf6=_0x2b94eb(_0x5e9052);const _0x444d7f=await product[_0x130f3c(0x197)]({'_id':_0x430cf6});_0x19121f['json'](_0x444d7f);}catch(_0x19f9b3){}}),module[a0_0x4fc6e9(0x1b4)]=router;