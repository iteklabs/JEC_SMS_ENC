var a0_0x3a52ac=a0_0x51e1;function a0_0x51e1(_0xab1722,_0x550cb7){var _0x23c332=a0_0x23c3();return a0_0x51e1=function(_0x51e1d7,_0x17d1d8){_0x51e1d7=_0x51e1d7-0x1d6;var _0x1b6b7c=_0x23c332[_0x51e1d7];return _0x1b6b7c;},a0_0x51e1(_0xab1722,_0x550cb7);}(function(_0x763ced,_0x2b0148){var _0x107eee=a0_0x51e1,_0x17e0a5=_0x763ced();while(!![]){try{var _0x3a5702=parseInt(_0x107eee(0x265))/0x1+parseInt(_0x107eee(0x1f0))/0x2*(-parseInt(_0x107eee(0x1f1))/0x3)+-parseInt(_0x107eee(0x232))/0x4+-parseInt(_0x107eee(0x218))/0x5+-parseInt(_0x107eee(0x238))/0x6*(-parseInt(_0x107eee(0x1f7))/0x7)+-parseInt(_0x107eee(0x1d8))/0x8+parseInt(_0x107eee(0x1f2))/0x9;if(_0x3a5702===_0x2b0148)break;else _0x17e0a5['push'](_0x17e0a5['shift']());}catch(_0x1cece0){_0x17e0a5['push'](_0x17e0a5['shift']());}}}(a0_0x23c3,0x83235));const express=require('express'),app=express(),router=express[a0_0x3a52ac(0x22c)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require(a0_0x3a52ac(0x23f)),auth=require(a0_0x3a52ac(0x24e)),users=require('../public/language/languages.json'),excelJS=require(a0_0x3a52ac(0x259)),xlsx=require(a0_0x3a52ac(0x209)),mongoose=require(a0_0x3a52ac(0x1f4)),{ObjectId}=require('mongodb'),nodemailer=require(a0_0x3a52ac(0x21d));router['get']('/',auth,async(_0x4e363d,_0x586be3)=>{var _0x49ff44=a0_0x3a52ac;try{const _0x20e2f4=await master_shop[_0x49ff44(0x244)](),_0x45afd2=_0x4e363d[_0x49ff44(0x21e)],_0x37cba2=await profile[_0x49ff44(0x220)]({'email':_0x45afd2[_0x49ff44(0x205)]}),_0x2bdbaf=await staff[_0x49ff44(0x220)]({'email':_0x45afd2[_0x49ff44(0x205)]}),_0x2b3b86=await sales_order[_0x49ff44(0x246)]([{'$match':{'sales_staff_id':_0x2bdbaf[_0x49ff44(0x279)][_0x49ff44(0x231)]()}},{'$unwind':_0x49ff44(0x210)},{'$group':{'_id':_0x49ff44(0x245),'invoice':{'$first':'$invoice'},'customer':{'$first':_0x49ff44(0x21c)},'date':{'$first':_0x49ff44(0x263)},'JD':{'$first':'$JD'},'accounting_account_confirm':{'$first':_0x49ff44(0x206)},'wms_account_confirm':{'$first':'$wms_account_confirm'},'totalQTY':{'$sum':_0x49ff44(0x275)}}}]);if(_0x20e2f4[0x0][_0x49ff44(0x23c)]==_0x49ff44(0x20c))var _0x4807bb=users['English'];else{if(_0x20e2f4[0x0][_0x49ff44(0x23c)]==_0x49ff44(0x25c))var _0x4807bb=users[_0x49ff44(0x25c)];else{if(_0x20e2f4[0x0][_0x49ff44(0x23c)]==_0x49ff44(0x239))var _0x4807bb=users[_0x49ff44(0x239)];else{if(_0x20e2f4[0x0][_0x49ff44(0x23c)]=='Spanish')var _0x4807bb=users[_0x49ff44(0x217)];else{if(_0x20e2f4[0x0]['language']==_0x49ff44(0x235))var _0x4807bb=users[_0x49ff44(0x235)];else{if(_0x20e2f4[0x0]['language']==_0x49ff44(0x277))var _0x4807bb=users[_0x49ff44(0x1fe)];else{if(_0x20e2f4[0x0]['language']==_0x49ff44(0x25a))var _0x4807bb=users[_0x49ff44(0x25a)];else{if(_0x20e2f4[0x0]['language']==_0x49ff44(0x1dd))var _0x4807bb=users['Arabic'];}}}}}}}_0x586be3[_0x49ff44(0x219)](_0x49ff44(0x1f5),{'success':_0x4e363d[_0x49ff44(0x22b)](_0x49ff44(0x23e)),'errors':_0x4e363d['flash'](_0x49ff44(0x267)),'master_shop':_0x20e2f4,'profile':_0x37cba2,'role':_0x45afd2,'language':_0x4807bb,'product_list':_0x2bdbaf[_0x49ff44(0x22f)],'sales_mine':_0x2b3b86,'staff_arr':_0x2bdbaf});}catch(_0x25924f){console['log'](_0x25924f);}}),router[a0_0x3a52ac(0x24f)](a0_0x3a52ac(0x233),auth,async(_0xb3ecb9,_0x2c1b71)=>{var _0x2d9bd1=a0_0x3a52ac;try{const _0x9b6f06=await master_shop[_0x2d9bd1(0x244)](),_0x1f65b6=_0xb3ecb9['user'],_0x3348f0=await profile[_0x2d9bd1(0x220)]({'email':_0x1f65b6['email']}),_0x31a2e7=await staff[_0x2d9bd1(0x220)]({'email':_0x1f65b6[_0x2d9bd1(0x205)]}),_0x3f3c31=await customer[_0x2d9bd1(0x244)]({'agent_id':_0x31a2e7[_0x2d9bd1(0x279)]});if(_0x9b6f06[0x0][_0x2d9bd1(0x23c)]==_0x2d9bd1(0x20c))var _0xbed2ba=users[_0x2d9bd1(0x208)];else{if(_0x9b6f06[0x0][_0x2d9bd1(0x23c)]==_0x2d9bd1(0x25c))var _0xbed2ba=users[_0x2d9bd1(0x25c)];else{if(_0x9b6f06[0x0][_0x2d9bd1(0x23c)]=='German')var _0xbed2ba=users['German'];else{if(_0x9b6f06[0x0]['language']=='Spanish')var _0xbed2ba=users['Spanish'];else{if(_0x9b6f06[0x0][_0x2d9bd1(0x23c)]==_0x2d9bd1(0x235))var _0xbed2ba=users['French'];else{if(_0x9b6f06[0x0]['language']==_0x2d9bd1(0x277))var _0xbed2ba=users[_0x2d9bd1(0x1fe)];else{if(_0x9b6f06[0x0][_0x2d9bd1(0x23c)]==_0x2d9bd1(0x25a))var _0xbed2ba=users[_0x2d9bd1(0x25a)];else{if(_0x9b6f06[0x0][_0x2d9bd1(0x23c)]==_0x2d9bd1(0x1dd))var _0xbed2ba=users[_0x2d9bd1(0x254)];}}}}}}}_0x2c1b71['render']('add_sales_order',{'success':_0xb3ecb9['flash'](_0x2d9bd1(0x23e)),'errors':_0xb3ecb9['flash'](_0x2d9bd1(0x267)),'master_shop':_0x9b6f06,'profile':_0x3348f0,'role':_0x1f65b6,'language':_0xbed2ba,'customer':_0x3f3c31,'staff_arr':_0x31a2e7});}catch(_0x4204ea){console[_0x2d9bd1(0x236)](_0x4204ea);}}),router[a0_0x3a52ac(0x24f)](a0_0x3a52ac(0x26f),auth,async(_0xfa018b,_0x3a89d2)=>{var _0x144630=a0_0x3a52ac;try{const _0x245337=await master_shop[_0x144630(0x244)](),_0x2493cd=_0xfa018b[_0x144630(0x21e)],_0x38d328=await profile[_0x144630(0x220)]({'email':_0x2493cd[_0x144630(0x205)]}),_0x5803dc=await staff[_0x144630(0x220)]({'email':_0x2493cd[_0x144630(0x205)]}),_0x54c303=await customer[_0x144630(0x244)]({'agent_id':_0x5803dc[_0x144630(0x279)]}),_0x240d04=mongoose[_0x144630(0x20f)]['ObjectId'],_0x34c32e=_0xfa018b[_0x144630(0x24d)]['id'],_0x45e889=await sales_order[_0x144630(0x212)](_0x34c32e),_0x392735=await sales_order[_0x144630(0x246)]([{'$match':{'_id':_0x240d04(_0x34c32e)}},{'$addFields':{'accounting_account_id':{'$toObjectId':_0x144630(0x211)}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$wms_account_id'}}},{'$lookup':{'from':_0x144630(0x22d),'localField':_0x144630(0x1f9),'foreignField':_0x144630(0x279),'as':_0x144630(0x223)}},{'$unwind':_0x144630(0x27a)},{'$lookup':{'from':_0x144630(0x22d),'localField':_0x144630(0x1fc),'foreignField':'_id','as':_0x144630(0x274)}},{'$unwind':{'path':_0x144630(0x1e7),'preserveNullAndEmptyArrays':!![]}}]);if(_0x245337[0x0][_0x144630(0x23c)]==_0x144630(0x20c))var _0xbfb7f=users[_0x144630(0x208)];else{if(_0x245337[0x0]['language']==_0x144630(0x25c))var _0xbfb7f=users[_0x144630(0x25c)];else{if(_0x245337[0x0]['language']==_0x144630(0x239))var _0xbfb7f=users['German'];else{if(_0x245337[0x0][_0x144630(0x23c)]==_0x144630(0x217))var _0xbfb7f=users[_0x144630(0x217)];else{if(_0x245337[0x0][_0x144630(0x23c)]==_0x144630(0x235))var _0xbfb7f=users[_0x144630(0x235)];else{if(_0x245337[0x0][_0x144630(0x23c)]==_0x144630(0x277))var _0xbfb7f=users[_0x144630(0x1fe)];else{if(_0x245337[0x0][_0x144630(0x23c)]=='Chinese')var _0xbfb7f=users['Chinese'];else{if(_0x245337[0x0][_0x144630(0x23c)]==_0x144630(0x1dd))var _0xbfb7f=users['Arabic'];}}}}}}}_0x3a89d2['render'](_0x144630(0x214),{'success':_0xfa018b['flash']('success'),'errors':_0xfa018b[_0x144630(0x22b)](_0x144630(0x267)),'master_shop':_0x245337,'profile':_0x38d328,'role':_0x2493cd,'language':_0xbfb7f,'customer':_0x54c303,'sales_sa':_0x45e889,'approvers':_0x392735[0x0],'staff_arr':_0x5803dc});}catch(_0x32d15e){console[_0x144630(0x236)](_0x32d15e);}}),router['post'](a0_0x3a52ac(0x233),auth,async(_0x37841f,_0xdfc920)=>{var _0x4a9bbe=a0_0x3a52ac;try{const {customer:_0x3bbdfb,date:_0x4c717c,prod_code:_0x416a4f,note:_0x3daf45,paid_status:_0x430e54,JD:_0xc04a36,po_number:_0x2c9382,desire_date:_0x3198a5}=_0x37841f[_0x4a9bbe(0x25b)];if(typeof _0x416a4f==_0x4a9bbe(0x200))var _0x750b51=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x271)]],_0x5925ff=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1ff)]],_0x490ccf=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x225)]],_0x34cafd=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x22a)]],_0x3feedf=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1d6)]],_0x2b2f73=[_0x37841f[_0x4a9bbe(0x25b)]['product_id']],_0x4c157e=[_0x37841f[_0x4a9bbe(0x25b)]['price']],_0x4d491f=[_0x37841f[_0x4a9bbe(0x25b)]['totalPrice']],_0x556be2=[_0x37841f[_0x4a9bbe(0x25b)]['dicount_price']],_0x149765=[_0x37841f['body']['tmpisFG']],_0x4f6054=[_0x37841f['body'][_0x4a9bbe(0x1de)]],_0x2c1f39=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1eb)]],_0x535edb=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1e1)]],_0x5720e4=[_0x37841f['body'][_0x4a9bbe(0x26b)]],_0x53c789=[_0x37841f[_0x4a9bbe(0x25b)]['secondary_unit']],_0x4b74d3=[_0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1e6)]];else var _0x750b51=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x271)]],_0x5925ff=[..._0x37841f['body']['prod_name']],_0x490ccf=[..._0x37841f['body'][_0x4a9bbe(0x225)]],_0x34cafd=[..._0x37841f[_0x4a9bbe(0x25b)]['quantity']],_0x3feedf=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1d6)]],_0x2b2f73=[..._0x37841f['body'][_0x4a9bbe(0x256)]],_0x4c157e=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x230)]],_0x4d491f=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x237)]],_0x556be2=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x266)]],_0x149765=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1e2)]],_0x4f6054=[..._0x37841f['body'][_0x4a9bbe(0x1de)]],_0x2c1f39=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1eb)]],_0x535edb=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x1e1)]],_0x5720e4=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x26b)]],_0x53c789=[..._0x37841f[_0x4a9bbe(0x25b)][_0x4a9bbe(0x269)]],_0x4b74d3=[..._0x37841f['body'][_0x4a9bbe(0x1e6)]];const _0x1adc66=_0x750b51['map'](_0x1355ff=>{return _0x1355ff={'product_code':_0x1355ff};});_0x5925ff[_0x4a9bbe(0x1d7)]((_0x159fd6,_0xac6434)=>{var _0x299862=_0x4a9bbe;_0x1adc66[_0xac6434][_0x299862(0x260)]=_0x159fd6;}),_0x490ccf[_0x4a9bbe(0x1d7)]((_0x1b5b3b,_0x696518)=>{var _0x14f2a2=_0x4a9bbe;_0x1adc66[_0x696518][_0x14f2a2(0x225)]=_0x1b5b3b;}),_0x34cafd[_0x4a9bbe(0x1d7)]((_0x2c4bc3,_0x53db38)=>{var _0x34a443=_0x4a9bbe;_0x1adc66[_0x53db38][_0x34a443(0x22a)]=_0x2c4bc3;}),_0x3feedf['forEach']((_0x9f8277,_0xcc688c)=>{_0x1adc66[_0xcc688c]['unit']=_0x9f8277;}),_0x2b2f73[_0x4a9bbe(0x1d7)]((_0x2eb2fe,_0x5381f9)=>{var _0x4b1920=_0x4a9bbe;_0x1adc66[_0x5381f9][_0x4b1920(0x256)]=_0x2eb2fe;}),_0x4f6054['forEach']((_0x33efee,_0x3d6ad9)=>{var _0xf98ecf=_0x4a9bbe;_0x1adc66[_0x3d6ad9][_0xf98ecf(0x20a)]=_0x33efee;}),_0x4c157e['forEach']((_0x230200,_0xce1fe5)=>{var _0x25e3af=_0x4a9bbe;_0x1adc66[_0xce1fe5][_0x25e3af(0x230)]=_0x230200;}),_0x4d491f['forEach']((_0xadb528,_0x4e7994)=>{_0x1adc66[_0x4e7994]['totalprice']=_0xadb528;}),_0x556be2[_0x4a9bbe(0x1d7)]((_0x4c3e4b,_0x319949)=>{_0x1adc66[_0x319949]['discount']=_0x4c3e4b;}),_0x149765[_0x4a9bbe(0x1d7)]((_0x2fe6a9,_0x4c58cd)=>{var _0x90828d=_0x4a9bbe;_0x1adc66[_0x4c58cd][_0x90828d(0x276)]=_0x2fe6a9;}),_0x53c789[_0x4a9bbe(0x1d7)]((_0x538bf3,_0x38557f)=>{var _0x198713=_0x4a9bbe;_0x1adc66[_0x38557f][_0x198713(0x269)]=_0x538bf3;}),_0x535edb[_0x4a9bbe(0x1d7)]((_0x183f83,_0x782ea4)=>{var _0x4da6dd=_0x4a9bbe;_0x1adc66[_0x782ea4][_0x4da6dd(0x229)]=_0x183f83;}),_0x5720e4['forEach']((_0x2227ff,_0x4ad336)=>{_0x1adc66[_0x4ad336]['prod_cat']=_0x2227ff;}),_0x4b74d3[_0x4a9bbe(0x1d7)]((_0x3a24ad,_0x2ae865)=>{var _0x36546e=_0x4a9bbe;_0x1adc66[_0x2ae865][_0x36546e(0x202)]=_0x3a24ad;}),_0x2c1f39[_0x4a9bbe(0x1d7)]((_0x22ad5c,_0x576252)=>{_0x1adc66[_0x576252]['no_per_unit']=_0x22ad5c;});const _0x1c35b1=await approver_acct[_0x4a9bbe(0x246)]([{'$unwind':_0x4a9bbe(0x240)},{'$match':{'member.id_member':_0x37841f[_0x4a9bbe(0x21e)]['sttaff_id']}},{'$group':{'_id':{'id_member':_0x4a9bbe(0x25f),'name':_0x4a9bbe(0x222)},'head_id_staff':{'$first':_0x4a9bbe(0x1e8)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':_0x4a9bbe(0x1e8)}}},{'$lookup':{'from':'staffs','localField':'head_id_staff_id','foreignField':'_id','as':_0x4a9bbe(0x1e5)}},{'$unwind':_0x4a9bbe(0x257)}]),_0x3c1cae=new invoice_for_sales_order();await _0x3c1cae[_0x4a9bbe(0x26a)]();const _0x236092=_0x37841f[_0x4a9bbe(0x21e)],_0x476e4b=await staff[_0x4a9bbe(0x220)]({'email':_0x236092[_0x4a9bbe(0x205)]}),_0x381dfb=new sales_order({'invoice':_0x3c1cae[_0x4a9bbe(0x24b)][_0x4a9bbe(0x1da)]()['padStart'](0x8,'0'),'customer':_0x3bbdfb,'date':_0x4c717c,'sale_product':_0x1adc66,'note':_0x3daf45,'sales_staff_id':_0x476e4b[_0x4a9bbe(0x279)][_0x4a9bbe(0x231)](),'JD':_0xc04a36,'accounting_account_id':_0x1c35b1[0x0][_0x4a9bbe(0x262)],'po_number':_0x2c9382,'desired_delivery':_0x3198a5,'wms_account_confirm':'true','accounting_account_confirm':_0x4a9bbe(0x20e)}),_0x1623ab=await _0x381dfb[_0x4a9bbe(0x26a)]();var _0x4cf07a=_0x1623ab[_0x4a9bbe(0x1df)],_0xaa1fdd='',_0x1c0989,_0x463ee9=0x0;for(_0x1c0989 in _0x4cf07a){_0xaa1fdd+='<tr>'+_0x4a9bbe(0x25d)+_0x4cf07a[_0x1c0989][_0x4a9bbe(0x260)]+_0x4a9bbe(0x242)+_0x4a9bbe(0x25d)+_0x4cf07a[_0x1c0989][_0x4a9bbe(0x21a)]+_0x4a9bbe(0x242)+_0x4a9bbe(0x25d)+_0x4cf07a[_0x1c0989][_0x4a9bbe(0x22a)]+'</td>'+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x4cf07a[_0x1c0989]['unit']+_0x4a9bbe(0x242)+_0x4a9bbe(0x1ec),_0x463ee9+=parseInt(_0x4cf07a[_0x1c0989][_0x4a9bbe(0x22a)]);}const _0x5e141e=await master_shop['find'](),_0x27ecbd=await email_settings[_0x4a9bbe(0x220)]();let _0x5e5dbc=nodemailer[_0x4a9bbe(0x252)]({'port':Number(_0x27ecbd['port']),'secure':![],'auth':{'user':_0x27ecbd[_0x4a9bbe(0x205)],'pass':_0x27ecbd[_0x4a9bbe(0x272)]}});const _0x553125=_0x37841f[_0x4a9bbe(0x1e4)]+_0x4a9bbe(0x1d9)+_0x37841f[_0x4a9bbe(0x26c)][_0x4a9bbe(0x20b)];let _0x3e9fde={'from':_0x27ecbd[_0x4a9bbe(0x205)],'to':_0x1c35b1[0x0]['head_staff_info']['email']+_0x4a9bbe(0x226),'subject':'Approval\x20for\x20'+_0x1623ab[_0x4a9bbe(0x248)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x4a9bbe(0x249)+_0x4a9bbe(0x1e3)+_0x5e141e[0x0][_0x4a9bbe(0x21b)],'cid':'logo'}],'html':'<!DOCTYPE\x20html>'+_0x4a9bbe(0x27b)+_0x4a9bbe(0x270)+_0x4a9bbe(0x25e)+_0x4a9bbe(0x24a)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x4a9bbe(0x24a)+_0x4a9bbe(0x215)+_0x4a9bbe(0x204)+_0x4a9bbe(0x24a)+_0x4a9bbe(0x22e)+_0x4a9bbe(0x204)+'</div>'+_0x4a9bbe(0x1fd)+_0x4a9bbe(0x24a)+_0x4a9bbe(0x268)+_0x1c35b1[0x0]['head_staff_info'][_0x4a9bbe(0x1db)]+_0x4a9bbe(0x258)+_0x4a9bbe(0x204)+_0x4a9bbe(0x24a)+_0x4a9bbe(0x213)+_0x4a9bbe(0x204)+_0x4a9bbe(0x24a)+_0x4a9bbe(0x221)+_0x1623ab['invoice']+'</b></span>\x20<br>'+_0x4a9bbe(0x1f3)+_0x476e4b['name']+_0x4a9bbe(0x1f8)+'<span>\x20Request\x20Date:\x20<b>'+_0x1623ab[_0x4a9bbe(0x250)]+'</b></span>\x20<br><br>'+'</div>'+_0x4a9bbe(0x23d)+_0x4a9bbe(0x228)+_0x4a9bbe(0x26d)+_0x4a9bbe(0x1dc)+_0x4a9bbe(0x241)+_0x4a9bbe(0x1ed)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>'+_0x4a9bbe(0x1ec)+_0x4a9bbe(0x247)+_0x4a9bbe(0x201)+'\x20'+_0xaa1fdd+'\x20'+_0x4a9bbe(0x264)+_0x4a9bbe(0x273)+_0x4a9bbe(0x24a)+_0x4a9bbe(0x243)+_0x463ee9+_0x4a9bbe(0x1fb)+_0x4a9bbe(0x1ea)+_0x4a9bbe(0x227)+_0x4a9bbe(0x251)+'</div>'+_0x4a9bbe(0x1ee)+_0x4a9bbe(0x234)+_0x553125+_0x4a9bbe(0x1fa)+_0x1623ab[_0x4a9bbe(0x279)]+'\x22>Change\x20Status</a>'+_0x4a9bbe(0x21f)+_0x4a9bbe(0x204)+_0x4a9bbe(0x24a)+_0x4a9bbe(0x253)+_0x4a9bbe(0x20d)+_0x4a9bbe(0x204)+_0x4a9bbe(0x204)+_0x4a9bbe(0x1e9)+_0x4a9bbe(0x207)};_0x5e5dbc[_0x4a9bbe(0x23a)](_0x3e9fde,function(_0x15df1e,_0x16b951){var _0x31b6ae=_0x4a9bbe;_0x15df1e?(console['log'](_0x15df1e),console[_0x31b6ae(0x236)](_0x31b6ae(0x24c))):console[_0x31b6ae(0x236)](_0x31b6ae(0x23b));}),_0x37841f[_0x4a9bbe(0x22b)](_0x4a9bbe(0x23e),_0x4a9bbe(0x26e)),_0xdfc920[_0x4a9bbe(0x216)](_0x4a9bbe(0x255)+_0x1623ab[_0x4a9bbe(0x279)]);}catch(_0xffa009){}}),router[a0_0x3a52ac(0x203)](a0_0x3a52ac(0x1f6),auth,async(_0x76d512,_0x2f4793)=>{var _0x1dc576=a0_0x3a52ac;try{const _0x2e0396=_0x76d512['user'],_0x5b7af4=await profile['findOne']({'email':_0x2e0396[_0x1dc576(0x205)]}),_0x5def00=await product[_0x1dc576(0x244)]({'sales_category':_0x2e0396[_0x1dc576(0x261)]});_0x2f4793[_0x1dc576(0x1ef)](_0x5def00);}catch(_0x288e5c){}}),router['post'](a0_0x3a52ac(0x224),auth,async(_0x36ec19,_0x18aa08)=>{var _0x2d420f=a0_0x3a52ac;try{const _0x28416e=_0x36ec19[_0x2d420f(0x21e)],{id_data:_0x27fbe4}=_0x36ec19[_0x2d420f(0x25b)],_0x2ea7a8=await profile['findOne']({'email':_0x28416e[_0x2d420f(0x205)]}),_0x347c50=mongoose[_0x2d420f(0x20f)][_0x2d420f(0x278)];var _0x91b360=_0x347c50(_0x27fbe4);const _0x81de0c=await product[_0x2d420f(0x244)]({'_id':_0x91b360});_0x18aa08['json'](_0x81de0c);}catch(_0x474542){}}),module[a0_0x3a52ac(0x1e0)]=router;function a0_0x23c3(){var _0x2de4c5=['5823LlQOar','17043129IPqUbJ','<span>\x20Requested\x20By:\x20<b>','mongoose','all_sales_order','/product_list','1551914VgTCPv','</b></span>\x20<br>','accounting_account_id','/accounting_approval/','</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>','wms_account_id','<hr\x20class=\x22my-3\x22>','Portuguese','prod_name','string','<tbody\x20style=\x22text-align:\x20center;\x22>','conversion_data','post','</div>','email','$accounting_account_confirm','</body></html>','English','xlsx','adjustment_discount','host','English\x20(US)','<h5>\x20JEC\x20SMS\x20</h5>','true','Types','$sale_product','$accounting_account_id','findById','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','view_sales_order','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','redirect','Spanish','1252065OMLkii','render','product_code','image','$customer','nodemailer','user','<br><br>','findOne','<span>\x20Request\x20ID:\x20<b>','$member.name','account_data','/product_data','primary_code',';christian.villamer@jakagroup.com','<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','real_qty_unit_val','quantity','flash','Router','staffs','<h2>\x20JEC\x20SMS\x20</h2>','product_list','price','valueOf','3485644hLiqDS','/add_sales','<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22','French','log','totalPrice','24oiJrCi','German','sendMail','Email\x20sent\x20successfully','language','<table\x20style=\x22width:\x20100%\x20!important;\x22>','success','../models/all_models','$member','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>','</td>','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','find','$_id','aggregate','</thead>','invoice','/../public','<div>','invoice_init','Error\x20Occurs','params','../middleware/auth','get','date','<br><br><br>','createTransport','<strong>\x20Regards\x20</strong>','Arabic','/sales_order/view_sales/','product_id','$head_staff_info','</b>,\x20</span><br>','exceljs','Chinese','body','Hindi','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','</head><body>','$member.id_member','product_name','sales_category','head_id_staff','$date','</tbody>','247247uIFljQ','dicount_price','errors','<span>\x20Dear\x20<b>','secondary_unit','save','prod_cat','headers','<tr>','Sales\x20Order\x20is\x20ongoing','/view_sales/:id','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','prod_code','password','</table>','wms_data','$sale_product.quantity','isFG','Portuguese\x20(BR)','ObjectId','_id','$account_data','<html><head><title></title>','unit','forEach','8263824NHkwpv','://','toString','name','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','Arabic\x20(ae)','dicount_price_adjust','sale_product','exports','getPrimUnitNo','tmpisFG','/upload/','protocol','head_staff_info','conversion_unit','$wms_data','$head_id_staff','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>','no_per_unit','</tr>','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>','<div\x20style=\x22text-align:\x20center;\x22>','json','346ZWfUbX'];a0_0x23c3=function(){return _0x2de4c5;};return a0_0x23c3();}