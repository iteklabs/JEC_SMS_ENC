function a0_0x4876(){var _0x4e203a=['Hindi','\x22>Change\x20Status</a>','product_name','aggregate','findOne','Arabic','adjustment_discount','<table\x20style=\x22width:\x20100%\x20!important;\x22>','$JD','toString','prod_code','email','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','Types','post','</b></span>\x20<br><br>','price','$date','English\x20(US)','Logo.png','2rklkBS','Portuguese\x20(BR)','conversion_unit','map','conversion_data','prod_cat','/view_sales/:id','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','log','Sales\x20Order\x20is\x20ongoing','flash','<html><head><title></title>','French','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','true','save','redirect','<hr\x20class=\x22my-3\x22>','<tr>','getPrimUnitNo','Chinese','body','<tbody\x20style=\x22text-align:\x20center;\x22>','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','/sales_order/view_sales/','<strong>\x20Regards\x20</strong>','<br><br>','$head_staff_info','success','find','add_sales_order','/add_sales','valueOf','string','$wms_data','wms_data','English','<span>\x20Dear\x20<b>','331036admbCk','58810sDXCuz','json','product_list','</b>,\x20</span><br>','staffs','</div>','2110cLDvrB','get','createTransport','$wms_account_confirm','secondary_unit','<!DOCTYPE\x20html>','3503704GiVlsq','no_per_unit','accounting_account_id','$member.id_member','150EhSVQQ','31932WeEXmN','totalprice','prod_name','sttaff_id','findById','product_code','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','headers','primary_code','forEach','<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>','$member.name','Spanish','head_id_staff','Arabic\x20(ae)','render','<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>','Approval\x20for\x20','Router','Error\x20Occurs','mongoose','/upload/','errors','</thead>','quantity','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','_id','<h2>\x20JEC\x20SMS\x20</h2>','wms_account_id','exceljs','ObjectId','Portuguese','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>','$_id','invoice','/product_list','name','dicount_price_adjust','params','dicount_price','xlsx','<div\x20style=\x22text-align:\x20center;\x22>','<div>','<span>\x20Requested\x20By:\x20<b>','language','1570929TpPeQM','1976765dcPJpI','mongodb','password','<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22','$sale_product.quantity','head_id_staff_id','3938175pxfRCt',';christian.villamer@jakagroup.com','isFG','image','real_qty_unit_val','Email\x20sent\x20successfully','protocol','user','</tr>','German','totalPrice','unit','head_staff_info','</td>','date','account_data','$account_data','$head_id_staff','sendMail','/accounting_approval/','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','/product_data','</head><body>','product_id','://'];a0_0x4876=function(){return _0x4e203a;};return a0_0x4876();}var a0_0x576b6f=a0_0x341f;(function(_0x3860e6,_0x533f8b){var _0x5dde85=a0_0x341f,_0x1599d6=_0x3860e6();while(!![]){try{var _0x1b124d=-parseInt(_0x5dde85(0x202))/0x1*(parseInt(_0x5dde85(0x19c))/0x2)+parseInt(_0x5dde85(0x209))/0x3+-parseInt(_0x5dde85(0x1c2))/0x4+parseInt(_0x5dde85(0x1c3))/0x5*(parseInt(_0x5dde85(0x1d3))/0x6)+-parseInt(_0x5dde85(0x203))/0x7+parseInt(_0x5dde85(0x1cf))/0x8+-parseInt(_0x5dde85(0x1d4))/0x9*(-parseInt(_0x5dde85(0x1c9))/0xa);if(_0x1b124d===_0x533f8b)break;else _0x1599d6['push'](_0x1599d6['shift']());}catch(_0x56b2e7){_0x1599d6['push'](_0x1599d6['shift']());}}}(a0_0x4876,0xd14c3));function a0_0x341f(_0x22e62b,_0x18398e){var _0x4876ca=a0_0x4876();return a0_0x341f=function(_0x341f27,_0x45744){_0x341f27=_0x341f27-0x194;var _0x39b27c=_0x4876ca[_0x341f27];return _0x39b27c;},a0_0x341f(_0x22e62b,_0x18398e);}const express=require('express'),app=express(),router=express[a0_0x576b6f(0x1e6)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require('../models/all_models'),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require(a0_0x576b6f(0x1f2)),xlsx=require(a0_0x576b6f(0x1fd)),mongoose=require(a0_0x576b6f(0x1e8)),{ObjectId}=require(a0_0x576b6f(0x204)),nodemailer=require('nodemailer');router[a0_0x576b6f(0x1ca)]('/',auth,async(_0x28fd3a,_0x36931d)=>{var _0x2a741b=a0_0x576b6f;try{const _0x9ef76=await master_shop[_0x2a741b(0x1b9)](),_0x18979e=_0x28fd3a['user'],_0x8720ec=await profile[_0x2a741b(0x227)]({'email':_0x18979e[_0x2a741b(0x22e)]}),_0x3cd863=await staff[_0x2a741b(0x227)]({'email':_0x18979e[_0x2a741b(0x22e)]}),_0x349eb5=await sales_order[_0x2a741b(0x226)]([{'$match':{'sales_staff_id':_0x3cd863[_0x2a741b(0x1ef)][_0x2a741b(0x1bc)]()}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x2a741b(0x1f6),'invoice':{'$first':'$invoice'},'customer':{'$first':'$customer'},'date':{'$first':_0x2a741b(0x199)},'JD':{'$first':_0x2a741b(0x22b)},'accounting_account_confirm':{'$first':'$accounting_account_confirm'},'wms_account_confirm':{'$first':_0x2a741b(0x1cc)},'totalQTY':{'$sum':_0x2a741b(0x207)}}}]);if(_0x9ef76[0x0][_0x2a741b(0x201)]==_0x2a741b(0x19a))var _0x245a6f=users[_0x2a741b(0x1c0)];else{if(_0x9ef76[0x0]['language']==_0x2a741b(0x223))var _0x245a6f=users[_0x2a741b(0x223)];else{if(_0x9ef76[0x0]['language']==_0x2a741b(0x212))var _0x245a6f=users['German'];else{if(_0x9ef76[0x0][_0x2a741b(0x201)]==_0x2a741b(0x1e0))var _0x245a6f=users[_0x2a741b(0x1e0)];else{if(_0x9ef76[0x0][_0x2a741b(0x201)]=='French')var _0x245a6f=users[_0x2a741b(0x1a8)];else{if(_0x9ef76[0x0][_0x2a741b(0x201)]=='Portuguese\x20(BR)')var _0x245a6f=users[_0x2a741b(0x1f4)];else{if(_0x9ef76[0x0][_0x2a741b(0x201)]=='Chinese')var _0x245a6f=users['Chinese'];else{if(_0x9ef76[0x0][_0x2a741b(0x201)]=='Arabic\x20(ae)')var _0x245a6f=users['Arabic'];}}}}}}}_0x36931d['render']('all_sales_order',{'success':_0x28fd3a[_0x2a741b(0x1a6)](_0x2a741b(0x1b8)),'errors':_0x28fd3a[_0x2a741b(0x1a6)](_0x2a741b(0x1ea)),'master_shop':_0x9ef76,'profile':_0x8720ec,'role':_0x18979e,'language':_0x245a6f,'product_list':_0x3cd863[_0x2a741b(0x1c5)],'sales_mine':_0x349eb5,'staff_arr':_0x3cd863});}catch(_0x3dd4de){console[_0x2a741b(0x1a4)](_0x3dd4de);}}),router['get'](a0_0x576b6f(0x1bb),auth,async(_0x1db068,_0x33dc26)=>{var _0x50d88f=a0_0x576b6f;try{const _0x2c69c5=await master_shop['find'](),_0x4b4b54=_0x1db068[_0x50d88f(0x210)],_0x101e49=await profile['findOne']({'email':_0x4b4b54[_0x50d88f(0x22e)]}),_0x3928be=await staff['findOne']({'email':_0x4b4b54[_0x50d88f(0x22e)]}),_0x5c2d66=await customer[_0x50d88f(0x1b9)]({'agent_id':_0x3928be['_id']});if(_0x2c69c5[0x0][_0x50d88f(0x201)]=='English\x20(US)')var _0x5931c7=users[_0x50d88f(0x1c0)];else{if(_0x2c69c5[0x0][_0x50d88f(0x201)]==_0x50d88f(0x223))var _0x5931c7=users[_0x50d88f(0x223)];else{if(_0x2c69c5[0x0][_0x50d88f(0x201)]==_0x50d88f(0x212))var _0x5931c7=users[_0x50d88f(0x212)];else{if(_0x2c69c5[0x0]['language']=='Spanish')var _0x5931c7=users['Spanish'];else{if(_0x2c69c5[0x0][_0x50d88f(0x201)]==_0x50d88f(0x1a8))var _0x5931c7=users['French'];else{if(_0x2c69c5[0x0][_0x50d88f(0x201)]=='Portuguese\x20(BR)')var _0x5931c7=users['Portuguese'];else{if(_0x2c69c5[0x0]['language']==_0x50d88f(0x1b0))var _0x5931c7=users[_0x50d88f(0x1b0)];else{if(_0x2c69c5[0x0][_0x50d88f(0x201)]==_0x50d88f(0x1e2))var _0x5931c7=users[_0x50d88f(0x228)];}}}}}}}_0x33dc26[_0x50d88f(0x1e3)](_0x50d88f(0x1ba),{'success':_0x1db068[_0x50d88f(0x1a6)](_0x50d88f(0x1b8)),'errors':_0x1db068[_0x50d88f(0x1a6)]('errors'),'master_shop':_0x2c69c5,'profile':_0x101e49,'role':_0x4b4b54,'language':_0x5931c7,'customer':_0x5c2d66,'staff_arr':_0x3928be});}catch(_0x18cc95){console['log'](_0x18cc95);}}),router['get'](a0_0x576b6f(0x1a2),auth,async(_0x4350e8,_0x5d47df)=>{var _0x581d80=a0_0x576b6f;try{const _0x1ac217=await master_shop[_0x581d80(0x1b9)](),_0x478710=_0x4350e8[_0x581d80(0x210)],_0x2fa989=await profile[_0x581d80(0x227)]({'email':_0x478710[_0x581d80(0x22e)]}),_0x5cceef=await staff['findOne']({'email':_0x478710[_0x581d80(0x22e)]}),_0x4f1f1b=await customer['find']({'agent_id':_0x5cceef[_0x581d80(0x1ef)]}),_0x230987=mongoose[_0x581d80(0x195)][_0x581d80(0x1f3)],_0x497270=_0x4350e8[_0x581d80(0x1fb)]['id'],_0x5841d9=await sales_order[_0x581d80(0x1d8)](_0x497270),_0x593825=await sales_order['aggregate']([{'$match':{'_id':_0x230987(_0x497270)}},{'$addFields':{'accounting_account_id':{'$toObjectId':'$accounting_account_id'}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$wms_account_id'}}},{'$lookup':{'from':_0x581d80(0x1c7),'localField':_0x581d80(0x1d1),'foreignField':_0x581d80(0x1ef),'as':_0x581d80(0x218)}},{'$unwind':_0x581d80(0x219)},{'$lookup':{'from':_0x581d80(0x1c7),'localField':_0x581d80(0x1f1),'foreignField':_0x581d80(0x1ef),'as':_0x581d80(0x1bf)}},{'$unwind':{'path':_0x581d80(0x1be),'preserveNullAndEmptyArrays':!![]}}]);if(_0x1ac217[0x0][_0x581d80(0x201)]==_0x581d80(0x19a))var _0x11e6ae=users[_0x581d80(0x1c0)];else{if(_0x1ac217[0x0][_0x581d80(0x201)]=='Hindi')var _0x11e6ae=users[_0x581d80(0x223)];else{if(_0x1ac217[0x0]['language']=='German')var _0x11e6ae=users[_0x581d80(0x212)];else{if(_0x1ac217[0x0][_0x581d80(0x201)]=='Spanish')var _0x11e6ae=users[_0x581d80(0x1e0)];else{if(_0x1ac217[0x0][_0x581d80(0x201)]=='French')var _0x11e6ae=users[_0x581d80(0x1a8)];else{if(_0x1ac217[0x0][_0x581d80(0x201)]==_0x581d80(0x19d))var _0x11e6ae=users[_0x581d80(0x1f4)];else{if(_0x1ac217[0x0][_0x581d80(0x201)]=='Chinese')var _0x11e6ae=users[_0x581d80(0x1b0)];else{if(_0x1ac217[0x0][_0x581d80(0x201)]==_0x581d80(0x1e2))var _0x11e6ae=users[_0x581d80(0x228)];}}}}}}}_0x5d47df[_0x581d80(0x1e3)]('view_sales_order',{'success':_0x4350e8['flash'](_0x581d80(0x1b8)),'errors':_0x4350e8[_0x581d80(0x1a6)](_0x581d80(0x1ea)),'master_shop':_0x1ac217,'profile':_0x2fa989,'role':_0x478710,'language':_0x11e6ae,'customer':_0x4f1f1b,'sales_sa':_0x5841d9,'approvers':_0x593825[0x0],'staff_arr':_0x5cceef});}catch(_0x37c0ee){console['log'](_0x37c0ee);}}),router[a0_0x576b6f(0x196)](a0_0x576b6f(0x1bb),auth,async(_0xd5b08d,_0x419c0a)=>{var _0x708091=a0_0x576b6f;try{const {customer:_0x39df67,date:_0x4f17d3,prod_code:_0x1b28c0,note:_0x1444e7,paid_status:_0xc47027,JD:_0x1d6d10,po_number:_0x1cbe06,desire_date:_0x4907b7}=_0xd5b08d['body'];if(typeof _0x1b28c0==_0x708091(0x1bd))var _0x54e164=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x22d)]],_0x18b287=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1d6)]],_0x31fc07=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1dc)]],_0x5df212=[_0xd5b08d['body'][_0x708091(0x1ec)]],_0x1aea29=[_0xd5b08d['body'][_0x708091(0x214)]],_0xe6def2=[_0xd5b08d[_0x708091(0x1b1)]['product_id']],_0x3df283=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x198)]],_0x1b1c2c=[_0xd5b08d['body'][_0x708091(0x213)]],_0x5032f0=[_0xd5b08d[_0x708091(0x1b1)]['dicount_price']],_0x455a68=[_0xd5b08d[_0x708091(0x1b1)]['tmpisFG']],_0x3f5623=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1fa)]],_0x176b83=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1d0)]],_0x271392=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1af)]],_0x1796af=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1a1)]],_0x2f6bc6=[_0xd5b08d[_0x708091(0x1b1)]['secondary_unit']],_0x3cab63=[_0xd5b08d[_0x708091(0x1b1)][_0x708091(0x19e)]];else var _0x54e164=[..._0xd5b08d['body']['prod_code']],_0x18b287=[..._0xd5b08d[_0x708091(0x1b1)]['prod_name']],_0x31fc07=[..._0xd5b08d['body'][_0x708091(0x1dc)]],_0x5df212=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1ec)]],_0x1aea29=[..._0xd5b08d['body'][_0x708091(0x214)]],_0xe6def2=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x221)]],_0x3df283=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x198)]],_0x1b1c2c=[..._0xd5b08d['body'][_0x708091(0x213)]],_0x5032f0=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1fc)]],_0x455a68=[..._0xd5b08d['body']['tmpisFG']],_0x3f5623=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1fa)]],_0x176b83=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x1d0)]],_0x271392=[..._0xd5b08d[_0x708091(0x1b1)]['getPrimUnitNo']],_0x1796af=[..._0xd5b08d['body'][_0x708091(0x1a1)]],_0x2f6bc6=[..._0xd5b08d[_0x708091(0x1b1)]['secondary_unit']],_0x3cab63=[..._0xd5b08d[_0x708091(0x1b1)][_0x708091(0x19e)]];const _0x1f48bb=_0x54e164[_0x708091(0x19f)](_0x4eed67=>{return _0x4eed67={'product_code':_0x4eed67};});_0x18b287['forEach']((_0x37cf15,_0x4c8e50)=>{_0x1f48bb[_0x4c8e50]['product_name']=_0x37cf15;}),_0x31fc07[_0x708091(0x1dd)]((_0x6d7a56,_0xb9fd83)=>{var _0x5f4fcb=_0x708091;_0x1f48bb[_0xb9fd83][_0x5f4fcb(0x1dc)]=_0x6d7a56;}),_0x5df212[_0x708091(0x1dd)]((_0x1c498d,_0x2f087e)=>{_0x1f48bb[_0x2f087e]['quantity']=_0x1c498d;}),_0x1aea29[_0x708091(0x1dd)]((_0x4e6026,_0x2dcbb5)=>{var _0x914463=_0x708091;_0x1f48bb[_0x2dcbb5][_0x914463(0x214)]=_0x4e6026;}),_0xe6def2[_0x708091(0x1dd)]((_0x369e50,_0x494540)=>{var _0x284880=_0x708091;_0x1f48bb[_0x494540][_0x284880(0x221)]=_0x369e50;}),_0x3f5623[_0x708091(0x1dd)]((_0x5d5682,_0x2e23b7)=>{var _0x2573ed=_0x708091;_0x1f48bb[_0x2e23b7][_0x2573ed(0x229)]=_0x5d5682;}),_0x3df283[_0x708091(0x1dd)]((_0x4b482d,_0x450fc4)=>{_0x1f48bb[_0x450fc4]['price']=_0x4b482d;}),_0x1b1c2c['forEach']((_0x128c9a,_0x94d4d5)=>{var _0x1b074c=_0x708091;_0x1f48bb[_0x94d4d5][_0x1b074c(0x1d5)]=_0x128c9a;}),_0x5032f0['forEach']((_0x47aded,_0x563e71)=>{_0x1f48bb[_0x563e71]['discount']=_0x47aded;}),_0x455a68[_0x708091(0x1dd)]((_0xc30ff3,_0x1c3446)=>{var _0x40f28e=_0x708091;_0x1f48bb[_0x1c3446][_0x40f28e(0x20b)]=_0xc30ff3;}),_0x2f6bc6[_0x708091(0x1dd)]((_0x27627e,_0x50160b)=>{var _0x33053c=_0x708091;_0x1f48bb[_0x50160b][_0x33053c(0x1cd)]=_0x27627e;}),_0x271392[_0x708091(0x1dd)]((_0x48b962,_0x2d672d)=>{var _0x5070ff=_0x708091;_0x1f48bb[_0x2d672d][_0x5070ff(0x20d)]=_0x48b962;}),_0x1796af[_0x708091(0x1dd)]((_0x430d9a,_0x458899)=>{var _0x4a8643=_0x708091;_0x1f48bb[_0x458899][_0x4a8643(0x1a1)]=_0x430d9a;}),_0x3cab63[_0x708091(0x1dd)]((_0x190b64,_0x5e2ad7)=>{var _0x2e6530=_0x708091;_0x1f48bb[_0x5e2ad7][_0x2e6530(0x1a0)]=_0x190b64;}),_0x176b83[_0x708091(0x1dd)]((_0x62e8f6,_0x5e6f99)=>{var _0x8544d0=_0x708091;_0x1f48bb[_0x5e6f99][_0x8544d0(0x1d0)]=_0x62e8f6;});const _0x1f65ba=await approver_acct[_0x708091(0x226)]([{'$unwind':'$member'},{'$match':{'member.id_member':_0xd5b08d[_0x708091(0x210)][_0x708091(0x1d7)]}},{'$group':{'_id':{'id_member':_0x708091(0x1d2),'name':_0x708091(0x1df)},'head_id_staff':{'$first':_0x708091(0x21a)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':_0x708091(0x21a)}}},{'$lookup':{'from':'staffs','localField':_0x708091(0x208),'foreignField':_0x708091(0x1ef),'as':_0x708091(0x215)}},{'$unwind':_0x708091(0x1b7)}]),_0x4092d4=new invoice_for_sales_order();await _0x4092d4[_0x708091(0x1ab)]();const _0x496e89=_0xd5b08d[_0x708091(0x210)],_0x1bd06b=await staff[_0x708091(0x227)]({'email':_0x496e89[_0x708091(0x22e)]}),_0x4825f7=new sales_order({'invoice':_0x4092d4['invoice_init'][_0x708091(0x22c)]()['padStart'](0x8,'0'),'customer':_0x39df67,'date':_0x4f17d3,'sale_product':_0x1f48bb,'note':_0x1444e7,'sales_staff_id':_0x1bd06b['_id']['valueOf'](),'JD':_0x1d6d10,'accounting_account_id':_0x1f65ba[0x0][_0x708091(0x1e1)],'po_number':_0x1cbe06,'desired_delivery':_0x4907b7,'wms_account_confirm':'true','accounting_account_confirm':_0x708091(0x1aa)}),_0x871277=await _0x4825f7[_0x708091(0x1ab)]();var _0x3a5e44=_0x871277['sale_product'],_0x57789c='',_0x1fbcd8,_0x26b669=0x0;for(_0x1fbcd8 in _0x3a5e44){_0x57789c+=_0x708091(0x1ae)+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x3a5e44[_0x1fbcd8][_0x708091(0x225)]+_0x708091(0x216)+_0x708091(0x1ee)+_0x3a5e44[_0x1fbcd8][_0x708091(0x1d9)]+_0x708091(0x216)+_0x708091(0x1ee)+_0x3a5e44[_0x1fbcd8]['quantity']+_0x708091(0x216)+_0x708091(0x1ee)+_0x3a5e44[_0x1fbcd8][_0x708091(0x214)]+_0x708091(0x216)+_0x708091(0x211),_0x26b669+=parseInt(_0x3a5e44[_0x1fbcd8][_0x708091(0x1ec)]);}const _0x510b99=await master_shop['find'](),_0x34d2c9=await email_settings['findOne']();let _0x58a32e=nodemailer[_0x708091(0x1cb)]({'port':Number(_0x34d2c9['port']),'secure':![],'auth':{'user':_0x34d2c9['email'],'pass':_0x34d2c9[_0x708091(0x205)]}});const _0x13fb50=_0xd5b08d[_0x708091(0x20f)]+_0x708091(0x222)+_0xd5b08d[_0x708091(0x1db)]['host'];let _0x208d1c={'from':_0x34d2c9[_0x708091(0x22e)],'to':_0x1f65ba[0x0][_0x708091(0x215)][_0x708091(0x22e)]+_0x708091(0x20a),'subject':_0x708091(0x1e5)+_0x871277[_0x708091(0x1f7)],'attachments':[{'filename':_0x708091(0x19b),'path':__dirname+'/../public'+_0x708091(0x1e9)+_0x510b99[0x0][_0x708091(0x20c)],'cid':'logo'}],'html':_0x708091(0x1ce)+_0x708091(0x1a7)+_0x708091(0x1a3)+_0x708091(0x220)+_0x708091(0x1ff)+_0x708091(0x1da)+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x708091(0x1c8)+_0x708091(0x1ff)+_0x708091(0x1f0)+_0x708091(0x1c8)+_0x708091(0x1c8)+_0x708091(0x1ad)+_0x708091(0x1ff)+_0x708091(0x1c1)+_0x1f65ba[0x0][_0x708091(0x215)][_0x708091(0x1f9)]+_0x708091(0x1c6)+_0x708091(0x1c8)+_0x708091(0x1ff)+_0x708091(0x21e)+_0x708091(0x1c8)+_0x708091(0x1ff)+'<span>\x20Request\x20ID:\x20<b>'+_0x871277[_0x708091(0x1f7)]+'</b></span>\x20<br>'+_0x708091(0x200)+_0x1bd06b[_0x708091(0x1f9)]+'</b></span>\x20<br>'+'<span>\x20Request\x20Date:\x20<b>'+_0x871277[_0x708091(0x217)]+_0x708091(0x197)+_0x708091(0x1c8)+_0x708091(0x22a)+_0x708091(0x1b3)+_0x708091(0x1ae)+_0x708091(0x1a9)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>'+_0x708091(0x1f5)+_0x708091(0x21d)+_0x708091(0x211)+_0x708091(0x1eb)+_0x708091(0x1b2)+'\x20'+_0x57789c+'\x20'+'</tbody>'+'</table>'+_0x708091(0x1ff)+_0x708091(0x194)+_0x26b669+'</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>'+_0x708091(0x1e4)+_0x708091(0x1de)+'<br><br><br>'+_0x708091(0x1c8)+_0x708091(0x1fe)+_0x708091(0x206)+_0x13fb50+_0x708091(0x21c)+_0x871277[_0x708091(0x1ef)]+_0x708091(0x224)+_0x708091(0x1b6)+_0x708091(0x1c8)+_0x708091(0x1ff)+_0x708091(0x1b5)+'<h5>\x20JEC\x20SMS\x20</h5>'+_0x708091(0x1c8)+_0x708091(0x1c8)+_0x708091(0x1ed)+'</body></html>'};_0x58a32e[_0x708091(0x21b)](_0x208d1c,function(_0x3768f4,_0x5133db){var _0x5d97df=_0x708091;_0x3768f4?(console[_0x5d97df(0x1a4)](_0x3768f4),console[_0x5d97df(0x1a4)](_0x5d97df(0x1e7))):console[_0x5d97df(0x1a4)](_0x5d97df(0x20e));}),_0xd5b08d[_0x708091(0x1a6)](_0x708091(0x1b8),_0x708091(0x1a5)),_0x419c0a[_0x708091(0x1ac)](_0x708091(0x1b4)+_0x871277['_id']);}catch(_0x44c56d){}}),router[a0_0x576b6f(0x196)](a0_0x576b6f(0x1f8),auth,async(_0x4b98cf,_0x2bb06d)=>{var _0x67883=a0_0x576b6f;try{const _0x53901f=_0x4b98cf['user'],_0x520aa9=await profile[_0x67883(0x227)]({'email':_0x53901f[_0x67883(0x22e)]}),_0x2e4a30=await product[_0x67883(0x1b9)]({'sales_category':_0x53901f['sales_category']});_0x2bb06d[_0x67883(0x1c4)](_0x2e4a30);}catch(_0x393042){}}),router[a0_0x576b6f(0x196)](a0_0x576b6f(0x21f),auth,async(_0x2b1fb3,_0x5f482f)=>{var _0x2bfb44=a0_0x576b6f;try{const _0x11bafb=_0x2b1fb3[_0x2bfb44(0x210)],{id_data:_0xf08e92}=_0x2b1fb3['body'],_0x597b0d=await profile[_0x2bfb44(0x227)]({'email':_0x11bafb[_0x2bfb44(0x22e)]}),_0x41a769=mongoose['Types'][_0x2bfb44(0x1f3)];var _0x1a05c7=_0x41a769(_0xf08e92);const _0x135b38=await product[_0x2bfb44(0x1b9)]({'_id':_0x1a05c7});_0x5f482f[_0x2bfb44(0x1c4)](_0x135b38);}catch(_0x41841a){}}),module['exports']=router;