var a0_0x10c98f=a0_0x11f2;function a0_0x11f2(_0x2325b5,_0x10beec){var _0x546359=a0_0x5463();return a0_0x11f2=function(_0x11f283,_0x120e09){_0x11f283=_0x11f283-0x107;var _0x1a36f4=_0x546359[_0x11f283];return _0x1a36f4;},a0_0x11f2(_0x2325b5,_0x10beec);}(function(_0x373184,_0x42f281){var _0x491e67=a0_0x11f2,_0x3f5412=_0x373184();while(!![]){try{var _0x5a782a=-parseInt(_0x491e67(0x153))/0x1+-parseInt(_0x491e67(0x15c))/0x2+-parseInt(_0x491e67(0x19d))/0x3+-parseInt(_0x491e67(0x180))/0x4+-parseInt(_0x491e67(0x14e))/0x5*(parseInt(_0x491e67(0x10f))/0x6)+parseInt(_0x491e67(0x13a))/0x7+parseInt(_0x491e67(0x13c))/0x8*(parseInt(_0x491e67(0x17a))/0x9);if(_0x5a782a===_0x42f281)break;else _0x3f5412['push'](_0x3f5412['shift']());}catch(_0x56e3da){_0x3f5412['push'](_0x3f5412['shift']());}}}(a0_0x5463,0x76fb0));function a0_0x5463(){var _0xd31a0f=['real_qty_unit_val','prod_name','email','Portuguese\x20(BR)','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','product_code','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','<span>\x20Requested\x20By:\x20<b>','product_name','</table>','Router','Arabic\x20(ae)','protocol','exceljs','<br><br>','nodemailer','invoice','French','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>','/sales_order/view_sales/','all_sales_order','primary_code','<span>\x20Request\x20ID:\x20<b>','$invoice','string','dicount_price','6429479GNeNkI','Portuguese','9161576PqsnvE','ObjectId','<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22','<tr>','image','no_per_unit','Spanish','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','/product_data','<h2>\x20JEC\x20SMS\x20</h2>','German','/accounting_approval/','Logo.png','conversion_unit','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','findOne','$member.name','/add_sales','238025QUYxBf','true','express','Approval\x20for\x20','Chinese','756939MHZMpK','discount','json','$JD','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','conversion_data','get','Types','</tbody>','1735566gxkQAa','<span>\x20Request\x20Date:\x20<b>','</body></html>','render','password','tmpisFG','quantity','padStart','</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>','logo','</head><body>','../public/language/languages.json','secondary_unit','aggregate','$member','<h5>\x20JEC\x20SMS\x20</h5>','$accounting_account_id','</b></span>\x20<br><br>','invoice_init','$member.id_member','<hr\x20class=\x22my-3\x22>','accounting_account_id','$sale_product.quantity','findById','English','totalprice','forEach','$account_data','valueOf','\x22>Change\x20Status</a>','18MaPZsH','map','headers','English\x20(US)','sendMail','</td>','858240bjUEze','$wms_account_confirm','</div>','head_id_staff','language','sale_product','staffs','mongodb','errors','head_staff_info','wms_account_id','product_id','adjustment_discount','<span>\x20Dear\x20<b>','toString','/product_list','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>','../models/all_models','isFG','$accounting_account_confirm','user','$sale_product','$head_id_staff','$wms_account_id','Hindi','success','post','$date','_id','1075830RsTcht','</thead>','<html><head><title></title>','totalPrice','<div>','$wms_data','</tr>','flash','</b></span>\x20<br>','$head_staff_info','name','Arabic','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','dicount_price_adjust','price','66XeYJUE','sales_category','host','://','find','/upload/','getPrimUnitNo','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','prod_cat','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>','redirect','unit','mongoose','body','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','log'];a0_0x5463=function(){return _0xd31a0f;};return a0_0x5463();}const express=require(a0_0x10c98f(0x150)),app=express(),router=express[a0_0x10c98f(0x12a)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require(a0_0x10c98f(0x191)),auth=require('../middleware/auth'),users=require(a0_0x10c98f(0x167)),excelJS=require(a0_0x10c98f(0x12d)),xlsx=require('xlsx'),mongoose=require(a0_0x10c98f(0x11c)),{ObjectId}=require(a0_0x10c98f(0x187)),nodemailer=require(a0_0x10c98f(0x12f));router[a0_0x10c98f(0x159)]('/',auth,async(_0x152cd8,_0x798b4a)=>{var _0x2812fd=a0_0x10c98f;try{const _0x32283d=await master_shop['find'](),_0x18844b=_0x152cd8[_0x2812fd(0x194)],_0x398b38=await profile['findOne']({'email':_0x18844b[_0x2812fd(0x122)]}),_0x4c9bf7=await staff[_0x2812fd(0x14b)]({'email':_0x18844b[_0x2812fd(0x122)]}),_0x205d9a=await sales_order['aggregate']([{'$match':{'sales_staff_id':_0x4c9bf7[_0x2812fd(0x19c)][_0x2812fd(0x178)]()}},{'$unwind':_0x2812fd(0x195)},{'$group':{'_id':'$_id','invoice':{'$first':_0x2812fd(0x137)},'customer':{'$first':'$customer'},'date':{'$first':_0x2812fd(0x19b)},'JD':{'$first':_0x2812fd(0x156)},'accounting_account_confirm':{'$first':_0x2812fd(0x193)},'wms_account_confirm':{'$first':_0x2812fd(0x181)},'totalQTY':{'$sum':_0x2812fd(0x172)}}}]);if(_0x32283d[0x0][_0x2812fd(0x184)]==_0x2812fd(0x17d))var _0xbcc992=users[_0x2812fd(0x174)];else{if(_0x32283d[0x0]['language']==_0x2812fd(0x198))var _0xbcc992=users[_0x2812fd(0x198)];else{if(_0x32283d[0x0][_0x2812fd(0x184)]==_0x2812fd(0x146))var _0xbcc992=users[_0x2812fd(0x146)];else{if(_0x32283d[0x0]['language']=='Spanish')var _0xbcc992=users[_0x2812fd(0x142)];else{if(_0x32283d[0x0][_0x2812fd(0x184)]==_0x2812fd(0x131))var _0xbcc992=users[_0x2812fd(0x131)];else{if(_0x32283d[0x0][_0x2812fd(0x184)]=='Portuguese\x20(BR)')var _0xbcc992=users[_0x2812fd(0x13b)];else{if(_0x32283d[0x0][_0x2812fd(0x184)]==_0x2812fd(0x152))var _0xbcc992=users[_0x2812fd(0x152)];else{if(_0x32283d[0x0]['language']==_0x2812fd(0x12b))var _0xbcc992=users[_0x2812fd(0x10b)];}}}}}}}_0x798b4a[_0x2812fd(0x15f)](_0x2812fd(0x134),{'success':_0x152cd8['flash'](_0x2812fd(0x199)),'errors':_0x152cd8[_0x2812fd(0x107)](_0x2812fd(0x188)),'master_shop':_0x32283d,'profile':_0x398b38,'role':_0x18844b,'language':_0xbcc992,'product_list':_0x4c9bf7['product_list'],'sales_mine':_0x205d9a,'staff_arr':_0x4c9bf7});}catch(_0x5c30d1){console[_0x2812fd(0x11f)](_0x5c30d1);}}),router[a0_0x10c98f(0x159)]('/add_sales',auth,async(_0x135c51,_0x2783ad)=>{var _0x11d86d=a0_0x10c98f;try{const _0x45e0e1=await master_shop['find'](),_0x2a8bfd=_0x135c51['user'],_0x37a345=await profile[_0x11d86d(0x14b)]({'email':_0x2a8bfd[_0x11d86d(0x122)]}),_0x3a5132=await staff[_0x11d86d(0x14b)]({'email':_0x2a8bfd[_0x11d86d(0x122)]}),_0x19f845=await customer[_0x11d86d(0x113)]({'agent_id':_0x3a5132['_id']});if(_0x45e0e1[0x0][_0x11d86d(0x184)]==_0x11d86d(0x17d))var _0x304618=users[_0x11d86d(0x174)];else{if(_0x45e0e1[0x0][_0x11d86d(0x184)]==_0x11d86d(0x198))var _0x304618=users[_0x11d86d(0x198)];else{if(_0x45e0e1[0x0]['language']==_0x11d86d(0x146))var _0x304618=users[_0x11d86d(0x146)];else{if(_0x45e0e1[0x0][_0x11d86d(0x184)]=='Spanish')var _0x304618=users[_0x11d86d(0x142)];else{if(_0x45e0e1[0x0][_0x11d86d(0x184)]==_0x11d86d(0x131))var _0x304618=users['French'];else{if(_0x45e0e1[0x0][_0x11d86d(0x184)]==_0x11d86d(0x123))var _0x304618=users[_0x11d86d(0x13b)];else{if(_0x45e0e1[0x0]['language']=='Chinese')var _0x304618=users[_0x11d86d(0x152)];else{if(_0x45e0e1[0x0][_0x11d86d(0x184)]=='Arabic\x20(ae)')var _0x304618=users[_0x11d86d(0x10b)];}}}}}}}_0x2783ad['render']('add_sales_order',{'success':_0x135c51[_0x11d86d(0x107)](_0x11d86d(0x199)),'errors':_0x135c51['flash'](_0x11d86d(0x188)),'master_shop':_0x45e0e1,'profile':_0x37a345,'role':_0x2a8bfd,'language':_0x304618,'customer':_0x19f845,'staff_arr':_0x3a5132});}catch(_0x2adbf8){console[_0x11d86d(0x11f)](_0x2adbf8);}}),router[a0_0x10c98f(0x159)]('/view_sales/:id',auth,async(_0x31db03,_0x38c5e6)=>{var _0x762b58=a0_0x10c98f;try{const _0x1e687c=await master_shop['find'](),_0x25d91e=_0x31db03[_0x762b58(0x194)],_0x135b97=await profile[_0x762b58(0x14b)]({'email':_0x25d91e[_0x762b58(0x122)]}),_0x15bcbe=await staff[_0x762b58(0x14b)]({'email':_0x25d91e[_0x762b58(0x122)]}),_0xc5d636=await customer[_0x762b58(0x113)]({'agent_id':_0x15bcbe[_0x762b58(0x19c)]}),_0x36f0a5=mongoose[_0x762b58(0x15a)]['ObjectId'],_0x17e5af=_0x31db03['params']['id'],_0x553dde=await sales_order[_0x762b58(0x173)](_0x17e5af),_0x4be776=await sales_order[_0x762b58(0x169)]([{'$match':{'_id':_0x36f0a5(_0x17e5af)}},{'$addFields':{'accounting_account_id':{'$toObjectId':_0x762b58(0x16c)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x762b58(0x197)}}},{'$lookup':{'from':'staffs','localField':_0x762b58(0x171),'foreignField':_0x762b58(0x19c),'as':'account_data'}},{'$unwind':_0x762b58(0x177)},{'$lookup':{'from':_0x762b58(0x186),'localField':_0x762b58(0x18a),'foreignField':_0x762b58(0x19c),'as':'wms_data'}},{'$unwind':{'path':_0x762b58(0x1a2),'preserveNullAndEmptyArrays':!![]}}]);if(_0x1e687c[0x0][_0x762b58(0x184)]=='English\x20(US)')var _0x3809a3=users['English'];else{if(_0x1e687c[0x0][_0x762b58(0x184)]==_0x762b58(0x198))var _0x3809a3=users['Hindi'];else{if(_0x1e687c[0x0][_0x762b58(0x184)]=='German')var _0x3809a3=users['German'];else{if(_0x1e687c[0x0][_0x762b58(0x184)]=='Spanish')var _0x3809a3=users['Spanish'];else{if(_0x1e687c[0x0]['language']==_0x762b58(0x131))var _0x3809a3=users['French'];else{if(_0x1e687c[0x0]['language']=='Portuguese\x20(BR)')var _0x3809a3=users[_0x762b58(0x13b)];else{if(_0x1e687c[0x0][_0x762b58(0x184)]=='Chinese')var _0x3809a3=users['Chinese'];else{if(_0x1e687c[0x0][_0x762b58(0x184)]==_0x762b58(0x12b))var _0x3809a3=users['Arabic'];}}}}}}}_0x38c5e6[_0x762b58(0x15f)]('view_sales_order',{'success':_0x31db03[_0x762b58(0x107)](_0x762b58(0x199)),'errors':_0x31db03[_0x762b58(0x107)]('errors'),'master_shop':_0x1e687c,'profile':_0x135b97,'role':_0x25d91e,'language':_0x3809a3,'customer':_0xc5d636,'sales_sa':_0x553dde,'approvers':_0x4be776[0x0],'staff_arr':_0x15bcbe});}catch(_0x32d92d){console['log'](_0x32d92d);}}),router[a0_0x10c98f(0x19a)](a0_0x10c98f(0x14d),auth,async(_0x2a322f,_0x1be71a)=>{var _0x468402=a0_0x10c98f;try{const {customer:_0x4145e6,date:_0x2dfda2,prod_code:_0x1ebff5,note:_0x440714,paid_status:_0x344815,JD:_0x21aba1,po_number:_0x3dbe22,desire_date:_0x505610}=_0x2a322f[_0x468402(0x11d)];if(typeof _0x1ebff5==_0x468402(0x138))var _0x5ee751=[_0x2a322f[_0x468402(0x11d)]['prod_code']],_0xcdc37c=[_0x2a322f['body'][_0x468402(0x121)]],_0x1752a3=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x135)]],_0x5ef009=[_0x2a322f['body'][_0x468402(0x162)]],_0x5a49ae=[_0x2a322f['body'][_0x468402(0x11b)]],_0x3923b2=[_0x2a322f[_0x468402(0x11d)]['product_id']],_0x525b42=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x10e)]],_0x5c3d7e=[_0x2a322f[_0x468402(0x11d)]['totalPrice']],_0x24d79b=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x139)]],_0x2e7fba=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x161)]],_0x284d21=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x10d)]],_0x24e581=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x141)]],_0x56e032=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x115)]],_0x81a79a=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x117)]],_0x5c8641=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x168)]],_0x281c31=[_0x2a322f[_0x468402(0x11d)][_0x468402(0x149)]];else var _0x5ee751=[..._0x2a322f['body']['prod_code']],_0xcdc37c=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x121)]],_0x1752a3=[..._0x2a322f['body'][_0x468402(0x135)]],_0x5ef009=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x162)]],_0x5a49ae=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x11b)]],_0x3923b2=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x18b)]],_0x525b42=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x10e)]],_0x5c3d7e=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x1a0)]],_0x24d79b=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x139)]],_0x2e7fba=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x161)]],_0x284d21=[..._0x2a322f['body']['dicount_price_adjust']],_0x24e581=[..._0x2a322f['body'][_0x468402(0x141)]],_0x56e032=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x115)]],_0x81a79a=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x117)]],_0x5c8641=[..._0x2a322f[_0x468402(0x11d)][_0x468402(0x168)]],_0x281c31=[..._0x2a322f['body'][_0x468402(0x149)]];const _0x26e411=_0x5ee751[_0x468402(0x17b)](_0x562147=>{return _0x562147={'product_code':_0x562147};});_0xcdc37c[_0x468402(0x176)]((_0x53bacf,_0x595e8b)=>{var _0x4a543a=_0x468402;_0x26e411[_0x595e8b][_0x4a543a(0x128)]=_0x53bacf;}),_0x1752a3['forEach']((_0x104a6a,_0x5f23c9)=>{var _0x51cfdc=_0x468402;_0x26e411[_0x5f23c9][_0x51cfdc(0x135)]=_0x104a6a;}),_0x5ef009[_0x468402(0x176)]((_0x3c711c,_0x5da80a)=>{var _0x573d09=_0x468402;_0x26e411[_0x5da80a][_0x573d09(0x162)]=_0x3c711c;}),_0x5a49ae[_0x468402(0x176)]((_0x57be4b,_0x1792eb)=>{_0x26e411[_0x1792eb]['unit']=_0x57be4b;}),_0x3923b2[_0x468402(0x176)]((_0x215104,_0x3819f0)=>{_0x26e411[_0x3819f0]['product_id']=_0x215104;}),_0x284d21[_0x468402(0x176)]((_0x32ac42,_0x55c60f)=>{var _0x56bcad=_0x468402;_0x26e411[_0x55c60f][_0x56bcad(0x18c)]=_0x32ac42;}),_0x525b42[_0x468402(0x176)]((_0x15058b,_0x3a018f)=>{var _0x43d1d0=_0x468402;_0x26e411[_0x3a018f][_0x43d1d0(0x10e)]=_0x15058b;}),_0x5c3d7e[_0x468402(0x176)]((_0x2588f6,_0x416fb3)=>{var _0x3fb1cf=_0x468402;_0x26e411[_0x416fb3][_0x3fb1cf(0x175)]=_0x2588f6;}),_0x24d79b[_0x468402(0x176)]((_0x262f16,_0xacc0fd)=>{var _0x28dd0f=_0x468402;_0x26e411[_0xacc0fd][_0x28dd0f(0x154)]=_0x262f16;}),_0x2e7fba['forEach']((_0x5047fb,_0x16404c)=>{var _0x1c1633=_0x468402;_0x26e411[_0x16404c][_0x1c1633(0x192)]=_0x5047fb;}),_0x5c8641['forEach']((_0x1305b9,_0x4ec8ab)=>{_0x26e411[_0x4ec8ab]['secondary_unit']=_0x1305b9;}),_0x56e032[_0x468402(0x176)]((_0x211d79,_0x5026a0)=>{var _0x4a46da=_0x468402;_0x26e411[_0x5026a0][_0x4a46da(0x120)]=_0x211d79;}),_0x81a79a[_0x468402(0x176)]((_0x121159,_0x151c6c)=>{var _0xea2feb=_0x468402;_0x26e411[_0x151c6c][_0xea2feb(0x117)]=_0x121159;}),_0x281c31[_0x468402(0x176)]((_0x178e0f,_0x1038d8)=>{var _0x2361d3=_0x468402;_0x26e411[_0x1038d8][_0x2361d3(0x158)]=_0x178e0f;}),_0x24e581[_0x468402(0x176)]((_0x23c187,_0x1a7f0d)=>{var _0x4d9b67=_0x468402;_0x26e411[_0x1a7f0d][_0x4d9b67(0x141)]=_0x23c187;});const _0x4c4441=await approver_acct[_0x468402(0x169)]([{'$unwind':_0x468402(0x16a)},{'$match':{'member.id_member':_0x2a322f[_0x468402(0x194)]['sttaff_id']}},{'$group':{'_id':{'id_member':_0x468402(0x16f),'name':_0x468402(0x14c)},'head_id_staff':{'$first':_0x468402(0x196)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':'$head_id_staff'}}},{'$lookup':{'from':'staffs','localField':'head_id_staff_id','foreignField':_0x468402(0x19c),'as':'head_staff_info'}},{'$unwind':_0x468402(0x109)}]),_0x31c658=new invoice_for_sales_order();await _0x31c658['save']();const _0x4b79f7=_0x2a322f['user'],_0x40f8f1=await staff['findOne']({'email':_0x4b79f7[_0x468402(0x122)]}),_0x1a0727=new sales_order({'invoice':_0x31c658[_0x468402(0x16e)][_0x468402(0x18e)]()[_0x468402(0x163)](0x8,'0'),'customer':_0x4145e6,'date':_0x2dfda2,'sale_product':_0x26e411,'note':_0x440714,'sales_staff_id':_0x40f8f1['_id'][_0x468402(0x178)](),'JD':_0x21aba1,'accounting_account_id':_0x4c4441[0x0][_0x468402(0x183)],'po_number':_0x3dbe22,'desired_delivery':_0x505610,'wms_account_confirm':_0x468402(0x14f),'accounting_account_confirm':_0x468402(0x14f)}),_0x4c0482=await _0x1a0727['save']();var _0x590d15=_0x4c0482[_0x468402(0x185)],_0x42906c='',_0x4c8851,_0x2b7ba1=0x0;for(_0x4c8851 in _0x590d15){_0x42906c+='<tr>'+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x590d15[_0x4c8851]['product_name']+_0x468402(0x17f)+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x590d15[_0x4c8851][_0x468402(0x125)]+_0x468402(0x17f)+_0x468402(0x10c)+_0x590d15[_0x4c8851][_0x468402(0x162)]+_0x468402(0x17f)+_0x468402(0x10c)+_0x590d15[_0x4c8851]['unit']+_0x468402(0x17f)+_0x468402(0x1a3),_0x2b7ba1+=parseInt(_0x590d15[_0x4c8851][_0x468402(0x162)]);}const _0x11608e=await master_shop['find'](),_0x323cf8=await email_settings[_0x468402(0x14b)]();let _0x445e0d=nodemailer['createTransport']({'port':Number(_0x323cf8['port']),'secure':![],'auth':{'user':_0x323cf8[_0x468402(0x122)],'pass':_0x323cf8[_0x468402(0x160)]}});const _0x4cac66=_0x2a322f[_0x468402(0x12c)]+_0x468402(0x112)+_0x2a322f[_0x468402(0x17c)][_0x468402(0x111)];let _0x5cd2fa={'from':_0x323cf8[_0x468402(0x122)],'to':_0x4c4441[0x0][_0x468402(0x189)][_0x468402(0x122)]+';christian.villamer@jakagroup.com','subject':_0x468402(0x151)+_0x4c0482['invoice'],'attachments':[{'filename':_0x468402(0x148),'path':__dirname+'/../public'+_0x468402(0x114)+_0x11608e[0x0][_0x468402(0x140)],'cid':_0x468402(0x165)}],'html':'<!DOCTYPE\x20html>'+_0x468402(0x19f)+_0x468402(0x126)+_0x468402(0x166)+_0x468402(0x1a1)+_0x468402(0x14a)+'<div>'+_0x468402(0x118)+_0x468402(0x182)+_0x468402(0x1a1)+_0x468402(0x145)+'</div>'+_0x468402(0x182)+_0x468402(0x170)+_0x468402(0x1a1)+_0x468402(0x18d)+_0x4c4441[0x0][_0x468402(0x189)]['name']+'</b>,\x20</span><br>'+_0x468402(0x182)+_0x468402(0x1a1)+_0x468402(0x124)+'</div>'+_0x468402(0x1a1)+_0x468402(0x136)+_0x4c0482[_0x468402(0x130)]+_0x468402(0x108)+_0x468402(0x127)+_0x40f8f1[_0x468402(0x10a)]+_0x468402(0x108)+_0x468402(0x15d)+_0x4c0482['date']+_0x468402(0x16d)+'</div>'+'<table\x20style=\x22width:\x20100%\x20!important;\x22>'+_0x468402(0x11e)+_0x468402(0x13f)+_0x468402(0x116)+_0x468402(0x132)+_0x468402(0x119)+_0x468402(0x190)+_0x468402(0x1a3)+_0x468402(0x19e)+'<tbody\x20style=\x22text-align:\x20center;\x22>'+'\x20'+_0x42906c+'\x20'+_0x468402(0x15b)+_0x468402(0x129)+_0x468402(0x1a1)+_0x468402(0x157)+_0x2b7ba1+_0x468402(0x164)+'<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>'+'<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>'+'<br><br><br>'+'</div>'+'<div\x20style=\x22text-align:\x20center;\x22>'+_0x468402(0x13e)+_0x4cac66+_0x468402(0x147)+_0x4c0482[_0x468402(0x19c)]+_0x468402(0x179)+_0x468402(0x12e)+_0x468402(0x182)+_0x468402(0x1a1)+'<strong>\x20Regards\x20</strong>'+_0x468402(0x16b)+_0x468402(0x182)+_0x468402(0x182)+_0x468402(0x143)+_0x468402(0x15e)};_0x445e0d[_0x468402(0x17e)](_0x5cd2fa,function(_0xbe1775,_0x12e576){var _0x170a5f=_0x468402;_0xbe1775?(console[_0x170a5f(0x11f)](_0xbe1775),console[_0x170a5f(0x11f)]('Error\x20Occurs')):console[_0x170a5f(0x11f)]('Email\x20sent\x20successfully');}),_0x2a322f[_0x468402(0x107)]('success','Sales\x20Order\x20is\x20ongoing'),_0x1be71a[_0x468402(0x11a)](_0x468402(0x133)+_0x4c0482[_0x468402(0x19c)]);}catch(_0x2021f2){}}),router[a0_0x10c98f(0x19a)](a0_0x10c98f(0x18f),auth,async(_0x57c8ca,_0x58a793)=>{var _0x139373=a0_0x10c98f;try{const _0x4fb097=_0x57c8ca['user'],_0x1fccf1=await profile['findOne']({'email':_0x4fb097['email']}),_0x16cf1d=await product[_0x139373(0x113)]({'sales_category':_0x4fb097[_0x139373(0x110)]});_0x58a793[_0x139373(0x155)](_0x16cf1d);}catch(_0x2b3536){}}),router[a0_0x10c98f(0x19a)](a0_0x10c98f(0x144),auth,async(_0x4d51d1,_0x5a277e)=>{var _0x57ace6=a0_0x10c98f;try{const _0x4283bd=_0x4d51d1[_0x57ace6(0x194)],{id_data:_0x28ffb1}=_0x4d51d1[_0x57ace6(0x11d)],_0xadb102=await profile[_0x57ace6(0x14b)]({'email':_0x4283bd['email']}),_0x5e2440=mongoose['Types'][_0x57ace6(0x13d)];var _0xbba2d0=_0x5e2440(_0x28ffb1);const _0x4e74f8=await product[_0x57ace6(0x113)]({'_id':_0xbba2d0});_0x5a277e[_0x57ace6(0x155)](_0x4e74f8);}catch(_0x5d1540){}}),module['exports']=router;