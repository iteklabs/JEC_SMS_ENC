var a0_0x562d5c=a0_0x3ae6;(function(_0x32fc63,_0x5be52c){var _0x17033f=a0_0x3ae6,_0xa39052=_0x32fc63();while(!![]){try{var _0x219f79=-parseInt(_0x17033f(0x1ff))/0x1*(-parseInt(_0x17033f(0x222))/0x2)+-parseInt(_0x17033f(0x228))/0x3*(-parseInt(_0x17033f(0x239))/0x4)+-parseInt(_0x17033f(0x21f))/0x5*(-parseInt(_0x17033f(0x1fe))/0x6)+parseInt(_0x17033f(0x23a))/0x7+parseInt(_0x17033f(0x265))/0x8+parseInt(_0x17033f(0x25c))/0x9+-parseInt(_0x17033f(0x22f))/0xa*(parseInt(_0x17033f(0x24b))/0xb);if(_0x219f79===_0x5be52c)break;else _0xa39052['push'](_0xa39052['shift']());}catch(_0x232af9){_0xa39052['push'](_0xa39052['shift']());}}}(a0_0x351b,0x3acaa));function a0_0x3ae6(_0x5d7f7e,_0x3e41b0){var _0x351bd3=a0_0x351b();return a0_0x3ae6=function(_0x3ae6dc,_0x2c33cd){_0x3ae6dc=_0x3ae6dc-0x1cd;var _0x457744=_0x351bd3[_0x3ae6dc];return _0x457744;},a0_0x3ae6(_0x5d7f7e,_0x3e41b0);}const express=require(a0_0x562d5c(0x272)),app=express(),router=express[a0_0x562d5c(0x26e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require('../models/all_models'),auth=require(a0_0x562d5c(0x202)),users=require('../public/language/languages.json'),excelJS=require(a0_0x562d5c(0x25b)),xlsx=require(a0_0x562d5c(0x218)),mongoose=require('mongoose'),{ObjectId}=require(a0_0x562d5c(0x26a)),nodemailer=require(a0_0x562d5c(0x220));router[a0_0x562d5c(0x229)]('/',auth,async(_0x54ff8c,_0x14618c)=>{var _0x5af8d0=a0_0x562d5c;try{const _0x48fea5=await master_shop[_0x5af8d0(0x1d1)](),_0x3d9915=_0x54ff8c['user'],_0x2d1cc5=await profile[_0x5af8d0(0x26b)]({'email':_0x3d9915[_0x5af8d0(0x1f1)]}),_0x31448e=await staff['findOne']({'email':_0x3d9915[_0x5af8d0(0x1f1)]}),_0x16e8ee=await sales_order['aggregate']([{'$match':{'sales_staff_id':_0x31448e['_id'][_0x5af8d0(0x22b)]()}},{'$unwind':_0x5af8d0(0x1df)},{'$group':{'_id':_0x5af8d0(0x264),'invoice':{'$first':_0x5af8d0(0x25f)},'customer':{'$first':_0x5af8d0(0x269)},'date':{'$first':'$date'},'JD':{'$first':_0x5af8d0(0x1e5)},'accounting_account_confirm':{'$first':_0x5af8d0(0x267)},'wms_account_confirm':{'$first':_0x5af8d0(0x266)},'totalQTY':{'$sum':'$sale_product.quantity'}}}]);if(_0x48fea5[0x0][_0x5af8d0(0x20c)]==_0x5af8d0(0x1d3))var _0x25b596=users['English'];else{if(_0x48fea5[0x0][_0x5af8d0(0x20c)]=='Hindi')var _0x25b596=users[_0x5af8d0(0x217)];else{if(_0x48fea5[0x0][_0x5af8d0(0x20c)]=='German')var _0x25b596=users[_0x5af8d0(0x20d)];else{if(_0x48fea5[0x0]['language']=='Spanish')var _0x25b596=users[_0x5af8d0(0x1d5)];else{if(_0x48fea5[0x0][_0x5af8d0(0x20c)]==_0x5af8d0(0x208))var _0x25b596=users[_0x5af8d0(0x208)];else{if(_0x48fea5[0x0][_0x5af8d0(0x20c)]=='Portuguese\x20(BR)')var _0x25b596=users[_0x5af8d0(0x1e2)];else{if(_0x48fea5[0x0][_0x5af8d0(0x20c)]=='Chinese')var _0x25b596=users[_0x5af8d0(0x26d)];else{if(_0x48fea5[0x0][_0x5af8d0(0x20c)]==_0x5af8d0(0x235))var _0x25b596=users['Arabic'];}}}}}}}_0x14618c['render']('all_sales_order',{'success':_0x54ff8c['flash'](_0x5af8d0(0x206)),'errors':_0x54ff8c['flash'](_0x5af8d0(0x22d)),'master_shop':_0x48fea5,'profile':_0x2d1cc5,'role':_0x3d9915,'language':_0x25b596,'product_list':_0x31448e['product_list'],'sales_mine':_0x16e8ee,'staff_arr':_0x31448e});}catch(_0x25aef9){console[_0x5af8d0(0x24a)](_0x25aef9);}}),router[a0_0x562d5c(0x229)](a0_0x562d5c(0x25a),auth,async(_0x4d085f,_0x45d5ad)=>{var _0x278bdb=a0_0x562d5c;try{const _0x4bfedd=await master_shop[_0x278bdb(0x1d1)](),_0x50551c=_0x4d085f[_0x278bdb(0x23f)],_0x22379c=await profile[_0x278bdb(0x26b)]({'email':_0x50551c[_0x278bdb(0x1f1)]}),_0x3ce894=await staff['findOne']({'email':_0x50551c['email']}),_0x532d85=await customer[_0x278bdb(0x1d1)]({'agent_id':_0x3ce894[_0x278bdb(0x241)]});if(_0x4bfedd[0x0][_0x278bdb(0x20c)]=='English\x20(US)')var _0x5c9ae3=users[_0x278bdb(0x1f0)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]=='Hindi')var _0x5c9ae3=users[_0x278bdb(0x217)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]==_0x278bdb(0x20d))var _0x5c9ae3=users[_0x278bdb(0x20d)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]==_0x278bdb(0x1d5))var _0x5c9ae3=users[_0x278bdb(0x1d5)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]==_0x278bdb(0x208))var _0x5c9ae3=users[_0x278bdb(0x208)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]==_0x278bdb(0x263))var _0x5c9ae3=users[_0x278bdb(0x1e2)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]==_0x278bdb(0x26d))var _0x5c9ae3=users[_0x278bdb(0x26d)];else{if(_0x4bfedd[0x0][_0x278bdb(0x20c)]==_0x278bdb(0x235))var _0x5c9ae3=users[_0x278bdb(0x20e)];}}}}}}}_0x45d5ad['render'](_0x278bdb(0x268),{'success':_0x4d085f[_0x278bdb(0x256)]('success'),'errors':_0x4d085f[_0x278bdb(0x256)](_0x278bdb(0x22d)),'master_shop':_0x4bfedd,'profile':_0x22379c,'role':_0x50551c,'language':_0x5c9ae3,'customer':_0x532d85,'staff_arr':_0x3ce894});}catch(_0x4a057a){console[_0x278bdb(0x24a)](_0x4a057a);}}),router[a0_0x562d5c(0x229)](a0_0x562d5c(0x211),auth,async(_0xdfb00a,_0x1408d3)=>{var _0x1ad521=a0_0x562d5c;try{const _0x3690fd=await master_shop[_0x1ad521(0x1d1)](),_0xde646b=_0xdfb00a['user'],_0x8cfe10=await profile[_0x1ad521(0x26b)]({'email':_0xde646b[_0x1ad521(0x1f1)]}),_0x271e86=await staff['findOne']({'email':_0xde646b['email']}),_0x5f1229=await customer[_0x1ad521(0x1d1)]({'agent_id':_0x271e86[_0x1ad521(0x241)]}),_0x5d79a7=mongoose[_0x1ad521(0x1f2)][_0x1ad521(0x1d7)],_0x3b0113=_0xdfb00a[_0x1ad521(0x1d0)]['id'],_0x4e2b7c=await sales_order[_0x1ad521(0x1f6)](_0x3b0113),_0x2f9903=await sales_order[_0x1ad521(0x207)]([{'$match':{'_id':_0x5d79a7(_0x3b0113)}},{'$addFields':{'accounting_account_id':{'$toObjectId':_0x1ad521(0x227)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x1ad521(0x271)}}},{'$lookup':{'from':'staffs','localField':_0x1ad521(0x1da),'foreignField':_0x1ad521(0x241),'as':_0x1ad521(0x215)}},{'$unwind':_0x1ad521(0x225)},{'$lookup':{'from':_0x1ad521(0x253),'localField':_0x1ad521(0x22a),'foreignField':_0x1ad521(0x241),'as':_0x1ad521(0x1eb)}},{'$unwind':{'path':_0x1ad521(0x244),'preserveNullAndEmptyArrays':!![]}}]);if(_0x3690fd[0x0][_0x1ad521(0x20c)]=='English\x20(US)')var _0x57fcdc=users[_0x1ad521(0x1f0)];else{if(_0x3690fd[0x0][_0x1ad521(0x20c)]==_0x1ad521(0x217))var _0x57fcdc=users[_0x1ad521(0x217)];else{if(_0x3690fd[0x0]['language']==_0x1ad521(0x20d))var _0x57fcdc=users[_0x1ad521(0x20d)];else{if(_0x3690fd[0x0]['language']=='Spanish')var _0x57fcdc=users['Spanish'];else{if(_0x3690fd[0x0][_0x1ad521(0x20c)]==_0x1ad521(0x208))var _0x57fcdc=users[_0x1ad521(0x208)];else{if(_0x3690fd[0x0][_0x1ad521(0x20c)]==_0x1ad521(0x263))var _0x57fcdc=users['Portuguese'];else{if(_0x3690fd[0x0][_0x1ad521(0x20c)]==_0x1ad521(0x26d))var _0x57fcdc=users[_0x1ad521(0x26d)];else{if(_0x3690fd[0x0][_0x1ad521(0x20c)]==_0x1ad521(0x235))var _0x57fcdc=users[_0x1ad521(0x20e)];}}}}}}}_0x1408d3['render']('view_sales_order',{'success':_0xdfb00a[_0x1ad521(0x256)]('success'),'errors':_0xdfb00a[_0x1ad521(0x256)](_0x1ad521(0x22d)),'master_shop':_0x3690fd,'profile':_0x8cfe10,'role':_0xde646b,'language':_0x57fcdc,'customer':_0x5f1229,'sales_sa':_0x4e2b7c,'approvers':_0x2f9903[0x0],'staff_arr':_0x271e86});}catch(_0x109d32){console[_0x1ad521(0x24a)](_0x109d32);}}),router[a0_0x562d5c(0x1ef)](a0_0x562d5c(0x25a),auth,async(_0x534a02,_0x2ad72d)=>{var _0x4ba1a2=a0_0x562d5c;try{const {customer:_0x2c8f46,date:_0x46ae4b,prod_code:_0x153c97,note:_0x15c76a,paid_status:_0x322ae7,JD:_0x552e9f,po_number:_0x30587a,desire_date:_0x4c2862}=_0x534a02[_0x4ba1a2(0x1e7)];if(typeof _0x153c97==_0x4ba1a2(0x259))var _0x14728a=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1dd)]],_0x452a92=[_0x534a02['body'][_0x4ba1a2(0x236)]],_0x101fdd=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x262)]],_0x3236d3=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x258)]],_0x2e2ecb=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x245)]],_0x2d8dbb=[_0x534a02[_0x4ba1a2(0x1e7)]['product_id']],_0x5236c8=[_0x534a02['body']['price']],_0x29ccba=[_0x534a02['body'][_0x4ba1a2(0x1e1)]],_0x186972=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1f4)]],_0x4fb84f=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1e0)]],_0xe7861f=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1d4)]],_0xa3aae0=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1ea)]],_0xb9bca1=[_0x534a02[_0x4ba1a2(0x1e7)]['getPrimUnitNo']],_0x41688a=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x26f)]],_0x7f50ae=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x232)]],_0x5037e3=[_0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x26c)]];else var _0x14728a=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1dd)]],_0x452a92=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x236)]],_0x101fdd=[..._0x534a02[_0x4ba1a2(0x1e7)]['primary_code']],_0x3236d3=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x258)]],_0x2e2ecb=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x245)]],_0x2d8dbb=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1cd)]],_0x5236c8=[..._0x534a02['body']['price']],_0x29ccba=[..._0x534a02['body'][_0x4ba1a2(0x1e1)]],_0x186972=[..._0x534a02['body'][_0x4ba1a2(0x1f4)]],_0x4fb84f=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1e0)]],_0xe7861f=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x1d4)]],_0xa3aae0=[..._0x534a02[_0x4ba1a2(0x1e7)]['no_per_unit']],_0xb9bca1=[..._0x534a02[_0x4ba1a2(0x1e7)]['getPrimUnitNo']],_0x41688a=[..._0x534a02[_0x4ba1a2(0x1e7)]['prod_cat']],_0x7f50ae=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x232)]],_0x5037e3=[..._0x534a02[_0x4ba1a2(0x1e7)][_0x4ba1a2(0x26c)]];const _0x59a28d=_0x14728a[_0x4ba1a2(0x1e8)](_0x495009=>{return _0x495009={'product_code':_0x495009};});_0x452a92[_0x4ba1a2(0x22c)]((_0xd07d67,_0x150c5c)=>{var _0x3e9908=_0x4ba1a2;_0x59a28d[_0x150c5c][_0x3e9908(0x1f7)]=_0xd07d67;}),_0x101fdd['forEach']((_0x12aafe,_0x4e01ed)=>{var _0x179c32=_0x4ba1a2;_0x59a28d[_0x4e01ed][_0x179c32(0x262)]=_0x12aafe;}),_0x3236d3[_0x4ba1a2(0x22c)]((_0x41b07f,_0x12ddcf)=>{_0x59a28d[_0x12ddcf]['quantity']=_0x41b07f;}),_0x2e2ecb['forEach']((_0xdc3343,_0x1259d0)=>{var _0x4cf1b9=_0x4ba1a2;_0x59a28d[_0x1259d0][_0x4cf1b9(0x245)]=_0xdc3343;}),_0x2d8dbb[_0x4ba1a2(0x22c)]((_0x209ca9,_0x7498e7)=>{var _0x2f6727=_0x4ba1a2;_0x59a28d[_0x7498e7][_0x2f6727(0x1cd)]=_0x209ca9;}),_0xe7861f[_0x4ba1a2(0x22c)]((_0x33258b,_0x43cb8d)=>{var _0x4e2232=_0x4ba1a2;_0x59a28d[_0x43cb8d][_0x4e2232(0x24d)]=_0x33258b;}),_0x5236c8[_0x4ba1a2(0x22c)]((_0x1a57d2,_0x37004a)=>{var _0x25be47=_0x4ba1a2;_0x59a28d[_0x37004a][_0x25be47(0x201)]=_0x1a57d2;}),_0x29ccba[_0x4ba1a2(0x22c)]((_0xf6c673,_0x4dac25)=>{var _0x3f74ef=_0x4ba1a2;_0x59a28d[_0x4dac25][_0x3f74ef(0x237)]=_0xf6c673;}),_0x186972[_0x4ba1a2(0x22c)]((_0x12806a,_0x345094)=>{var _0x56447f=_0x4ba1a2;_0x59a28d[_0x345094][_0x56447f(0x254)]=_0x12806a;}),_0x4fb84f[_0x4ba1a2(0x22c)]((_0x26fd45,_0xa4c197)=>{var _0x5e2d4d=_0x4ba1a2;_0x59a28d[_0xa4c197][_0x5e2d4d(0x23b)]=_0x26fd45;}),_0x7f50ae[_0x4ba1a2(0x22c)]((_0x457ba9,_0x589720)=>{_0x59a28d[_0x589720]['secondary_unit']=_0x457ba9;}),_0xb9bca1[_0x4ba1a2(0x22c)]((_0x4e64c6,_0x57ca11)=>{var _0x577229=_0x4ba1a2;_0x59a28d[_0x57ca11][_0x577229(0x216)]=_0x4e64c6;}),_0x41688a['forEach']((_0x2cc07a,_0x438f9e)=>{var _0x4df45b=_0x4ba1a2;_0x59a28d[_0x438f9e][_0x4df45b(0x26f)]=_0x2cc07a;}),_0x5037e3[_0x4ba1a2(0x22c)]((_0x101bdb,_0x2ca28f)=>{_0x59a28d[_0x2ca28f]['conversion_data']=_0x101bdb;}),_0xa3aae0[_0x4ba1a2(0x22c)]((_0x50ae9e,_0x2ea394)=>{var _0x46c649=_0x4ba1a2;_0x59a28d[_0x2ea394][_0x46c649(0x1ea)]=_0x50ae9e;});const _0x5180c9=await approver_acct[_0x4ba1a2(0x207)]([{'$unwind':_0x4ba1a2(0x205)},{'$match':{'member.id_member':_0x534a02[_0x4ba1a2(0x23f)]['sttaff_id']}},{'$group':{'_id':{'id_member':_0x4ba1a2(0x1fa),'name':_0x4ba1a2(0x1fd)},'head_id_staff':{'$first':_0x4ba1a2(0x1f9)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':'$head_id_staff'}}},{'$lookup':{'from':_0x4ba1a2(0x253),'localField':_0x4ba1a2(0x238),'foreignField':_0x4ba1a2(0x241),'as':'head_staff_info'}},{'$unwind':_0x4ba1a2(0x223)}]),_0x1447f1=new invoice_for_sales_order();await _0x1447f1[_0x4ba1a2(0x1dc)]();const _0x3f4ae2=_0x534a02[_0x4ba1a2(0x23f)],_0x3f2a62=await staff[_0x4ba1a2(0x26b)]({'email':_0x3f4ae2[_0x4ba1a2(0x1f1)]}),_0x2e9ec5=new sales_order({'invoice':_0x1447f1[_0x4ba1a2(0x209)][_0x4ba1a2(0x203)]()[_0x4ba1a2(0x1d6)](0x8,'0'),'customer':_0x2c8f46,'date':_0x46ae4b,'sale_product':_0x59a28d,'note':_0x15c76a,'sales_staff_id':_0x3f2a62[_0x4ba1a2(0x241)][_0x4ba1a2(0x22b)](),'JD':_0x552e9f,'accounting_account_id':_0x5180c9[0x0][_0x4ba1a2(0x22e)],'po_number':_0x30587a,'desired_delivery':_0x4c2862,'wms_account_confirm':_0x4ba1a2(0x21c),'accounting_account_confirm':_0x4ba1a2(0x21c)}),_0x54cd5c=await _0x2e9ec5[_0x4ba1a2(0x1dc)]();var _0x5d0db4=_0x54cd5c[_0x4ba1a2(0x242)],_0x2ccb1b='',_0x40421b,_0x516387=0x0;for(_0x40421b in _0x5d0db4){_0x2ccb1b+=_0x4ba1a2(0x1f5)+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x5d0db4[_0x40421b][_0x4ba1a2(0x1f7)]+_0x4ba1a2(0x226)+_0x4ba1a2(0x20f)+_0x5d0db4[_0x40421b][_0x4ba1a2(0x212)]+'</td>'+_0x4ba1a2(0x20f)+_0x5d0db4[_0x40421b]['quantity']+_0x4ba1a2(0x226)+_0x4ba1a2(0x20f)+_0x5d0db4[_0x40421b][_0x4ba1a2(0x245)]+_0x4ba1a2(0x226)+_0x4ba1a2(0x21e),_0x516387+=parseInt(_0x5d0db4[_0x40421b][_0x4ba1a2(0x258)]);}const _0x3cafee=await master_shop[_0x4ba1a2(0x1d1)](),_0x3eed4a=await email_settings[_0x4ba1a2(0x26b)]();let _0x19c1ca=nodemailer[_0x4ba1a2(0x1d9)]({'port':Number(_0x3eed4a[_0x4ba1a2(0x221)]),'secure':![],'auth':{'user':_0x3eed4a[_0x4ba1a2(0x1f1)],'pass':_0x3eed4a[_0x4ba1a2(0x250)]}});const _0x2a6eea=_0x534a02['protocol']+_0x4ba1a2(0x1fb)+_0x534a02[_0x4ba1a2(0x24c)]['host'];let _0x2eee08={'from':_0x3eed4a[_0x4ba1a2(0x1f1)],'to':_0x5180c9[0x0][_0x4ba1a2(0x25d)][_0x4ba1a2(0x1f1)]+_0x4ba1a2(0x20b),'subject':_0x4ba1a2(0x249)+_0x54cd5c[_0x4ba1a2(0x1e3)],'attachments':[{'filename':_0x4ba1a2(0x21d),'path':__dirname+_0x4ba1a2(0x1fc)+_0x4ba1a2(0x219)+_0x3cafee[0x0][_0x4ba1a2(0x248)],'cid':_0x4ba1a2(0x210)}],'html':_0x4ba1a2(0x1e9)+_0x4ba1a2(0x23e)+_0x4ba1a2(0x273)+_0x4ba1a2(0x261)+_0x4ba1a2(0x240)+_0x4ba1a2(0x1ed)+'<div>'+_0x4ba1a2(0x24f)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x240)+_0x4ba1a2(0x1e4)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x1d8)+'<div>'+_0x4ba1a2(0x214)+_0x5180c9[0x0]['head_staff_info'][_0x4ba1a2(0x21b)]+_0x4ba1a2(0x24e)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x240)+_0x4ba1a2(0x213)+_0x4ba1a2(0x1ce)+'<div>'+_0x4ba1a2(0x257)+_0x54cd5c[_0x4ba1a2(0x1e3)]+_0x4ba1a2(0x23d)+_0x4ba1a2(0x247)+_0x3f2a62[_0x4ba1a2(0x21b)]+_0x4ba1a2(0x23d)+_0x4ba1a2(0x255)+_0x54cd5c[_0x4ba1a2(0x233)]+_0x4ba1a2(0x231)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x1db)+_0x4ba1a2(0x260)+_0x4ba1a2(0x1f5)+_0x4ba1a2(0x224)+_0x4ba1a2(0x1ee)+_0x4ba1a2(0x234)+_0x4ba1a2(0x200)+_0x4ba1a2(0x21e)+'</thead>'+'<tbody\x20style=\x22text-align:\x20center;\x22>'+'\x20'+_0x2ccb1b+'\x20'+'</tbody>'+_0x4ba1a2(0x230)+_0x4ba1a2(0x240)+_0x4ba1a2(0x23c)+_0x516387+_0x4ba1a2(0x25e)+_0x4ba1a2(0x1cf)+_0x4ba1a2(0x21a)+'<br><br><br>'+'</div>'+'<div\x20style=\x22text-align:\x20center;\x22>'+'<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22'+_0x2a6eea+'/accounting_approval/'+_0x54cd5c[_0x4ba1a2(0x241)]+_0x4ba1a2(0x1f3)+_0x4ba1a2(0x252)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x240)+_0x4ba1a2(0x246)+_0x4ba1a2(0x1d2)+_0x4ba1a2(0x1ce)+_0x4ba1a2(0x1ce)+'<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>'+_0x4ba1a2(0x20a)};_0x19c1ca['sendMail'](_0x2eee08,function(_0x4f7c53,_0x1257e2){var _0x1a1661=_0x4ba1a2;_0x4f7c53?(console[_0x1a1661(0x24a)](_0x4f7c53),console[_0x1a1661(0x24a)](_0x1a1661(0x204))):console[_0x1a1661(0x24a)](_0x1a1661(0x1ec));}),_0x534a02[_0x4ba1a2(0x256)](_0x4ba1a2(0x206),'Sales\x20Order\x20is\x20ongoing'),_0x2ad72d['redirect'](_0x4ba1a2(0x251)+_0x54cd5c[_0x4ba1a2(0x241)]);}catch(_0x45cdb0){}}),router['post'](a0_0x562d5c(0x1f8),auth,async(_0x508328,_0x27b879)=>{var _0x1c9650=a0_0x562d5c;try{const _0x7deca4=_0x508328[_0x1c9650(0x23f)],_0x1b3ef1=await profile[_0x1c9650(0x26b)]({'email':_0x7deca4['email']}),_0x4026a3=await product[_0x1c9650(0x1d1)]({'sales_category':_0x7deca4[_0x1c9650(0x1e6)]});_0x27b879[_0x1c9650(0x270)](_0x4026a3);}catch(_0x43d71e){}}),router[a0_0x562d5c(0x1ef)](a0_0x562d5c(0x243),auth,async(_0x4d773e,_0x459317)=>{var _0x1d9933=a0_0x562d5c;try{const _0x461538=_0x4d773e[_0x1d9933(0x23f)],{id_data:_0x55d96e}=_0x4d773e[_0x1d9933(0x1e7)],_0x117ff2=await profile[_0x1d9933(0x26b)]({'email':_0x461538[_0x1d9933(0x1f1)]}),_0x5b6eff=mongoose[_0x1d9933(0x1f2)][_0x1d9933(0x1d7)];var _0x845321=_0x5b6eff(_0x55d96e);const _0x3f4973=await product[_0x1d9933(0x1d1)]({'_id':_0x845321});_0x459317[_0x1d9933(0x270)](_0x3f4973);}catch(_0x1472a5){}}),module[a0_0x562d5c(0x1de)]=router;function a0_0x351b(){var _0x22381f=['dicount_price_adjust','Spanish','padStart','ObjectId','<hr\x20class=\x22my-3\x22>','createTransport','accounting_account_id','<table\x20style=\x22width:\x20100%\x20!important;\x22>','save','prod_code','exports','$sale_product','tmpisFG','totalPrice','Portuguese','invoice','<h2>\x20JEC\x20SMS\x20</h2>','$JD','sales_category','body','map','<!DOCTYPE\x20html>','no_per_unit','wms_data','Email\x20sent\x20successfully','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>','post','English','email','Types','\x22>Change\x20Status</a>','dicount_price','<tr>','findById','product_name','/product_list','$head_id_staff','$member.id_member','://','/../public','$member.name','9330MhInFV','49895HcTbcR','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>','price','../middleware/auth','toString','Error\x20Occurs','$member','success','aggregate','French','invoice_init','</body></html>',';christian.villamer@jakagroup.com','language','German','Arabic','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','logo','/view_sales/:id','product_code','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','<span>\x20Dear\x20<b>','account_data','real_qty_unit_val','Hindi','xlsx','/upload/','<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>','name','true','Logo.png','</tr>','245QQcKwj','nodemailer','port','2qXcWIY','$head_staff_info','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','$account_data','</td>','$accounting_account_id','491613HvwGKJ','get','wms_account_id','valueOf','forEach','errors','head_id_staff','24270YbCEdk','</table>','</b></span>\x20<br><br>','secondary_unit','date','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>','Arabic\x20(ae)','prod_name','totalprice','head_id_staff_id','4VCMIxS','3360994rXeUTR','isFG','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','</b></span>\x20<br>','<html><head><title></title>','user','<div>','_id','sale_product','/product_data','$wms_data','unit','<strong>\x20Regards\x20</strong>','<span>\x20Requested\x20By:\x20<b>','image','Approval\x20for\x20','log','6413JOemfF','headers','adjustment_discount','</b>,\x20</span><br>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','password','/sales_order/view_sales/','<br><br>','staffs','discount','<span>\x20Request\x20Date:\x20<b>','flash','<span>\x20Request\x20ID:\x20<b>','quantity','string','/add_sales','exceljs','4082364NvGivm','head_staff_info','</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>','$invoice','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','</head><body>','primary_code','Portuguese\x20(BR)','$_id','3456416GadiQb','$wms_account_confirm','$accounting_account_confirm','add_sales_order','$customer','mongodb','findOne','conversion_unit','Chinese','Router','prod_cat','json','$wms_account_id','express','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','product_id','</div>','<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>','params','find','<h5>\x20JEC\x20SMS\x20</h5>','English\x20(US)'];a0_0x351b=function(){return _0x22381f;};return a0_0x351b();}