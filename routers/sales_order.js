var a0_0x41f6b3=a0_0x2358;(function(_0x3fa430,_0x21747d){var _0x4d8674=a0_0x2358,_0x108fe3=_0x3fa430();while(!![]){try{var _0x672de6=parseInt(_0x4d8674(0x147))/0x1*(parseInt(_0x4d8674(0x136))/0x2)+parseInt(_0x4d8674(0x195))/0x3+parseInt(_0x4d8674(0x171))/0x4+parseInt(_0x4d8674(0x117))/0x5+parseInt(_0x4d8674(0x134))/0x6+-parseInt(_0x4d8674(0x148))/0x7+parseInt(_0x4d8674(0x175))/0x8*(-parseInt(_0x4d8674(0x115))/0x9);if(_0x672de6===_0x21747d)break;else _0x108fe3['push'](_0x108fe3['shift']());}catch(_0x5bd00a){_0x108fe3['push'](_0x108fe3['shift']());}}}(a0_0x59a8,0xcc772));const express=require('express'),app=express(),router=express[a0_0x41f6b3(0x15d)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require(a0_0x41f6b3(0x104)),auth=require('../middleware/auth'),users=require(a0_0x41f6b3(0x190)),excelJS=require(a0_0x41f6b3(0x18f)),xlsx=require('xlsx'),mongoose=require(a0_0x41f6b3(0x13f)),{ObjectId}=require('mongodb'),nodemailer=require(a0_0x41f6b3(0x159));router[a0_0x41f6b3(0x10b)]('/',auth,async(_0x21b03f,_0xbedc3e)=>{var _0x3dc7a1=a0_0x41f6b3;try{const _0x5c0572=await master_shop['find'](),_0x56bc42=_0x21b03f[_0x3dc7a1(0x155)],_0x5619fd=await profile[_0x3dc7a1(0x11c)]({'email':_0x56bc42[_0x3dc7a1(0x151)]}),_0x474ffc=await staff['findOne']({'email':_0x56bc42['email']}),_0x558640=await sales_order['aggregate']([{'$match':{'sales_staff_id':_0x474ffc[_0x3dc7a1(0x16d)][_0x3dc7a1(0x166)]()}},{'$unwind':_0x3dc7a1(0x12e)},{'$group':{'_id':_0x3dc7a1(0x101),'invoice':{'$first':_0x3dc7a1(0x177)},'customer':{'$first':_0x3dc7a1(0x137)},'date':{'$first':'$date'},'JD':{'$first':_0x3dc7a1(0x180)},'accounting_account_confirm':{'$first':'$accounting_account_confirm'},'wms_account_confirm':{'$first':_0x3dc7a1(0x10d)},'totalQTY':{'$sum':_0x3dc7a1(0x162)}}}]);if(_0x5c0572[0x0][_0x3dc7a1(0x192)]==_0x3dc7a1(0x181))var _0x1ce2e0=users['English'];else{if(_0x5c0572[0x0][_0x3dc7a1(0x192)]==_0x3dc7a1(0x114))var _0x1ce2e0=users[_0x3dc7a1(0x114)];else{if(_0x5c0572[0x0][_0x3dc7a1(0x192)]==_0x3dc7a1(0x15e))var _0x1ce2e0=users[_0x3dc7a1(0x15e)];else{if(_0x5c0572[0x0][_0x3dc7a1(0x192)]==_0x3dc7a1(0x16f))var _0x1ce2e0=users[_0x3dc7a1(0x16f)];else{if(_0x5c0572[0x0]['language']==_0x3dc7a1(0x18c))var _0x1ce2e0=users[_0x3dc7a1(0x18c)];else{if(_0x5c0572[0x0]['language']==_0x3dc7a1(0x161))var _0x1ce2e0=users[_0x3dc7a1(0x153)];else{if(_0x5c0572[0x0]['language']==_0x3dc7a1(0x122))var _0x1ce2e0=users[_0x3dc7a1(0x122)];else{if(_0x5c0572[0x0][_0x3dc7a1(0x192)]==_0x3dc7a1(0x14b))var _0x1ce2e0=users['Arabic'];}}}}}}}_0xbedc3e[_0x3dc7a1(0x140)]('all_sales_order',{'success':_0x21b03f['flash'](_0x3dc7a1(0x187)),'errors':_0x21b03f[_0x3dc7a1(0x120)]('errors'),'master_shop':_0x5c0572,'profile':_0x5619fd,'role':_0x56bc42,'language':_0x1ce2e0,'product_list':_0x474ffc['product_list'],'sales_mine':_0x558640,'staff_arr':_0x474ffc});}catch(_0x249b1f){console['log'](_0x249b1f);}}),router[a0_0x41f6b3(0x10b)](a0_0x41f6b3(0x176),auth,async(_0x2c7948,_0x1ddaa4)=>{var _0x3fdb59=a0_0x41f6b3;try{const _0x239bbc=await master_shop[_0x3fdb59(0x139)](),_0x4a0796=_0x2c7948[_0x3fdb59(0x155)],_0x384635=await profile[_0x3fdb59(0x11c)]({'email':_0x4a0796['email']}),_0x5967f9=await staff[_0x3fdb59(0x11c)]({'email':_0x4a0796[_0x3fdb59(0x151)]}),_0x181858=await customer[_0x3fdb59(0x139)]({'agent_id':_0x5967f9['_id']});if(_0x239bbc[0x0]['language']==_0x3fdb59(0x181))var _0x3e804f=users[_0x3fdb59(0x17e)];else{if(_0x239bbc[0x0]['language']==_0x3fdb59(0x114))var _0x3e804f=users[_0x3fdb59(0x114)];else{if(_0x239bbc[0x0][_0x3fdb59(0x192)]==_0x3fdb59(0x15e))var _0x3e804f=users[_0x3fdb59(0x15e)];else{if(_0x239bbc[0x0][_0x3fdb59(0x192)]==_0x3fdb59(0x16f))var _0x3e804f=users['Spanish'];else{if(_0x239bbc[0x0][_0x3fdb59(0x192)]==_0x3fdb59(0x18c))var _0x3e804f=users[_0x3fdb59(0x18c)];else{if(_0x239bbc[0x0][_0x3fdb59(0x192)]==_0x3fdb59(0x161))var _0x3e804f=users['Portuguese'];else{if(_0x239bbc[0x0]['language']==_0x3fdb59(0x122))var _0x3e804f=users[_0x3fdb59(0x122)];else{if(_0x239bbc[0x0]['language']==_0x3fdb59(0x14b))var _0x3e804f=users[_0x3fdb59(0x17a)];}}}}}}}_0x1ddaa4[_0x3fdb59(0x140)](_0x3fdb59(0x142),{'success':_0x2c7948['flash']('success'),'errors':_0x2c7948[_0x3fdb59(0x120)](_0x3fdb59(0x10a)),'master_shop':_0x239bbc,'profile':_0x384635,'role':_0x4a0796,'language':_0x3e804f,'customer':_0x181858,'staff_arr':_0x5967f9});}catch(_0x16e3a4){console[_0x3fdb59(0x167)](_0x16e3a4);}}),router[a0_0x41f6b3(0x10b)](a0_0x41f6b3(0x12f),auth,async(_0x6eed0f,_0xbd7d00)=>{var _0x1f2edb=a0_0x41f6b3;try{const _0x5b447c=await master_shop[_0x1f2edb(0x139)](),_0x2dbd8c=_0x6eed0f[_0x1f2edb(0x155)],_0x46f51a=await profile[_0x1f2edb(0x11c)]({'email':_0x2dbd8c[_0x1f2edb(0x151)]}),_0x10547f=await staff[_0x1f2edb(0x11c)]({'email':_0x2dbd8c['email']}),_0x5750ac=await customer['find']({'agent_id':_0x10547f['_id']}),_0x13ec5d=mongoose['Types']['ObjectId'],_0x149396=_0x6eed0f[_0x1f2edb(0x10f)]['id'],_0x299fd3=await sales_order['findById'](_0x149396),_0x1e57f3=await sales_order[_0x1f2edb(0x121)]([{'$match':{'_id':_0x13ec5d(_0x149396)}},{'$addFields':{'accounting_account_id':{'$toObjectId':'$accounting_account_id'}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$wms_account_id'}}},{'$lookup':{'from':_0x1f2edb(0x129),'localField':_0x1f2edb(0x111),'foreignField':'_id','as':_0x1f2edb(0x141)}},{'$unwind':_0x1f2edb(0x12a)},{'$lookup':{'from':_0x1f2edb(0x129),'localField':_0x1f2edb(0x169),'foreignField':_0x1f2edb(0x16d),'as':_0x1f2edb(0x152)}},{'$unwind':{'path':_0x1f2edb(0x163),'preserveNullAndEmptyArrays':!![]}}]);if(_0x5b447c[0x0][_0x1f2edb(0x192)]==_0x1f2edb(0x181))var _0x3a5970=users[_0x1f2edb(0x17e)];else{if(_0x5b447c[0x0][_0x1f2edb(0x192)]==_0x1f2edb(0x114))var _0x3a5970=users[_0x1f2edb(0x114)];else{if(_0x5b447c[0x0][_0x1f2edb(0x192)]==_0x1f2edb(0x15e))var _0x3a5970=users[_0x1f2edb(0x15e)];else{if(_0x5b447c[0x0][_0x1f2edb(0x192)]=='Spanish')var _0x3a5970=users[_0x1f2edb(0x16f)];else{if(_0x5b447c[0x0][_0x1f2edb(0x192)]==_0x1f2edb(0x18c))var _0x3a5970=users[_0x1f2edb(0x18c)];else{if(_0x5b447c[0x0][_0x1f2edb(0x192)]==_0x1f2edb(0x161))var _0x3a5970=users['Portuguese'];else{if(_0x5b447c[0x0]['language']=='Chinese')var _0x3a5970=users[_0x1f2edb(0x122)];else{if(_0x5b447c[0x0]['language']==_0x1f2edb(0x14b))var _0x3a5970=users[_0x1f2edb(0x17a)];}}}}}}}_0xbd7d00[_0x1f2edb(0x140)](_0x1f2edb(0x13d),{'success':_0x6eed0f[_0x1f2edb(0x120)](_0x1f2edb(0x187)),'errors':_0x6eed0f[_0x1f2edb(0x120)](_0x1f2edb(0x10a)),'master_shop':_0x5b447c,'profile':_0x46f51a,'role':_0x2dbd8c,'language':_0x3a5970,'customer':_0x5750ac,'sales_sa':_0x299fd3,'approvers':_0x1e57f3[0x0],'staff_arr':_0x10547f});}catch(_0x232233){console[_0x1f2edb(0x167)](_0x232233);}}),router[a0_0x41f6b3(0x14a)]('/add_sales',auth,async(_0x2cc086,_0x265ba2)=>{var _0x48190e=a0_0x41f6b3;try{const {customer:_0x2e65f7,date:_0x5c3de4,prod_code:_0x89d74d,note:_0x21d0fc,paid_status:_0x45812c,JD:_0x139f60,po_number:_0x504774,desire_date:_0x26e5a6}=_0x2cc086[_0x48190e(0x198)];if(typeof _0x89d74d==_0x48190e(0x189))var _0x282e55=[_0x2cc086['body'][_0x48190e(0x112)]],_0x1ede60=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x174)]],_0x12895e=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x158)]],_0x12a9b1=[_0x2cc086[_0x48190e(0x198)]['quantity']],_0x14e580=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x18e)]],_0x1374f0=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x110)]],_0x506e7f=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x128)]],_0x169e72=[_0x2cc086['body']['totalPrice']],_0x3a97de=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x14e)]],_0x405dd0=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x13a)]],_0x4a7c00=[_0x2cc086[_0x48190e(0x198)]['dicount_price_adjust']],_0x2cbd98=[_0x2cc086['body']['no_per_unit']],_0x30e8b4=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x150)]],_0xcbeb35=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x138)]],_0x43e749=[_0x2cc086[_0x48190e(0x198)][_0x48190e(0x179)]],_0x56342b=[_0x2cc086[_0x48190e(0x198)]['conversion_unit']];else var _0x282e55=[..._0x2cc086[_0x48190e(0x198)]['prod_code']],_0x1ede60=[..._0x2cc086['body'][_0x48190e(0x174)]],_0x12895e=[..._0x2cc086['body']['primary_code']],_0x12a9b1=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x12d)]],_0x14e580=[..._0x2cc086['body'][_0x48190e(0x18e)]],_0x1374f0=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x110)]],_0x506e7f=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x128)]],_0x169e72=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x113)]],_0x3a97de=[..._0x2cc086[_0x48190e(0x198)]['dicount_price']],_0x405dd0=[..._0x2cc086['body'][_0x48190e(0x13a)]],_0x4a7c00=[..._0x2cc086['body']['dicount_price_adjust']],_0x2cbd98=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x184)]],_0x30e8b4=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x150)]],_0xcbeb35=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x138)]],_0x43e749=[..._0x2cc086[_0x48190e(0x198)][_0x48190e(0x179)]],_0x56342b=[..._0x2cc086[_0x48190e(0x198)]['conversion_unit']];const _0x2edb17=_0x282e55['map'](_0x539255=>{return _0x539255={'product_code':_0x539255};});_0x1ede60[_0x48190e(0x16c)]((_0x53144d,_0x4294fc)=>{var _0x422558=_0x48190e;_0x2edb17[_0x4294fc][_0x422558(0x149)]=_0x53144d;}),_0x12895e[_0x48190e(0x16c)]((_0x313471,_0x965ef6)=>{var _0x409eff=_0x48190e;_0x2edb17[_0x965ef6][_0x409eff(0x158)]=_0x313471;}),_0x12a9b1['forEach']((_0x44af4f,_0x1c30c6)=>{_0x2edb17[_0x1c30c6]['quantity']=_0x44af4f;}),_0x14e580[_0x48190e(0x16c)]((_0x133d7a,_0x208588)=>{var _0x4f617d=_0x48190e;_0x2edb17[_0x208588][_0x4f617d(0x18e)]=_0x133d7a;}),_0x1374f0['forEach']((_0x1d1437,_0x3c9215)=>{var _0x5f0c7e=_0x48190e;_0x2edb17[_0x3c9215][_0x5f0c7e(0x110)]=_0x1d1437;}),_0x4a7c00['forEach']((_0x23602c,_0x2e1f7a)=>{var _0x42a5cd=_0x48190e;_0x2edb17[_0x2e1f7a][_0x42a5cd(0x15a)]=_0x23602c;}),_0x506e7f['forEach']((_0x27996d,_0x24664e)=>{var _0xeabfdd=_0x48190e;_0x2edb17[_0x24664e][_0xeabfdd(0x128)]=_0x27996d;}),_0x169e72[_0x48190e(0x16c)]((_0x2b575f,_0x1a0dbd)=>{var _0x150503=_0x48190e;_0x2edb17[_0x1a0dbd][_0x150503(0x130)]=_0x2b575f;}),_0x3a97de['forEach']((_0x52f0fa,_0x441e85)=>{_0x2edb17[_0x441e85]['discount']=_0x52f0fa;}),_0x405dd0[_0x48190e(0x16c)]((_0x2037f4,_0x4748b1)=>{var _0x1d9088=_0x48190e;_0x2edb17[_0x4748b1][_0x1d9088(0x186)]=_0x2037f4;}),_0x43e749[_0x48190e(0x16c)]((_0x4b6d45,_0xe8b60a)=>{var _0x4a0ae6=_0x48190e;_0x2edb17[_0xe8b60a][_0x4a0ae6(0x179)]=_0x4b6d45;}),_0x30e8b4[_0x48190e(0x16c)]((_0x3837c0,_0x12b212)=>{var _0x59ae6e=_0x48190e;_0x2edb17[_0x12b212][_0x59ae6e(0x182)]=_0x3837c0;}),_0xcbeb35[_0x48190e(0x16c)]((_0x4a638e,_0x57660e)=>{var _0x395b92=_0x48190e;_0x2edb17[_0x57660e][_0x395b92(0x138)]=_0x4a638e;}),_0x56342b[_0x48190e(0x16c)]((_0x253fa9,_0xab9a3)=>{_0x2edb17[_0xab9a3]['conversion_data']=_0x253fa9;}),_0x2cbd98[_0x48190e(0x16c)]((_0x28986e,_0x5d3b50)=>{_0x2edb17[_0x5d3b50]['no_per_unit']=_0x28986e;});const _0x36661c=await approver_acct[_0x48190e(0x121)]([{'$unwind':_0x48190e(0x170)},{'$match':{'member.id_member':_0x2cc086['user'][_0x48190e(0x13b)]}},{'$group':{'_id':{'id_member':_0x48190e(0x105),'name':_0x48190e(0x131)},'head_id_staff':{'$first':_0x48190e(0x193)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':_0x48190e(0x193)}}},{'$lookup':{'from':'staffs','localField':_0x48190e(0x107),'foreignField':_0x48190e(0x16d),'as':'head_staff_info'}},{'$unwind':_0x48190e(0x10e)}]),_0x20bdcf=new invoice_for_sales_order();await _0x20bdcf[_0x48190e(0x109)]();const _0x1fd531=_0x2cc086['user'],_0x58ba9c=await staff[_0x48190e(0x11c)]({'email':_0x1fd531[_0x48190e(0x151)]}),_0x33ea3f=new sales_order({'invoice':_0x20bdcf[_0x48190e(0x11a)][_0x48190e(0x13e)]()['padStart'](0x8,'0'),'customer':_0x2e65f7,'date':_0x5c3de4,'sale_product':_0x2edb17,'note':_0x21d0fc,'sales_staff_id':_0x58ba9c['_id'][_0x48190e(0x166)](),'JD':_0x139f60,'accounting_account_id':_0x36661c[0x0][_0x48190e(0x145)],'po_number':_0x504774,'desired_delivery':_0x26e5a6,'wms_account_confirm':_0x48190e(0x194),'accounting_account_confirm':'true'}),_0x1558f7=await _0x33ea3f['save']();var _0x1336be=_0x1558f7[_0x48190e(0x168)],_0x2c761c='',_0xdbdc16,_0x3cc1da=0x0;for(_0xdbdc16 in _0x1336be){_0x2c761c+='<tr>'+_0x48190e(0x126)+_0x1336be[_0xdbdc16][_0x48190e(0x149)]+_0x48190e(0x11f)+_0x48190e(0x126)+_0x1336be[_0xdbdc16][_0x48190e(0x143)]+_0x48190e(0x11f)+'<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>'+_0x1336be[_0xdbdc16][_0x48190e(0x12d)]+_0x48190e(0x11f)+_0x48190e(0x126)+_0x1336be[_0xdbdc16][_0x48190e(0x18e)]+_0x48190e(0x11f)+_0x48190e(0x124),_0x3cc1da+=parseInt(_0x1336be[_0xdbdc16]['quantity']);}const _0x4b5a7b=await master_shop['find'](),_0x5019fa=await email_settings[_0x48190e(0x11c)]();let _0x4ccfe7=nodemailer['createTransport']({'port':Number(_0x5019fa[_0x48190e(0x11e)]),'secure':![],'auth':{'user':_0x5019fa[_0x48190e(0x151)],'pass':_0x5019fa[_0x48190e(0x183)]}});const _0x24face=_0x2cc086[_0x48190e(0x197)]+'://'+_0x2cc086[_0x48190e(0x178)][_0x48190e(0x185)];let _0x2ff70a={'from':_0x5019fa['email'],'to':_0x36661c[0x0][_0x48190e(0x11b)][_0x48190e(0x151)]+';christian.villamer@jakagroup.com','subject':_0x48190e(0x118)+_0x1558f7[_0x48190e(0x17c)],'attachments':[{'filename':_0x48190e(0x188),'path':__dirname+_0x48190e(0x135)+_0x48190e(0x11d)+_0x4b5a7b[0x0][_0x48190e(0x133)],'cid':_0x48190e(0x144)}],'html':_0x48190e(0x15c)+'<html><head><title></title>'+_0x48190e(0x196)+'</head><body>'+_0x48190e(0x17d)+_0x48190e(0x10c)+'<div>'+_0x48190e(0x17f)+_0x48190e(0x15b)+_0x48190e(0x17d)+'<h2>\x20JEC\x20SMS\x20</h2>'+_0x48190e(0x15b)+_0x48190e(0x15b)+_0x48190e(0x18d)+_0x48190e(0x17d)+_0x48190e(0x14d)+_0x36661c[0x0]['head_staff_info'][_0x48190e(0x116)]+_0x48190e(0x127)+_0x48190e(0x15b)+_0x48190e(0x17d)+_0x48190e(0x146)+'</div>'+_0x48190e(0x17d)+_0x48190e(0x191)+_0x1558f7[_0x48190e(0x17c)]+_0x48190e(0x119)+'<span>\x20Requested\x20By:\x20<b>'+_0x58ba9c[_0x48190e(0x116)]+_0x48190e(0x119)+'<span>\x20Request\x20Date:\x20<b>'+_0x1558f7['date']+_0x48190e(0x123)+_0x48190e(0x15b)+_0x48190e(0x16e)+_0x48190e(0x102)+_0x48190e(0x14f)+_0x48190e(0x14c)+_0x48190e(0x106)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>'+_0x48190e(0x16a)+_0x48190e(0x124)+'</thead>'+'<tbody\x20style=\x22text-align:\x20center;\x22>'+'\x20'+_0x2c761c+'\x20'+_0x48190e(0x173)+_0x48190e(0x15f)+_0x48190e(0x17d)+_0x48190e(0x18b)+_0x3cc1da+'</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>'+'<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>'+_0x48190e(0x13c)+_0x48190e(0x18a)+_0x48190e(0x15b)+_0x48190e(0x16b)+'<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22'+_0x24face+_0x48190e(0x157)+_0x1558f7[_0x48190e(0x16d)]+_0x48190e(0x103)+'<br><br>'+_0x48190e(0x15b)+_0x48190e(0x17d)+_0x48190e(0x154)+_0x48190e(0x165)+_0x48190e(0x15b)+_0x48190e(0x15b)+_0x48190e(0x108)+_0x48190e(0x164)};_0x4ccfe7[_0x48190e(0x156)](_0x2ff70a,function(_0xe22d63,_0x46c2c9){var _0x360247=_0x48190e;_0xe22d63?(console[_0x360247(0x167)](_0xe22d63),console[_0x360247(0x167)](_0x360247(0x132))):console[_0x360247(0x167)]('Email\x20sent\x20successfully');}),_0x2cc086[_0x48190e(0x120)](_0x48190e(0x187),_0x48190e(0x160)),_0x265ba2['redirect'](_0x48190e(0x12c)+_0x1558f7[_0x48190e(0x16d)]);}catch(_0x32e5a3){}}),router['post']('/product_list',auth,async(_0x232e23,_0x307f68)=>{var _0x39f8ef=a0_0x41f6b3;try{const _0x17464d=_0x232e23[_0x39f8ef(0x155)],_0x59f5ca=await profile['findOne']({'email':_0x17464d['email']}),_0x4933bc=await product[_0x39f8ef(0x139)]({'sales_category':_0x17464d[_0x39f8ef(0x125)]});_0x307f68[_0x39f8ef(0x17b)](_0x4933bc);}catch(_0x33936f){}}),router[a0_0x41f6b3(0x14a)]('/product_data',auth,async(_0x1f69da,_0x1941a1)=>{var _0x29ae5b=a0_0x41f6b3;try{const _0x372701=_0x1f69da['user'],{id_data:_0x599914}=_0x1f69da[_0x29ae5b(0x198)],_0x57e370=await profile[_0x29ae5b(0x11c)]({'email':_0x372701[_0x29ae5b(0x151)]}),_0x494c8f=mongoose[_0x29ae5b(0x172)]['ObjectId'];var _0x1bfd96=_0x494c8f(_0x599914);const _0x106384=await product['find']({'_id':_0x1bfd96});_0x1941a1[_0x29ae5b(0x17b)](_0x106384);}catch(_0x2b09a7){}}),module[a0_0x41f6b3(0x12b)]=router;function a0_0x2358(_0x2f94cb,_0x93f1ad){var _0x59a84e=a0_0x59a8();return a0_0x2358=function(_0x2358cd,_0x29dbf3){_0x2358cd=_0x2358cd-0x101;var _0x3c8e6d=_0x59a84e[_0x2358cd];return _0x3c8e6d;},a0_0x2358(_0x2f94cb,_0x93f1ad);}function a0_0x59a8(){var _0x1fd32a=['Approval\x20for\x20','</b></span>\x20<br>','invoice_init','head_staff_info','findOne','/upload/','port','</td>','flash','aggregate','Chinese','</b></span>\x20<br><br>','</tr>','sales_category','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','</b>,\x20</span><br>','price','staffs','$account_data','exports','/sales_order/view_sales/','quantity','$sale_product','/view_sales/:id','totalprice','$member.name','Error\x20Occurs','image','478440Gwpgbh','/../public','1999862nzwiqN','$customer','prod_cat','find','tmpisFG','sttaff_id','<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>','view_sales_order','toString','mongoose','render','account_data','add_sales_order','product_code','logo','head_id_staff','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','1yFqTmC','7085435ibNPhL','product_name','post','Arabic\x20(ae)','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','<span>\x20Dear\x20<b>','dicount_price','<tr>','getPrimUnitNo','email','wms_data','Portuguese','<strong>\x20Regards\x20</strong>','user','sendMail','/accounting_approval/','primary_code','nodemailer','adjustment_discount','</div>','<!DOCTYPE\x20html>','Router','German','</table>','Sales\x20Order\x20is\x20ongoing','Portuguese\x20(BR)','$sale_product.quantity','$wms_data','</body></html>','<h5>\x20JEC\x20SMS\x20</h5>','valueOf','log','sale_product','wms_account_id','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>','<div\x20style=\x22text-align:\x20center;\x22>','forEach','_id','<table\x20style=\x22width:\x20100%\x20!important;\x22>','Spanish','$member','1567456WpmEmB','Types','</tbody>','prod_name','16cERKRP','/add_sales','$invoice','headers','secondary_unit','Arabic','json','invoice','<div>','English','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','$JD','English\x20(US)','real_qty_unit_val','password','no_per_unit','host','isFG','success','Logo.png','string','<br><br><br>','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','French','<hr\x20class=\x22my-3\x22>','unit','exceljs','../public/language/languages.json','<span>\x20Request\x20ID:\x20<b>','language','$head_id_staff','true','2124864pbYPSG','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','protocol','body','$_id','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','\x22>Change\x20Status</a>','../models/all_models','$member.id_member','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>','head_id_staff_id','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','save','errors','get','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','$wms_account_confirm','$head_staff_info','params','product_id','accounting_account_id','prod_code','totalPrice','Hindi','2064267HOobnz','name','642990icGGkh'];a0_0x59a8=function(){return _0x1fd32a;};return a0_0x59a8();}