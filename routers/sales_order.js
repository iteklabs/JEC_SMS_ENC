function a0_0x5205(_0x41bd49,_0x10130a){var _0x80a5a2=a0_0x80a5();return a0_0x5205=function(_0x52054e,_0x2c8e93){_0x52054e=_0x52054e-0x1dc;var _0xdfd1ad=_0x80a5a2[_0x52054e];return _0xdfd1ad;},a0_0x5205(_0x41bd49,_0x10130a);}var a0_0x23afd1=a0_0x5205;(function(_0x27bbdb,_0x40c7d5){var _0x2c7ce3=a0_0x5205,_0xce2881=_0x27bbdb();while(!![]){try{var _0x4f9d38=-parseInt(_0x2c7ce3(0x276))/0x1*(-parseInt(_0x2c7ce3(0x277))/0x2)+-parseInt(_0x2c7ce3(0x1eb))/0x3*(-parseInt(_0x2c7ce3(0x232))/0x4)+parseInt(_0x2c7ce3(0x23a))/0x5*(-parseInt(_0x2c7ce3(0x27f))/0x6)+-parseInt(_0x2c7ce3(0x20f))/0x7*(-parseInt(_0x2c7ce3(0x239))/0x8)+parseInt(_0x2c7ce3(0x210))/0x9*(parseInt(_0x2c7ce3(0x24d))/0xa)+parseInt(_0x2c7ce3(0x237))/0xb+-parseInt(_0x2c7ce3(0x245))/0xc;if(_0x4f9d38===_0x40c7d5)break;else _0xce2881['push'](_0xce2881['shift']());}catch(_0x35e9c5){_0xce2881['push'](_0xce2881['shift']());}}}(a0_0x80a5,0xd23a7));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require(a0_0x23afd1(0x233)),auth=require('../middleware/auth'),users=require(a0_0x23afd1(0x225)),excelJS=require('exceljs'),xlsx=require(a0_0x23afd1(0x226)),mongoose=require('mongoose'),{ObjectId}=require(a0_0x23afd1(0x1dd)),nodemailer=require(a0_0x23afd1(0x24f));router[a0_0x23afd1(0x1fc)]('/',auth,async(_0x5c5886,_0x25ff8e)=>{var _0x204ff2=a0_0x23afd1;try{const _0x130686=await master_shop[_0x204ff2(0x22b)](),_0x46740e=_0x5c5886['user'],_0x553696=await profile[_0x204ff2(0x24b)]({'email':_0x46740e[_0x204ff2(0x22d)]}),_0x161f34=await staff[_0x204ff2(0x24b)]({'email':_0x46740e[_0x204ff2(0x22d)]}),_0x49b05b=await sales_order[_0x204ff2(0x206)]([{'$match':{'sales_staff_id':_0x161f34['_id'][_0x204ff2(0x1e7)]()}},{'$unwind':_0x204ff2(0x255)},{'$group':{'_id':_0x204ff2(0x1dc),'invoice':{'$first':_0x204ff2(0x244)},'customer':{'$first':'$customer'},'date':{'$first':_0x204ff2(0x242)},'JD':{'$first':_0x204ff2(0x258)},'accounting_account_confirm':{'$first':_0x204ff2(0x200)},'wms_account_confirm':{'$first':_0x204ff2(0x23c)},'totalQTY':{'$sum':_0x204ff2(0x1de)}}}]);if(_0x130686[0x0][_0x204ff2(0x208)]==_0x204ff2(0x251))var _0x8db487=users[_0x204ff2(0x257)];else{if(_0x130686[0x0][_0x204ff2(0x208)]==_0x204ff2(0x234))var _0x8db487=users[_0x204ff2(0x234)];else{if(_0x130686[0x0]['language']=='German')var _0x8db487=users['German'];else{if(_0x130686[0x0][_0x204ff2(0x208)]==_0x204ff2(0x21d))var _0x8db487=users[_0x204ff2(0x21d)];else{if(_0x130686[0x0][_0x204ff2(0x208)]=='French')var _0x8db487=users[_0x204ff2(0x264)];else{if(_0x130686[0x0][_0x204ff2(0x208)]==_0x204ff2(0x219))var _0x8db487=users[_0x204ff2(0x256)];else{if(_0x130686[0x0][_0x204ff2(0x208)]==_0x204ff2(0x213))var _0x8db487=users[_0x204ff2(0x213)];else{if(_0x130686[0x0][_0x204ff2(0x208)]==_0x204ff2(0x1fa))var _0x8db487=users[_0x204ff2(0x248)];}}}}}}}_0x25ff8e[_0x204ff2(0x265)](_0x204ff2(0x21f),{'success':_0x5c5886[_0x204ff2(0x215)](_0x204ff2(0x25f)),'errors':_0x5c5886[_0x204ff2(0x215)](_0x204ff2(0x1e0)),'master_shop':_0x130686,'profile':_0x553696,'role':_0x46740e,'language':_0x8db487,'product_list':_0x161f34[_0x204ff2(0x203)],'sales_mine':_0x49b05b,'staff_arr':_0x161f34});}catch(_0x5ecbe5){console['log'](_0x5ecbe5);}}),router['get']('/add_sales',auth,async(_0x25a21b,_0x494089)=>{var _0x2cb6ac=a0_0x23afd1;try{const _0x13911a=await master_shop[_0x2cb6ac(0x22b)](),_0x193595=_0x25a21b[_0x2cb6ac(0x1fb)],_0x40d611=await profile[_0x2cb6ac(0x24b)]({'email':_0x193595[_0x2cb6ac(0x22d)]}),_0x1cf421=await staff['findOne']({'email':_0x193595[_0x2cb6ac(0x22d)]}),_0x136d04=await customer[_0x2cb6ac(0x22b)]({'agent_id':_0x1cf421[_0x2cb6ac(0x1e6)]});if(_0x13911a[0x0]['language']=='English\x20(US)')var _0x23d56b=users[_0x2cb6ac(0x257)];else{if(_0x13911a[0x0]['language']==_0x2cb6ac(0x234))var _0x23d56b=users[_0x2cb6ac(0x234)];else{if(_0x13911a[0x0]['language']==_0x2cb6ac(0x204))var _0x23d56b=users['German'];else{if(_0x13911a[0x0][_0x2cb6ac(0x208)]==_0x2cb6ac(0x21d))var _0x23d56b=users['Spanish'];else{if(_0x13911a[0x0]['language']=='French')var _0x23d56b=users[_0x2cb6ac(0x264)];else{if(_0x13911a[0x0][_0x2cb6ac(0x208)]==_0x2cb6ac(0x219))var _0x23d56b=users[_0x2cb6ac(0x256)];else{if(_0x13911a[0x0][_0x2cb6ac(0x208)]==_0x2cb6ac(0x213))var _0x23d56b=users[_0x2cb6ac(0x213)];else{if(_0x13911a[0x0][_0x2cb6ac(0x208)]==_0x2cb6ac(0x1fa))var _0x23d56b=users[_0x2cb6ac(0x248)];}}}}}}}_0x494089[_0x2cb6ac(0x265)](_0x2cb6ac(0x224),{'success':_0x25a21b['flash'](_0x2cb6ac(0x25f)),'errors':_0x25a21b[_0x2cb6ac(0x215)](_0x2cb6ac(0x1e0)),'master_shop':_0x13911a,'profile':_0x40d611,'role':_0x193595,'language':_0x23d56b,'customer':_0x136d04,'staff_arr':_0x1cf421});}catch(_0x157149){console[_0x2cb6ac(0x1f0)](_0x157149);}}),router['get'](a0_0x23afd1(0x254),auth,async(_0x4f53a2,_0x5da7dd)=>{var _0x408a10=a0_0x23afd1;try{const _0x2b379c=await master_shop[_0x408a10(0x22b)](),_0x328f42=_0x4f53a2[_0x408a10(0x1fb)],_0x4d00c7=await profile[_0x408a10(0x24b)]({'email':_0x328f42[_0x408a10(0x22d)]}),_0x1e44bd=await staff[_0x408a10(0x24b)]({'email':_0x328f42['email']}),_0xfe97c4=await customer[_0x408a10(0x22b)]({'agent_id':_0x1e44bd[_0x408a10(0x1e6)]}),_0x33a36b=mongoose[_0x408a10(0x20d)][_0x408a10(0x25d)],_0x2a7c53=_0x4f53a2[_0x408a10(0x1f5)]['id'],_0x52c1a3=await sales_order[_0x408a10(0x269)](_0x2a7c53),_0x3efb19=await sales_order['aggregate']([{'$match':{'_id':_0x33a36b(_0x2a7c53)}},{'$addFields':{'accounting_account_id':{'$toObjectId':_0x408a10(0x22e)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x408a10(0x261)}}},{'$lookup':{'from':'staffs','localField':'accounting_account_id','foreignField':_0x408a10(0x1e6),'as':'account_data'}},{'$unwind':'$account_data'},{'$lookup':{'from':_0x408a10(0x22a),'localField':'wms_account_id','foreignField':_0x408a10(0x1e6),'as':_0x408a10(0x1e5)}},{'$unwind':{'path':_0x408a10(0x278),'preserveNullAndEmptyArrays':!![]}}]);if(_0x2b379c[0x0][_0x408a10(0x208)]==_0x408a10(0x251))var _0x2b84cd=users[_0x408a10(0x257)];else{if(_0x2b379c[0x0]['language']==_0x408a10(0x234))var _0x2b84cd=users[_0x408a10(0x234)];else{if(_0x2b379c[0x0][_0x408a10(0x208)]==_0x408a10(0x204))var _0x2b84cd=users['German'];else{if(_0x2b379c[0x0][_0x408a10(0x208)]==_0x408a10(0x21d))var _0x2b84cd=users[_0x408a10(0x21d)];else{if(_0x2b379c[0x0]['language']==_0x408a10(0x264))var _0x2b84cd=users[_0x408a10(0x264)];else{if(_0x2b379c[0x0][_0x408a10(0x208)]==_0x408a10(0x219))var _0x2b84cd=users[_0x408a10(0x256)];else{if(_0x2b379c[0x0][_0x408a10(0x208)]==_0x408a10(0x213))var _0x2b84cd=users['Chinese'];else{if(_0x2b379c[0x0]['language']=='Arabic\x20(ae)')var _0x2b84cd=users['Arabic'];}}}}}}}_0x5da7dd['render']('view_sales_order',{'success':_0x4f53a2[_0x408a10(0x215)](_0x408a10(0x25f)),'errors':_0x4f53a2[_0x408a10(0x215)](_0x408a10(0x1e0)),'master_shop':_0x2b379c,'profile':_0x4d00c7,'role':_0x328f42,'language':_0x2b84cd,'customer':_0xfe97c4,'sales_sa':_0x52c1a3,'approvers':_0x3efb19[0x0],'staff_arr':_0x1e44bd});}catch(_0x54d5d0){console['log'](_0x54d5d0);}}),router[a0_0x23afd1(0x27b)](a0_0x23afd1(0x253),auth,async(_0x113f89,_0x131914)=>{var _0x2c320e=a0_0x23afd1;try{const {customer:_0x18e625,date:_0x3fbc75,prod_code:_0x5af54c,note:_0x3ea3c5,paid_status:_0x1df15c,JD:_0x52400b,po_number:_0x4192e0,desire_date:_0x1d5200}=_0x113f89[_0x2c320e(0x271)];if(typeof _0x5af54c==_0x2c320e(0x241))var _0x8cf011=[_0x113f89['body'][_0x2c320e(0x24c)]],_0x4a26b9=[_0x113f89['body']['prod_name']],_0x1e7e9d=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x272)]],_0x339b76=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x236)]],_0x48d293=[_0x113f89[_0x2c320e(0x271)]['unit']],_0xe0522f=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x1ed)]],_0x1a515f=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x24a)]],_0x528dec=[_0x113f89['body'][_0x2c320e(0x270)]],_0x139df1=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x268)]],_0x9d30d5=[_0x113f89['body'][_0x2c320e(0x205)]],_0x1b9a7c=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x20e)]],_0x219c88=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x221)]],_0x33d6e7=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x1ee)]],_0x3a829c=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x20b)]],_0x294ade=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x25b)]],_0x2ab2b0=[_0x113f89[_0x2c320e(0x271)][_0x2c320e(0x217)]];else var _0x8cf011=[..._0x113f89['body'][_0x2c320e(0x24c)]],_0x4a26b9=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x22c)]],_0x1e7e9d=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x272)]],_0x339b76=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x236)]],_0x48d293=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x1ea)]],_0xe0522f=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x1ed)]],_0x1a515f=[..._0x113f89['body'][_0x2c320e(0x24a)]],_0x528dec=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x270)]],_0x139df1=[..._0x113f89['body'][_0x2c320e(0x268)]],_0x9d30d5=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x205)]],_0x1b9a7c=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x20e)]],_0x219c88=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x221)]],_0x33d6e7=[..._0x113f89['body']['getPrimUnitNo']],_0x3a829c=[..._0x113f89['body'][_0x2c320e(0x20b)]],_0x294ade=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x25b)]],_0x2ab2b0=[..._0x113f89[_0x2c320e(0x271)][_0x2c320e(0x217)]];const _0x5ab75e=_0x8cf011[_0x2c320e(0x249)](_0xcb9c6e=>{return _0xcb9c6e={'product_code':_0xcb9c6e};});_0x4a26b9[_0x2c320e(0x26b)]((_0x20bd29,_0x86397f)=>{var _0x5afb5d=_0x2c320e;_0x5ab75e[_0x86397f][_0x5afb5d(0x23e)]=_0x20bd29;}),_0x1e7e9d['forEach']((_0x36d6ad,_0x2257d2)=>{var _0x3d11e1=_0x2c320e;_0x5ab75e[_0x2257d2][_0x3d11e1(0x272)]=_0x36d6ad;}),_0x339b76[_0x2c320e(0x26b)]((_0x48a955,_0x4d903f)=>{var _0x242d72=_0x2c320e;_0x5ab75e[_0x4d903f][_0x242d72(0x236)]=_0x48a955;}),_0x48d293['forEach']((_0x135d64,_0x10017f)=>{var _0x54ec73=_0x2c320e;_0x5ab75e[_0x10017f][_0x54ec73(0x1ea)]=_0x135d64;}),_0xe0522f[_0x2c320e(0x26b)]((_0x26fd37,_0x14541f)=>{var _0x3f373a=_0x2c320e;_0x5ab75e[_0x14541f][_0x3f373a(0x1ed)]=_0x26fd37;}),_0x1b9a7c[_0x2c320e(0x26b)]((_0x3081d3,_0x2b8bee)=>{var _0x447a81=_0x2c320e;_0x5ab75e[_0x2b8bee][_0x447a81(0x1ff)]=_0x3081d3;}),_0x1a515f[_0x2c320e(0x26b)]((_0x3f835d,_0x37c857)=>{var _0x45d21f=_0x2c320e;_0x5ab75e[_0x37c857][_0x45d21f(0x24a)]=_0x3f835d;}),_0x528dec[_0x2c320e(0x26b)]((_0x2d928c,_0x3338e3)=>{_0x5ab75e[_0x3338e3]['totalprice']=_0x2d928c;}),_0x139df1[_0x2c320e(0x26b)]((_0x400cac,_0x2c6442)=>{var _0x3eda12=_0x2c320e;_0x5ab75e[_0x2c6442][_0x3eda12(0x211)]=_0x400cac;}),_0x9d30d5['forEach']((_0x109b18,_0x54855f)=>{var _0x16751b=_0x2c320e;_0x5ab75e[_0x54855f][_0x16751b(0x216)]=_0x109b18;}),_0x294ade[_0x2c320e(0x26b)]((_0x2d4496,_0x272996)=>{_0x5ab75e[_0x272996]['secondary_unit']=_0x2d4496;}),_0x33d6e7[_0x2c320e(0x26b)]((_0x546180,_0x487f2a)=>{var _0x1f44c2=_0x2c320e;_0x5ab75e[_0x487f2a][_0x1f44c2(0x279)]=_0x546180;}),_0x3a829c['forEach']((_0x5a259d,_0x2aafe6)=>{_0x5ab75e[_0x2aafe6]['prod_cat']=_0x5a259d;}),_0x2ab2b0['forEach']((_0x254815,_0x194e64)=>{_0x5ab75e[_0x194e64]['conversion_data']=_0x254815;}),_0x219c88[_0x2c320e(0x26b)]((_0x39d2ff,_0x3eeeb1)=>{_0x5ab75e[_0x3eeeb1]['no_per_unit']=_0x39d2ff;});const _0x10f529=await approver_acct[_0x2c320e(0x206)]([{'$unwind':_0x2c320e(0x240)},{'$match':{'member.id_member':_0x113f89[_0x2c320e(0x1fb)][_0x2c320e(0x1e2)]}},{'$group':{'_id':{'id_member':'$member.id_member','name':'$member.name'},'head_id_staff':{'$first':_0x2c320e(0x230)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':_0x2c320e(0x230)}}},{'$lookup':{'from':_0x2c320e(0x22a),'localField':_0x2c320e(0x23f),'foreignField':_0x2c320e(0x1e6),'as':'head_staff_info'}},{'$unwind':_0x2c320e(0x222)}]),_0x533e9e=new invoice_for_sales_order();await _0x533e9e[_0x2c320e(0x1f3)]();const _0x2e747d=_0x113f89['user'],_0x57934d=await staff[_0x2c320e(0x24b)]({'email':_0x2e747d['email']}),_0x401da0=new sales_order({'invoice':_0x533e9e[_0x2c320e(0x243)][_0x2c320e(0x209)]()[_0x2c320e(0x228)](0x8,'0'),'customer':_0x18e625,'date':_0x3fbc75,'sale_product':_0x5ab75e,'note':_0x3ea3c5,'sales_staff_id':_0x57934d['_id'][_0x2c320e(0x1e7)](),'JD':_0x52400b,'accounting_account_id':_0x10f529[0x0]['head_id_staff'],'po_number':_0x4192e0,'desired_delivery':_0x1d5200,'wms_account_confirm':_0x2c320e(0x1e8),'accounting_account_confirm':_0x2c320e(0x1e8)}),_0x37c2b0=await _0x401da0[_0x2c320e(0x1f3)]();var _0x33d803=_0x37c2b0[_0x2c320e(0x27a)],_0x5b1c30='',_0x391289,_0x4ec49f=0x0;for(_0x391289 in _0x33d803){_0x5b1c30+='<tr>'+_0x2c320e(0x267)+_0x33d803[_0x391289][_0x2c320e(0x23e)]+'</td>'+_0x2c320e(0x267)+_0x33d803[_0x391289][_0x2c320e(0x26d)]+_0x2c320e(0x263)+_0x2c320e(0x267)+_0x33d803[_0x391289]['quantity']+_0x2c320e(0x263)+_0x2c320e(0x267)+_0x33d803[_0x391289][_0x2c320e(0x1ea)]+_0x2c320e(0x263)+_0x2c320e(0x266),_0x4ec49f+=parseInt(_0x33d803[_0x391289][_0x2c320e(0x236)]);}const _0xed8faf=await master_shop[_0x2c320e(0x22b)](),_0x4f1a14=await email_settings['findOne']();let _0x32f3f6=nodemailer[_0x2c320e(0x275)]({'port':Number(_0x4f1a14[_0x2c320e(0x25e)]),'secure':![],'auth':{'user':_0x4f1a14['email'],'pass':_0x4f1a14[_0x2c320e(0x24e)]}});const _0xf42c7=_0x113f89[_0x2c320e(0x27e)]+_0x2c320e(0x26c)+_0x113f89[_0x2c320e(0x25c)][_0x2c320e(0x273)];let _0x25bfb7={'from':_0x4f1a14['email'],'to':_0x10f529[0x0]['head_staff_info'][_0x2c320e(0x22d)]+_0x2c320e(0x220),'subject':_0x2c320e(0x20c)+_0x37c2b0[_0x2c320e(0x21b)],'attachments':[{'filename':_0x2c320e(0x1f1),'path':__dirname+_0x2c320e(0x1f4)+_0x2c320e(0x1fe)+_0xed8faf[0x0][_0x2c320e(0x214)],'cid':_0x2c320e(0x231)}],'html':'<!DOCTYPE\x20html>'+_0x2c320e(0x1e9)+_0x2c320e(0x246)+_0x2c320e(0x1e4)+_0x2c320e(0x25a)+_0x2c320e(0x1e3)+_0x2c320e(0x25a)+_0x2c320e(0x229)+_0x2c320e(0x250)+_0x2c320e(0x25a)+_0x2c320e(0x207)+_0x2c320e(0x250)+'</div>'+_0x2c320e(0x23d)+_0x2c320e(0x25a)+'<span>\x20Dear\x20<b>'+_0x10f529[0x0][_0x2c320e(0x21a)][_0x2c320e(0x218)]+_0x2c320e(0x212)+_0x2c320e(0x250)+_0x2c320e(0x25a)+_0x2c320e(0x23b)+'</div>'+_0x2c320e(0x25a)+'<span>\x20Request\x20ID:\x20<b>'+_0x37c2b0[_0x2c320e(0x21b)]+_0x2c320e(0x21c)+'<span>\x20Requested\x20By:\x20<b>'+_0x57934d['name']+_0x2c320e(0x21c)+_0x2c320e(0x201)+_0x37c2b0[_0x2c320e(0x260)]+_0x2c320e(0x259)+_0x2c320e(0x250)+_0x2c320e(0x235)+'<thead\x20style=\x22width:\x20100%\x20!important;\x22>'+_0x2c320e(0x262)+_0x2c320e(0x1fd)+_0x2c320e(0x27c)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>'+_0x2c320e(0x20a)+_0x2c320e(0x266)+_0x2c320e(0x22f)+_0x2c320e(0x1f2)+'\x20'+_0x5b1c30+'\x20'+'</tbody>'+'</table>'+_0x2c320e(0x25a)+_0x2c320e(0x238)+_0x4ec49f+_0x2c320e(0x1f9)+_0x2c320e(0x1df)+'<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>'+_0x2c320e(0x274)+_0x2c320e(0x250)+_0x2c320e(0x223)+_0x2c320e(0x1f7)+_0xf42c7+'/accounting_approval/'+_0x37c2b0[_0x2c320e(0x1e6)]+_0x2c320e(0x1e1)+_0x2c320e(0x227)+_0x2c320e(0x250)+_0x2c320e(0x25a)+_0x2c320e(0x26f)+_0x2c320e(0x1ef)+_0x2c320e(0x250)+_0x2c320e(0x250)+_0x2c320e(0x252)+_0x2c320e(0x26e)};_0x32f3f6['sendMail'](_0x25bfb7,function(_0x3e5a4c,_0x5bae31){var _0x4ae126=_0x2c320e;_0x3e5a4c?(console[_0x4ae126(0x1f0)](_0x3e5a4c),console[_0x4ae126(0x1f0)]('Error\x20Occurs')):console[_0x4ae126(0x1f0)](_0x4ae126(0x27d));}),_0x113f89['flash']('success',_0x2c320e(0x1ec)),_0x131914[_0x2c320e(0x247)](_0x2c320e(0x21e)+_0x37c2b0[_0x2c320e(0x1e6)]);}catch(_0x676b6f){}}),router[a0_0x23afd1(0x27b)](a0_0x23afd1(0x1f8),auth,async(_0x2d5a4f,_0x471b4d)=>{var _0x2dcc07=a0_0x23afd1;try{const _0x1286e5=_0x2d5a4f[_0x2dcc07(0x1fb)],_0x1acdc9=await profile[_0x2dcc07(0x24b)]({'email':_0x1286e5[_0x2dcc07(0x22d)]}),_0x1232cf=await product[_0x2dcc07(0x22b)]({'sales_category':_0x1286e5[_0x2dcc07(0x202)]});_0x471b4d[_0x2dcc07(0x26a)](_0x1232cf);}catch(_0x2895ad){}}),router[a0_0x23afd1(0x27b)](a0_0x23afd1(0x1f6),auth,async(_0x1122a,_0x3876cd)=>{var _0x5f1b9d=a0_0x23afd1;try{const _0x3f1953=_0x1122a[_0x5f1b9d(0x1fb)],{id_data:_0x125172}=_0x1122a[_0x5f1b9d(0x271)],_0x5615c7=await profile[_0x5f1b9d(0x24b)]({'email':_0x3f1953[_0x5f1b9d(0x22d)]}),_0x43b036=mongoose[_0x5f1b9d(0x20d)]['ObjectId'];var _0x5d850f=_0x43b036(_0x125172);const _0x14bcfc=await product[_0x5f1b9d(0x22b)]({'_id':_0x5d850f});_0x3876cd[_0x5f1b9d(0x26a)](_0x14bcfc);}catch(_0x431701){}}),module['exports']=router;function a0_0x80a5(){var _0x527548=['findOne','prod_code','160ZPynUt','password','nodemailer','</div>','English\x20(US)','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','/add_sales','/view_sales/:id','$sale_product','Portuguese','English','$JD','</b></span>\x20<br><br>','<div>','secondary_unit','headers','ObjectId','port','success','date','$wms_account_id','<tr>','</td>','French','render','</tr>','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','dicount_price','findById','json','forEach','://','product_code','</body></html>','<strong>\x20Regards\x20</strong>','totalPrice','body','primary_code','host','<br><br><br>','createTransport','1056226cQtnlX','2xluOAY','$wms_data','real_qty_unit_val','sale_product','post','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>','Email\x20sent\x20successfully','protocol','330oGZTxA','$_id','mongodb','$sale_product.quantity','<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>','errors','\x22>Change\x20Status</a>','sttaff_id','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','</head><body>','wms_data','_id','valueOf','true','<html><head><title></title>','unit','482439BPNlJE','Sales\x20Order\x20is\x20ongoing','product_id','getPrimUnitNo','<h5>\x20JEC\x20SMS\x20</h5>','log','Logo.png','<tbody\x20style=\x22text-align:\x20center;\x22>','save','/../public','params','/product_data','<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22','/product_list','</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>','Arabic\x20(ae)','user','get','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','/upload/','adjustment_discount','$accounting_account_confirm','<span>\x20Request\x20Date:\x20<b>','sales_category','product_list','German','tmpisFG','aggregate','<h2>\x20JEC\x20SMS\x20</h2>','language','toString','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>','prod_cat','Approval\x20for\x20','Types','dicount_price_adjust','7aYcPab','593847EBMwxL','discount','</b>,\x20</span><br>','Chinese','image','flash','isFG','conversion_unit','name','Portuguese\x20(BR)','head_staff_info','invoice','</b></span>\x20<br>','Spanish','/sales_order/view_sales/','all_sales_order',';christian.villamer@jakagroup.com','no_per_unit','$head_staff_info','<div\x20style=\x22text-align:\x20center;\x22>','add_sales_order','../public/language/languages.json','xlsx','<br><br>','padStart','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','staffs','find','prod_name','email','$accounting_account_id','</thead>','$head_id_staff','logo','8IunPMN','../models/all_models','Hindi','<table\x20style=\x22width:\x20100%\x20!important;\x22>','quantity','14636743zTInDw','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','5144704pmtuQC','112505LQwijW','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','$wms_account_confirm','<hr\x20class=\x22my-3\x22>','product_name','head_id_staff_id','$member','string','$date','invoice_init','$invoice','27703572xzHGUJ','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','redirect','Arabic','map','price'];a0_0x80a5=function(){return _0x527548;};return a0_0x80a5();}