var a0_0x3e9aeb=a0_0x5522;(function(_0x242d3d,_0x27db53){var _0x1f24d7=a0_0x5522,_0x13c061=_0x242d3d();while(!![]){try{var _0x52301e=-parseInt(_0x1f24d7(0x240))/0x1+parseInt(_0x1f24d7(0x259))/0x2*(-parseInt(_0x1f24d7(0x238))/0x3)+parseInt(_0x1f24d7(0x24b))/0x4+-parseInt(_0x1f24d7(0x1ce))/0x5+parseInt(_0x1f24d7(0x1cc))/0x6+parseInt(_0x1f24d7(0x1c9))/0x7*(-parseInt(_0x1f24d7(0x1f0))/0x8)+parseInt(_0x1f24d7(0x1d1))/0x9*(parseInt(_0x1f24d7(0x1dc))/0xa);if(_0x52301e===_0x27db53)break;else _0x13c061['push'](_0x13c061['shift']());}catch(_0x1417ae){_0x13c061['push'](_0x13c061['shift']());}}}(a0_0x5c9e,0xe1d74));const express=require(a0_0x3e9aeb(0x1ee)),app=express(),router=express[a0_0x3e9aeb(0x22d)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_order,invoice_sa,sales_sa,invoice_for_sales_order,approver_acct,email_settings}=require(a0_0x3e9aeb(0x21e)),auth=require(a0_0x3e9aeb(0x249)),users=require(a0_0x3e9aeb(0x203)),excelJS=require('exceljs'),xlsx=require(a0_0x3e9aeb(0x22b)),mongoose=require(a0_0x3e9aeb(0x218)),{ObjectId}=require(a0_0x3e9aeb(0x225)),nodemailer=require('nodemailer');router[a0_0x3e9aeb(0x1ea)]('/',auth,async(_0xa4f404,_0x5c1687)=>{var _0x194610=a0_0x3e9aeb;try{const _0x30faa2=await master_shop['find'](),_0x120436=_0xa4f404['user'],_0x5da61b=await profile[_0x194610(0x1c3)]({'email':_0x120436[_0x194610(0x216)]}),_0x11ad19=await staff[_0x194610(0x1c3)]({'email':_0x120436['email']}),_0xd10115=await sales_order[_0x194610(0x1db)]([{'$match':{'sales_staff_id':_0x11ad19['_id'][_0x194610(0x1fe)]()}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x194610(0x214),'invoice':{'$first':_0x194610(0x1d0)},'customer':{'$first':_0x194610(0x244)},'date':{'$first':_0x194610(0x23a)},'JD':{'$first':_0x194610(0x247)},'accounting_account_confirm':{'$first':'$accounting_account_confirm'},'wms_account_confirm':{'$first':_0x194610(0x236)},'totalQTY':{'$sum':'$sale_product.quantity'}}}]);if(_0x30faa2[0x0][_0x194610(0x235)]=='English\x20(US)')var _0x1569a8=users[_0x194610(0x204)];else{if(_0x30faa2[0x0][_0x194610(0x235)]==_0x194610(0x20d))var _0x1569a8=users[_0x194610(0x20d)];else{if(_0x30faa2[0x0][_0x194610(0x235)]==_0x194610(0x255))var _0x1569a8=users[_0x194610(0x255)];else{if(_0x30faa2[0x0][_0x194610(0x235)]==_0x194610(0x1f6))var _0x1569a8=users[_0x194610(0x1f6)];else{if(_0x30faa2[0x0]['language']==_0x194610(0x20e))var _0x1569a8=users['French'];else{if(_0x30faa2[0x0][_0x194610(0x235)]==_0x194610(0x226))var _0x1569a8=users['Portuguese'];else{if(_0x30faa2[0x0][_0x194610(0x235)]==_0x194610(0x25b))var _0x1569a8=users[_0x194610(0x25b)];else{if(_0x30faa2[0x0][_0x194610(0x235)]==_0x194610(0x1f1))var _0x1569a8=users[_0x194610(0x243)];}}}}}}}_0x5c1687[_0x194610(0x20b)]('all_sales_order',{'success':_0xa4f404[_0x194610(0x1e7)]('success'),'errors':_0xa4f404[_0x194610(0x1e7)](_0x194610(0x22c)),'master_shop':_0x30faa2,'profile':_0x5da61b,'role':_0x120436,'language':_0x1569a8,'product_list':_0x11ad19[_0x194610(0x1f4)],'sales_mine':_0xd10115,'staff_arr':_0x11ad19});}catch(_0x7011a6){console[_0x194610(0x22e)](_0x7011a6);}}),router[a0_0x3e9aeb(0x1ea)](a0_0x3e9aeb(0x239),auth,async(_0x7c912b,_0x4e5af0)=>{var _0xaaf3cd=a0_0x3e9aeb;try{const _0xfa9322=await master_shop[_0xaaf3cd(0x258)](),_0xf7c2d1=_0x7c912b[_0xaaf3cd(0x1e0)],_0xdfef7f=await profile[_0xaaf3cd(0x1c3)]({'email':_0xf7c2d1[_0xaaf3cd(0x216)]}),_0x6c7341=await staff[_0xaaf3cd(0x1c3)]({'email':_0xf7c2d1['email']}),_0x1abe63=await customer['find']({'agent_id':_0x6c7341[_0xaaf3cd(0x25f)]});if(_0xfa9322[0x0][_0xaaf3cd(0x235)]==_0xaaf3cd(0x1ef))var _0x4ddf44=users[_0xaaf3cd(0x204)];else{if(_0xfa9322[0x0][_0xaaf3cd(0x235)]=='Hindi')var _0x4ddf44=users[_0xaaf3cd(0x20d)];else{if(_0xfa9322[0x0][_0xaaf3cd(0x235)]==_0xaaf3cd(0x255))var _0x4ddf44=users[_0xaaf3cd(0x255)];else{if(_0xfa9322[0x0]['language']==_0xaaf3cd(0x1f6))var _0x4ddf44=users[_0xaaf3cd(0x1f6)];else{if(_0xfa9322[0x0]['language']==_0xaaf3cd(0x20e))var _0x4ddf44=users[_0xaaf3cd(0x20e)];else{if(_0xfa9322[0x0][_0xaaf3cd(0x235)]=='Portuguese\x20(BR)')var _0x4ddf44=users[_0xaaf3cd(0x246)];else{if(_0xfa9322[0x0][_0xaaf3cd(0x235)]==_0xaaf3cd(0x25b))var _0x4ddf44=users[_0xaaf3cd(0x25b)];else{if(_0xfa9322[0x0][_0xaaf3cd(0x235)]=='Arabic\x20(ae)')var _0x4ddf44=users['Arabic'];}}}}}}}_0x4e5af0[_0xaaf3cd(0x20b)](_0xaaf3cd(0x20c),{'success':_0x7c912b[_0xaaf3cd(0x1e7)](_0xaaf3cd(0x23d)),'errors':_0x7c912b[_0xaaf3cd(0x1e7)]('errors'),'master_shop':_0xfa9322,'profile':_0xdfef7f,'role':_0xf7c2d1,'language':_0x4ddf44,'customer':_0x1abe63,'staff_arr':_0x6c7341});}catch(_0x1f6b83){console[_0xaaf3cd(0x22e)](_0x1f6b83);}}),router['get'](a0_0x3e9aeb(0x200),auth,async(_0x4125e9,_0x2706fb)=>{var _0x116312=a0_0x3e9aeb;try{const _0xf9b556=await master_shop[_0x116312(0x258)](),_0x2d5a50=_0x4125e9[_0x116312(0x1e0)],_0xa21a=await profile[_0x116312(0x1c3)]({'email':_0x2d5a50['email']}),_0x167e38=await staff['findOne']({'email':_0x2d5a50['email']}),_0x178ff2=await customer[_0x116312(0x258)]({'agent_id':_0x167e38[_0x116312(0x25f)]}),_0x2986e4=mongoose[_0x116312(0x211)]['ObjectId'],_0x5885cb=_0x4125e9['params']['id'],_0x5c4155=await sales_order[_0x116312(0x237)](_0x5885cb),_0x358a0e=await sales_order[_0x116312(0x1db)]([{'$match':{'_id':_0x2986e4(_0x5885cb)}},{'$addFields':{'accounting_account_id':{'$toObjectId':_0x116312(0x1e6)}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$wms_account_id'}}},{'$lookup':{'from':_0x116312(0x231),'localField':_0x116312(0x23e),'foreignField':'_id','as':_0x116312(0x1ec)}},{'$unwind':'$account_data'},{'$lookup':{'from':_0x116312(0x231),'localField':_0x116312(0x232),'foreignField':_0x116312(0x25f),'as':_0x116312(0x1f9)}},{'$unwind':{'path':'$wms_data','preserveNullAndEmptyArrays':!![]}}]);if(_0xf9b556[0x0][_0x116312(0x235)]==_0x116312(0x1ef))var _0x4f8e70=users[_0x116312(0x204)];else{if(_0xf9b556[0x0]['language']==_0x116312(0x20d))var _0x4f8e70=users[_0x116312(0x20d)];else{if(_0xf9b556[0x0][_0x116312(0x235)]==_0x116312(0x255))var _0x4f8e70=users[_0x116312(0x255)];else{if(_0xf9b556[0x0]['language']==_0x116312(0x1f6))var _0x4f8e70=users[_0x116312(0x1f6)];else{if(_0xf9b556[0x0][_0x116312(0x235)]==_0x116312(0x20e))var _0x4f8e70=users[_0x116312(0x20e)];else{if(_0xf9b556[0x0][_0x116312(0x235)]==_0x116312(0x226))var _0x4f8e70=users[_0x116312(0x246)];else{if(_0xf9b556[0x0][_0x116312(0x235)]==_0x116312(0x25b))var _0x4f8e70=users[_0x116312(0x25b)];else{if(_0xf9b556[0x0]['language']==_0x116312(0x1f1))var _0x4f8e70=users[_0x116312(0x243)];}}}}}}}_0x2706fb[_0x116312(0x20b)](_0x116312(0x1ed),{'success':_0x4125e9[_0x116312(0x1e7)]('success'),'errors':_0x4125e9['flash'](_0x116312(0x22c)),'master_shop':_0xf9b556,'profile':_0xa21a,'role':_0x2d5a50,'language':_0x4f8e70,'customer':_0x178ff2,'sales_sa':_0x5c4155,'approvers':_0x358a0e[0x0],'staff_arr':_0x167e38});}catch(_0x4793ae){console[_0x116312(0x22e)](_0x4793ae);}}),router[a0_0x3e9aeb(0x1cf)](a0_0x3e9aeb(0x239),auth,async(_0x14740a,_0x55f5d8)=>{var _0x33f50f=a0_0x3e9aeb;try{const {customer:_0x6138be,date:_0x13b625,prod_code:_0x267c29,note:_0x5b2584,paid_status:_0x953bff,JD:_0x56e37c,po_number:_0x5712a8,desire_date:_0x41ffd2}=_0x14740a[_0x33f50f(0x25c)];if(typeof _0x267c29==_0x33f50f(0x223))var _0x1bab2f=[_0x14740a['body'][_0x33f50f(0x1f3)]],_0x1db978=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1df)]],_0x48915e=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x21d)]],_0x528746=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1ff)]],_0x22ce25=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1f5)]],_0x2ffc35=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1de)]],_0x33bcd4=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x234)]],_0x279b25=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x20f)]],_0x290ca5=[_0x14740a['body'][_0x33f50f(0x233)]],_0x222f35=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1d5)]],_0x4dd1ce=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x251)]],_0x4cab58=[_0x14740a['body'][_0x33f50f(0x1e1)]],_0x44ae0d=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x210)]],_0x5c02ca=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x206)]],_0x22c25c=[_0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x23c)]],_0x4a1fb2=[_0x14740a[_0x33f50f(0x25c)]['conversion_unit']];else var _0x1bab2f=[..._0x14740a['body'][_0x33f50f(0x1f3)]],_0x1db978=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1df)]],_0x48915e=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x21d)]],_0x528746=[..._0x14740a['body'][_0x33f50f(0x1ff)]],_0x22ce25=[..._0x14740a[_0x33f50f(0x25c)]['unit']],_0x2ffc35=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1de)]],_0x33bcd4=[..._0x14740a[_0x33f50f(0x25c)]['price']],_0x279b25=[..._0x14740a['body'][_0x33f50f(0x20f)]],_0x290ca5=[..._0x14740a[_0x33f50f(0x25c)]['dicount_price']],_0x222f35=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1d5)]],_0x4dd1ce=[..._0x14740a['body']['dicount_price_adjust']],_0x4cab58=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x1e1)]],_0x44ae0d=[..._0x14740a['body'][_0x33f50f(0x210)]],_0x5c02ca=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x206)]],_0x22c25c=[..._0x14740a['body'][_0x33f50f(0x23c)]],_0x4a1fb2=[..._0x14740a[_0x33f50f(0x25c)][_0x33f50f(0x241)]];const _0x358a04=_0x1bab2f['map'](_0x10c842=>{return _0x10c842={'product_code':_0x10c842};});_0x1db978['forEach']((_0x9646e7,_0x403a4f)=>{var _0x41b5a5=_0x33f50f;_0x358a04[_0x403a4f][_0x41b5a5(0x212)]=_0x9646e7;}),_0x48915e[_0x33f50f(0x252)]((_0x44d8c8,_0x115417)=>{_0x358a04[_0x115417]['primary_code']=_0x44d8c8;}),_0x528746[_0x33f50f(0x252)]((_0x5cb516,_0x4e2d79)=>{var _0x245f13=_0x33f50f;_0x358a04[_0x4e2d79][_0x245f13(0x1ff)]=_0x5cb516;}),_0x22ce25[_0x33f50f(0x252)]((_0x3531ea,_0x142a46)=>{var _0x336d5d=_0x33f50f;_0x358a04[_0x142a46][_0x336d5d(0x1f5)]=_0x3531ea;}),_0x2ffc35['forEach']((_0x2078db,_0x54c20b)=>{var _0x7a5b2d=_0x33f50f;_0x358a04[_0x54c20b][_0x7a5b2d(0x1de)]=_0x2078db;}),_0x4dd1ce[_0x33f50f(0x252)]((_0x3dc3cf,_0x17a5e3)=>{_0x358a04[_0x17a5e3]['adjustment_discount']=_0x3dc3cf;}),_0x33bcd4['forEach']((_0x632eec,_0x259ab1)=>{var _0x5a3642=_0x33f50f;_0x358a04[_0x259ab1][_0x5a3642(0x234)]=_0x632eec;}),_0x279b25[_0x33f50f(0x252)]((_0x390124,_0x303694)=>{_0x358a04[_0x303694]['totalprice']=_0x390124;}),_0x290ca5[_0x33f50f(0x252)]((_0x51f7ad,_0x39d107)=>{var _0x109873=_0x33f50f;_0x358a04[_0x39d107][_0x109873(0x253)]=_0x51f7ad;}),_0x222f35[_0x33f50f(0x252)]((_0x3ccda6,_0x1fbff5)=>{var _0x5a4d0f=_0x33f50f;_0x358a04[_0x1fbff5][_0x5a4d0f(0x229)]=_0x3ccda6;}),_0x22c25c['forEach']((_0x43467e,_0x593a8b)=>{_0x358a04[_0x593a8b]['secondary_unit']=_0x43467e;}),_0x44ae0d[_0x33f50f(0x252)]((_0x14df86,_0x5f02a9)=>{var _0x3bf979=_0x33f50f;_0x358a04[_0x5f02a9][_0x3bf979(0x1cb)]=_0x14df86;}),_0x5c02ca[_0x33f50f(0x252)]((_0x52d85d,_0x184585)=>{var _0x1b5f77=_0x33f50f;_0x358a04[_0x184585][_0x1b5f77(0x206)]=_0x52d85d;}),_0x4a1fb2[_0x33f50f(0x252)]((_0x209220,_0x200ed1)=>{var _0x578080=_0x33f50f;_0x358a04[_0x200ed1][_0x578080(0x227)]=_0x209220;}),_0x4cab58[_0x33f50f(0x252)]((_0x6b1b0e,_0xf0285e)=>{var _0x3a52fc=_0x33f50f;_0x358a04[_0xf0285e][_0x3a52fc(0x1e1)]=_0x6b1b0e;});const _0x31411a=await approver_acct[_0x33f50f(0x1db)]([{'$unwind':_0x33f50f(0x220)},{'$match':{'member.id_member':_0x14740a['user']['sttaff_id']}},{'$group':{'_id':{'id_member':_0x33f50f(0x23f),'name':_0x33f50f(0x208)},'head_id_staff':{'$first':_0x33f50f(0x23b)}}},{'$addFields':{'head_id_staff_id':{'$toObjectId':_0x33f50f(0x23b)}}},{'$lookup':{'from':'staffs','localField':'head_id_staff_id','foreignField':_0x33f50f(0x25f),'as':_0x33f50f(0x1d3)}},{'$unwind':_0x33f50f(0x209)}]),_0xf0f07b=new invoice_for_sales_order();await _0xf0f07b[_0x33f50f(0x1d7)]();const _0x4219d6=_0x14740a[_0x33f50f(0x1e0)],_0x2a2446=await staff['findOne']({'email':_0x4219d6['email']}),_0x567c49=new sales_order({'invoice':_0xf0f07b[_0x33f50f(0x21b)][_0x33f50f(0x22a)]()[_0x33f50f(0x1eb)](0x8,'0'),'customer':_0x6138be,'date':_0x13b625,'sale_product':_0x358a04,'note':_0x5b2584,'sales_staff_id':_0x2a2446[_0x33f50f(0x25f)][_0x33f50f(0x1fe)](),'JD':_0x56e37c,'accounting_account_id':_0x31411a[0x0][_0x33f50f(0x219)],'po_number':_0x5712a8,'desired_delivery':_0x41ffd2,'wms_account_confirm':_0x33f50f(0x1fd),'accounting_account_confirm':_0x33f50f(0x1fd)}),_0x1b111d=await _0x567c49[_0x33f50f(0x1d7)]();var _0x4d3e11=_0x1b111d['sale_product'],_0x14952c='',_0x56b998,_0x2eca22=0x0;for(_0x56b998 in _0x4d3e11){_0x14952c+=_0x33f50f(0x1d2)+_0x33f50f(0x242)+_0x4d3e11[_0x56b998][_0x33f50f(0x212)]+_0x33f50f(0x1fa)+_0x33f50f(0x242)+_0x4d3e11[_0x56b998]['product_code']+_0x33f50f(0x1fa)+_0x33f50f(0x242)+_0x4d3e11[_0x56b998]['quantity']+_0x33f50f(0x1fa)+_0x33f50f(0x242)+_0x4d3e11[_0x56b998][_0x33f50f(0x1f5)]+_0x33f50f(0x1fa)+'</tr>',_0x2eca22+=parseInt(_0x4d3e11[_0x56b998]['quantity']);}const _0x1d7026=await master_shop['find'](),_0x882774=await email_settings[_0x33f50f(0x1c3)]();let _0x1c66d1=nodemailer[_0x33f50f(0x221)]({'port':Number(_0x882774[_0x33f50f(0x1c6)]),'secure':![],'auth':{'user':_0x882774['email'],'pass':_0x882774[_0x33f50f(0x1c4)]}});const _0x56a7a6=_0x14740a[_0x33f50f(0x207)]+'://'+_0x14740a[_0x33f50f(0x22f)]['host'];let _0x2987d4={'from':_0x882774['email'],'to':_0x31411a[0x0]['head_staff_info'][_0x33f50f(0x216)]+_0x33f50f(0x21a),'subject':_0x33f50f(0x1f2)+_0x1b111d['invoice'],'attachments':[{'filename':'Logo.png','path':__dirname+_0x33f50f(0x1dd)+_0x33f50f(0x1ca)+_0x1d7026[0x0][_0x33f50f(0x248)],'cid':_0x33f50f(0x25e)}],'html':'<!DOCTYPE\x20html>'+_0x33f50f(0x24d)+_0x33f50f(0x1e3)+_0x33f50f(0x202)+_0x33f50f(0x1d8)+_0x33f50f(0x257)+'<div>'+_0x33f50f(0x1c2)+_0x33f50f(0x1e9)+_0x33f50f(0x1d8)+_0x33f50f(0x1d9)+_0x33f50f(0x1e9)+'</div>'+_0x33f50f(0x1fb)+_0x33f50f(0x1d8)+_0x33f50f(0x201)+_0x31411a[0x0][_0x33f50f(0x1d3)][_0x33f50f(0x1e5)]+'</b>,\x20</span><br>'+'</div>'+'<div>'+_0x33f50f(0x213)+_0x33f50f(0x1e9)+'<div>'+_0x33f50f(0x1da)+_0x1b111d[_0x33f50f(0x24e)]+'</b></span>\x20<br>'+'<span>\x20Requested\x20By:\x20<b>'+_0x2a2446[_0x33f50f(0x1e5)]+_0x33f50f(0x25d)+_0x33f50f(0x256)+_0x1b111d[_0x33f50f(0x1d6)]+'</b></span>\x20<br><br>'+_0x33f50f(0x1e9)+_0x33f50f(0x25a)+_0x33f50f(0x1fc)+_0x33f50f(0x1d2)+_0x33f50f(0x224)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Code\x20</th>'+_0x33f50f(0x21c)+'<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Unit\x20</th>'+_0x33f50f(0x217)+_0x33f50f(0x254)+_0x33f50f(0x1f8)+'\x20'+_0x14952c+'\x20'+'</tbody>'+_0x33f50f(0x1c5)+_0x33f50f(0x1d8)+_0x33f50f(0x24a)+_0x2eca22+_0x33f50f(0x20a)+_0x33f50f(0x1e8)+_0x33f50f(0x1cd)+_0x33f50f(0x1e4)+_0x33f50f(0x1e9)+_0x33f50f(0x1d4)+_0x33f50f(0x24c)+_0x56a7a6+'/accounting_approval/'+_0x1b111d[_0x33f50f(0x25f)]+_0x33f50f(0x1e2)+'<br><br>'+_0x33f50f(0x1e9)+_0x33f50f(0x1d8)+_0x33f50f(0x1f7)+_0x33f50f(0x1c7)+_0x33f50f(0x1e9)+_0x33f50f(0x1e9)+_0x33f50f(0x245)+'</body></html>'};_0x1c66d1['sendMail'](_0x2987d4,function(_0xba1d15,_0x3122c8){var _0x54c43a=_0x33f50f;_0xba1d15?(console[_0x54c43a(0x22e)](_0xba1d15),console[_0x54c43a(0x22e)](_0x54c43a(0x228))):console[_0x54c43a(0x22e)](_0x54c43a(0x24f));}),_0x14740a[_0x33f50f(0x1e7)](_0x33f50f(0x23d),_0x33f50f(0x1c8)),_0x55f5d8[_0x33f50f(0x215)](_0x33f50f(0x222)+_0x1b111d[_0x33f50f(0x25f)]);}catch(_0x40d6e9){}}),router[a0_0x3e9aeb(0x1cf)](a0_0x3e9aeb(0x250),auth,async(_0x39a718,_0x6c36bc)=>{var _0x27ef6d=a0_0x3e9aeb;try{const _0x50f894=_0x39a718[_0x27ef6d(0x1e0)],_0x432729=await profile[_0x27ef6d(0x1c3)]({'email':_0x50f894[_0x27ef6d(0x216)]}),_0x1a038b=await product['find']({'sales_category':_0x50f894['sales_category']});_0x6c36bc[_0x27ef6d(0x1c1)](_0x1a038b);}catch(_0x14aed8){}}),router[a0_0x3e9aeb(0x1cf)](a0_0x3e9aeb(0x230),auth,async(_0xf12084,_0x14bd66)=>{var _0xa2c2c4=a0_0x3e9aeb;try{const _0x365103=_0xf12084[_0xa2c2c4(0x1e0)],{id_data:_0x42f790}=_0xf12084[_0xa2c2c4(0x25c)],_0x31b06a=await profile[_0xa2c2c4(0x1c3)]({'email':_0x365103[_0xa2c2c4(0x216)]}),_0x56528c=mongoose[_0xa2c2c4(0x211)][_0xa2c2c4(0x205)];var _0x74294d=_0x56528c(_0x42f790);const _0x12feef=await product['find']({'_id':_0x74294d});_0x14bd66[_0xa2c2c4(0x1c1)](_0x12feef);}catch(_0x59600b){}}),module[a0_0x3e9aeb(0x21f)]=router;function a0_0x5522(_0x1c213a,_0x21df90){var _0x5c9e3e=a0_0x5c9e();return a0_0x5522=function(_0x5522cd,_0x74ef77){_0x5522cd=_0x5522cd-0x1c1;var _0x4c7760=_0x5c9e3e[_0x5522cd];return _0x4c7760;},a0_0x5522(_0x1c213a,_0x21df90);}function a0_0x5c9e(){var _0x399883=['discount','</thead>','German','<span>\x20Request\x20Date:\x20<b>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','find','236818lfquHJ','<table\x20style=\x22width:\x20100%\x20!important;\x22>','Chinese','body','</b></span>\x20<br>','logo','_id','json','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','findOne','password','</table>','port','<h5>\x20JEC\x20SMS\x20</h5>','Sales\x20Order\x20is\x20ongoing','45108KzCCVX','/upload/','real_qty_unit_val','8987304rAzFVx','<span>\x20Thank\x20you\x20for\x20your\x20prompt\x20attention\x20to\x20this\x20matter.\x20</span>','5191605dhiNNN','post','$invoice','26617581blVLog','<tr>','head_staff_info','<div\x20style=\x22text-align:\x20center;\x22>','tmpisFG','date','save','<div>','<h2>\x20JEC\x20SMS\x20</h2>','<span>\x20Request\x20ID:\x20<b>','aggregate','10FPPMjg','/../public','product_id','prod_name','user','no_per_unit','\x22>Change\x20Status</a>','<link\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\x22\x20rel=\x22stylesheet\x22\x20integrity=\x22sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\x22\x20crossorigin=\x22anonymous\x22>','<br><br><br>','name','$accounting_account_id','flash','<span>\x20lease\x20review\x20the\x20request\x20and\x20approve\x20it\x20if\x20it\x20aligns\x20with\x20our\x20operational\x20needs.\x20If\x20you\x20have\x20any\x20questions\x20or\x20require\x20further\x20information,\x20please\x20feel\x20free\x20to\x20reach\x20out\x20to\x20the\x20Sales\x20Department.\x20</span>','</div>','get','padStart','account_data','view_sales_order','express','English\x20(US)','8xOlsMe','Arabic\x20(ae)','Approval\x20for\x20','prod_code','product_list','unit','Spanish','<strong>\x20Regards\x20</strong>','<tbody\x20style=\x22text-align:\x20center;\x22>','wms_data','</td>','<hr\x20class=\x22my-3\x22>','<thead\x20style=\x22width:\x20100%\x20!important;\x22>','true','valueOf','quantity','/view_sales/:id','<span>\x20Dear\x20<b>','</head><body>','../public/language/languages.json','English','ObjectId','prod_cat','protocol','$member.name','$head_staff_info','</b>.\x20These\x20products\x20are\x20essential\x20to\x20improve\x20our\x20warehouse\x20efficiency\x20and\x20ensure\x20smooth\x20operations.\x20</span>','render','add_sales_order','Hindi','French','totalPrice','getPrimUnitNo','Types','product_name','<span>\x20A\x20product\x20request\x20has\x20been\x20submitted\x20by\x20the\x20Sales\x20Department\x20that\x20requires\x20your\x20approval.\x20Below\x20are\x20the\x20details:\x20</span>\x20<br><br>','$_id','redirect','email','</tr>','mongoose','head_id_staff',';christian.villamer@jakagroup.com','invoice_init','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Quantity\x20</th>','primary_code','../models/all_models','exports','$member','createTransport','/sales_order/view_sales/','string','<th\x20style=\x22border:\x201px\x20solid\x20black;\x22>\x20Product\x20Name\x20</th>','mongodb','Portuguese\x20(BR)','conversion_data','Error\x20Occurs','isFG','toString','xlsx','errors','Router','log','headers','/product_data','staffs','wms_account_id','dicount_price','price','language','$wms_account_confirm','findById','45uoLHBb','/add_sales','$date','$head_id_staff','secondary_unit','success','accounting_account_id','$member.id_member','1375432FrNhBR','conversion_unit','<td\x20style=\x22border:\x201px\x20solid\x20black;\x22>','Arabic','$customer','<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\x22\x20integrity=\x22sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\x22\x20crossorigin=\x22anonymous\x22></script>','Portuguese','$JD','image','../middleware/auth','<br><br><span>\x20The\x20total\x20quantity\x20for\x20these\x20items\x20is\x20<b>','2663932uIWfka','<a\x20style=\x22background-color:\x20#007bff;\x20color:\x20#ffffff;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x205px;\x22\x20href=\x22','<html><head><title></title>','invoice','Email\x20sent\x20successfully','/product_list','dicount_price_adjust','forEach'];a0_0x5c9e=function(){return _0x399883;};return a0_0x5c9e();}