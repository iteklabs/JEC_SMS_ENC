const a0_0x3ac1ea=a0_0x3e3b;function a0_0x308c(){const _0x2c1c68=['account_data','name_accounting','1414030zzVWTL','152CNIunN','Arabic','body','$name','$warehouse_staff_id','2630OHwEAv','9350244PpVFLr','German','796728cUsWbT','English\x20(US)','French','Portuguese','10VRapPR','accounting_account_id','post','aggregate','$head_id_staff','wms_account_id','/get_sales_data','acc','../public/language/languages.json','_id','view_so_approvers','success','33gVrilF','1921752kUAdmZ','45jziBAu','name','map','flash','$wms_data','Arabic\x20(ae)','errors','language','38928sHHLGT','wms_data','Approver\x20Add\x20successfully','so_approver_add','exports','staffs','Chinese','13HqTjIJ','so_approver_all','findById','3328633luQCEb','string','forEach','Portuguese\x20(BR)','email','user','get','staff_id','find','render','../middleware/auth','$account_data','333UvAjcm','Spanish','express','/setup','save','params','English','Hindi','/preview/:id','findOne'];a0_0x308c=function(){return _0x2c1c68;};return a0_0x308c();}(function(_0x70b415,_0x53c9c9){const _0x3e1ffb=a0_0x3e3b,_0x20d403=_0x70b415();while(!![]){try{const _0xafaad5=-parseInt(_0x3e1ffb(0xd8))/0x1*(parseInt(_0x3e1ffb(0xea))/0x2)+-parseInt(_0x3e1ffb(0xc2))/0x3*(-parseInt(_0x3e1ffb(0xe5))/0x4)+parseInt(_0x3e1ffb(0xf1))/0x5*(parseInt(_0x3e1ffb(0xfe))/0x6)+-parseInt(_0x3e1ffb(0xcc))/0x7+parseInt(_0x3e1ffb(0xed))/0x8*(parseInt(_0x3e1ffb(0xba))/0x9)+parseInt(_0x3e1ffb(0xe4))/0xa*(parseInt(_0x3e1ffb(0xfd))/0xb)+parseInt(_0x3e1ffb(0xeb))/0xc*(-parseInt(_0x3e1ffb(0xc9))/0xd);if(_0xafaad5===_0x53c9c9)break;else _0x20d403['push'](_0x20d403['shift']());}catch(_0x2b9c7e){_0x20d403['push'](_0x20d403['shift']());}}}(a0_0x308c,0x58ae3));const express=require(a0_0x3ac1ea(0xda)),app=express(),router=express['Router'](),auth=require(a0_0x3ac1ea(0xd6)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require('../models/all_models'),users=require(a0_0x3ac1ea(0xf9));function a0_0x3e3b(_0x3870c1,_0x1bf3ea){const _0x308ce0=a0_0x308c();return a0_0x3e3b=function(_0x3e3b40,_0x13fb4d){_0x3e3b40=_0x3e3b40-0xba;let _0x2091f1=_0x308ce0[_0x3e3b40];return _0x2091f1;},a0_0x3e3b(_0x3870c1,_0x1bf3ea);}router['get'](a0_0x3ac1ea(0xdb),auth,async(_0x3a18d1,_0x21176e)=>{const _0x59dee3=a0_0x3ac1ea;try{const _0x278569=_0x3a18d1[_0x59dee3(0xd1)],_0x46ed72=await master_shop['find'](),_0xecfd29=await profile[_0x59dee3(0xe1)]({'email':_0x278569[_0x59dee3(0xd0)]}),_0x269d18=await approver_acct[_0x59dee3(0xf4)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x59dee3(0xf5)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x59dee3(0xe9)}}},{'$lookup':{'from':'staffs','localField':_0x59dee3(0xf2),'foreignField':_0x59dee3(0xfa),'as':_0x59dee3(0xe2)}},{'$unwind':_0x59dee3(0xd7)},{'$lookup':{'from':_0x59dee3(0xc7),'localField':_0x59dee3(0xf6),'foreignField':_0x59dee3(0xfa),'as':_0x59dee3(0xc3)}},{'$unwind':_0x59dee3(0xbe)}]);if(_0x46ed72[0x0][_0x59dee3(0xc1)]==_0x59dee3(0xee))var _0x20b323=users[_0x59dee3(0xde)];else{if(_0x46ed72[0x0]['language']=='Hindi')var _0x20b323=users[_0x59dee3(0xdf)];else{if(_0x46ed72[0x0]['language']==_0x59dee3(0xec))var _0x20b323=users['German'];else{if(_0x46ed72[0x0][_0x59dee3(0xc1)]==_0x59dee3(0xd9))var _0x20b323=users[_0x59dee3(0xd9)];else{if(_0x46ed72[0x0][_0x59dee3(0xc1)]==_0x59dee3(0xef))var _0x20b323=users[_0x59dee3(0xef)];else{if(_0x46ed72[0x0][_0x59dee3(0xc1)]=='Portuguese\x20(BR)')var _0x20b323=users[_0x59dee3(0xf0)];else{if(_0x46ed72[0x0][_0x59dee3(0xc1)]=='Chinese')var _0x20b323=users[_0x59dee3(0xc8)];else{if(_0x46ed72[0x0][_0x59dee3(0xc1)]==_0x59dee3(0xbf))var _0x20b323=users[_0x59dee3(0xe6)];}}}}}}}_0x21176e[_0x59dee3(0xd5)](_0x59dee3(0xca),{'success':_0x3a18d1[_0x59dee3(0xbd)]('success'),'errors':_0x3a18d1[_0x59dee3(0xbd)](_0x59dee3(0xc0)),'role':_0x278569,'profile':_0xecfd29,'master_shop':_0x46ed72,'language':_0x20b323,'data':_0x269d18});}catch(_0x294eaf){}}),router['get']('/add',auth,async(_0x1e8a7d,_0x243b1e)=>{const _0xea0a3d=a0_0x3ac1ea;try{const _0x577885=_0x1e8a7d['user'],_0xa18a6b=await master_shop[_0xea0a3d(0xd4)](),_0x5ea782=await profile[_0xea0a3d(0xe1)]({'email':_0x577885['email']}),_0x3aaa90=await staff[_0xea0a3d(0xd4)]({'account_category':_0xea0a3d(0xf8)}),_0x159d70=await staff[_0xea0a3d(0xd4)]({'account_category':'wm'}),_0x518888=await staff[_0xea0a3d(0xd4)]({'account_category':'sa'}),_0x4c3b63=await warehouse[_0xea0a3d(0xf4)]([{'$group':{'_id':_0xea0a3d(0xe8)}}]);if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]=='English\x20(US)')var _0x42c1fd=users['English'];else{if(_0xa18a6b[0x0]['language']=='Hindi')var _0x42c1fd=users[_0xea0a3d(0xdf)];else{if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]==_0xea0a3d(0xec))var _0x42c1fd=users[_0xea0a3d(0xec)];else{if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]==_0xea0a3d(0xd9))var _0x42c1fd=users['Spanish'];else{if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]==_0xea0a3d(0xef))var _0x42c1fd=users['French'];else{if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]==_0xea0a3d(0xcf))var _0x42c1fd=users[_0xea0a3d(0xf0)];else{if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]==_0xea0a3d(0xc8))var _0x42c1fd=users[_0xea0a3d(0xc8)];else{if(_0xa18a6b[0x0][_0xea0a3d(0xc1)]==_0xea0a3d(0xbf))var _0x42c1fd=users[_0xea0a3d(0xe6)];}}}}}}}_0x243b1e[_0xea0a3d(0xd5)](_0xea0a3d(0xc5),{'success':_0x1e8a7d[_0xea0a3d(0xbd)](_0xea0a3d(0xfc)),'errors':_0x1e8a7d[_0xea0a3d(0xbd)](_0xea0a3d(0xc0)),'role':_0x577885,'profile':_0x5ea782,'master_shop':_0xa18a6b,'language':_0x42c1fd,'accounting':_0x3aaa90,'warehouse_acct':_0x159d70,'sales_acct':_0x518888,'warehouse_loc':_0x4c3b63});}catch(_0x574dc7){}}),router[a0_0x3ac1ea(0xf3)]('/add/',auth,async(_0x27500e,_0x32653f)=>{const _0x3263e6=a0_0x3ac1ea;try{const {accounting_account_id:_0x1b5ff5,warehouse_account_id:_0x3e6d64,staff_id:_0x4dacaa,warehouse_loc:_0x2a5e08}=_0x27500e[_0x3263e6(0xe7)];if(typeof _0x4dacaa==_0x3263e6(0xcd))var _0x1c3c4f=[_0x27500e[_0x3263e6(0xe7)][_0x3263e6(0xd3)]],_0x45796e=[_0x27500e[_0x3263e6(0xe7)][_0x3263e6(0xe3)]];else var _0x1c3c4f=[..._0x27500e[_0x3263e6(0xe7)][_0x3263e6(0xd3)]],_0x45796e=[..._0x27500e[_0x3263e6(0xe7)][_0x3263e6(0xe3)]];const _0x206d5f=_0x1c3c4f[_0x3263e6(0xbc)](_0x4c6efc=>{return _0x4c6efc={'id_member':_0x4c6efc};});_0x45796e[_0x3263e6(0xce)]((_0x55de79,_0x18ad40)=>{const _0x49d17=_0x3263e6;_0x206d5f[_0x18ad40][_0x49d17(0xbb)]=_0x55de79;});const _0x3e462a=new approver_acct({'head_id_staff':_0x1b5ff5,'warehouse_staff_id':_0x3e6d64,'warehouse_name':_0x2a5e08,'members':_0x206d5f}),_0x2151ae=await _0x3e462a[_0x3263e6(0xdc)]();_0x27500e[_0x3263e6(0xbd)](_0x3263e6(0xfc),_0x3263e6(0xc4)),_0x32653f['redirect']('/so_approvers/preview/'+_0x2151ae[_0x3263e6(0xfa)]);}catch(_0x4c5f05){}}),router[a0_0x3ac1ea(0xf3)](a0_0x3ac1ea(0xf7),auth,async(_0x5eccb3,_0x57d4f5)=>{const _0x13a619=a0_0x3ac1ea;try{const {id_staff:_0x186f7f}=_0x5eccb3[_0x13a619(0xe7)],_0x6d8a8d=await staff[_0x13a619(0xcb)](_0x186f7f);_0x57d4f5['json'](_0x6d8a8d);}catch(_0x11a396){}}),router[a0_0x3ac1ea(0xd2)](a0_0x3ac1ea(0xe0),auth,async(_0x302c57,_0x2a150a)=>{const _0x3ed1e7=a0_0x3ac1ea;try{const _0x45d4f6=_0x302c57[_0x3ed1e7(0xd1)],_0xdb038a=_0x302c57[_0x3ed1e7(0xdd)]['id'],_0x440a8a=await master_shop['find'](),_0x7b6c67=await profile['findOne']({'email':_0x45d4f6[_0x3ed1e7(0xd0)]}),_0x5348aa=await staff[_0x3ed1e7(0xd4)]({'account_category':_0x3ed1e7(0xf8)}),_0x226fe6=await staff[_0x3ed1e7(0xd4)]({'account_category':'wm'}),_0x4e471f=await staff[_0x3ed1e7(0xd4)]({'account_category':'sa'}),_0x2836aa=await warehouse['aggregate']([{'$group':{'_id':_0x3ed1e7(0xe8)}}]),_0x5000da=await approver_acct[_0x3ed1e7(0xcb)](_0xdb038a);if(_0x440a8a[0x0][_0x3ed1e7(0xc1)]==_0x3ed1e7(0xee))var _0x441388=users[_0x3ed1e7(0xde)];else{if(_0x440a8a[0x0][_0x3ed1e7(0xc1)]==_0x3ed1e7(0xdf))var _0x441388=users[_0x3ed1e7(0xdf)];else{if(_0x440a8a[0x0]['language']==_0x3ed1e7(0xec))var _0x441388=users['German'];else{if(_0x440a8a[0x0]['language']==_0x3ed1e7(0xd9))var _0x441388=users['Spanish'];else{if(_0x440a8a[0x0][_0x3ed1e7(0xc1)]==_0x3ed1e7(0xef))var _0x441388=users[_0x3ed1e7(0xef)];else{if(_0x440a8a[0x0][_0x3ed1e7(0xc1)]==_0x3ed1e7(0xcf))var _0x441388=users[_0x3ed1e7(0xf0)];else{if(_0x440a8a[0x0][_0x3ed1e7(0xc1)]=='Chinese')var _0x441388=users['Chinese'];else{if(_0x440a8a[0x0]['language']==_0x3ed1e7(0xbf))var _0x441388=users[_0x3ed1e7(0xe6)];}}}}}}}_0x2a150a[_0x3ed1e7(0xd5)](_0x3ed1e7(0xfb),{'success':_0x302c57['flash'](_0x3ed1e7(0xfc)),'errors':_0x302c57[_0x3ed1e7(0xbd)](_0x3ed1e7(0xc0)),'role':_0x45d4f6,'profile':_0x7b6c67,'master_shop':_0x440a8a,'language':_0x441388,'accounting':_0x5348aa,'warehouse_acct':_0x226fe6,'sales_acct':_0x4e471f,'warehouse_loc':_0x2836aa,'data':_0x5000da});}catch(_0x480f6e){}}),module[a0_0x3ac1ea(0xc6)]=router;