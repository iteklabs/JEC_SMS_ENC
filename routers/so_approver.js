const a0_0x5d5d02=a0_0x56c3;function a0_0x56c3(_0x1efc16,_0x17fe22){const _0x27123b=a0_0x2712();return a0_0x56c3=function(_0x56c3b2,_0x31f369){_0x56c3b2=_0x56c3b2-0x1bc;let _0x5cdd6d=_0x27123b[_0x56c3b2];return _0x5cdd6d;},a0_0x56c3(_0x1efc16,_0x17fe22);}function a0_0x2712(){const _0x1bb9e1=['14905pfGMUp','../middleware/auth','Approver\x20Add\x20successfully','11ZGRISW','accounting_account_id','/add/','/setup','string','so_approver_all','/preview/:id','English\x20(US)','findById','Portuguese\x20(BR)','French','success','German','errors','Chinese','language','flash','Arabic','user','view_so_approvers','$wms_data','Portuguese','staff_id','exports','express','so_approver_add','1895124ulyxmo','forEach','json','/so_approvers/preview/','email','10yCyxfg','5806164CvpUfy','11877408iNFxsu','$head_id_staff','English','17464404oyQElk','Arabic\x20(ae)','post','get','body','../public/language/languages.json','Spanish','name_accounting','staffs','map','3eBYuzd','params','find','redirect','_id','render','7GwpWkF','save','wms_data','aggregate','656242TMrhxq','findOne','2460rmoyWg','/get_sales_data','Hindi','4316985WRtajl'];a0_0x2712=function(){return _0x1bb9e1;};return a0_0x2712();}(function(_0x11ce97,_0x146f51){const _0x5f52b8=a0_0x56c3,_0x243ba3=_0x11ce97();while(!![]){try{const _0x305e59=parseInt(_0x5f52b8(0x1cb))/0x1+-parseInt(_0x5f52b8(0x1e9))/0x2*(parseInt(_0x5f52b8(0x1df))/0x3)+parseInt(_0x5f52b8(0x1eb))/0x4*(parseInt(_0x5f52b8(0x1ef))/0x5)+parseInt(_0x5f52b8(0x1d1))/0x6*(parseInt(_0x5f52b8(0x1e5))/0x7)+-parseInt(_0x5f52b8(0x1d2))/0x8+parseInt(_0x5f52b8(0x1ee))/0x9*(-parseInt(_0x5f52b8(0x1d0))/0xa)+parseInt(_0x5f52b8(0x1f2))/0xb*(-parseInt(_0x5f52b8(0x1d5))/0xc);if(_0x305e59===_0x146f51)break;else _0x243ba3['push'](_0x243ba3['shift']());}catch(_0x4399b2){_0x243ba3['push'](_0x243ba3['shift']());}}}(a0_0x2712,0xe7850));const express=require(a0_0x5d5d02(0x1c9)),app=express(),router=express['Router'](),auth=require(a0_0x5d5d02(0x1f0)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require('../models/all_models'),users=require(a0_0x5d5d02(0x1da));router['get'](a0_0x5d5d02(0x1f5),auth,async(_0x3a4f0a,_0x59cbb5)=>{const _0x28889e=a0_0x5d5d02;try{const _0x32e9e3=_0x3a4f0a[_0x28889e(0x1c3)],_0xd8f7c7=await master_shop[_0x28889e(0x1e1)](),_0x52f238=await profile['findOne']({'email':_0x32e9e3[_0x28889e(0x1cf)]}),_0x410483=await approver_acct[_0x28889e(0x1e8)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x28889e(0x1d3)}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$warehouse_staff_id'}}},{'$lookup':{'from':_0x28889e(0x1dd),'localField':_0x28889e(0x1f3),'foreignField':_0x28889e(0x1e3),'as':'account_data'}},{'$unwind':'$account_data'},{'$lookup':{'from':'staffs','localField':'wms_account_id','foreignField':_0x28889e(0x1e3),'as':_0x28889e(0x1e7)}},{'$unwind':_0x28889e(0x1c5)}]);if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1f9))var _0x584aed=users[_0x28889e(0x1d4)];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]=='Hindi')var _0x584aed=users[_0x28889e(0x1ed)];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1bd))var _0x584aed=users[_0x28889e(0x1bd)];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1db))var _0x584aed=users[_0x28889e(0x1db)];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1fc))var _0x584aed=users[_0x28889e(0x1fc)];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1fb))var _0x584aed=users['Portuguese'];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1bf))var _0x584aed=users[_0x28889e(0x1bf)];else{if(_0xd8f7c7[0x0][_0x28889e(0x1c0)]==_0x28889e(0x1d6))var _0x584aed=users[_0x28889e(0x1c2)];}}}}}}}_0x59cbb5[_0x28889e(0x1e4)](_0x28889e(0x1f7),{'success':_0x3a4f0a[_0x28889e(0x1c1)]('success'),'errors':_0x3a4f0a['flash'](_0x28889e(0x1be)),'role':_0x32e9e3,'profile':_0x52f238,'master_shop':_0xd8f7c7,'language':_0x584aed,'data':_0x410483});}catch(_0x3d2695){}}),router[a0_0x5d5d02(0x1d8)]('/add',auth,async(_0x4336ca,_0x1b19a3)=>{const _0x1a7729=a0_0x5d5d02;try{const _0x57f059=_0x4336ca[_0x1a7729(0x1c3)],_0x5a1daf=await master_shop[_0x1a7729(0x1e1)](),_0x6e226=await profile[_0x1a7729(0x1ea)]({'email':_0x57f059[_0x1a7729(0x1cf)]}),_0x250cb9=await staff[_0x1a7729(0x1e1)]({'account_category':'acc'}),_0xb1ae25=await staff[_0x1a7729(0x1e1)]({'account_category':'wm'}),_0xb274e9=await staff[_0x1a7729(0x1e1)]({'account_category':'sa'}),_0x29aede=await warehouse[_0x1a7729(0x1e8)]([{'$group':{'_id':'$name'}}]);if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1f9))var _0xb840d3=users[_0x1a7729(0x1d4)];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1ed))var _0xb840d3=users[_0x1a7729(0x1ed)];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1bd))var _0xb840d3=users[_0x1a7729(0x1bd)];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1db))var _0xb840d3=users[_0x1a7729(0x1db)];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1fc))var _0xb840d3=users[_0x1a7729(0x1fc)];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1fb))var _0xb840d3=users['Portuguese'];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1bf))var _0xb840d3=users[_0x1a7729(0x1bf)];else{if(_0x5a1daf[0x0][_0x1a7729(0x1c0)]==_0x1a7729(0x1d6))var _0xb840d3=users['Arabic'];}}}}}}}_0x1b19a3[_0x1a7729(0x1e4)](_0x1a7729(0x1ca),{'success':_0x4336ca['flash']('success'),'errors':_0x4336ca[_0x1a7729(0x1c1)](_0x1a7729(0x1be)),'role':_0x57f059,'profile':_0x6e226,'master_shop':_0x5a1daf,'language':_0xb840d3,'accounting':_0x250cb9,'warehouse_acct':_0xb1ae25,'sales_acct':_0xb274e9,'warehouse_loc':_0x29aede});}catch(_0x3040f0){}}),router[a0_0x5d5d02(0x1d7)](a0_0x5d5d02(0x1f4),auth,async(_0x1c3a5f,_0x4b466f)=>{const _0x1fc800=a0_0x5d5d02;try{const {accounting_account_id:_0x4bc3a1,warehouse_account_id:_0x5bd87c,staff_id:_0x5e528b,warehouse_loc:_0x364a6d}=_0x1c3a5f[_0x1fc800(0x1d9)];if(typeof _0x5e528b==_0x1fc800(0x1f6))var _0x11e36d=[_0x1c3a5f[_0x1fc800(0x1d9)][_0x1fc800(0x1c7)]],_0x2f4fac=[_0x1c3a5f['body'][_0x1fc800(0x1dc)]];else var _0x11e36d=[..._0x1c3a5f[_0x1fc800(0x1d9)][_0x1fc800(0x1c7)]],_0x2f4fac=[..._0x1c3a5f[_0x1fc800(0x1d9)][_0x1fc800(0x1dc)]];const _0x534d82=_0x11e36d[_0x1fc800(0x1de)](_0x5098c5=>{return _0x5098c5={'id_member':_0x5098c5};});_0x2f4fac[_0x1fc800(0x1cc)]((_0x5d1920,_0x4a72b6)=>{_0x534d82[_0x4a72b6]['name']=_0x5d1920;});const _0x9c3f1d=new approver_acct({'head_id_staff':_0x4bc3a1,'warehouse_staff_id':_0x5bd87c,'warehouse_name':_0x364a6d,'members':_0x534d82}),_0x2b3b26=await _0x9c3f1d[_0x1fc800(0x1e6)]();_0x1c3a5f[_0x1fc800(0x1c1)](_0x1fc800(0x1bc),_0x1fc800(0x1f1)),_0x4b466f[_0x1fc800(0x1e2)](_0x1fc800(0x1ce)+_0x2b3b26[_0x1fc800(0x1e3)]);}catch(_0x2369a4){}}),router['post'](a0_0x5d5d02(0x1ec),auth,async(_0x2f7f39,_0x2d8aac)=>{const _0x24dc50=a0_0x5d5d02;try{const {id_staff:_0x49340b}=_0x2f7f39[_0x24dc50(0x1d9)],_0x1e8999=await staff['findById'](_0x49340b);_0x2d8aac[_0x24dc50(0x1cd)](_0x1e8999);}catch(_0x171d49){}}),router['get'](a0_0x5d5d02(0x1f8),auth,async(_0x2185eb,_0x1fb5f9)=>{const _0x2ef03c=a0_0x5d5d02;try{const _0x337e9d=_0x2185eb[_0x2ef03c(0x1c3)],_0x23b774=_0x2185eb[_0x2ef03c(0x1e0)]['id'],_0x5d6384=await master_shop[_0x2ef03c(0x1e1)](),_0x4b09de=await profile[_0x2ef03c(0x1ea)]({'email':_0x337e9d[_0x2ef03c(0x1cf)]}),_0x538427=await staff['find']({'account_category':'acc'}),_0x2a744d=await staff[_0x2ef03c(0x1e1)]({'account_category':'wm'}),_0x1c7d40=await staff['find']({'account_category':'sa'}),_0x1f16f3=await warehouse[_0x2ef03c(0x1e8)]([{'$group':{'_id':'$name'}}]),_0x3ded5e=await approver_acct[_0x2ef03c(0x1fa)](_0x23b774);if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]==_0x2ef03c(0x1f9))var _0x1ccb2b=users[_0x2ef03c(0x1d4)];else{if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]=='Hindi')var _0x1ccb2b=users['Hindi'];else{if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]==_0x2ef03c(0x1bd))var _0x1ccb2b=users[_0x2ef03c(0x1bd)];else{if(_0x5d6384[0x0]['language']==_0x2ef03c(0x1db))var _0x1ccb2b=users[_0x2ef03c(0x1db)];else{if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]==_0x2ef03c(0x1fc))var _0x1ccb2b=users[_0x2ef03c(0x1fc)];else{if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]==_0x2ef03c(0x1fb))var _0x1ccb2b=users[_0x2ef03c(0x1c6)];else{if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]==_0x2ef03c(0x1bf))var _0x1ccb2b=users['Chinese'];else{if(_0x5d6384[0x0][_0x2ef03c(0x1c0)]==_0x2ef03c(0x1d6))var _0x1ccb2b=users['Arabic'];}}}}}}}_0x1fb5f9[_0x2ef03c(0x1e4)](_0x2ef03c(0x1c4),{'success':_0x2185eb[_0x2ef03c(0x1c1)](_0x2ef03c(0x1bc)),'errors':_0x2185eb[_0x2ef03c(0x1c1)]('errors'),'role':_0x337e9d,'profile':_0x4b09de,'master_shop':_0x5d6384,'language':_0x1ccb2b,'accounting':_0x538427,'warehouse_acct':_0x2a744d,'sales_acct':_0x1c7d40,'warehouse_loc':_0x1f16f3,'data':_0x3ded5e});}catch(_0xf4da67){}}),module[a0_0x5d5d02(0x1c8)]=router;