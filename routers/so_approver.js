const a0_0x479bc0=a0_0x4506;function a0_0x4506(_0x37ca3f,_0x4d4dca){const _0x268e25=a0_0x268e();return a0_0x4506=function(_0x45065f,_0x1a0b36){_0x45065f=_0x45065f-0x1a4;let _0xb6b79=_0x268e25[_0x45065f];return _0xb6b79;},a0_0x4506(_0x37ca3f,_0x4d4dca);}(function(_0x3285e2,_0x5f4c27){const _0x3bca18=a0_0x4506,_0x34be78=_0x3285e2();while(!![]){try{const _0x4b8ded=parseInt(_0x3bca18(0x1e0))/0x1+parseInt(_0x3bca18(0x1dd))/0x2+parseInt(_0x3bca18(0x1d2))/0x3*(parseInt(_0x3bca18(0x1d7))/0x4)+-parseInt(_0x3bca18(0x1c6))/0x5+-parseInt(_0x3bca18(0x1a8))/0x6*(-parseInt(_0x3bca18(0x1cd))/0x7)+parseInt(_0x3bca18(0x1bf))/0x8+-parseInt(_0x3bca18(0x1d6))/0x9*(parseInt(_0x3bca18(0x1ac))/0xa);if(_0x4b8ded===_0x5f4c27)break;else _0x34be78['push'](_0x34be78['shift']());}catch(_0x35f76f){_0x34be78['push'](_0x34be78['shift']());}}}(a0_0x268e,0x9bd43));const express=require(a0_0x479bc0(0x1b0)),app=express(),router=express['Router'](),auth=require(a0_0x479bc0(0x1b9)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x479bc0(0x1cf)),users=require('../public/language/languages.json');router['get']('/setup',auth,async(_0x45a267,_0x8a8fa9)=>{const _0x12b98a=a0_0x479bc0;try{const _0x5097e3=_0x45a267[_0x12b98a(0x1b6)],_0xd93a53=await master_shop[_0x12b98a(0x1a5)](),_0x176cf1=await profile[_0x12b98a(0x1be)]({'email':_0x5097e3['email']}),_0xd7a78a=await approver_acct[_0x12b98a(0x1df)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x12b98a(0x1d3)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x12b98a(0x1ab)}}},{'$lookup':{'from':'staffs','localField':'accounting_account_id','foreignField':_0x12b98a(0x1a4),'as':_0x12b98a(0x1b4)}},{'$unwind':_0x12b98a(0x1d8)},{'$lookup':{'from':'staffs','localField':_0x12b98a(0x1b3),'foreignField':_0x12b98a(0x1a4),'as':_0x12b98a(0x1ce)}},{'$unwind':_0x12b98a(0x1d5)}]);if(_0xd93a53[0x0]['language']=='English\x20(US)')var _0x5aada6=users[_0x12b98a(0x1a9)];else{if(_0xd93a53[0x0]['language']=='Hindi')var _0x5aada6=users[_0x12b98a(0x1cc)];else{if(_0xd93a53[0x0][_0x12b98a(0x1d1)]==_0x12b98a(0x1c3))var _0x5aada6=users[_0x12b98a(0x1c3)];else{if(_0xd93a53[0x0][_0x12b98a(0x1d1)]==_0x12b98a(0x1e1))var _0x5aada6=users[_0x12b98a(0x1e1)];else{if(_0xd93a53[0x0]['language']=='French')var _0x5aada6=users[_0x12b98a(0x1b1)];else{if(_0xd93a53[0x0]['language']=='Portuguese\x20(BR)')var _0x5aada6=users[_0x12b98a(0x1c9)];else{if(_0xd93a53[0x0][_0x12b98a(0x1d1)]=='Chinese')var _0x5aada6=users[_0x12b98a(0x1ba)];else{if(_0xd93a53[0x0][_0x12b98a(0x1d1)]==_0x12b98a(0x1c5))var _0x5aada6=users['Arabic'];}}}}}}}_0x8a8fa9[_0x12b98a(0x1b5)](_0x12b98a(0x1c7),{'success':_0x45a267['flash']('success'),'errors':_0x45a267[_0x12b98a(0x1da)](_0x12b98a(0x1c4)),'role':_0x5097e3,'profile':_0x176cf1,'master_shop':_0xd93a53,'language':_0x5aada6,'data':_0xd7a78a});}catch(_0x1485a5){}}),router[a0_0x479bc0(0x1ae)](a0_0x479bc0(0x1db),auth,async(_0x552fa4,_0x134edd)=>{const _0x36fc99=a0_0x479bc0;try{const _0x4bec62=_0x552fa4['user'],_0x355b00=await master_shop[_0x36fc99(0x1a5)](),_0xdc22f0=await profile[_0x36fc99(0x1be)]({'email':_0x4bec62[_0x36fc99(0x1c0)]}),_0x5c9449=await staff['find']({'account_category':_0x36fc99(0x1d9)}),_0x4fc2e9=await staff[_0x36fc99(0x1a5)]({'account_category':'wm'}),_0x57e65e=await staff[_0x36fc99(0x1a5)]({'account_category':'sa'}),_0x155271=await warehouse[_0x36fc99(0x1df)]([{'$group':{'_id':_0x36fc99(0x1de)}}]);if(_0x355b00[0x0][_0x36fc99(0x1d1)]=='English\x20(US)')var _0x23794d=users[_0x36fc99(0x1a9)];else{if(_0x355b00[0x0]['language']==_0x36fc99(0x1cc))var _0x23794d=users['Hindi'];else{if(_0x355b00[0x0]['language']==_0x36fc99(0x1c3))var _0x23794d=users[_0x36fc99(0x1c3)];else{if(_0x355b00[0x0][_0x36fc99(0x1d1)]==_0x36fc99(0x1e1))var _0x23794d=users[_0x36fc99(0x1e1)];else{if(_0x355b00[0x0][_0x36fc99(0x1d1)]=='French')var _0x23794d=users[_0x36fc99(0x1b1)];else{if(_0x355b00[0x0][_0x36fc99(0x1d1)]==_0x36fc99(0x1b2))var _0x23794d=users[_0x36fc99(0x1c9)];else{if(_0x355b00[0x0][_0x36fc99(0x1d1)]==_0x36fc99(0x1ba))var _0x23794d=users[_0x36fc99(0x1ba)];else{if(_0x355b00[0x0][_0x36fc99(0x1d1)]==_0x36fc99(0x1c5))var _0x23794d=users[_0x36fc99(0x1af)];}}}}}}}_0x134edd[_0x36fc99(0x1b5)](_0x36fc99(0x1e2),{'success':_0x552fa4[_0x36fc99(0x1da)](_0x36fc99(0x1cb)),'errors':_0x552fa4[_0x36fc99(0x1da)](_0x36fc99(0x1c4)),'role':_0x4bec62,'profile':_0xdc22f0,'master_shop':_0x355b00,'language':_0x23794d,'accounting':_0x5c9449,'warehouse_acct':_0x4fc2e9,'sales_acct':_0x57e65e,'warehouse_loc':_0x155271});}catch(_0x4b0196){}}),router[a0_0x479bc0(0x1c1)]('/add/',auth,async(_0x25c3c0,_0x264365)=>{const _0x21549e=a0_0x479bc0;try{const {accounting_account_id:_0x541c97,warehouse_account_id:_0x3d8e62,staff_id:_0x1dca0e,warehouse_loc:_0x4862ba}=_0x25c3c0['body'];if(typeof _0x1dca0e=='string')var _0x55c2ad=[_0x25c3c0[_0x21549e(0x1ca)][_0x21549e(0x1bc)]],_0x4a3dfb=[_0x25c3c0[_0x21549e(0x1ca)][_0x21549e(0x1d4)]];else var _0x55c2ad=[..._0x25c3c0[_0x21549e(0x1ca)][_0x21549e(0x1bc)]],_0x4a3dfb=[..._0x25c3c0[_0x21549e(0x1ca)][_0x21549e(0x1d4)]];const _0x5afe4a=_0x55c2ad[_0x21549e(0x1a6)](_0x3a3760=>{return _0x3a3760={'id_member':_0x3a3760};});_0x4a3dfb[_0x21549e(0x1aa)]((_0x390a2f,_0x5f40e2)=>{const _0x203815=_0x21549e;_0x5afe4a[_0x5f40e2][_0x203815(0x1dc)]=_0x390a2f;});const _0x3a7410=new approver_acct({'head_id_staff':_0x541c97,'warehouse_staff_id':_0x3d8e62,'warehouse_name':_0x4862ba,'members':_0x5afe4a}),_0x51efe1=await _0x3a7410[_0x21549e(0x1b8)]();_0x25c3c0[_0x21549e(0x1da)](_0x21549e(0x1cb),_0x21549e(0x1a7)),_0x264365[_0x21549e(0x1ad)]('/so_approvers/preview/'+_0x51efe1[_0x21549e(0x1a4)]);}catch(_0x582e6f){}}),router[a0_0x479bc0(0x1c1)](a0_0x479bc0(0x1c2),auth,async(_0x1c8b9b,_0x5a2b07)=>{const _0x24917a=a0_0x479bc0;try{const {id_staff:_0x4f95ba}=_0x1c8b9b[_0x24917a(0x1ca)],_0x3ee370=await staff[_0x24917a(0x1bd)](_0x4f95ba);_0x5a2b07[_0x24917a(0x1b7)](_0x3ee370);}catch(_0x2fa44d){}}),router['get'](a0_0x479bc0(0x1e4),auth,async(_0x4727de,_0x25e769)=>{const _0x99b598=a0_0x479bc0;try{const _0x1fcf21=_0x4727de[_0x99b598(0x1b6)],_0x1b0444=_0x4727de[_0x99b598(0x1c8)]['id'],_0x4513a2=await master_shop[_0x99b598(0x1a5)](),_0x3c9b3f=await profile[_0x99b598(0x1be)]({'email':_0x1fcf21[_0x99b598(0x1c0)]}),_0x85e380=await staff[_0x99b598(0x1a5)]({'account_category':_0x99b598(0x1d9)}),_0xdd50de=await staff['find']({'account_category':'wm'}),_0x419f6d=await staff[_0x99b598(0x1a5)]({'account_category':'sa'}),_0x2d53c2=await warehouse[_0x99b598(0x1df)]([{'$group':{'_id':_0x99b598(0x1de)}}]),_0x16c992=await approver_acct['findById'](_0x1b0444);if(_0x4513a2[0x0]['language']==_0x99b598(0x1d0))var _0x11f30a=users[_0x99b598(0x1a9)];else{if(_0x4513a2[0x0]['language']==_0x99b598(0x1cc))var _0x11f30a=users[_0x99b598(0x1cc)];else{if(_0x4513a2[0x0][_0x99b598(0x1d1)]=='German')var _0x11f30a=users['German'];else{if(_0x4513a2[0x0][_0x99b598(0x1d1)]==_0x99b598(0x1e1))var _0x11f30a=users['Spanish'];else{if(_0x4513a2[0x0][_0x99b598(0x1d1)]==_0x99b598(0x1b1))var _0x11f30a=users[_0x99b598(0x1b1)];else{if(_0x4513a2[0x0]['language']==_0x99b598(0x1b2))var _0x11f30a=users[_0x99b598(0x1c9)];else{if(_0x4513a2[0x0][_0x99b598(0x1d1)]==_0x99b598(0x1ba))var _0x11f30a=users[_0x99b598(0x1ba)];else{if(_0x4513a2[0x0][_0x99b598(0x1d1)]==_0x99b598(0x1c5))var _0x11f30a=users[_0x99b598(0x1af)];}}}}}}}_0x25e769[_0x99b598(0x1b5)](_0x99b598(0x1bb),{'success':_0x4727de[_0x99b598(0x1da)](_0x99b598(0x1cb)),'errors':_0x4727de['flash']('errors'),'role':_0x1fcf21,'profile':_0x3c9b3f,'master_shop':_0x4513a2,'language':_0x11f30a,'accounting':_0x85e380,'warehouse_acct':_0xdd50de,'sales_acct':_0x419f6d,'warehouse_loc':_0x2d53c2,'data':_0x16c992});}catch(_0x4bfc3){}}),module[a0_0x479bc0(0x1e3)]=router;function a0_0x268e(){const _0x53e65d=['user','json','save','../middleware/auth','Chinese','view_so_approvers','staff_id','findById','findOne','570616mGpVnc','email','post','/get_sales_data','German','errors','Arabic\x20(ae)','1947810npQafG','so_approver_all','params','Portuguese','body','success','Hindi','413462LzGDPy','wms_data','../models/all_models','English\x20(US)','language','6ymLruW','$head_id_staff','name_accounting','$wms_data','2846133VsVtiY','148800lajphE','$account_data','acc','flash','/add','name','572272rBWWmw','$name','aggregate','557815XKwPPM','Spanish','so_approver_add','exports','/preview/:id','_id','find','map','Approver\x20Add\x20successfully','36YhJkFO','English','forEach','$warehouse_staff_id','10mzxiUO','redirect','get','Arabic','express','French','Portuguese\x20(BR)','wms_account_id','account_data','render'];a0_0x268e=function(){return _0x53e65d;};return a0_0x268e();}