function a0_0xd770(_0x3ae2d0,_0x5b7fde){const _0x1611f1=a0_0x1611();return a0_0xd770=function(_0xd77078,_0x1a425b){_0xd77078=_0xd77078-0x1ab;let _0x4af88c=_0x1611f1[_0xd77078];return _0x4af88c;},a0_0xd770(_0x3ae2d0,_0x5b7fde);}const a0_0x31c86b=a0_0xd770;(function(_0x5858c7,_0x2bc797){const _0x1b0dfd=a0_0xd770,_0x4d6bea=_0x5858c7();while(!![]){try{const _0x2688ba=-parseInt(_0x1b0dfd(0x1b6))/0x1*(parseInt(_0x1b0dfd(0x1c3))/0x2)+-parseInt(_0x1b0dfd(0x1d8))/0x3+parseInt(_0x1b0dfd(0x1b5))/0x4*(parseInt(_0x1b0dfd(0x1c8))/0x5)+parseInt(_0x1b0dfd(0x1cc))/0x6*(parseInt(_0x1b0dfd(0x1c5))/0x7)+-parseInt(_0x1b0dfd(0x1bc))/0x8*(parseInt(_0x1b0dfd(0x1b9))/0x9)+-parseInt(_0x1b0dfd(0x1db))/0xa+parseInt(_0x1b0dfd(0x1ae))/0xb;if(_0x2688ba===_0x2bc797)break;else _0x4d6bea['push'](_0x4d6bea['shift']());}catch(_0x186279){_0x4d6bea['push'](_0x4d6bea['shift']());}}}(a0_0x1611,0x92d81));const express=require(a0_0x31c86b(0x1d9)),app=express(),router=express[a0_0x31c86b(0x1dd)](),auth=require(a0_0x31c86b(0x1d4)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x31c86b(0x1d0)),users=require('../public/language/languages.json');function a0_0x1611(){const _0x5c0d9a=['get','/setup','../middleware/auth','Chinese','wms_data','Portuguese\x20(BR)','3535455gmfGuO','express','language','8086490Morcwh','aggregate','Router','$account_data','French','body','English','$name','$wms_data','success','findById','German','33043340nMpKgI','errors','find','render','Hindi','staffs','acc','14492APGheM','1BxYOWH','map','Spanish','9GVzicP','findOne','English\x20(US)','5562256tcpjCV','Portuguese','post','flash','/add','email','json','1394506RIurer','name','7ndlAPp','/add/','Arabic\x20(ae)','1075YXqmvl','user','staff_id','string','1189542XgFxWL','save','wms_account_id','/preview/:id','../models/all_models','Arabic'];a0_0x1611=function(){return _0x5c0d9a;};return a0_0x1611();}router[a0_0x31c86b(0x1d2)](a0_0x31c86b(0x1d3),auth,async(_0x53b82f,_0x54436d)=>{const _0x11c982=a0_0x31c86b;try{const _0x5c5a08=_0x53b82f[_0x11c982(0x1c9)],_0x2446d9=await master_shop[_0x11c982(0x1b0)](),_0x284297=await profile[_0x11c982(0x1ba)]({'email':_0x5c5a08[_0x11c982(0x1c1)]}),_0x105eff=await approver_acct[_0x11c982(0x1dc)]([{'$addFields':{'accounting_account_id':{'$toObjectId':'$head_id_staff'}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$warehouse_staff_id'}}},{'$lookup':{'from':'staffs','localField':'accounting_account_id','foreignField':'_id','as':'account_data'}},{'$unwind':_0x11c982(0x1de)},{'$lookup':{'from':_0x11c982(0x1b3),'localField':_0x11c982(0x1ce),'foreignField':'_id','as':_0x11c982(0x1d6)}},{'$unwind':_0x11c982(0x1e3)}]);if(_0x2446d9[0x0][_0x11c982(0x1da)]==_0x11c982(0x1bb))var _0x5864c9=users[_0x11c982(0x1e1)];else{if(_0x2446d9[0x0][_0x11c982(0x1da)]==_0x11c982(0x1b2))var _0x5864c9=users[_0x11c982(0x1b2)];else{if(_0x2446d9[0x0][_0x11c982(0x1da)]=='German')var _0x5864c9=users[_0x11c982(0x1ad)];else{if(_0x2446d9[0x0]['language']==_0x11c982(0x1b8))var _0x5864c9=users[_0x11c982(0x1b8)];else{if(_0x2446d9[0x0][_0x11c982(0x1da)]==_0x11c982(0x1df))var _0x5864c9=users['French'];else{if(_0x2446d9[0x0][_0x11c982(0x1da)]==_0x11c982(0x1d7))var _0x5864c9=users['Portuguese'];else{if(_0x2446d9[0x0]['language']=='Chinese')var _0x5864c9=users[_0x11c982(0x1d5)];else{if(_0x2446d9[0x0][_0x11c982(0x1da)]==_0x11c982(0x1c7))var _0x5864c9=users['Arabic'];}}}}}}}_0x54436d[_0x11c982(0x1b1)]('so_approver_all',{'success':_0x53b82f[_0x11c982(0x1bf)](_0x11c982(0x1ab)),'errors':_0x53b82f['flash'](_0x11c982(0x1af)),'role':_0x5c5a08,'profile':_0x284297,'master_shop':_0x2446d9,'language':_0x5864c9,'data':_0x105eff});}catch(_0x405a41){}}),router[a0_0x31c86b(0x1d2)](a0_0x31c86b(0x1c0),auth,async(_0x470b04,_0x1b224e)=>{const _0x14b3f2=a0_0x31c86b;try{const _0x7f83e9=_0x470b04[_0x14b3f2(0x1c9)],_0x412b17=await master_shop[_0x14b3f2(0x1b0)](),_0x400e9b=await profile[_0x14b3f2(0x1ba)]({'email':_0x7f83e9[_0x14b3f2(0x1c1)]}),_0x35c710=await staff[_0x14b3f2(0x1b0)]({'account_category':_0x14b3f2(0x1b4)}),_0x59c08b=await staff[_0x14b3f2(0x1b0)]({'account_category':'wm'}),_0x7cec72=await staff['find']({'account_category':'sa'}),_0x4dc3f3=await warehouse[_0x14b3f2(0x1dc)]([{'$group':{'_id':_0x14b3f2(0x1e2)}}]);if(_0x412b17[0x0][_0x14b3f2(0x1da)]==_0x14b3f2(0x1bb))var _0x2dca1f=users[_0x14b3f2(0x1e1)];else{if(_0x412b17[0x0][_0x14b3f2(0x1da)]==_0x14b3f2(0x1b2))var _0x2dca1f=users[_0x14b3f2(0x1b2)];else{if(_0x412b17[0x0]['language']==_0x14b3f2(0x1ad))var _0x2dca1f=users[_0x14b3f2(0x1ad)];else{if(_0x412b17[0x0][_0x14b3f2(0x1da)]==_0x14b3f2(0x1b8))var _0x2dca1f=users['Spanish'];else{if(_0x412b17[0x0]['language']=='French')var _0x2dca1f=users['French'];else{if(_0x412b17[0x0]['language']==_0x14b3f2(0x1d7))var _0x2dca1f=users[_0x14b3f2(0x1bd)];else{if(_0x412b17[0x0]['language']=='Chinese')var _0x2dca1f=users[_0x14b3f2(0x1d5)];else{if(_0x412b17[0x0][_0x14b3f2(0x1da)]==_0x14b3f2(0x1c7))var _0x2dca1f=users[_0x14b3f2(0x1d1)];}}}}}}}_0x1b224e['render']('so_approver_add',{'success':_0x470b04[_0x14b3f2(0x1bf)](_0x14b3f2(0x1ab)),'errors':_0x470b04['flash'](_0x14b3f2(0x1af)),'role':_0x7f83e9,'profile':_0x400e9b,'master_shop':_0x412b17,'language':_0x2dca1f,'accounting':_0x35c710,'warehouse_acct':_0x59c08b,'sales_acct':_0x7cec72,'warehouse_loc':_0x4dc3f3});}catch(_0x552c2d){}}),router[a0_0x31c86b(0x1be)](a0_0x31c86b(0x1c6),auth,async(_0x2bbe80,_0x4ce252)=>{const _0x55a947=a0_0x31c86b;try{const {accounting_account_id:_0x21ccca,warehouse_account_id:_0x3492cb,staff_id:_0x516aab,warehouse_loc:_0x5729cc}=_0x2bbe80[_0x55a947(0x1e0)];if(typeof _0x516aab==_0x55a947(0x1cb))var _0x215018=[_0x2bbe80['body'][_0x55a947(0x1ca)]],_0x195e8c=[_0x2bbe80['body']['name_accounting']];else var _0x215018=[..._0x2bbe80[_0x55a947(0x1e0)]['staff_id']],_0x195e8c=[..._0x2bbe80[_0x55a947(0x1e0)]['name_accounting']];const _0x2fb2ca=_0x215018[_0x55a947(0x1b7)](_0x191106=>{return _0x191106={'id_member':_0x191106};});_0x195e8c['forEach']((_0x56da50,_0x5acfc0)=>{const _0x46eed2=_0x55a947;_0x2fb2ca[_0x5acfc0][_0x46eed2(0x1c4)]=_0x56da50;});const _0x545ddd=new approver_acct({'head_id_staff':_0x21ccca,'warehouse_staff_id':_0x3492cb,'warehouse_name':_0x5729cc,'members':_0x2fb2ca}),_0x38ca7c=await _0x545ddd[_0x55a947(0x1cd)]();_0x2bbe80[_0x55a947(0x1bf)](_0x55a947(0x1ab),'Approver\x20Add\x20successfully'),_0x4ce252['redirect']('/so_approvers/preview/'+_0x38ca7c['_id']);}catch(_0x19bfcc){}}),router[a0_0x31c86b(0x1be)]('/get_sales_data',auth,async(_0x395b89,_0x54a925)=>{const _0x289807=a0_0x31c86b;try{const {id_staff:_0xd6009f}=_0x395b89[_0x289807(0x1e0)],_0x557626=await staff[_0x289807(0x1ac)](_0xd6009f);_0x54a925[_0x289807(0x1c2)](_0x557626);}catch(_0x373dba){}}),router[a0_0x31c86b(0x1d2)](a0_0x31c86b(0x1cf),auth,async(_0x4963db,_0x19821f)=>{const _0x5f372e=a0_0x31c86b;try{const _0x4f2d7=_0x4963db[_0x5f372e(0x1c9)],_0x245264=_0x4963db['params']['id'],_0x4ea3ee=await master_shop[_0x5f372e(0x1b0)](),_0x426206=await profile['findOne']({'email':_0x4f2d7[_0x5f372e(0x1c1)]}),_0x261716=await staff[_0x5f372e(0x1b0)]({'account_category':_0x5f372e(0x1b4)}),_0x306677=await staff[_0x5f372e(0x1b0)]({'account_category':'wm'}),_0x4a1df2=await staff[_0x5f372e(0x1b0)]({'account_category':'sa'}),_0x117ca1=await warehouse['aggregate']([{'$group':{'_id':_0x5f372e(0x1e2)}}]),_0x4df7a8=await approver_acct[_0x5f372e(0x1ac)](_0x245264);if(_0x4ea3ee[0x0]['language']==_0x5f372e(0x1bb))var _0x1d1974=users['English'];else{if(_0x4ea3ee[0x0][_0x5f372e(0x1da)]=='Hindi')var _0x1d1974=users['Hindi'];else{if(_0x4ea3ee[0x0]['language']==_0x5f372e(0x1ad))var _0x1d1974=users[_0x5f372e(0x1ad)];else{if(_0x4ea3ee[0x0][_0x5f372e(0x1da)]==_0x5f372e(0x1b8))var _0x1d1974=users[_0x5f372e(0x1b8)];else{if(_0x4ea3ee[0x0][_0x5f372e(0x1da)]==_0x5f372e(0x1df))var _0x1d1974=users[_0x5f372e(0x1df)];else{if(_0x4ea3ee[0x0][_0x5f372e(0x1da)]==_0x5f372e(0x1d7))var _0x1d1974=users[_0x5f372e(0x1bd)];else{if(_0x4ea3ee[0x0][_0x5f372e(0x1da)]==_0x5f372e(0x1d5))var _0x1d1974=users['Chinese'];else{if(_0x4ea3ee[0x0]['language']=='Arabic\x20(ae)')var _0x1d1974=users[_0x5f372e(0x1d1)];}}}}}}}_0x19821f[_0x5f372e(0x1b1)]('view_so_approvers',{'success':_0x4963db['flash'](_0x5f372e(0x1ab)),'errors':_0x4963db[_0x5f372e(0x1bf)](_0x5f372e(0x1af)),'role':_0x4f2d7,'profile':_0x426206,'master_shop':_0x4ea3ee,'language':_0x1d1974,'accounting':_0x261716,'warehouse_acct':_0x306677,'sales_acct':_0x4a1df2,'warehouse_loc':_0x117ca1,'data':_0x4df7a8});}catch(_0x451a95){}}),module['exports']=router;