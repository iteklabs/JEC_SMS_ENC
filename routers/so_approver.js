const a0_0x24bc25=a0_0x2dc3;function a0_0x2dc3(_0x1d9185,_0x4e8239){const _0x1f4f6b=a0_0x1f4f();return a0_0x2dc3=function(_0x2dc331,_0x17e1aa){_0x2dc331=_0x2dc331-0xed;let _0x3d0600=_0x1f4f6b[_0x2dc331];return _0x3d0600;},a0_0x2dc3(_0x1d9185,_0x4e8239);}(function(_0x75e4b3,_0x3e692a){const _0x46655e=a0_0x2dc3,_0x3dbd95=_0x75e4b3();while(!![]){try{const _0x1c646a=-parseInt(_0x46655e(0x12e))/0x1+-parseInt(_0x46655e(0x128))/0x2*(-parseInt(_0x46655e(0xf1))/0x3)+-parseInt(_0x46655e(0x104))/0x4+parseInt(_0x46655e(0x109))/0x5*(parseInt(_0x46655e(0x113))/0x6)+-parseInt(_0x46655e(0x116))/0x7+-parseInt(_0x46655e(0x10b))/0x8+parseInt(_0x46655e(0x12d))/0x9;if(_0x1c646a===_0x3e692a)break;else _0x3dbd95['push'](_0x3dbd95['shift']());}catch(_0x13d7bb){_0x3dbd95['push'](_0x3dbd95['shift']());}}}(a0_0x1f4f,0x652e1));function a0_0x1f4f(){const _0x500065=['_id','save','263980Temxlx','findOne','user','render','Spanish','5935xWfKCu','/add/','1057720XJuUWv','find','/preview/:id','wms_account_id','success','view_so_approvers','forEach','Portuguese','1158ewVeWy','params','/get_sales_data','3143357PAzxEZ','../middleware/auth','exports','Approver\x20Add\x20successfully','flash','staffs','json','$account_data','English','map','$name','German','staff_id','/setup','errors','$head_id_staff','name_accounting','findById','6tmdpXF','get','/so_approvers/preview/','account_data','French','3042279cIivOG','103187czrTeZ','body','wms_data','Arabic\x20(ae)','../models/all_models','Arabic','../public/language/languages.json','597759XGCvDN','Chinese','acc','so_approver_all','English\x20(US)','accounting_account_id','email','Hindi','$warehouse_staff_id','$wms_data','so_approver_add','Router','language','Portuguese\x20(BR)','aggregate','express','post'];a0_0x1f4f=function(){return _0x500065;};return a0_0x1f4f();}const express=require(a0_0x24bc25(0x100)),app=express(),router=express[a0_0x24bc25(0xfc)](),auth=require(a0_0x24bc25(0x117)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x24bc25(0xee)),users=require(a0_0x24bc25(0xf0));router[a0_0x24bc25(0x129)](a0_0x24bc25(0x123),auth,async(_0x1dbf8e,_0x55e706)=>{const _0x4befc7=a0_0x24bc25;try{const _0x5af8d1=_0x1dbf8e[_0x4befc7(0x106)],_0x5a5ae3=await master_shop[_0x4befc7(0x10c)](),_0x310653=await profile[_0x4befc7(0x105)]({'email':_0x5af8d1[_0x4befc7(0xf7)]}),_0x1ed46e=await approver_acct[_0x4befc7(0xff)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x4befc7(0x125)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x4befc7(0xf9)}}},{'$lookup':{'from':_0x4befc7(0x11b),'localField':_0x4befc7(0xf6),'foreignField':'_id','as':_0x4befc7(0x12b)}},{'$unwind':_0x4befc7(0x11d)},{'$lookup':{'from':_0x4befc7(0x11b),'localField':_0x4befc7(0x10e),'foreignField':_0x4befc7(0x102),'as':_0x4befc7(0x130)}},{'$unwind':_0x4befc7(0xfa)}]);if(_0x5a5ae3[0x0][_0x4befc7(0xfd)]==_0x4befc7(0xf5))var _0x1079c1=users[_0x4befc7(0x11e)];else{if(_0x5a5ae3[0x0][_0x4befc7(0xfd)]==_0x4befc7(0xf8))var _0x1079c1=users[_0x4befc7(0xf8)];else{if(_0x5a5ae3[0x0]['language']==_0x4befc7(0x121))var _0x1079c1=users['German'];else{if(_0x5a5ae3[0x0][_0x4befc7(0xfd)]==_0x4befc7(0x108))var _0x1079c1=users[_0x4befc7(0x108)];else{if(_0x5a5ae3[0x0][_0x4befc7(0xfd)]==_0x4befc7(0x12c))var _0x1079c1=users['French'];else{if(_0x5a5ae3[0x0]['language']==_0x4befc7(0xfe))var _0x1079c1=users[_0x4befc7(0x112)];else{if(_0x5a5ae3[0x0][_0x4befc7(0xfd)]==_0x4befc7(0xf2))var _0x1079c1=users[_0x4befc7(0xf2)];else{if(_0x5a5ae3[0x0][_0x4befc7(0xfd)]==_0x4befc7(0xed))var _0x1079c1=users[_0x4befc7(0xef)];}}}}}}}_0x55e706['render'](_0x4befc7(0xf4),{'success':_0x1dbf8e[_0x4befc7(0x11a)](_0x4befc7(0x10f)),'errors':_0x1dbf8e[_0x4befc7(0x11a)](_0x4befc7(0x124)),'role':_0x5af8d1,'profile':_0x310653,'master_shop':_0x5a5ae3,'language':_0x1079c1,'data':_0x1ed46e});}catch(_0x27cb13){}}),router['get']('/add',auth,async(_0x2d4f66,_0x5a933f)=>{const _0x4492a1=a0_0x24bc25;try{const _0x3280a4=_0x2d4f66[_0x4492a1(0x106)],_0x5416c3=await master_shop[_0x4492a1(0x10c)](),_0xb91a44=await profile[_0x4492a1(0x105)]({'email':_0x3280a4[_0x4492a1(0xf7)]}),_0x55f39c=await staff[_0x4492a1(0x10c)]({'account_category':_0x4492a1(0xf3)}),_0x2b764b=await staff[_0x4492a1(0x10c)]({'account_category':'wm'}),_0x201ead=await staff[_0x4492a1(0x10c)]({'account_category':'sa'}),_0x4e3003=await warehouse['aggregate']([{'$group':{'_id':_0x4492a1(0x120)}}]);if(_0x5416c3[0x0][_0x4492a1(0xfd)]=='English\x20(US)')var _0x35d420=users[_0x4492a1(0x11e)];else{if(_0x5416c3[0x0]['language']==_0x4492a1(0xf8))var _0x35d420=users[_0x4492a1(0xf8)];else{if(_0x5416c3[0x0][_0x4492a1(0xfd)]==_0x4492a1(0x121))var _0x35d420=users[_0x4492a1(0x121)];else{if(_0x5416c3[0x0][_0x4492a1(0xfd)]=='Spanish')var _0x35d420=users[_0x4492a1(0x108)];else{if(_0x5416c3[0x0][_0x4492a1(0xfd)]==_0x4492a1(0x12c))var _0x35d420=users['French'];else{if(_0x5416c3[0x0][_0x4492a1(0xfd)]==_0x4492a1(0xfe))var _0x35d420=users[_0x4492a1(0x112)];else{if(_0x5416c3[0x0]['language']=='Chinese')var _0x35d420=users[_0x4492a1(0xf2)];else{if(_0x5416c3[0x0][_0x4492a1(0xfd)]==_0x4492a1(0xed))var _0x35d420=users[_0x4492a1(0xef)];}}}}}}}_0x5a933f[_0x4492a1(0x107)](_0x4492a1(0xfb),{'success':_0x2d4f66['flash'](_0x4492a1(0x10f)),'errors':_0x2d4f66[_0x4492a1(0x11a)](_0x4492a1(0x124)),'role':_0x3280a4,'profile':_0xb91a44,'master_shop':_0x5416c3,'language':_0x35d420,'accounting':_0x55f39c,'warehouse_acct':_0x2b764b,'sales_acct':_0x201ead,'warehouse_loc':_0x4e3003});}catch(_0x5b4608){}}),router[a0_0x24bc25(0x101)](a0_0x24bc25(0x10a),auth,async(_0x10db16,_0x8e00ff)=>{const _0x44b20c=a0_0x24bc25;try{const {accounting_account_id:_0x5911de,warehouse_account_id:_0x15bd25,staff_id:_0x53a355,warehouse_loc:_0x1480fb}=_0x10db16[_0x44b20c(0x12f)];if(typeof _0x53a355=='string')var _0x22110a=[_0x10db16[_0x44b20c(0x12f)][_0x44b20c(0x122)]],_0x5aa27c=[_0x10db16[_0x44b20c(0x12f)][_0x44b20c(0x126)]];else var _0x22110a=[..._0x10db16[_0x44b20c(0x12f)][_0x44b20c(0x122)]],_0x5aa27c=[..._0x10db16['body']['name_accounting']];const _0x56077f=_0x22110a[_0x44b20c(0x11f)](_0x2e155e=>{return _0x2e155e={'id_member':_0x2e155e};});_0x5aa27c[_0x44b20c(0x111)]((_0x564573,_0x2199ee)=>{_0x56077f[_0x2199ee]['name']=_0x564573;});const _0x5e12a5=new approver_acct({'head_id_staff':_0x5911de,'warehouse_staff_id':_0x15bd25,'warehouse_name':_0x1480fb,'members':_0x56077f}),_0xa1c790=await _0x5e12a5[_0x44b20c(0x103)]();_0x10db16[_0x44b20c(0x11a)](_0x44b20c(0x10f),_0x44b20c(0x119)),_0x8e00ff['redirect'](_0x44b20c(0x12a)+_0xa1c790[_0x44b20c(0x102)]);}catch(_0x471278){}}),router[a0_0x24bc25(0x101)](a0_0x24bc25(0x115),auth,async(_0x4d0d38,_0x3bce72)=>{const _0xd5f701=a0_0x24bc25;try{const {id_staff:_0x18e0d9}=_0x4d0d38[_0xd5f701(0x12f)],_0xb3a7d2=await staff[_0xd5f701(0x127)](_0x18e0d9);_0x3bce72[_0xd5f701(0x11c)](_0xb3a7d2);}catch(_0x1fb415){}}),router[a0_0x24bc25(0x129)](a0_0x24bc25(0x10d),auth,async(_0x40b11f,_0x2d3fd6)=>{const _0x1ae3ae=a0_0x24bc25;try{const _0x46e500=_0x40b11f['user'],_0x2367f3=_0x40b11f[_0x1ae3ae(0x114)]['id'],_0x51683a=await master_shop[_0x1ae3ae(0x10c)](),_0x1a21d8=await profile[_0x1ae3ae(0x105)]({'email':_0x46e500[_0x1ae3ae(0xf7)]}),_0x32a989=await staff['find']({'account_category':_0x1ae3ae(0xf3)}),_0x4a25dc=await staff['find']({'account_category':'wm'}),_0x460208=await staff[_0x1ae3ae(0x10c)]({'account_category':'sa'}),_0x9dd359=await warehouse[_0x1ae3ae(0xff)]([{'$group':{'_id':_0x1ae3ae(0x120)}}]),_0x104097=await approver_acct[_0x1ae3ae(0x127)](_0x2367f3);if(_0x51683a[0x0][_0x1ae3ae(0xfd)]=='English\x20(US)')var _0x25dab4=users['English'];else{if(_0x51683a[0x0][_0x1ae3ae(0xfd)]==_0x1ae3ae(0xf8))var _0x25dab4=users[_0x1ae3ae(0xf8)];else{if(_0x51683a[0x0]['language']=='German')var _0x25dab4=users[_0x1ae3ae(0x121)];else{if(_0x51683a[0x0][_0x1ae3ae(0xfd)]==_0x1ae3ae(0x108))var _0x25dab4=users[_0x1ae3ae(0x108)];else{if(_0x51683a[0x0][_0x1ae3ae(0xfd)]=='French')var _0x25dab4=users[_0x1ae3ae(0x12c)];else{if(_0x51683a[0x0][_0x1ae3ae(0xfd)]==_0x1ae3ae(0xfe))var _0x25dab4=users[_0x1ae3ae(0x112)];else{if(_0x51683a[0x0][_0x1ae3ae(0xfd)]==_0x1ae3ae(0xf2))var _0x25dab4=users['Chinese'];else{if(_0x51683a[0x0]['language']=='Arabic\x20(ae)')var _0x25dab4=users[_0x1ae3ae(0xef)];}}}}}}}_0x2d3fd6[_0x1ae3ae(0x107)](_0x1ae3ae(0x110),{'success':_0x40b11f[_0x1ae3ae(0x11a)]('success'),'errors':_0x40b11f['flash'](_0x1ae3ae(0x124)),'role':_0x46e500,'profile':_0x1a21d8,'master_shop':_0x51683a,'language':_0x25dab4,'accounting':_0x32a989,'warehouse_acct':_0x4a25dc,'sales_acct':_0x460208,'warehouse_loc':_0x9dd359,'data':_0x104097});}catch(_0x13d1c0){}}),module[a0_0x24bc25(0x118)]=router;