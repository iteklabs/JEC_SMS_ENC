const a0_0x2791b1=a0_0x588f;(function(_0x46c836,_0x3aa670){const _0x52bfcd=a0_0x588f,_0xa79c49=_0x46c836();while(!![]){try{const _0xd98aaa=parseInt(_0x52bfcd(0x1c3))/0x1+parseInt(_0x52bfcd(0x1b4))/0x2+parseInt(_0x52bfcd(0x1e2))/0x3+-parseInt(_0x52bfcd(0x1d1))/0x4*(-parseInt(_0x52bfcd(0x1db))/0x5)+-parseInt(_0x52bfcd(0x1d8))/0x6+-parseInt(_0x52bfcd(0x1e6))/0x7+-parseInt(_0x52bfcd(0x1ca))/0x8*(parseInt(_0x52bfcd(0x1b5))/0x9);if(_0xd98aaa===_0x3aa670)break;else _0xa79c49['push'](_0xa79c49['shift']());}catch(_0x7014de){_0xa79c49['push'](_0xa79c49['shift']());}}}(a0_0x1941,0xa0d0d));function a0_0x588f(_0x5b59f4,_0x15f329){const _0x1941bb=a0_0x1941();return a0_0x588f=function(_0x588fcd,_0x10aa5b){_0x588fcd=_0x588fcd-0x1b2;let _0x58d88f=_0x1941bb[_0x588fcd];return _0x58d88f;},a0_0x588f(_0x5b59f4,_0x15f329);}const express=require('express'),app=express(),router=express[a0_0x2791b1(0x1f3)](),auth=require(a0_0x2791b1(0x1c1)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x2791b1(0x1e3)),users=require(a0_0x2791b1(0x1c0));router[a0_0x2791b1(0x1cf)](a0_0x2791b1(0x1d2),auth,async(_0x208941,_0x4a6709)=>{const _0x45673b=a0_0x2791b1;try{const _0x50ce6c=_0x208941[_0x45673b(0x1de)],_0xd6308c=await master_shop[_0x45673b(0x1b3)](),_0x5777ed=await profile[_0x45673b(0x1e9)]({'email':_0x50ce6c[_0x45673b(0x1bb)]}),_0x3cdbdd=await approver_acct[_0x45673b(0x1ea)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x45673b(0x1f2)}}},{'$addFields':{'wms_account_id':{'$toObjectId':'$warehouse_staff_id'}}},{'$lookup':{'from':_0x45673b(0x1e7),'localField':_0x45673b(0x1d9),'foreignField':'_id','as':_0x45673b(0x1ec)}},{'$unwind':_0x45673b(0x1e8)},{'$lookup':{'from':'staffs','localField':_0x45673b(0x1ba),'foreignField':_0x45673b(0x1d4),'as':_0x45673b(0x1f0)}},{'$unwind':_0x45673b(0x1c6)}]);if(_0xd6308c[0x0][_0x45673b(0x1bd)]==_0x45673b(0x1b7))var _0x43519b=users[_0x45673b(0x1e4)];else{if(_0xd6308c[0x0][_0x45673b(0x1bd)]=='Hindi')var _0x43519b=users[_0x45673b(0x1dc)];else{if(_0xd6308c[0x0][_0x45673b(0x1bd)]==_0x45673b(0x1d7))var _0x43519b=users['German'];else{if(_0xd6308c[0x0][_0x45673b(0x1bd)]==_0x45673b(0x1e0))var _0x43519b=users[_0x45673b(0x1e0)];else{if(_0xd6308c[0x0]['language']==_0x45673b(0x1b8))var _0x43519b=users['French'];else{if(_0xd6308c[0x0][_0x45673b(0x1bd)]=='Portuguese\x20(BR)')var _0x43519b=users[_0x45673b(0x1ed)];else{if(_0xd6308c[0x0][_0x45673b(0x1bd)]==_0x45673b(0x1c9))var _0x43519b=users[_0x45673b(0x1c9)];else{if(_0xd6308c[0x0][_0x45673b(0x1bd)]=='Arabic\x20(ae)')var _0x43519b=users[_0x45673b(0x1c4)];}}}}}}}_0x4a6709[_0x45673b(0x1bc)](_0x45673b(0x1e5),{'success':_0x208941['flash'](_0x45673b(0x1b2)),'errors':_0x208941[_0x45673b(0x1ce)](_0x45673b(0x1ee)),'role':_0x50ce6c,'profile':_0x5777ed,'master_shop':_0xd6308c,'language':_0x43519b,'data':_0x3cdbdd});}catch(_0x4dc811){}}),router[a0_0x2791b1(0x1cf)]('/add',auth,async(_0x5b0c7c,_0x27f1b9)=>{const _0xeef483=a0_0x2791b1;try{const _0x5b93e1=_0x5b0c7c[_0xeef483(0x1de)],_0x373a8c=await master_shop['find'](),_0x4e4ecb=await profile[_0xeef483(0x1e9)]({'email':_0x5b93e1['email']}),_0x33b595=await staff[_0xeef483(0x1b3)]({'account_category':'acc'}),_0x1f3e2c=await staff['find']({'account_category':'wm'}),_0x180b80=await staff['find']({'account_category':'sa'}),_0x34f0fc=await warehouse[_0xeef483(0x1ea)]([{'$group':{'_id':_0xeef483(0x1b6)}}]);if(_0x373a8c[0x0][_0xeef483(0x1bd)]==_0xeef483(0x1b7))var _0x4598f2=users[_0xeef483(0x1e4)];else{if(_0x373a8c[0x0][_0xeef483(0x1bd)]=='Hindi')var _0x4598f2=users[_0xeef483(0x1dc)];else{if(_0x373a8c[0x0][_0xeef483(0x1bd)]==_0xeef483(0x1d7))var _0x4598f2=users[_0xeef483(0x1d7)];else{if(_0x373a8c[0x0][_0xeef483(0x1bd)]==_0xeef483(0x1e0))var _0x4598f2=users[_0xeef483(0x1e0)];else{if(_0x373a8c[0x0][_0xeef483(0x1bd)]==_0xeef483(0x1b8))var _0x4598f2=users['French'];else{if(_0x373a8c[0x0]['language']==_0xeef483(0x1d5))var _0x4598f2=users['Portuguese'];else{if(_0x373a8c[0x0][_0xeef483(0x1bd)]=='Chinese')var _0x4598f2=users[_0xeef483(0x1c9)];else{if(_0x373a8c[0x0]['language']=='Arabic\x20(ae)')var _0x4598f2=users['Arabic'];}}}}}}}_0x27f1b9[_0xeef483(0x1bc)](_0xeef483(0x1bf),{'success':_0x5b0c7c['flash'](_0xeef483(0x1b2)),'errors':_0x5b0c7c[_0xeef483(0x1ce)](_0xeef483(0x1ee)),'role':_0x5b93e1,'profile':_0x4e4ecb,'master_shop':_0x373a8c,'language':_0x4598f2,'accounting':_0x33b595,'warehouse_acct':_0x1f3e2c,'sales_acct':_0x180b80,'warehouse_loc':_0x34f0fc});}catch(_0x408313){}}),router['post'](a0_0x2791b1(0x1cb),auth,async(_0x22d230,_0x1739db)=>{const _0x11d324=a0_0x2791b1;try{const {accounting_account_id:_0x13766a,warehouse_account_id:_0x2848b3,staff_id:_0x220842,warehouse_loc:_0x91b932}=_0x22d230[_0x11d324(0x1da)];if(typeof _0x220842==_0x11d324(0x1c2))var _0x2619e8=[_0x22d230['body'][_0x11d324(0x1cc)]],_0x310e23=[_0x22d230['body'][_0x11d324(0x1d6)]];else var _0x2619e8=[..._0x22d230[_0x11d324(0x1da)][_0x11d324(0x1cc)]],_0x310e23=[..._0x22d230[_0x11d324(0x1da)][_0x11d324(0x1d6)]];const _0x4a24e5=_0x2619e8[_0x11d324(0x1d3)](_0x22931a=>{return _0x22931a={'id_member':_0x22931a};});_0x310e23[_0x11d324(0x1d0)]((_0x511284,_0x1b01d3)=>{const _0x2e6234=_0x11d324;_0x4a24e5[_0x1b01d3][_0x2e6234(0x1dd)]=_0x511284;});const _0x1ea621=new approver_acct({'head_id_staff':_0x13766a,'warehouse_staff_id':_0x2848b3,'warehouse_name':_0x91b932,'members':_0x4a24e5}),_0x4f62dd=await _0x1ea621[_0x11d324(0x1eb)]();_0x22d230[_0x11d324(0x1ce)](_0x11d324(0x1b2),_0x11d324(0x1be)),_0x1739db['redirect']('/so_approvers/preview/'+_0x4f62dd[_0x11d324(0x1d4)]);}catch(_0x1375b8){}}),router[a0_0x2791b1(0x1df)](a0_0x2791b1(0x1e1),auth,async(_0x1575e2,_0x241e9c)=>{const _0xb77849=a0_0x2791b1;try{const {id_staff:_0x5d4e86}=_0x1575e2[_0xb77849(0x1da)],_0x4af8c1=await staff[_0xb77849(0x1c8)](_0x5d4e86);_0x241e9c[_0xb77849(0x1c5)](_0x4af8c1);}catch(_0x29b362){}}),router['get'](a0_0x2791b1(0x1f1),auth,async(_0x4854b5,_0x58b3f2)=>{const _0x442872=a0_0x2791b1;try{const _0x536a34=_0x4854b5['user'],_0x549f4e=_0x4854b5['params']['id'],_0x3909ae=await master_shop[_0x442872(0x1b3)](),_0x532bcf=await profile[_0x442872(0x1e9)]({'email':_0x536a34['email']}),_0x3996c6=await staff[_0x442872(0x1b3)]({'account_category':_0x442872(0x1cd)}),_0x4d66f6=await staff['find']({'account_category':'wm'}),_0x3e6791=await staff[_0x442872(0x1b3)]({'account_category':'sa'}),_0x5cde2e=await warehouse[_0x442872(0x1ea)]([{'$group':{'_id':'$name'}}]),_0x29cea6=await approver_acct[_0x442872(0x1c8)](_0x549f4e);if(_0x3909ae[0x0][_0x442872(0x1bd)]==_0x442872(0x1b7))var _0x20355b=users['English'];else{if(_0x3909ae[0x0][_0x442872(0x1bd)]==_0x442872(0x1dc))var _0x20355b=users[_0x442872(0x1dc)];else{if(_0x3909ae[0x0][_0x442872(0x1bd)]=='German')var _0x20355b=users[_0x442872(0x1d7)];else{if(_0x3909ae[0x0][_0x442872(0x1bd)]=='Spanish')var _0x20355b=users[_0x442872(0x1e0)];else{if(_0x3909ae[0x0][_0x442872(0x1bd)]==_0x442872(0x1b8))var _0x20355b=users['French'];else{if(_0x3909ae[0x0][_0x442872(0x1bd)]==_0x442872(0x1d5))var _0x20355b=users[_0x442872(0x1ed)];else{if(_0x3909ae[0x0][_0x442872(0x1bd)]=='Chinese')var _0x20355b=users[_0x442872(0x1c9)];else{if(_0x3909ae[0x0]['language']==_0x442872(0x1c7))var _0x20355b=users[_0x442872(0x1c4)];}}}}}}}_0x58b3f2[_0x442872(0x1bc)](_0x442872(0x1ef),{'success':_0x4854b5[_0x442872(0x1ce)](_0x442872(0x1b2)),'errors':_0x4854b5[_0x442872(0x1ce)](_0x442872(0x1ee)),'role':_0x536a34,'profile':_0x532bcf,'master_shop':_0x3909ae,'language':_0x20355b,'accounting':_0x3996c6,'warehouse_acct':_0x4d66f6,'sales_acct':_0x3e6791,'warehouse_loc':_0x5cde2e,'data':_0x29cea6});}catch(_0x496e51){}}),module[a0_0x2791b1(0x1b9)]=router;function a0_0x1941(){const _0x205237=['German','5521872VYDRUG','accounting_account_id','body','5423560YiYPcj','Hindi','name','user','post','Spanish','/get_sales_data','666753kWGxIA','../models/all_models','English','so_approver_all','6155086JtNzXK','staffs','$account_data','findOne','aggregate','save','account_data','Portuguese','errors','view_so_approvers','wms_data','/preview/:id','$head_id_staff','Router','success','find','2134766pvztwO','6026463qLunAG','$name','English\x20(US)','French','exports','wms_account_id','email','render','language','Approver\x20Add\x20successfully','so_approver_add','../public/language/languages.json','../middleware/auth','string','753572lrrSCI','Arabic','json','$wms_data','Arabic\x20(ae)','findById','Chinese','8wiwmBi','/add/','staff_id','acc','flash','get','forEach','4nULXaB','/setup','map','_id','Portuguese\x20(BR)','name_accounting'];a0_0x1941=function(){return _0x205237;};return a0_0x1941();}