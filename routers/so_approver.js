function a0_0x5600(_0x1e8e64,_0x411567){const _0x125f43=a0_0x125f();return a0_0x5600=function(_0x560006,_0x374a8d){_0x560006=_0x560006-0x1c6;let _0x19cfca=_0x125f43[_0x560006];return _0x19cfca;},a0_0x5600(_0x1e8e64,_0x411567);}const a0_0x438788=a0_0x5600;(function(_0x2eb330,_0x265e8d){const _0x5a778e=a0_0x5600,_0x2a99ec=_0x2eb330();while(!![]){try{const _0x21d5c9=-parseInt(_0x5a778e(0x202))/0x1+-parseInt(_0x5a778e(0x1ea))/0x2*(parseInt(_0x5a778e(0x1f9))/0x3)+parseInt(_0x5a778e(0x1e0))/0x4+parseInt(_0x5a778e(0x1e1))/0x5+parseInt(_0x5a778e(0x1e4))/0x6+-parseInt(_0x5a778e(0x203))/0x7*(parseInt(_0x5a778e(0x1d7))/0x8)+-parseInt(_0x5a778e(0x1d8))/0x9*(-parseInt(_0x5a778e(0x1fe))/0xa);if(_0x21d5c9===_0x265e8d)break;else _0x2a99ec['push'](_0x2a99ec['shift']());}catch(_0x3180ba){_0x2a99ec['push'](_0x2a99ec['shift']());}}}(a0_0x125f,0x44155));function a0_0x125f(){const _0x470b44=['staff_id','Arabic\x20(ae)','success','Router','Approver\x20Add\x20successfully','findOne','Portuguese','redirect','57105fWNflh','$name','$account_data','German','body','1265540JXNvCq','aggregate','/add','../models/all_models','267687tBCREq','3291253UcuNHG','/setup','get','params','$wms_data','find','account_data','English\x20(US)','language','Arabic','name','errors','post','view_so_approvers','render','email','string','Spanish','wms_account_id','8NnyJfE','45kpsHjX','acc','flash','exports','user','French','name_accounting','Hindi','566580HvjITa','1400875ONXarO','json','findById','115500rTmGUV','accounting_account_id','../middleware/auth','Chinese','$warehouse_staff_id','Portuguese\x20(BR)','6iKGVor','/preview/:id','save','express','staffs','English','../public/language/languages.json'];a0_0x125f=function(){return _0x470b44;};return a0_0x125f();}const express=require(a0_0x438788(0x1ed)),app=express(),router=express[a0_0x438788(0x1f4)](),auth=require(a0_0x438788(0x1e6)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x438788(0x201)),users=require(a0_0x438788(0x1f0));router['get'](a0_0x438788(0x204),auth,async(_0x10116c,_0x550cc5)=>{const _0x32d81a=a0_0x438788;try{const _0x12394e=_0x10116c[_0x32d81a(0x1dc)],_0x138e63=await master_shop[_0x32d81a(0x1c9)](),_0x33cba6=await profile['findOne']({'email':_0x12394e['email']}),_0x158daf=await approver_acct[_0x32d81a(0x1ff)]([{'$addFields':{'accounting_account_id':{'$toObjectId':'$head_id_staff'}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x32d81a(0x1e8)}}},{'$lookup':{'from':_0x32d81a(0x1ee),'localField':_0x32d81a(0x1e5),'foreignField':'_id','as':_0x32d81a(0x1ca)}},{'$unwind':_0x32d81a(0x1fb)},{'$lookup':{'from':_0x32d81a(0x1ee),'localField':_0x32d81a(0x1d6),'foreignField':'_id','as':'wms_data'}},{'$unwind':_0x32d81a(0x1c8)}]);if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1cb))var _0x3c1eaa=users['English'];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1df))var _0x3c1eaa=users[_0x32d81a(0x1df)];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1fc))var _0x3c1eaa=users[_0x32d81a(0x1fc)];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1d5))var _0x3c1eaa=users['Spanish'];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1dd))var _0x3c1eaa=users[_0x32d81a(0x1dd)];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1e9))var _0x3c1eaa=users[_0x32d81a(0x1f7)];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]=='Chinese')var _0x3c1eaa=users[_0x32d81a(0x1e7)];else{if(_0x138e63[0x0][_0x32d81a(0x1cc)]==_0x32d81a(0x1f2))var _0x3c1eaa=users[_0x32d81a(0x1cd)];}}}}}}}_0x550cc5[_0x32d81a(0x1d2)]('so_approver_all',{'success':_0x10116c[_0x32d81a(0x1da)](_0x32d81a(0x1f3)),'errors':_0x10116c['flash']('errors'),'role':_0x12394e,'profile':_0x33cba6,'master_shop':_0x138e63,'language':_0x3c1eaa,'data':_0x158daf});}catch(_0x446388){}}),router[a0_0x438788(0x1c6)](a0_0x438788(0x200),auth,async(_0x3a851e,_0x26a34b)=>{const _0x286f39=a0_0x438788;try{const _0x30d28c=_0x3a851e[_0x286f39(0x1dc)],_0x2eef63=await master_shop[_0x286f39(0x1c9)](),_0x265472=await profile[_0x286f39(0x1f6)]({'email':_0x30d28c[_0x286f39(0x1d3)]}),_0x46f874=await staff['find']({'account_category':_0x286f39(0x1d9)}),_0x4811d6=await staff[_0x286f39(0x1c9)]({'account_category':'wm'}),_0x3e95b8=await staff[_0x286f39(0x1c9)]({'account_category':'sa'}),_0x37bfb8=await warehouse[_0x286f39(0x1ff)]([{'$group':{'_id':_0x286f39(0x1fa)}}]);if(_0x2eef63[0x0]['language']==_0x286f39(0x1cb))var _0xc33a5f=users[_0x286f39(0x1ef)];else{if(_0x2eef63[0x0]['language']==_0x286f39(0x1df))var _0xc33a5f=users[_0x286f39(0x1df)];else{if(_0x2eef63[0x0]['language']==_0x286f39(0x1fc))var _0xc33a5f=users[_0x286f39(0x1fc)];else{if(_0x2eef63[0x0]['language']=='Spanish')var _0xc33a5f=users[_0x286f39(0x1d5)];else{if(_0x2eef63[0x0]['language']==_0x286f39(0x1dd))var _0xc33a5f=users['French'];else{if(_0x2eef63[0x0]['language']==_0x286f39(0x1e9))var _0xc33a5f=users[_0x286f39(0x1f7)];else{if(_0x2eef63[0x0]['language']=='Chinese')var _0xc33a5f=users[_0x286f39(0x1e7)];else{if(_0x2eef63[0x0][_0x286f39(0x1cc)]==_0x286f39(0x1f2))var _0xc33a5f=users[_0x286f39(0x1cd)];}}}}}}}_0x26a34b[_0x286f39(0x1d2)]('so_approver_add',{'success':_0x3a851e[_0x286f39(0x1da)](_0x286f39(0x1f3)),'errors':_0x3a851e[_0x286f39(0x1da)](_0x286f39(0x1cf)),'role':_0x30d28c,'profile':_0x265472,'master_shop':_0x2eef63,'language':_0xc33a5f,'accounting':_0x46f874,'warehouse_acct':_0x4811d6,'sales_acct':_0x3e95b8,'warehouse_loc':_0x37bfb8});}catch(_0x437ce8){}}),router[a0_0x438788(0x1d0)]('/add/',auth,async(_0x5a7d50,_0x1007cc)=>{const _0x38d766=a0_0x438788;try{const {accounting_account_id:_0x10424c,warehouse_account_id:_0x41d463,staff_id:_0x433efe,warehouse_loc:_0x364b83}=_0x5a7d50[_0x38d766(0x1fd)];if(typeof _0x433efe==_0x38d766(0x1d4))var _0x33f5f3=[_0x5a7d50[_0x38d766(0x1fd)][_0x38d766(0x1f1)]],_0x516b6d=[_0x5a7d50[_0x38d766(0x1fd)][_0x38d766(0x1de)]];else var _0x33f5f3=[..._0x5a7d50[_0x38d766(0x1fd)][_0x38d766(0x1f1)]],_0x516b6d=[..._0x5a7d50['body'][_0x38d766(0x1de)]];const _0x1edc4e=_0x33f5f3['map'](_0x288b80=>{return _0x288b80={'id_member':_0x288b80};});_0x516b6d['forEach']((_0x2bc6a5,_0x5a8af3)=>{const _0x3271cf=_0x38d766;_0x1edc4e[_0x5a8af3][_0x3271cf(0x1ce)]=_0x2bc6a5;});const _0x39b505=new approver_acct({'head_id_staff':_0x10424c,'warehouse_staff_id':_0x41d463,'warehouse_name':_0x364b83,'members':_0x1edc4e}),_0x334425=await _0x39b505[_0x38d766(0x1ec)]();_0x5a7d50[_0x38d766(0x1da)](_0x38d766(0x1f3),_0x38d766(0x1f5)),_0x1007cc[_0x38d766(0x1f8)]('/so_approvers/preview/'+_0x334425['_id']);}catch(_0x5abfa5){}}),router[a0_0x438788(0x1d0)]('/get_sales_data',auth,async(_0x38e85a,_0x49ab29)=>{const _0x16a0e8=a0_0x438788;try{const {id_staff:_0x3d27c1}=_0x38e85a[_0x16a0e8(0x1fd)],_0x4f4cbc=await staff[_0x16a0e8(0x1e3)](_0x3d27c1);_0x49ab29[_0x16a0e8(0x1e2)](_0x4f4cbc);}catch(_0x4b2479){}}),router[a0_0x438788(0x1c6)](a0_0x438788(0x1eb),auth,async(_0x5c0937,_0xf479b2)=>{const _0x108d20=a0_0x438788;try{const _0x3833f4=_0x5c0937[_0x108d20(0x1dc)],_0x316e4f=_0x5c0937[_0x108d20(0x1c7)]['id'],_0x25b7b4=await master_shop[_0x108d20(0x1c9)](),_0x48ced0=await profile[_0x108d20(0x1f6)]({'email':_0x3833f4[_0x108d20(0x1d3)]}),_0x5cab82=await staff[_0x108d20(0x1c9)]({'account_category':'acc'}),_0x3862ea=await staff[_0x108d20(0x1c9)]({'account_category':'wm'}),_0x464a83=await staff['find']({'account_category':'sa'}),_0x2780d2=await warehouse['aggregate']([{'$group':{'_id':_0x108d20(0x1fa)}}]),_0x2ca1ed=await approver_acct[_0x108d20(0x1e3)](_0x316e4f);if(_0x25b7b4[0x0][_0x108d20(0x1cc)]=='English\x20(US)')var _0x511519=users[_0x108d20(0x1ef)];else{if(_0x25b7b4[0x0][_0x108d20(0x1cc)]==_0x108d20(0x1df))var _0x511519=users[_0x108d20(0x1df)];else{if(_0x25b7b4[0x0]['language']=='German')var _0x511519=users[_0x108d20(0x1fc)];else{if(_0x25b7b4[0x0][_0x108d20(0x1cc)]==_0x108d20(0x1d5))var _0x511519=users[_0x108d20(0x1d5)];else{if(_0x25b7b4[0x0][_0x108d20(0x1cc)]==_0x108d20(0x1dd))var _0x511519=users[_0x108d20(0x1dd)];else{if(_0x25b7b4[0x0]['language']==_0x108d20(0x1e9))var _0x511519=users[_0x108d20(0x1f7)];else{if(_0x25b7b4[0x0][_0x108d20(0x1cc)]==_0x108d20(0x1e7))var _0x511519=users[_0x108d20(0x1e7)];else{if(_0x25b7b4[0x0][_0x108d20(0x1cc)]==_0x108d20(0x1f2))var _0x511519=users[_0x108d20(0x1cd)];}}}}}}}_0xf479b2[_0x108d20(0x1d2)](_0x108d20(0x1d1),{'success':_0x5c0937['flash'](_0x108d20(0x1f3)),'errors':_0x5c0937[_0x108d20(0x1da)](_0x108d20(0x1cf)),'role':_0x3833f4,'profile':_0x48ced0,'master_shop':_0x25b7b4,'language':_0x511519,'accounting':_0x5cab82,'warehouse_acct':_0x3862ea,'sales_acct':_0x464a83,'warehouse_loc':_0x2780d2,'data':_0x2ca1ed});}catch(_0x2dc6c8){}}),module[a0_0x438788(0x1db)]=router;