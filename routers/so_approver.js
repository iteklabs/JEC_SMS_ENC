const a0_0xf92d07=a0_0x5514;(function(_0x161334,_0x119968){const _0x5dce76=a0_0x5514,_0x32d901=_0x161334();while(!![]){try{const _0x2daee3=parseInt(_0x5dce76(0x1bc))/0x1+-parseInt(_0x5dce76(0x184))/0x2*(-parseInt(_0x5dce76(0x186))/0x3)+parseInt(_0x5dce76(0x188))/0x4*(-parseInt(_0x5dce76(0x1a6))/0x5)+-parseInt(_0x5dce76(0x1ab))/0x6+-parseInt(_0x5dce76(0x1b2))/0x7*(-parseInt(_0x5dce76(0x1a3))/0x8)+parseInt(_0x5dce76(0x1af))/0x9*(-parseInt(_0x5dce76(0x1a1))/0xa)+-parseInt(_0x5dce76(0x18a))/0xb*(-parseInt(_0x5dce76(0x183))/0xc);if(_0x2daee3===_0x119968)break;else _0x32d901['push'](_0x32d901['shift']());}catch(_0x4e3e1f){_0x32d901['push'](_0x32d901['shift']());}}}(a0_0x5601,0x5d220));function a0_0x5601(){const _0xecd460=['Portuguese','German','express','_id','$head_id_staff','English\x20(US)','12HUOHqk','582412kbziVy','staffs','3SpVXex','account_data','4kZYcbS','$name','523325zyptKB','wms_account_id','acc','map','user','find','/add/','Router','English','flash','body','French','name','get','/so_approvers/preview/','params','Chinese','success','post','../models/all_models','Portuguese\x20(BR)','so_approver_all','aggregate','2369340JlESPE','json','2280PbEfgl','so_approver_add','staff_id','1674865uLvLvF','view_so_approvers','/get_sales_data','findOne','findById','3614094lyDqkQ','email','$warehouse_staff_id','errors','9nDyQkP','render','/preview/:id','17185SIVfTv','Approver\x20Add\x20successfully','Hindi','language','name_accounting','Spanish','save','wms_data','Arabic\x20(ae)','Arabic','517272wuYKwv','/setup'];a0_0x5601=function(){return _0xecd460;};return a0_0x5601();}const express=require(a0_0xf92d07(0x1c0)),app=express(),router=express[a0_0xf92d07(0x191)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0xf92d07(0x19d)),users=require('../public/language/languages.json');function a0_0x5514(_0x2cf527,_0x3b37f2){const _0x560168=a0_0x5601();return a0_0x5514=function(_0x55145d,_0x13a0b5){_0x55145d=_0x55145d-0x182;let _0x1a8aeb=_0x560168[_0x55145d];return _0x1a8aeb;},a0_0x5514(_0x2cf527,_0x3b37f2);}router[a0_0xf92d07(0x197)](a0_0xf92d07(0x1bd),auth,async(_0x65c031,_0x11c17d)=>{const _0x56e300=a0_0xf92d07;try{const _0x2e7d1e=_0x65c031[_0x56e300(0x18e)],_0x58c6dc=await master_shop['find'](),_0x2024e9=await profile['findOne']({'email':_0x2e7d1e[_0x56e300(0x1ac)]}),_0x1d028b=await approver_acct[_0x56e300(0x1a0)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x56e300(0x1c2)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x56e300(0x1ad)}}},{'$lookup':{'from':'staffs','localField':'accounting_account_id','foreignField':_0x56e300(0x1c1),'as':_0x56e300(0x187)}},{'$unwind':'$account_data'},{'$lookup':{'from':_0x56e300(0x185),'localField':_0x56e300(0x18b),'foreignField':_0x56e300(0x1c1),'as':_0x56e300(0x1b9)}},{'$unwind':'$wms_data'}]);if(_0x58c6dc[0x0][_0x56e300(0x1b5)]==_0x56e300(0x182))var _0x399d0f=users[_0x56e300(0x192)];else{if(_0x58c6dc[0x0][_0x56e300(0x1b5)]=='Hindi')var _0x399d0f=users[_0x56e300(0x1b4)];else{if(_0x58c6dc[0x0][_0x56e300(0x1b5)]=='German')var _0x399d0f=users['German'];else{if(_0x58c6dc[0x0][_0x56e300(0x1b5)]==_0x56e300(0x1b7))var _0x399d0f=users[_0x56e300(0x1b7)];else{if(_0x58c6dc[0x0][_0x56e300(0x1b5)]==_0x56e300(0x195))var _0x399d0f=users[_0x56e300(0x195)];else{if(_0x58c6dc[0x0]['language']==_0x56e300(0x19e))var _0x399d0f=users[_0x56e300(0x1be)];else{if(_0x58c6dc[0x0]['language']==_0x56e300(0x19a))var _0x399d0f=users[_0x56e300(0x19a)];else{if(_0x58c6dc[0x0][_0x56e300(0x1b5)]==_0x56e300(0x1ba))var _0x399d0f=users[_0x56e300(0x1bb)];}}}}}}}_0x11c17d['render'](_0x56e300(0x19f),{'success':_0x65c031['flash'](_0x56e300(0x19b)),'errors':_0x65c031[_0x56e300(0x193)](_0x56e300(0x1ae)),'role':_0x2e7d1e,'profile':_0x2024e9,'master_shop':_0x58c6dc,'language':_0x399d0f,'data':_0x1d028b});}catch(_0x374f8c){}}),router['get']('/add',auth,async(_0x414ef6,_0x5babb6)=>{const _0x1571cf=a0_0xf92d07;try{const _0x50c65a=_0x414ef6[_0x1571cf(0x18e)],_0x4258b9=await master_shop[_0x1571cf(0x18f)](),_0xae0cec=await profile[_0x1571cf(0x1a9)]({'email':_0x50c65a[_0x1571cf(0x1ac)]}),_0x3dd388=await staff[_0x1571cf(0x18f)]({'account_category':_0x1571cf(0x18c)}),_0x1bdb8c=await staff[_0x1571cf(0x18f)]({'account_category':'wm'}),_0x39de03=await staff[_0x1571cf(0x18f)]({'account_category':'sa'}),_0x287f91=await warehouse['aggregate']([{'$group':{'_id':'$name'}}]);if(_0x4258b9[0x0]['language']==_0x1571cf(0x182))var _0x238a04=users[_0x1571cf(0x192)];else{if(_0x4258b9[0x0][_0x1571cf(0x1b5)]=='Hindi')var _0x238a04=users[_0x1571cf(0x1b4)];else{if(_0x4258b9[0x0][_0x1571cf(0x1b5)]==_0x1571cf(0x1bf))var _0x238a04=users[_0x1571cf(0x1bf)];else{if(_0x4258b9[0x0][_0x1571cf(0x1b5)]==_0x1571cf(0x1b7))var _0x238a04=users[_0x1571cf(0x1b7)];else{if(_0x4258b9[0x0]['language']==_0x1571cf(0x195))var _0x238a04=users['French'];else{if(_0x4258b9[0x0]['language']==_0x1571cf(0x19e))var _0x238a04=users[_0x1571cf(0x1be)];else{if(_0x4258b9[0x0][_0x1571cf(0x1b5)]=='Chinese')var _0x238a04=users['Chinese'];else{if(_0x4258b9[0x0]['language']==_0x1571cf(0x1ba))var _0x238a04=users[_0x1571cf(0x1bb)];}}}}}}}_0x5babb6[_0x1571cf(0x1b0)](_0x1571cf(0x1a4),{'success':_0x414ef6['flash'](_0x1571cf(0x19b)),'errors':_0x414ef6[_0x1571cf(0x193)](_0x1571cf(0x1ae)),'role':_0x50c65a,'profile':_0xae0cec,'master_shop':_0x4258b9,'language':_0x238a04,'accounting':_0x3dd388,'warehouse_acct':_0x1bdb8c,'sales_acct':_0x39de03,'warehouse_loc':_0x287f91});}catch(_0x10f75c){}}),router[a0_0xf92d07(0x19c)](a0_0xf92d07(0x190),auth,async(_0x42d15e,_0x3b916f)=>{const _0x387435=a0_0xf92d07;try{const {accounting_account_id:_0x1bbb41,warehouse_account_id:_0x291311,staff_id:_0x2135b8,warehouse_loc:_0xfa6b79}=_0x42d15e['body'];if(typeof _0x2135b8=='string')var _0x3e42aa=[_0x42d15e[_0x387435(0x194)][_0x387435(0x1a5)]],_0x295346=[_0x42d15e[_0x387435(0x194)]['name_accounting']];else var _0x3e42aa=[..._0x42d15e[_0x387435(0x194)]['staff_id']],_0x295346=[..._0x42d15e[_0x387435(0x194)][_0x387435(0x1b6)]];const _0x270ce5=_0x3e42aa[_0x387435(0x18d)](_0x3497a5=>{return _0x3497a5={'id_member':_0x3497a5};});_0x295346['forEach']((_0x36dfad,_0x314d3c)=>{const _0x330068=_0x387435;_0x270ce5[_0x314d3c][_0x330068(0x196)]=_0x36dfad;});const _0x6a0754=new approver_acct({'head_id_staff':_0x1bbb41,'warehouse_staff_id':_0x291311,'warehouse_name':_0xfa6b79,'members':_0x270ce5}),_0x274b7d=await _0x6a0754[_0x387435(0x1b8)]();_0x42d15e[_0x387435(0x193)](_0x387435(0x19b),_0x387435(0x1b3)),_0x3b916f['redirect'](_0x387435(0x198)+_0x274b7d['_id']);}catch(_0x4e7492){}}),router['post'](a0_0xf92d07(0x1a8),auth,async(_0x4bffa1,_0xbe0fda)=>{const _0xf87141=a0_0xf92d07;try{const {id_staff:_0x1ab1f9}=_0x4bffa1[_0xf87141(0x194)],_0x1cc5fb=await staff[_0xf87141(0x1aa)](_0x1ab1f9);_0xbe0fda[_0xf87141(0x1a2)](_0x1cc5fb);}catch(_0x1f9fdc){}}),router[a0_0xf92d07(0x197)](a0_0xf92d07(0x1b1),auth,async(_0x1cc969,_0x1d5a54)=>{const _0x3ac004=a0_0xf92d07;try{const _0xaa6f39=_0x1cc969[_0x3ac004(0x18e)],_0x50a5ac=_0x1cc969[_0x3ac004(0x199)]['id'],_0x1a8c55=await master_shop['find'](),_0x4c96da=await profile['findOne']({'email':_0xaa6f39['email']}),_0xfc266b=await staff[_0x3ac004(0x18f)]({'account_category':_0x3ac004(0x18c)}),_0x8dd052=await staff[_0x3ac004(0x18f)]({'account_category':'wm'}),_0x4abf81=await staff[_0x3ac004(0x18f)]({'account_category':'sa'}),_0xecc4df=await warehouse[_0x3ac004(0x1a0)]([{'$group':{'_id':_0x3ac004(0x189)}}]),_0x562a47=await approver_acct[_0x3ac004(0x1aa)](_0x50a5ac);if(_0x1a8c55[0x0][_0x3ac004(0x1b5)]==_0x3ac004(0x182))var _0x571ccd=users[_0x3ac004(0x192)];else{if(_0x1a8c55[0x0]['language']==_0x3ac004(0x1b4))var _0x571ccd=users['Hindi'];else{if(_0x1a8c55[0x0][_0x3ac004(0x1b5)]==_0x3ac004(0x1bf))var _0x571ccd=users[_0x3ac004(0x1bf)];else{if(_0x1a8c55[0x0][_0x3ac004(0x1b5)]==_0x3ac004(0x1b7))var _0x571ccd=users[_0x3ac004(0x1b7)];else{if(_0x1a8c55[0x0][_0x3ac004(0x1b5)]==_0x3ac004(0x195))var _0x571ccd=users[_0x3ac004(0x195)];else{if(_0x1a8c55[0x0]['language']==_0x3ac004(0x19e))var _0x571ccd=users[_0x3ac004(0x1be)];else{if(_0x1a8c55[0x0][_0x3ac004(0x1b5)]=='Chinese')var _0x571ccd=users[_0x3ac004(0x19a)];else{if(_0x1a8c55[0x0][_0x3ac004(0x1b5)]==_0x3ac004(0x1ba))var _0x571ccd=users[_0x3ac004(0x1bb)];}}}}}}}_0x1d5a54[_0x3ac004(0x1b0)](_0x3ac004(0x1a7),{'success':_0x1cc969[_0x3ac004(0x193)]('success'),'errors':_0x1cc969[_0x3ac004(0x193)](_0x3ac004(0x1ae)),'role':_0xaa6f39,'profile':_0x4c96da,'master_shop':_0x1a8c55,'language':_0x571ccd,'accounting':_0xfc266b,'warehouse_acct':_0x8dd052,'sales_acct':_0x4abf81,'warehouse_loc':_0xecc4df,'data':_0x562a47});}catch(_0x120e22){}}),module['exports']=router;