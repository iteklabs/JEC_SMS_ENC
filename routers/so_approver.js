function a0_0x4a44(_0x520b90,_0x1ef8c1){const _0x365e86=a0_0x365e();return a0_0x4a44=function(_0x4a4431,_0x19d551){_0x4a4431=_0x4a4431-0xc8;let _0x52c2cf=_0x365e86[_0x4a4431];return _0x52c2cf;},a0_0x4a44(_0x520b90,_0x1ef8c1);}const a0_0x173cd2=a0_0x4a44;(function(_0x490860,_0x139265){const _0x1128ca=a0_0x4a44,_0x190f41=_0x490860();while(!![]){try{const _0x451ca9=parseInt(_0x1128ca(0xe8))/0x1+parseInt(_0x1128ca(0xf1))/0x2+-parseInt(_0x1128ca(0xfb))/0x3*(-parseInt(_0x1128ca(0x105))/0x4)+-parseInt(_0x1128ca(0xeb))/0x5*(parseInt(_0x1128ca(0xd5))/0x6)+parseInt(_0x1128ca(0xfd))/0x7+parseInt(_0x1128ca(0xe9))/0x8+-parseInt(_0x1128ca(0x104))/0x9*(parseInt(_0x1128ca(0xec))/0xa);if(_0x451ca9===_0x139265)break;else _0x190f41['push'](_0x190f41['shift']());}catch(_0x1346b4){_0x190f41['push'](_0x190f41['shift']());}}}(a0_0x365e,0x96f9e));const express=require('express'),app=express(),router=express[a0_0x173cd2(0xef)](),auth=require(a0_0x173cd2(0xed)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x173cd2(0xf4)),users=require(a0_0x173cd2(0xde));router[a0_0x173cd2(0xcf)](a0_0x173cd2(0x102),auth,async(_0x5165d1,_0x14e80d)=>{const _0x56754e=a0_0x173cd2;try{const _0x2f4462=_0x5165d1[_0x56754e(0xe5)],_0x556fd7=await master_shop[_0x56754e(0xe0)](),_0x42fc81=await profile[_0x56754e(0xcb)]({'email':_0x2f4462[_0x56754e(0xf2)]}),_0x4e1e20=await approver_acct[_0x56754e(0xfa)]([{'$addFields':{'accounting_account_id':{'$toObjectId':'$head_id_staff'}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x56754e(0xf7)}}},{'$lookup':{'from':_0x56754e(0xda),'localField':_0x56754e(0xd1),'foreignField':_0x56754e(0xc8),'as':'account_data'}},{'$unwind':_0x56754e(0xd0)},{'$lookup':{'from':_0x56754e(0xda),'localField':_0x56754e(0xf5),'foreignField':_0x56754e(0xc8),'as':_0x56754e(0xdf)}},{'$unwind':'$wms_data'}]);if(_0x556fd7[0x0]['language']==_0x56754e(0xfc))var _0x30ead2=users['English'];else{if(_0x556fd7[0x0]['language']==_0x56754e(0xcd))var _0x30ead2=users[_0x56754e(0xcd)];else{if(_0x556fd7[0x0][_0x56754e(0x101)]==_0x56754e(0xdc))var _0x30ead2=users[_0x56754e(0xdc)];else{if(_0x556fd7[0x0][_0x56754e(0x101)]==_0x56754e(0xe7))var _0x30ead2=users[_0x56754e(0xe7)];else{if(_0x556fd7[0x0]['language']=='French')var _0x30ead2=users[_0x56754e(0xe1)];else{if(_0x556fd7[0x0][_0x56754e(0x101)]==_0x56754e(0xd3))var _0x30ead2=users[_0x56754e(0xdb)];else{if(_0x556fd7[0x0]['language']==_0x56754e(0xc9))var _0x30ead2=users[_0x56754e(0xc9)];else{if(_0x556fd7[0x0][_0x56754e(0x101)]==_0x56754e(0xcc))var _0x30ead2=users[_0x56754e(0xd7)];}}}}}}}_0x14e80d[_0x56754e(0xce)]('so_approver_all',{'success':_0x5165d1['flash']('success'),'errors':_0x5165d1[_0x56754e(0xd2)](_0x56754e(0xea)),'role':_0x2f4462,'profile':_0x42fc81,'master_shop':_0x556fd7,'language':_0x30ead2,'data':_0x4e1e20});}catch(_0xea85b0){}}),router[a0_0x173cd2(0xcf)](a0_0x173cd2(0x100),auth,async(_0x17eb45,_0x335685)=>{const _0x30e4ab=a0_0x173cd2;try{const _0x2391cb=_0x17eb45[_0x30e4ab(0xe5)],_0xbe14ba=await master_shop[_0x30e4ab(0xe0)](),_0x485ec6=await profile[_0x30e4ab(0xcb)]({'email':_0x2391cb[_0x30e4ab(0xf2)]}),_0x180d8d=await staff[_0x30e4ab(0xe0)]({'account_category':_0x30e4ab(0xee)}),_0x1d0afa=await staff[_0x30e4ab(0xe0)]({'account_category':'wm'}),_0x3f0ac7=await staff['find']({'account_category':'sa'}),_0x5416f8=await warehouse['aggregate']([{'$group':{'_id':_0x30e4ab(0xf8)}}]);if(_0xbe14ba[0x0]['language']==_0x30e4ab(0xfc))var _0x29a8bd=users[_0x30e4ab(0xca)];else{if(_0xbe14ba[0x0]['language']==_0x30e4ab(0xcd))var _0x29a8bd=users[_0x30e4ab(0xcd)];else{if(_0xbe14ba[0x0][_0x30e4ab(0x101)]=='German')var _0x29a8bd=users['German'];else{if(_0xbe14ba[0x0][_0x30e4ab(0x101)]=='Spanish')var _0x29a8bd=users['Spanish'];else{if(_0xbe14ba[0x0][_0x30e4ab(0x101)]==_0x30e4ab(0xe1))var _0x29a8bd=users[_0x30e4ab(0xe1)];else{if(_0xbe14ba[0x0][_0x30e4ab(0x101)]==_0x30e4ab(0xd3))var _0x29a8bd=users[_0x30e4ab(0xdb)];else{if(_0xbe14ba[0x0][_0x30e4ab(0x101)]=='Chinese')var _0x29a8bd=users['Chinese'];else{if(_0xbe14ba[0x0]['language']==_0x30e4ab(0xcc))var _0x29a8bd=users[_0x30e4ab(0xd7)];}}}}}}}_0x335685[_0x30e4ab(0xce)]('so_approver_add',{'success':_0x17eb45['flash'](_0x30e4ab(0xf3)),'errors':_0x17eb45['flash'](_0x30e4ab(0xea)),'role':_0x2391cb,'profile':_0x485ec6,'master_shop':_0xbe14ba,'language':_0x29a8bd,'accounting':_0x180d8d,'warehouse_acct':_0x1d0afa,'sales_acct':_0x3f0ac7,'warehouse_loc':_0x5416f8});}catch(_0x282c2e){}}),router[a0_0x173cd2(0xe2)](a0_0x173cd2(0xe3),auth,async(_0x557995,_0x2be188)=>{const _0x2746cd=a0_0x173cd2;try{const {accounting_account_id:_0x504e75,warehouse_account_id:_0x15c9f0,staff_id:_0x4237cd,warehouse_loc:_0x2337f0}=_0x557995[_0x2746cd(0xd6)];if(typeof _0x4237cd=='string')var _0x15d577=[_0x557995[_0x2746cd(0xd6)]['staff_id']],_0x492b59=[_0x557995[_0x2746cd(0xd6)][_0x2746cd(0xff)]];else var _0x15d577=[..._0x557995[_0x2746cd(0xd6)][_0x2746cd(0xf9)]],_0x492b59=[..._0x557995[_0x2746cd(0xd6)][_0x2746cd(0xff)]];const _0x39f9b4=_0x15d577['map'](_0xc43563=>{return _0xc43563={'id_member':_0xc43563};});_0x492b59[_0x2746cd(0xe4)]((_0x4274d2,_0x1429c5)=>{const _0x493ec4=_0x2746cd;_0x39f9b4[_0x1429c5][_0x493ec4(0xd9)]=_0x4274d2;});const _0x43d3ac=new approver_acct({'head_id_staff':_0x504e75,'warehouse_staff_id':_0x15c9f0,'warehouse_name':_0x2337f0,'members':_0x39f9b4}),_0xf1ada5=await _0x43d3ac['save']();_0x557995[_0x2746cd(0xd2)]('success',_0x2746cd(0xd8)),_0x2be188[_0x2746cd(0xd4)](_0x2746cd(0xf0)+_0xf1ada5['_id']);}catch(_0x18064f){}}),router[a0_0x173cd2(0xe2)](a0_0x173cd2(0xdd),auth,async(_0x5cb460,_0x4550eb)=>{const _0x3ec8c2=a0_0x173cd2;try{const {id_staff:_0x37dd00}=_0x5cb460[_0x3ec8c2(0xd6)],_0x4bce46=await staff['findById'](_0x37dd00);_0x4550eb[_0x3ec8c2(0x106)](_0x4bce46);}catch(_0x6cb393){}}),router['get'](a0_0x173cd2(0xf6),auth,async(_0x285dc6,_0x554859)=>{const _0x2c3b44=a0_0x173cd2;try{const _0x4029c1=_0x285dc6[_0x2c3b44(0xe5)],_0x14ff8f=_0x285dc6[_0x2c3b44(0x103)]['id'],_0xe7f3f3=await master_shop[_0x2c3b44(0xe0)](),_0x466c61=await profile[_0x2c3b44(0xcb)]({'email':_0x4029c1[_0x2c3b44(0xf2)]}),_0x2977b3=await staff['find']({'account_category':_0x2c3b44(0xee)}),_0x4a6998=await staff['find']({'account_category':'wm'}),_0x1d3be2=await staff[_0x2c3b44(0xe0)]({'account_category':'sa'}),_0xb744cd=await warehouse[_0x2c3b44(0xfa)]([{'$group':{'_id':_0x2c3b44(0xf8)}}]),_0x14217b=await approver_acct[_0x2c3b44(0xe6)](_0x14ff8f);if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]==_0x2c3b44(0xfc))var _0x2c3650=users[_0x2c3b44(0xca)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]==_0x2c3b44(0xcd))var _0x2c3650=users[_0x2c3b44(0xcd)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]=='German')var _0x2c3650=users[_0x2c3b44(0xdc)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]=='Spanish')var _0x2c3650=users[_0x2c3b44(0xe7)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]==_0x2c3b44(0xe1))var _0x2c3650=users[_0x2c3b44(0xe1)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]==_0x2c3b44(0xd3))var _0x2c3650=users[_0x2c3b44(0xdb)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]==_0x2c3b44(0xc9))var _0x2c3650=users[_0x2c3b44(0xc9)];else{if(_0xe7f3f3[0x0][_0x2c3b44(0x101)]==_0x2c3b44(0xcc))var _0x2c3650=users[_0x2c3b44(0xd7)];}}}}}}}_0x554859['render'](_0x2c3b44(0xfe),{'success':_0x285dc6[_0x2c3b44(0xd2)](_0x2c3b44(0xf3)),'errors':_0x285dc6[_0x2c3b44(0xd2)](_0x2c3b44(0xea)),'role':_0x4029c1,'profile':_0x466c61,'master_shop':_0xe7f3f3,'language':_0x2c3650,'accounting':_0x2977b3,'warehouse_acct':_0x4a6998,'sales_acct':_0x1d3be2,'warehouse_loc':_0xb744cd,'data':_0x14217b});}catch(_0x3953fa){}}),module['exports']=router;function a0_0x365e(){const _0x34c89d=['findOne','Arabic\x20(ae)','Hindi','render','get','$account_data','accounting_account_id','flash','Portuguese\x20(BR)','redirect','162wsTibI','body','Arabic','Approver\x20Add\x20successfully','name','staffs','Portuguese','German','/get_sales_data','../public/language/languages.json','wms_data','find','French','post','/add/','forEach','user','findById','Spanish','642965CAWWdo','6461024PojDVd','errors','131105YLhzaX','11012630NWFryO','../middleware/auth','acc','Router','/so_approvers/preview/','490634cGyrzN','email','success','../models/all_models','wms_account_id','/preview/:id','$warehouse_staff_id','$name','staff_id','aggregate','10641ZfyQFE','English\x20(US)','4811100RERHqE','view_so_approvers','name_accounting','/add','language','/setup','params','18vGQbUe','1292aqXOlW','json','_id','Chinese','English'];a0_0x365e=function(){return _0x34c89d;};return a0_0x365e();}