const a0_0x4a6de7=a0_0x445d;(function(_0x2ccaa2,_0x114cdf){const _0x14bc27=a0_0x445d,_0x31d44c=_0x2ccaa2();while(!![]){try{const _0x22e827=-parseInt(_0x14bc27(0x1e6))/0x1+-parseInt(_0x14bc27(0x1fa))/0x2*(-parseInt(_0x14bc27(0x1e0))/0x3)+-parseInt(_0x14bc27(0x1f6))/0x4+-parseInt(_0x14bc27(0x1da))/0x5*(-parseInt(_0x14bc27(0x206))/0x6)+parseInt(_0x14bc27(0x1fe))/0x7+parseInt(_0x14bc27(0x202))/0x8+-parseInt(_0x14bc27(0x204))/0x9;if(_0x22e827===_0x114cdf)break;else _0x31d44c['push'](_0x31d44c['shift']());}catch(_0x1f7c21){_0x31d44c['push'](_0x31d44c['shift']());}}}(a0_0x3e1b,0x9c4d9));function a0_0x3e1b(){const _0x54b3f=['express','935651rzUkRS','Spanish','email','$head_id_staff','English\x20(US)','Hindi','map','../middleware/auth','Router','/get_sales_data','render','/preview/:id','flash','Arabic\x20(ae)','$name','staffs','1237060LmwjOM','findOne','get','save','25302scpKuq','language','so_approver_add','staff_id','5515594auXmIN','Portuguese','wms_account_id','string','5111592sMIawS','English','16175070PnaaAq','German','7536258xlHcUc','Chinese','aggregate','../public/language/languages.json','forEach','body','Portuguese\x20(BR)','../models/all_models','$account_data','$warehouse_staff_id','json','success','Arabic','redirect','exports','post','name_accounting','_id','accounting_account_id','account_data','5prXefs','Approver\x20Add\x20successfully','findById','acc','/setup','$wms_data','237ZTfobk','find','French','so_approver_all','errors'];a0_0x3e1b=function(){return _0x54b3f;};return a0_0x3e1b();}const express=require(a0_0x4a6de7(0x1e5)),app=express(),router=express[a0_0x4a6de7(0x1ee)](),auth=require(a0_0x4a6de7(0x1ed)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x4a6de7(0x20d)),users=require(a0_0x4a6de7(0x209));function a0_0x445d(_0x350149,_0x5269c6){const _0x3e1b4f=a0_0x3e1b();return a0_0x445d=function(_0x445d5a,_0x3fa7b2){_0x445d5a=_0x445d5a-0x1ce;let _0x400210=_0x3e1b4f[_0x445d5a];return _0x400210;},a0_0x445d(_0x350149,_0x5269c6);}router[a0_0x4a6de7(0x1f8)](a0_0x4a6de7(0x1de),auth,async(_0x550352,_0x1e30f7)=>{const _0x33d9e5=a0_0x4a6de7;try{const _0x57dc66=_0x550352['user'],_0x295a2b=await master_shop[_0x33d9e5(0x1e1)](),_0x159e17=await profile[_0x33d9e5(0x1f7)]({'email':_0x57dc66['email']}),_0x492121=await approver_acct['aggregate']([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x33d9e5(0x1e9)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x33d9e5(0x1cf)}}},{'$lookup':{'from':'staffs','localField':_0x33d9e5(0x1d8),'foreignField':_0x33d9e5(0x1d7),'as':_0x33d9e5(0x1d9)}},{'$unwind':_0x33d9e5(0x1ce)},{'$lookup':{'from':_0x33d9e5(0x1f5),'localField':_0x33d9e5(0x200),'foreignField':_0x33d9e5(0x1d7),'as':'wms_data'}},{'$unwind':_0x33d9e5(0x1df)}]);if(_0x295a2b[0x0][_0x33d9e5(0x1fb)]=='English\x20(US)')var _0x588c0e=users['English'];else{if(_0x295a2b[0x0]['language']==_0x33d9e5(0x1eb))var _0x588c0e=users[_0x33d9e5(0x1eb)];else{if(_0x295a2b[0x0]['language']==_0x33d9e5(0x205))var _0x588c0e=users['German'];else{if(_0x295a2b[0x0][_0x33d9e5(0x1fb)]=='Spanish')var _0x588c0e=users[_0x33d9e5(0x1e7)];else{if(_0x295a2b[0x0]['language']=='French')var _0x588c0e=users['French'];else{if(_0x295a2b[0x0]['language']==_0x33d9e5(0x20c))var _0x588c0e=users[_0x33d9e5(0x1ff)];else{if(_0x295a2b[0x0][_0x33d9e5(0x1fb)]==_0x33d9e5(0x207))var _0x588c0e=users['Chinese'];else{if(_0x295a2b[0x0]['language']=='Arabic\x20(ae)')var _0x588c0e=users[_0x33d9e5(0x1d2)];}}}}}}}_0x1e30f7[_0x33d9e5(0x1f0)](_0x33d9e5(0x1e3),{'success':_0x550352[_0x33d9e5(0x1f2)](_0x33d9e5(0x1d1)),'errors':_0x550352[_0x33d9e5(0x1f2)](_0x33d9e5(0x1e4)),'role':_0x57dc66,'profile':_0x159e17,'master_shop':_0x295a2b,'language':_0x588c0e,'data':_0x492121});}catch(_0x4922fe){}}),router[a0_0x4a6de7(0x1f8)]('/add',auth,async(_0x224967,_0x5f0b69)=>{const _0x485521=a0_0x4a6de7;try{const _0x232407=_0x224967['user'],_0x19f1a0=await master_shop[_0x485521(0x1e1)](),_0x43c032=await profile[_0x485521(0x1f7)]({'email':_0x232407['email']}),_0x42662b=await staff['find']({'account_category':_0x485521(0x1dd)}),_0xb79a5=await staff['find']({'account_category':'wm'}),_0x1d0ae5=await staff[_0x485521(0x1e1)]({'account_category':'sa'}),_0x11fbbb=await warehouse[_0x485521(0x208)]([{'$group':{'_id':'$name'}}]);if(_0x19f1a0[0x0][_0x485521(0x1fb)]==_0x485521(0x1ea))var _0x895dd6=users[_0x485521(0x203)];else{if(_0x19f1a0[0x0]['language']==_0x485521(0x1eb))var _0x895dd6=users['Hindi'];else{if(_0x19f1a0[0x0][_0x485521(0x1fb)]==_0x485521(0x205))var _0x895dd6=users[_0x485521(0x205)];else{if(_0x19f1a0[0x0][_0x485521(0x1fb)]==_0x485521(0x1e7))var _0x895dd6=users[_0x485521(0x1e7)];else{if(_0x19f1a0[0x0]['language']=='French')var _0x895dd6=users[_0x485521(0x1e2)];else{if(_0x19f1a0[0x0][_0x485521(0x1fb)]=='Portuguese\x20(BR)')var _0x895dd6=users[_0x485521(0x1ff)];else{if(_0x19f1a0[0x0]['language']==_0x485521(0x207))var _0x895dd6=users[_0x485521(0x207)];else{if(_0x19f1a0[0x0][_0x485521(0x1fb)]==_0x485521(0x1f3))var _0x895dd6=users[_0x485521(0x1d2)];}}}}}}}_0x5f0b69[_0x485521(0x1f0)](_0x485521(0x1fc),{'success':_0x224967[_0x485521(0x1f2)]('success'),'errors':_0x224967['flash'](_0x485521(0x1e4)),'role':_0x232407,'profile':_0x43c032,'master_shop':_0x19f1a0,'language':_0x895dd6,'accounting':_0x42662b,'warehouse_acct':_0xb79a5,'sales_acct':_0x1d0ae5,'warehouse_loc':_0x11fbbb});}catch(_0x721515){}}),router[a0_0x4a6de7(0x1d5)]('/add/',auth,async(_0x9988d2,_0xd6a212)=>{const _0x358d37=a0_0x4a6de7;try{const {accounting_account_id:_0x24bbc6,warehouse_account_id:_0x3c995c,staff_id:_0x7384d8,warehouse_loc:_0x4da415}=_0x9988d2[_0x358d37(0x20b)];if(typeof _0x7384d8==_0x358d37(0x201))var _0x179001=[_0x9988d2[_0x358d37(0x20b)][_0x358d37(0x1fd)]],_0x16f346=[_0x9988d2[_0x358d37(0x20b)][_0x358d37(0x1d6)]];else var _0x179001=[..._0x9988d2[_0x358d37(0x20b)][_0x358d37(0x1fd)]],_0x16f346=[..._0x9988d2[_0x358d37(0x20b)][_0x358d37(0x1d6)]];const _0x4fc753=_0x179001[_0x358d37(0x1ec)](_0x2b6a32=>{return _0x2b6a32={'id_member':_0x2b6a32};});_0x16f346[_0x358d37(0x20a)]((_0x4c88eb,_0x1a6903)=>{_0x4fc753[_0x1a6903]['name']=_0x4c88eb;});const _0x2d6885=new approver_acct({'head_id_staff':_0x24bbc6,'warehouse_staff_id':_0x3c995c,'warehouse_name':_0x4da415,'members':_0x4fc753}),_0x147356=await _0x2d6885[_0x358d37(0x1f9)]();_0x9988d2[_0x358d37(0x1f2)](_0x358d37(0x1d1),_0x358d37(0x1db)),_0xd6a212[_0x358d37(0x1d3)]('/so_approvers/preview/'+_0x147356[_0x358d37(0x1d7)]);}catch(_0x4849b8){}}),router[a0_0x4a6de7(0x1d5)](a0_0x4a6de7(0x1ef),auth,async(_0x6db2a3,_0x1a5380)=>{const _0x36666b=a0_0x4a6de7;try{const {id_staff:_0x426315}=_0x6db2a3[_0x36666b(0x20b)],_0x4e0823=await staff[_0x36666b(0x1dc)](_0x426315);_0x1a5380[_0x36666b(0x1d0)](_0x4e0823);}catch(_0x40a648){}}),router[a0_0x4a6de7(0x1f8)](a0_0x4a6de7(0x1f1),auth,async(_0x21da83,_0x2ce743)=>{const _0x49cc1f=a0_0x4a6de7;try{const _0x55aa6d=_0x21da83['user'],_0x297efb=_0x21da83['params']['id'],_0x150052=await master_shop['find'](),_0x49e3aa=await profile[_0x49cc1f(0x1f7)]({'email':_0x55aa6d[_0x49cc1f(0x1e8)]}),_0x51d0c9=await staff['find']({'account_category':_0x49cc1f(0x1dd)}),_0x22007c=await staff[_0x49cc1f(0x1e1)]({'account_category':'wm'}),_0x30e004=await staff[_0x49cc1f(0x1e1)]({'account_category':'sa'}),_0x4ce172=await warehouse[_0x49cc1f(0x208)]([{'$group':{'_id':_0x49cc1f(0x1f4)}}]),_0x56fe55=await approver_acct[_0x49cc1f(0x1dc)](_0x297efb);if(_0x150052[0x0][_0x49cc1f(0x1fb)]=='English\x20(US)')var _0xa58837=users[_0x49cc1f(0x203)];else{if(_0x150052[0x0]['language']==_0x49cc1f(0x1eb))var _0xa58837=users[_0x49cc1f(0x1eb)];else{if(_0x150052[0x0][_0x49cc1f(0x1fb)]=='German')var _0xa58837=users[_0x49cc1f(0x205)];else{if(_0x150052[0x0][_0x49cc1f(0x1fb)]==_0x49cc1f(0x1e7))var _0xa58837=users[_0x49cc1f(0x1e7)];else{if(_0x150052[0x0]['language']==_0x49cc1f(0x1e2))var _0xa58837=users[_0x49cc1f(0x1e2)];else{if(_0x150052[0x0][_0x49cc1f(0x1fb)]==_0x49cc1f(0x20c))var _0xa58837=users[_0x49cc1f(0x1ff)];else{if(_0x150052[0x0][_0x49cc1f(0x1fb)]=='Chinese')var _0xa58837=users['Chinese'];else{if(_0x150052[0x0][_0x49cc1f(0x1fb)]==_0x49cc1f(0x1f3))var _0xa58837=users[_0x49cc1f(0x1d2)];}}}}}}}_0x2ce743[_0x49cc1f(0x1f0)]('view_so_approvers',{'success':_0x21da83[_0x49cc1f(0x1f2)](_0x49cc1f(0x1d1)),'errors':_0x21da83[_0x49cc1f(0x1f2)](_0x49cc1f(0x1e4)),'role':_0x55aa6d,'profile':_0x49e3aa,'master_shop':_0x150052,'language':_0xa58837,'accounting':_0x51d0c9,'warehouse_acct':_0x22007c,'sales_acct':_0x30e004,'warehouse_loc':_0x4ce172,'data':_0x56fe55});}catch(_0x222160){}}),module[a0_0x4a6de7(0x1d4)]=router;