const a0_0x55ab06=a0_0x14aa;function a0_0x14aa(_0x4214b8,_0xeaafdb){const _0x554ac8=a0_0x554a();return a0_0x14aa=function(_0x14aa11,_0x5820e3){_0x14aa11=_0x14aa11-0xfb;let _0x1d9b61=_0x554ac8[_0x14aa11];return _0x1d9b61;},a0_0x14aa(_0x4214b8,_0xeaafdb);}(function(_0x133d04,_0x870334){const _0x44bf0d=a0_0x14aa,_0x789d20=_0x133d04();while(!![]){try{const _0x182afa=-parseInt(_0x44bf0d(0x120))/0x1*(-parseInt(_0x44bf0d(0x116))/0x2)+-parseInt(_0x44bf0d(0x12a))/0x3+-parseInt(_0x44bf0d(0x10f))/0x4*(parseInt(_0x44bf0d(0x11d))/0x5)+-parseInt(_0x44bf0d(0x101))/0x6*(-parseInt(_0x44bf0d(0x105))/0x7)+parseInt(_0x44bf0d(0x138))/0x8*(parseInt(_0x44bf0d(0xfe))/0x9)+parseInt(_0x44bf0d(0x103))/0xa+parseInt(_0x44bf0d(0x130))/0xb*(-parseInt(_0x44bf0d(0x134))/0xc);if(_0x182afa===_0x870334)break;else _0x789d20['push'](_0x789d20['shift']());}catch(_0x226fcc){_0x789d20['push'](_0x789d20['shift']());}}}(a0_0x554a,0xc888f));function a0_0x554a(){const _0x2f9a6e=['/preview/:id','English\x20(US)','flash','aggregate','533654JENCuY','$name','wms_data','express','84BFTLsh','name_accounting','../middleware/auth','view_so_approvers','8ahlXJB','user','/add','French','Router','$head_id_staff','wms_account_id','post','acc','language','Portuguese\x20(BR)','string','accounting_account_id','5500809aCvDUL','$account_data','/so_approvers/preview/','2550pBnATg','success','11789120HNJnis','German','7322VZkLRf','Spanish','get','email','staff_id','/setup','Arabic\x20(ae)','render','../models/all_models','staffs','35892RNfVUs','account_data','_id','so_approver_add','params','so_approver_all','name','163446fEtpGF','body','save','errors','/get_sales_data','../public/language/languages.json','find','865BOzFzO','$wms_data','Arabic','12GpeLIz','Portuguese','$warehouse_staff_id','findById','/add/','Chinese','Hindi','map','exports','English','1506063ftDuQB','findOne'];a0_0x554a=function(){return _0x2f9a6e;};return a0_0x554a();}const express=require(a0_0x55ab06(0x133)),app=express(),router=express[a0_0x55ab06(0x13c)](),auth=require(a0_0x55ab06(0x136)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x55ab06(0x10d)),users=require(a0_0x55ab06(0x11b));router['get'](a0_0x55ab06(0x10a),auth,async(_0x1ae7df,_0x2940e5)=>{const _0x363d45=a0_0x55ab06;try{const _0x1178ea=_0x1ae7df[_0x363d45(0x139)],_0x5d72bc=await master_shop['find'](),_0x2ea2b0=await profile[_0x363d45(0x12b)]({'email':_0x1178ea[_0x363d45(0x108)]}),_0xda8b0e=await approver_acct['aggregate']([{'$addFields':{'accounting_account_id':{'$toObjectId':_0x363d45(0x13d)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x363d45(0x122)}}},{'$lookup':{'from':_0x363d45(0x10e),'localField':_0x363d45(0xfd),'foreignField':_0x363d45(0x111),'as':_0x363d45(0x110)}},{'$unwind':_0x363d45(0xff)},{'$lookup':{'from':_0x363d45(0x10e),'localField':_0x363d45(0x13e),'foreignField':_0x363d45(0x111),'as':_0x363d45(0x132)}},{'$unwind':_0x363d45(0x11e)}]);if(_0x5d72bc[0x0][_0x363d45(0x141)]=='English\x20(US)')var _0x447ae5=users[_0x363d45(0x129)];else{if(_0x5d72bc[0x0][_0x363d45(0x141)]==_0x363d45(0x126))var _0x447ae5=users[_0x363d45(0x126)];else{if(_0x5d72bc[0x0][_0x363d45(0x141)]=='German')var _0x447ae5=users[_0x363d45(0x104)];else{if(_0x5d72bc[0x0]['language']==_0x363d45(0x106))var _0x447ae5=users[_0x363d45(0x106)];else{if(_0x5d72bc[0x0][_0x363d45(0x141)]==_0x363d45(0x13b))var _0x447ae5=users['French'];else{if(_0x5d72bc[0x0][_0x363d45(0x141)]==_0x363d45(0xfb))var _0x447ae5=users[_0x363d45(0x121)];else{if(_0x5d72bc[0x0]['language']=='Chinese')var _0x447ae5=users['Chinese'];else{if(_0x5d72bc[0x0][_0x363d45(0x141)]==_0x363d45(0x10b))var _0x447ae5=users['Arabic'];}}}}}}}_0x2940e5[_0x363d45(0x10c)](_0x363d45(0x114),{'success':_0x1ae7df['flash']('success'),'errors':_0x1ae7df[_0x363d45(0x12e)](_0x363d45(0x119)),'role':_0x1178ea,'profile':_0x2ea2b0,'master_shop':_0x5d72bc,'language':_0x447ae5,'data':_0xda8b0e});}catch(_0x2637a2){}}),router['get'](a0_0x55ab06(0x13a),auth,async(_0x4b37e9,_0x52f727)=>{const _0x580308=a0_0x55ab06;try{const _0xb9bbc1=_0x4b37e9['user'],_0x8d9151=await master_shop[_0x580308(0x11c)](),_0x39fbe7=await profile[_0x580308(0x12b)]({'email':_0xb9bbc1[_0x580308(0x108)]}),_0x264e1d=await staff['find']({'account_category':_0x580308(0x140)}),_0xd35394=await staff['find']({'account_category':'wm'}),_0x5259ad=await staff[_0x580308(0x11c)]({'account_category':'sa'}),_0x4f205e=await warehouse[_0x580308(0x12f)]([{'$group':{'_id':'$name'}}]);if(_0x8d9151[0x0][_0x580308(0x141)]=='English\x20(US)')var _0x3ba089=users[_0x580308(0x129)];else{if(_0x8d9151[0x0][_0x580308(0x141)]=='Hindi')var _0x3ba089=users['Hindi'];else{if(_0x8d9151[0x0][_0x580308(0x141)]=='German')var _0x3ba089=users[_0x580308(0x104)];else{if(_0x8d9151[0x0][_0x580308(0x141)]=='Spanish')var _0x3ba089=users[_0x580308(0x106)];else{if(_0x8d9151[0x0][_0x580308(0x141)]==_0x580308(0x13b))var _0x3ba089=users['French'];else{if(_0x8d9151[0x0][_0x580308(0x141)]==_0x580308(0xfb))var _0x3ba089=users[_0x580308(0x121)];else{if(_0x8d9151[0x0][_0x580308(0x141)]=='Chinese')var _0x3ba089=users[_0x580308(0x125)];else{if(_0x8d9151[0x0]['language']=='Arabic\x20(ae)')var _0x3ba089=users[_0x580308(0x11f)];}}}}}}}_0x52f727[_0x580308(0x10c)](_0x580308(0x112),{'success':_0x4b37e9['flash']('success'),'errors':_0x4b37e9[_0x580308(0x12e)](_0x580308(0x119)),'role':_0xb9bbc1,'profile':_0x39fbe7,'master_shop':_0x8d9151,'language':_0x3ba089,'accounting':_0x264e1d,'warehouse_acct':_0xd35394,'sales_acct':_0x5259ad,'warehouse_loc':_0x4f205e});}catch(_0x41acd4){}}),router[a0_0x55ab06(0x13f)](a0_0x55ab06(0x124),auth,async(_0x59842e,_0x5f8f02)=>{const _0x57c236=a0_0x55ab06;try{const {accounting_account_id:_0x5153af,warehouse_account_id:_0x18e51a,staff_id:_0x2d2fd1,warehouse_loc:_0x485844}=_0x59842e[_0x57c236(0x117)];if(typeof _0x2d2fd1==_0x57c236(0xfc))var _0x38aa0f=[_0x59842e[_0x57c236(0x117)][_0x57c236(0x109)]],_0x35fff6=[_0x59842e[_0x57c236(0x117)][_0x57c236(0x135)]];else var _0x38aa0f=[..._0x59842e[_0x57c236(0x117)][_0x57c236(0x109)]],_0x35fff6=[..._0x59842e[_0x57c236(0x117)]['name_accounting']];const _0x551bbc=_0x38aa0f[_0x57c236(0x127)](_0x1eaea1=>{return _0x1eaea1={'id_member':_0x1eaea1};});_0x35fff6['forEach']((_0x327cde,_0x1a7d30)=>{const _0x37d707=_0x57c236;_0x551bbc[_0x1a7d30][_0x37d707(0x115)]=_0x327cde;});const _0x245263=new approver_acct({'head_id_staff':_0x5153af,'warehouse_staff_id':_0x18e51a,'warehouse_name':_0x485844,'members':_0x551bbc}),_0x1522b7=await _0x245263[_0x57c236(0x118)]();_0x59842e['flash'](_0x57c236(0x102),'Approver\x20Add\x20successfully'),_0x5f8f02['redirect'](_0x57c236(0x100)+_0x1522b7[_0x57c236(0x111)]);}catch(_0x1effe4){}}),router[a0_0x55ab06(0x13f)](a0_0x55ab06(0x11a),auth,async(_0x24e34d,_0x3d3ab9)=>{const _0x2f6033=a0_0x55ab06;try{const {id_staff:_0x341af8}=_0x24e34d['body'],_0x12364c=await staff[_0x2f6033(0x123)](_0x341af8);_0x3d3ab9['json'](_0x12364c);}catch(_0x48fe8d){}}),router[a0_0x55ab06(0x107)](a0_0x55ab06(0x12c),auth,async(_0x1f43a5,_0xaae395)=>{const _0x5e14d5=a0_0x55ab06;try{const _0x4556fb=_0x1f43a5[_0x5e14d5(0x139)],_0x376a90=_0x1f43a5[_0x5e14d5(0x113)]['id'],_0x197ffa=await master_shop[_0x5e14d5(0x11c)](),_0x10f0b9=await profile[_0x5e14d5(0x12b)]({'email':_0x4556fb['email']}),_0x25a828=await staff['find']({'account_category':_0x5e14d5(0x140)}),_0x1a1b4f=await staff[_0x5e14d5(0x11c)]({'account_category':'wm'}),_0x51fd6a=await staff[_0x5e14d5(0x11c)]({'account_category':'sa'}),_0x2c4ad8=await warehouse['aggregate']([{'$group':{'_id':_0x5e14d5(0x131)}}]),_0x4e224e=await approver_acct['findById'](_0x376a90);if(_0x197ffa[0x0][_0x5e14d5(0x141)]==_0x5e14d5(0x12d))var _0x43421f=users[_0x5e14d5(0x129)];else{if(_0x197ffa[0x0][_0x5e14d5(0x141)]=='Hindi')var _0x43421f=users[_0x5e14d5(0x126)];else{if(_0x197ffa[0x0][_0x5e14d5(0x141)]=='German')var _0x43421f=users[_0x5e14d5(0x104)];else{if(_0x197ffa[0x0]['language']==_0x5e14d5(0x106))var _0x43421f=users['Spanish'];else{if(_0x197ffa[0x0][_0x5e14d5(0x141)]==_0x5e14d5(0x13b))var _0x43421f=users[_0x5e14d5(0x13b)];else{if(_0x197ffa[0x0]['language']==_0x5e14d5(0xfb))var _0x43421f=users['Portuguese'];else{if(_0x197ffa[0x0][_0x5e14d5(0x141)]==_0x5e14d5(0x125))var _0x43421f=users[_0x5e14d5(0x125)];else{if(_0x197ffa[0x0][_0x5e14d5(0x141)]==_0x5e14d5(0x10b))var _0x43421f=users['Arabic'];}}}}}}}_0xaae395['render'](_0x5e14d5(0x137),{'success':_0x1f43a5[_0x5e14d5(0x12e)](_0x5e14d5(0x102)),'errors':_0x1f43a5[_0x5e14d5(0x12e)](_0x5e14d5(0x119)),'role':_0x4556fb,'profile':_0x10f0b9,'master_shop':_0x197ffa,'language':_0x43421f,'accounting':_0x25a828,'warehouse_acct':_0x1a1b4f,'sales_acct':_0x51fd6a,'warehouse_loc':_0x2c4ad8,'data':_0x4e224e});}catch(_0x2db211){}}),module[a0_0x55ab06(0x128)]=router;