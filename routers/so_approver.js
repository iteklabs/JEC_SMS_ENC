function a0_0x1251(){const _0x28bf8e=['/setup','414162OdHtJE','staff_id','/add','post','wms_account_id','3951075CkWivA','map','json','language','success','4jkBTdv','name_accounting','user','/add/','get','exports','$warehouse_staff_id','14CzQRWQ','1858270tRaScb','English\x20(US)','errors','../middleware/auth','wms_data','email','acc','staffs','Arabic','body','name','Portuguese\x20(BR)','German','string','findById','3036054qPqNmT','Hindi','forEach','redirect','Router','findOne','find','so_approver_add','flash','/so_approvers/preview/','view_so_approvers','aggregate','Arabic\x20(ae)','4694680RvIOYE','params','$wms_data','Chinese','Spanish','Portuguese','9746145lirCWs','express','English','account_data','3832509LksQvY','$name','_id','French','$account_data','render'];a0_0x1251=function(){return _0x28bf8e;};return a0_0x1251();}const a0_0x54047e=a0_0x556c;(function(_0x2dd4e2,_0x377451){const _0x5d0832=a0_0x556c,_0x9f0d78=_0x2dd4e2();while(!![]){try{const _0x2063c1=-parseInt(_0x5d0832(0x1ad))/0x1+-parseInt(_0x5d0832(0x1bf))/0x2+-parseInt(_0x5d0832(0x1a6))/0x3+-parseInt(_0x5d0832(0x1b7))/0x4*(-parseInt(_0x5d0832(0x1b2))/0x5)+parseInt(_0x5d0832(0x18f))/0x6+-parseInt(_0x5d0832(0x1be))/0x7*(-parseInt(_0x5d0832(0x19c))/0x8)+parseInt(_0x5d0832(0x1a2))/0x9;if(_0x2063c1===_0x377451)break;else _0x9f0d78['push'](_0x9f0d78['shift']());}catch(_0x5a892f){_0x9f0d78['push'](_0x9f0d78['shift']());}}}(a0_0x1251,0xe389f));const express=require(a0_0x54047e(0x1a3)),app=express(),router=express[a0_0x54047e(0x193)](),auth=require(a0_0x54047e(0x1c2)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require('../models/all_models'),users=require('../public/language/languages.json');function a0_0x556c(_0x3e1cd3,_0x15efcf){const _0x125110=a0_0x1251();return a0_0x556c=function(_0x556c7c,_0x3c4a7c){_0x556c7c=_0x556c7c-0x189;let _0x552227=_0x125110[_0x556c7c];return _0x552227;},a0_0x556c(_0x3e1cd3,_0x15efcf);}router[a0_0x54047e(0x1bb)](a0_0x54047e(0x1ac),auth,async(_0x4fe166,_0x3a7dd8)=>{const _0x33dbc5=a0_0x54047e;try{const _0x1f219f=_0x4fe166[_0x33dbc5(0x1b9)],_0x382fc0=await master_shop[_0x33dbc5(0x195)](),_0x4b566b=await profile[_0x33dbc5(0x194)]({'email':_0x1f219f['email']}),_0x210452=await approver_acct[_0x33dbc5(0x19a)]([{'$addFields':{'accounting_account_id':{'$toObjectId':'$head_id_staff'}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0x33dbc5(0x1bd)}}},{'$lookup':{'from':'staffs','localField':'accounting_account_id','foreignField':_0x33dbc5(0x1a8),'as':_0x33dbc5(0x1a5)}},{'$unwind':_0x33dbc5(0x1aa)},{'$lookup':{'from':_0x33dbc5(0x1c6),'localField':_0x33dbc5(0x1b1),'foreignField':'_id','as':_0x33dbc5(0x1c3)}},{'$unwind':_0x33dbc5(0x19e)}]);if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]==_0x33dbc5(0x1c0))var _0x43e341=users[_0x33dbc5(0x1a4)];else{if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]==_0x33dbc5(0x190))var _0x43e341=users[_0x33dbc5(0x190)];else{if(_0x382fc0[0x0]['language']==_0x33dbc5(0x18c))var _0x43e341=users['German'];else{if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]==_0x33dbc5(0x1a0))var _0x43e341=users[_0x33dbc5(0x1a0)];else{if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]==_0x33dbc5(0x1a9))var _0x43e341=users[_0x33dbc5(0x1a9)];else{if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]==_0x33dbc5(0x18b))var _0x43e341=users[_0x33dbc5(0x1a1)];else{if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]==_0x33dbc5(0x19f))var _0x43e341=users[_0x33dbc5(0x19f)];else{if(_0x382fc0[0x0][_0x33dbc5(0x1b5)]=='Arabic\x20(ae)')var _0x43e341=users[_0x33dbc5(0x1c7)];}}}}}}}_0x3a7dd8[_0x33dbc5(0x1ab)]('so_approver_all',{'success':_0x4fe166[_0x33dbc5(0x197)](_0x33dbc5(0x1b6)),'errors':_0x4fe166[_0x33dbc5(0x197)]('errors'),'role':_0x1f219f,'profile':_0x4b566b,'master_shop':_0x382fc0,'language':_0x43e341,'data':_0x210452});}catch(_0x1ae495){}}),router['get'](a0_0x54047e(0x1af),auth,async(_0x42ffe4,_0x83f0fa)=>{const _0x59ad8a=a0_0x54047e;try{const _0x5a955b=_0x42ffe4[_0x59ad8a(0x1b9)],_0x205f93=await master_shop[_0x59ad8a(0x195)](),_0x1f249a=await profile[_0x59ad8a(0x194)]({'email':_0x5a955b[_0x59ad8a(0x1c4)]}),_0x303366=await staff['find']({'account_category':_0x59ad8a(0x1c5)}),_0x54c673=await staff['find']({'account_category':'wm'}),_0x47f086=await staff[_0x59ad8a(0x195)]({'account_category':'sa'}),_0x333be2=await warehouse['aggregate']([{'$group':{'_id':_0x59ad8a(0x1a7)}}]);if(_0x205f93[0x0][_0x59ad8a(0x1b5)]=='English\x20(US)')var _0x22ed64=users[_0x59ad8a(0x1a4)];else{if(_0x205f93[0x0][_0x59ad8a(0x1b5)]==_0x59ad8a(0x190))var _0x22ed64=users['Hindi'];else{if(_0x205f93[0x0]['language']==_0x59ad8a(0x18c))var _0x22ed64=users['German'];else{if(_0x205f93[0x0][_0x59ad8a(0x1b5)]==_0x59ad8a(0x1a0))var _0x22ed64=users['Spanish'];else{if(_0x205f93[0x0]['language']==_0x59ad8a(0x1a9))var _0x22ed64=users['French'];else{if(_0x205f93[0x0][_0x59ad8a(0x1b5)]==_0x59ad8a(0x18b))var _0x22ed64=users[_0x59ad8a(0x1a1)];else{if(_0x205f93[0x0][_0x59ad8a(0x1b5)]==_0x59ad8a(0x19f))var _0x22ed64=users[_0x59ad8a(0x19f)];else{if(_0x205f93[0x0][_0x59ad8a(0x1b5)]==_0x59ad8a(0x19b))var _0x22ed64=users['Arabic'];}}}}}}}_0x83f0fa['render'](_0x59ad8a(0x196),{'success':_0x42ffe4[_0x59ad8a(0x197)]('success'),'errors':_0x42ffe4['flash'](_0x59ad8a(0x1c1)),'role':_0x5a955b,'profile':_0x1f249a,'master_shop':_0x205f93,'language':_0x22ed64,'accounting':_0x303366,'warehouse_acct':_0x54c673,'sales_acct':_0x47f086,'warehouse_loc':_0x333be2});}catch(_0x3d958e){}}),router[a0_0x54047e(0x1b0)](a0_0x54047e(0x1ba),auth,async(_0x3f37b6,_0xa5629f)=>{const _0x297116=a0_0x54047e;try{const {accounting_account_id:_0x4b9d08,warehouse_account_id:_0x35eef0,staff_id:_0x4195ef,warehouse_loc:_0x2734d3}=_0x3f37b6[_0x297116(0x189)];if(typeof _0x4195ef==_0x297116(0x18d))var _0x2695f1=[_0x3f37b6[_0x297116(0x189)][_0x297116(0x1ae)]],_0x242688=[_0x3f37b6['body'][_0x297116(0x1b8)]];else var _0x2695f1=[..._0x3f37b6[_0x297116(0x189)][_0x297116(0x1ae)]],_0x242688=[..._0x3f37b6[_0x297116(0x189)]['name_accounting']];const _0x1bed96=_0x2695f1[_0x297116(0x1b3)](_0x8c8b27=>{return _0x8c8b27={'id_member':_0x8c8b27};});_0x242688[_0x297116(0x191)]((_0x359117,_0x112bab)=>{const _0x5917f7=_0x297116;_0x1bed96[_0x112bab][_0x5917f7(0x18a)]=_0x359117;});const _0x4c4d27=new approver_acct({'head_id_staff':_0x4b9d08,'warehouse_staff_id':_0x35eef0,'warehouse_name':_0x2734d3,'members':_0x1bed96}),_0x579155=await _0x4c4d27['save']();_0x3f37b6['flash']('success','Approver\x20Add\x20successfully'),_0xa5629f[_0x297116(0x192)](_0x297116(0x198)+_0x579155[_0x297116(0x1a8)]);}catch(_0x42e8f9){}}),router['post']('/get_sales_data',auth,async(_0x292642,_0x561b6d)=>{const _0x2a7f6d=a0_0x54047e;try{const {id_staff:_0x517fbd}=_0x292642[_0x2a7f6d(0x189)],_0x2e23a7=await staff[_0x2a7f6d(0x18e)](_0x517fbd);_0x561b6d[_0x2a7f6d(0x1b4)](_0x2e23a7);}catch(_0x2d2036){}}),router[a0_0x54047e(0x1bb)]('/preview/:id',auth,async(_0x50b86c,_0x8fba23)=>{const _0x4c1118=a0_0x54047e;try{const _0x1e112f=_0x50b86c['user'],_0xa4780f=_0x50b86c[_0x4c1118(0x19d)]['id'],_0x58850b=await master_shop['find'](),_0x27abe9=await profile[_0x4c1118(0x194)]({'email':_0x1e112f[_0x4c1118(0x1c4)]}),_0x30b70d=await staff[_0x4c1118(0x195)]({'account_category':_0x4c1118(0x1c5)}),_0x4e1332=await staff[_0x4c1118(0x195)]({'account_category':'wm'}),_0x56b9f9=await staff[_0x4c1118(0x195)]({'account_category':'sa'}),_0x5527ce=await warehouse[_0x4c1118(0x19a)]([{'$group':{'_id':_0x4c1118(0x1a7)}}]),_0x5bf9c7=await approver_acct[_0x4c1118(0x18e)](_0xa4780f);if(_0x58850b[0x0][_0x4c1118(0x1b5)]==_0x4c1118(0x1c0))var _0x3c1132=users[_0x4c1118(0x1a4)];else{if(_0x58850b[0x0]['language']==_0x4c1118(0x190))var _0x3c1132=users['Hindi'];else{if(_0x58850b[0x0]['language']=='German')var _0x3c1132=users[_0x4c1118(0x18c)];else{if(_0x58850b[0x0][_0x4c1118(0x1b5)]==_0x4c1118(0x1a0))var _0x3c1132=users[_0x4c1118(0x1a0)];else{if(_0x58850b[0x0][_0x4c1118(0x1b5)]==_0x4c1118(0x1a9))var _0x3c1132=users[_0x4c1118(0x1a9)];else{if(_0x58850b[0x0][_0x4c1118(0x1b5)]==_0x4c1118(0x18b))var _0x3c1132=users[_0x4c1118(0x1a1)];else{if(_0x58850b[0x0][_0x4c1118(0x1b5)]==_0x4c1118(0x19f))var _0x3c1132=users[_0x4c1118(0x19f)];else{if(_0x58850b[0x0]['language']==_0x4c1118(0x19b))var _0x3c1132=users[_0x4c1118(0x1c7)];}}}}}}}_0x8fba23[_0x4c1118(0x1ab)](_0x4c1118(0x199),{'success':_0x50b86c[_0x4c1118(0x197)](_0x4c1118(0x1b6)),'errors':_0x50b86c['flash'](_0x4c1118(0x1c1)),'role':_0x1e112f,'profile':_0x27abe9,'master_shop':_0x58850b,'language':_0x3c1132,'accounting':_0x30b70d,'warehouse_acct':_0x4e1332,'sales_acct':_0x56b9f9,'warehouse_loc':_0x5527ce,'data':_0x5bf9c7});}catch(_0x429572){}}),module[a0_0x54047e(0x1bc)]=router;