const a0_0x1aa265=a0_0x3df0;(function(_0x2cf0a6,_0x2a90ed){const _0xabaf82=a0_0x3df0,_0x403ad3=_0x2cf0a6();while(!![]){try{const _0x50aa58=-parseInt(_0xabaf82(0x168))/0x1*(-parseInt(_0xabaf82(0x15e))/0x2)+parseInt(_0xabaf82(0x171))/0x3+-parseInt(_0xabaf82(0x17a))/0x4+parseInt(_0xabaf82(0x172))/0x5*(-parseInt(_0xabaf82(0x14a))/0x6)+parseInt(_0xabaf82(0x16c))/0x7*(parseInt(_0xabaf82(0x161))/0x8)+parseInt(_0xabaf82(0x16f))/0x9+parseInt(_0xabaf82(0x167))/0xa;if(_0x50aa58===_0x2a90ed)break;else _0x403ad3['push'](_0x403ad3['shift']());}catch(_0x2dbd26){_0x403ad3['push'](_0x403ad3['shift']());}}}(a0_0x1fb7,0xb2b59));function a0_0x3df0(_0x3d02a9,_0xa181e7){const _0x1fb72f=a0_0x1fb7();return a0_0x3df0=function(_0x3df064,_0x344d93){_0x3df064=_0x3df064-0x145;let _0x3f1989=_0x1fb72f[_0x3df064];return _0x3f1989;},a0_0x3df0(_0x3d02a9,_0xa181e7);}const express=require(a0_0x1aa265(0x159)),app=express(),router=express[a0_0x1aa265(0x14c)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished,staff,sales_sa,sales_order,approver_acct,warehouse}=require(a0_0x1aa265(0x146)),users=require(a0_0x1aa265(0x160));function a0_0x1fb7(){const _0x24f8cf=['Portuguese\x20(BR)','$name','Portuguese','Spanish','render','acc','$warehouse_staff_id','2729712ZtYWDr','json','success','findById','/preview/:id','view_so_approvers','exports','name','string','account_data','aggregate','name_accounting','find','$account_data','/so_approvers/preview/','/add/','so_approver_add','../models/all_models','Hindi','email','Approver\x20Add\x20successfully','54keWbBT','staffs','Router','/add','findOne','English','errors','params','/get_sales_data','$head_id_staff','staff_id','German','get','wms_data','Chinese','express','Arabic','body','language','Arabic\x20(ae)','79290ZeyCRB','map','../public/language/languages.json','3704VQpFVu','post','English\x20(US)','user','so_approver_all','flash','2259920lcVrYG','34yxohjx','wms_account_id','_id','French','273bxPrdL','forEach','$wms_data','2075886WHFUQF','/setup','407136OXFrxF','302180lgJIuD'];a0_0x1fb7=function(){return _0x24f8cf;};return a0_0x1fb7();}router[a0_0x1aa265(0x156)](a0_0x1aa265(0x170),auth,async(_0x44428d,_0x5c5b0c)=>{const _0xb95153=a0_0x1aa265;try{const _0x36a374=_0x44428d[_0xb95153(0x164)],_0x13a3b1=await master_shop[_0xb95153(0x186)](),_0x230d69=await profile['findOne']({'email':_0x36a374['email']}),_0x1df7dc=await approver_acct[_0xb95153(0x184)]([{'$addFields':{'accounting_account_id':{'$toObjectId':_0xb95153(0x153)}}},{'$addFields':{'wms_account_id':{'$toObjectId':_0xb95153(0x179)}}},{'$lookup':{'from':_0xb95153(0x14b),'localField':'accounting_account_id','foreignField':_0xb95153(0x16a),'as':_0xb95153(0x183)}},{'$unwind':_0xb95153(0x187)},{'$lookup':{'from':_0xb95153(0x14b),'localField':_0xb95153(0x169),'foreignField':_0xb95153(0x16a),'as':_0xb95153(0x157)}},{'$unwind':_0xb95153(0x16e)}]);if(_0x13a3b1[0x0]['language']==_0xb95153(0x163))var _0x1f15a3=users[_0xb95153(0x14f)];else{if(_0x13a3b1[0x0][_0xb95153(0x15c)]==_0xb95153(0x147))var _0x1f15a3=users[_0xb95153(0x147)];else{if(_0x13a3b1[0x0]['language']==_0xb95153(0x155))var _0x1f15a3=users[_0xb95153(0x155)];else{if(_0x13a3b1[0x0][_0xb95153(0x15c)]=='Spanish')var _0x1f15a3=users[_0xb95153(0x176)];else{if(_0x13a3b1[0x0]['language']==_0xb95153(0x16b))var _0x1f15a3=users[_0xb95153(0x16b)];else{if(_0x13a3b1[0x0][_0xb95153(0x15c)]=='Portuguese\x20(BR)')var _0x1f15a3=users[_0xb95153(0x175)];else{if(_0x13a3b1[0x0][_0xb95153(0x15c)]=='Chinese')var _0x1f15a3=users[_0xb95153(0x158)];else{if(_0x13a3b1[0x0][_0xb95153(0x15c)]==_0xb95153(0x15d))var _0x1f15a3=users[_0xb95153(0x15a)];}}}}}}}_0x5c5b0c[_0xb95153(0x177)](_0xb95153(0x165),{'success':_0x44428d[_0xb95153(0x166)](_0xb95153(0x17c)),'errors':_0x44428d['flash'](_0xb95153(0x150)),'role':_0x36a374,'profile':_0x230d69,'master_shop':_0x13a3b1,'language':_0x1f15a3,'data':_0x1df7dc});}catch(_0xc105da){}}),router['get'](a0_0x1aa265(0x14d),auth,async(_0x3b7bd2,_0x566a30)=>{const _0x5c8f25=a0_0x1aa265;try{const _0x2a88a9=_0x3b7bd2[_0x5c8f25(0x164)],_0x201100=await master_shop['find'](),_0x15712a=await profile[_0x5c8f25(0x14e)]({'email':_0x2a88a9[_0x5c8f25(0x148)]}),_0x1568bd=await staff[_0x5c8f25(0x186)]({'account_category':_0x5c8f25(0x178)}),_0x138869=await staff[_0x5c8f25(0x186)]({'account_category':'wm'}),_0x2314ee=await staff[_0x5c8f25(0x186)]({'account_category':'sa'}),_0x2c8bfa=await warehouse[_0x5c8f25(0x184)]([{'$group':{'_id':_0x5c8f25(0x174)}}]);if(_0x201100[0x0]['language']==_0x5c8f25(0x163))var _0x576388=users['English'];else{if(_0x201100[0x0][_0x5c8f25(0x15c)]==_0x5c8f25(0x147))var _0x576388=users[_0x5c8f25(0x147)];else{if(_0x201100[0x0][_0x5c8f25(0x15c)]==_0x5c8f25(0x155))var _0x576388=users[_0x5c8f25(0x155)];else{if(_0x201100[0x0][_0x5c8f25(0x15c)]==_0x5c8f25(0x176))var _0x576388=users[_0x5c8f25(0x176)];else{if(_0x201100[0x0][_0x5c8f25(0x15c)]==_0x5c8f25(0x16b))var _0x576388=users[_0x5c8f25(0x16b)];else{if(_0x201100[0x0]['language']=='Portuguese\x20(BR)')var _0x576388=users[_0x5c8f25(0x175)];else{if(_0x201100[0x0][_0x5c8f25(0x15c)]==_0x5c8f25(0x158))var _0x576388=users[_0x5c8f25(0x158)];else{if(_0x201100[0x0][_0x5c8f25(0x15c)]==_0x5c8f25(0x15d))var _0x576388=users[_0x5c8f25(0x15a)];}}}}}}}_0x566a30[_0x5c8f25(0x177)](_0x5c8f25(0x145),{'success':_0x3b7bd2[_0x5c8f25(0x166)]('success'),'errors':_0x3b7bd2[_0x5c8f25(0x166)](_0x5c8f25(0x150)),'role':_0x2a88a9,'profile':_0x15712a,'master_shop':_0x201100,'language':_0x576388,'accounting':_0x1568bd,'warehouse_acct':_0x138869,'sales_acct':_0x2314ee,'warehouse_loc':_0x2c8bfa});}catch(_0x30d319){}}),router[a0_0x1aa265(0x162)](a0_0x1aa265(0x189),auth,async(_0x4d21a8,_0x419ea8)=>{const _0xa33fe4=a0_0x1aa265;try{const {accounting_account_id:_0x38900e,warehouse_account_id:_0x3e32cc,staff_id:_0x3c3fc2,warehouse_loc:_0x38f334}=_0x4d21a8['body'];if(typeof _0x3c3fc2==_0xa33fe4(0x182))var _0x17e3be=[_0x4d21a8[_0xa33fe4(0x15b)][_0xa33fe4(0x154)]],_0x3b9d12=[_0x4d21a8[_0xa33fe4(0x15b)][_0xa33fe4(0x185)]];else var _0x17e3be=[..._0x4d21a8[_0xa33fe4(0x15b)][_0xa33fe4(0x154)]],_0x3b9d12=[..._0x4d21a8[_0xa33fe4(0x15b)][_0xa33fe4(0x185)]];const _0xa63a4f=_0x17e3be[_0xa33fe4(0x15f)](_0x8dd298=>{return _0x8dd298={'id_member':_0x8dd298};});_0x3b9d12[_0xa33fe4(0x16d)]((_0x3b6d61,_0x48f1bf)=>{const _0x1043d7=_0xa33fe4;_0xa63a4f[_0x48f1bf][_0x1043d7(0x181)]=_0x3b6d61;});const _0x43d139=new approver_acct({'head_id_staff':_0x38900e,'warehouse_staff_id':_0x3e32cc,'warehouse_name':_0x38f334,'members':_0xa63a4f}),_0x4f6f72=await _0x43d139['save']();_0x4d21a8[_0xa33fe4(0x166)](_0xa33fe4(0x17c),_0xa33fe4(0x149)),_0x419ea8['redirect'](_0xa33fe4(0x188)+_0x4f6f72[_0xa33fe4(0x16a)]);}catch(_0x599acb){}}),router['post'](a0_0x1aa265(0x152),auth,async(_0xaa8f6f,_0x1da49d)=>{const _0x1c396f=a0_0x1aa265;try{const {id_staff:_0x2ed79f}=_0xaa8f6f['body'],_0x819c52=await staff[_0x1c396f(0x17d)](_0x2ed79f);_0x1da49d[_0x1c396f(0x17b)](_0x819c52);}catch(_0x4d4385){}}),router['get'](a0_0x1aa265(0x17e),auth,async(_0x3256f2,_0x2c949f)=>{const _0x1b6e8e=a0_0x1aa265;try{const _0x1e0c5e=_0x3256f2[_0x1b6e8e(0x164)],_0x23e3b6=_0x3256f2[_0x1b6e8e(0x151)]['id'],_0xcca936=await master_shop[_0x1b6e8e(0x186)](),_0x10df49=await profile['findOne']({'email':_0x1e0c5e[_0x1b6e8e(0x148)]}),_0x50beeb=await staff[_0x1b6e8e(0x186)]({'account_category':_0x1b6e8e(0x178)}),_0x3d8a65=await staff[_0x1b6e8e(0x186)]({'account_category':'wm'}),_0xc51ad2=await staff[_0x1b6e8e(0x186)]({'account_category':'sa'}),_0x4461d0=await warehouse[_0x1b6e8e(0x184)]([{'$group':{'_id':_0x1b6e8e(0x174)}}]),_0x278d04=await approver_acct[_0x1b6e8e(0x17d)](_0x23e3b6);if(_0xcca936[0x0][_0x1b6e8e(0x15c)]==_0x1b6e8e(0x163))var _0x27c83e=users[_0x1b6e8e(0x14f)];else{if(_0xcca936[0x0]['language']=='Hindi')var _0x27c83e=users['Hindi'];else{if(_0xcca936[0x0][_0x1b6e8e(0x15c)]==_0x1b6e8e(0x155))var _0x27c83e=users['German'];else{if(_0xcca936[0x0][_0x1b6e8e(0x15c)]==_0x1b6e8e(0x176))var _0x27c83e=users[_0x1b6e8e(0x176)];else{if(_0xcca936[0x0][_0x1b6e8e(0x15c)]==_0x1b6e8e(0x16b))var _0x27c83e=users[_0x1b6e8e(0x16b)];else{if(_0xcca936[0x0][_0x1b6e8e(0x15c)]==_0x1b6e8e(0x173))var _0x27c83e=users[_0x1b6e8e(0x175)];else{if(_0xcca936[0x0][_0x1b6e8e(0x15c)]==_0x1b6e8e(0x158))var _0x27c83e=users[_0x1b6e8e(0x158)];else{if(_0xcca936[0x0][_0x1b6e8e(0x15c)]=='Arabic\x20(ae)')var _0x27c83e=users[_0x1b6e8e(0x15a)];}}}}}}}_0x2c949f['render'](_0x1b6e8e(0x17f),{'success':_0x3256f2[_0x1b6e8e(0x166)](_0x1b6e8e(0x17c)),'errors':_0x3256f2['flash'](_0x1b6e8e(0x150)),'role':_0x1e0c5e,'profile':_0x10df49,'master_shop':_0xcca936,'language':_0x27c83e,'accounting':_0x50beeb,'warehouse_acct':_0x3d8a65,'sales_acct':_0xc51ad2,'warehouse_loc':_0x4461d0,'data':_0x278d04});}catch(_0x3d6480){}}),module[a0_0x1aa265(0x180)]=router;