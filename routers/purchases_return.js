var a0_0x2e7d42=a0_0x478d;(function(_0x2040b4,_0x18ef01){var _0x213c12=a0_0x478d,_0xb75a56=_0x2040b4();while(!![]){try{var _0x2f2ba5=parseInt(_0x213c12(0x21e))/0x1+-parseInt(_0x213c12(0x223))/0x2+-parseInt(_0x213c12(0x235))/0x3*(-parseInt(_0x213c12(0x1e1))/0x4)+-parseInt(_0x213c12(0x1da))/0x5+parseInt(_0x213c12(0x1ff))/0x6+-parseInt(_0x213c12(0x208))/0x7*(-parseInt(_0x213c12(0x1b7))/0x8)+-parseInt(_0x213c12(0x1e7))/0x9;if(_0x2f2ba5===_0x18ef01)break;else _0xb75a56['push'](_0xb75a56['shift']());}catch(_0x328103){_0xb75a56['push'](_0xb75a56['shift']());}}}(a0_0x3cdb,0x6fca5));function a0_0x3cdb(){var _0x453de8=['Portuguese\x20(BR)','/view/:id','findById','master','$date','/purchases_return/view','pallet','render','invoice','string','product_stock','$suppliers','Return\x20Goods','forEach','Spanish','stock_quantity','product_code_hide','getMonth','Enabled','findOne','map','$name','2958144WdXGkA','return_product','product_details.return_qtyproduct_details.return_qty','$product_details._id','getFullYear','/receive_payment/:id','room','Portuguese','success','962094XxtLwG','warehouse_name','floorlevel','slice','$total_amount','payment\x20successfull','supplier_docs','$return_product.total','find','product_details','$product_details.secondary_code','purchase_quantity','$discount','language','return_qty','foreach\x20newproduct','post','product_code','$product_details','Router','json','flash','285340pEZjUP','aggregate','../models/all_models','$receivable','Arabic','931942WrVyJU','$invoice','log','save','return_purchase_edit','date','get','secondary_code','user','/invoice/:id','Hindi','type','to_room','back','params','purchases_return','exports','isle','60kNqcRc','old_warehouse_data','redirect','stocks','16uNbqiW','$return_product.product_name','$return_product.return_qty','$due_amount','Raw\x20Materials','English\x20(US)','body','$supplier_docs','to_Room_name','types','English','product_name','Chinese','due_amount','email','German','bay','purchase\x20return\x20successfully','Arabic\x20(ae)','primary_code','name','message','Purchase\x20Return','$supplier_docs.email','errors','level','secondary_code_hide','French','../middleware/auth','bin','old_data','$product_details.rack','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$product_details.primary_code','$product_details.product_name','606775KVHgof','$supplier_docs.mobile','express','status','received','$product_details.floorlevel','to_warehouse_name','85592sjPrIG','amount','$product_details.type','$return_product.price','primary_code_hide','$return_product','3923901YPPGer','suppliers'];a0_0x3cdb=function(){return _0x453de8;};return a0_0x3cdb();}const express=require(a0_0x2e7d42(0x1dc)),app=express(),router=express[a0_0x2e7d42(0x21b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x2e7d42(0x220)),auth=require(a0_0x2e7d42(0x1d3)),users=require('../public/language/languages.json');function a0_0x478d(_0x3969fa,_0xb0854a){var _0x3cdb37=a0_0x3cdb();return a0_0x478d=function(_0x478de9,_0x3d9f92){_0x478de9=_0x478de9-0x1b6;var _0x13e16f=_0x3cdb37[_0x478de9];return _0x13e16f;},a0_0x478d(_0x3969fa,_0xb0854a);}router[a0_0x2e7d42(0x229)]('/view',auth,async(_0x47f3a0,_0x11708b)=>{var _0x24b7c0=a0_0x2e7d42;try{const {username:_0x172be2,email:_0x3fa50c,role:_0x2fd5f4}=_0x47f3a0[_0x24b7c0(0x22b)],_0x4f16d5=_0x47f3a0[_0x24b7c0(0x22b)],_0x31f8d6=await profile[_0x24b7c0(0x1fc)]({'email':_0x4f16d5[_0x24b7c0(0x1c5)]}),_0x3947e0=await master_shop[_0x24b7c0(0x210)]();console[_0x24b7c0(0x225)]('master',_0x3947e0);const _0x5b44ea=await purchases_return[_0x24b7c0(0x21f)]([{'$lookup':{'from':_0x24b7c0(0x1e8),'localField':_0x24b7c0(0x1e8),'foreignField':_0x24b7c0(0x1cb),'as':_0x24b7c0(0x20e)}},{'$unwind':_0x24b7c0(0x1e6)},{'$unwind':_0x24b7c0(0x1be)},{'$group':{'_id':'$_id','invoice':{'$first':_0x24b7c0(0x224)},'date':{'$first':_0x24b7c0(0x1ed)},'suppliers':{'$first':_0x24b7c0(0x1f4)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x24b7c0(0x1b8)},'return_qty':{'$first':_0x24b7c0(0x1b9)},'price':{'$first':_0x24b7c0(0x1e4)},'total':{'$sum':_0x24b7c0(0x20f)},'note':{'$first':'$note'},'total_amount':{'$first':_0x24b7c0(0x20c)},'discount':{'$first':_0x24b7c0(0x214)},'receivable':{'$first':_0x24b7c0(0x221)},'received':{'$first':'$received'},'due_amount':{'$first':_0x24b7c0(0x1ba)},'mobile':{'$first':_0x24b7c0(0x1db)},'email':{'$first':_0x24b7c0(0x1ce)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x24b7c0(0x1b9)}}}]);console['log'](_0x5b44ea);if(_0x3947e0[0x0][_0x24b7c0(0x215)]==_0x24b7c0(0x1bc)){var _0x1515ac=users[_0x24b7c0(0x1c1)];console[_0x24b7c0(0x225)](_0x1515ac);}else{if(_0x3947e0[0x0]['language']==_0x24b7c0(0x22d))var _0x1515ac=users[_0x24b7c0(0x22d)];else{if(_0x3947e0[0x0][_0x24b7c0(0x215)]==_0x24b7c0(0x1c6))var _0x1515ac=users[_0x24b7c0(0x1c6)];else{if(_0x3947e0[0x0]['language']==_0x24b7c0(0x1f7))var _0x1515ac=users['Spanish'];else{if(_0x3947e0[0x0][_0x24b7c0(0x215)]==_0x24b7c0(0x1d2))var _0x1515ac=users[_0x24b7c0(0x1d2)];else{if(_0x3947e0[0x0][_0x24b7c0(0x215)]==_0x24b7c0(0x1e9))var _0x1515ac=users[_0x24b7c0(0x206)];else{if(_0x3947e0[0x0][_0x24b7c0(0x215)]==_0x24b7c0(0x1c3))var _0x1515ac=users[_0x24b7c0(0x1c3)];else{if(_0x3947e0[0x0][_0x24b7c0(0x215)]==_0x24b7c0(0x1c9))var _0x1515ac=users[_0x24b7c0(0x222)];}}}}}}}_0x11708b[_0x24b7c0(0x1f0)](_0x24b7c0(0x232),{'success':_0x47f3a0[_0x24b7c0(0x21d)](_0x24b7c0(0x207)),'errors':_0x47f3a0[_0x24b7c0(0x21d)]('errors'),'role':_0x4f16d5,'profile':_0x31f8d6,'master_shop':_0x3947e0,'user':_0x5b44ea,'language':_0x1515ac});}catch(_0x5d7618){console[_0x24b7c0(0x225)](_0x5d7618);}}),router[a0_0x2e7d42(0x229)](a0_0x2e7d42(0x1ea),auth,async(_0x5b5856,_0x17d96b)=>{var _0x444f65=a0_0x2e7d42;try{const {username:_0xa6c788,email:_0x512fda,role:_0x50c0e8}=_0x5b5856[_0x444f65(0x22b)],_0xdc5fd9=_0x5b5856[_0x444f65(0x22b)],_0x1eb90e=await profile[_0x444f65(0x1fc)]({'email':_0xdc5fd9[_0x444f65(0x1c5)]}),_0x55bf8a=await product['find']({}),_0x186989=await master_shop[_0x444f65(0x210)]();console[_0x444f65(0x225)](_0x444f65(0x1ec),_0x186989),console[_0x444f65(0x225)](_0x5b5856[_0x444f65(0x1bd)]);const _0x395137=_0x5b5856[_0x444f65(0x231)]['id'],_0x519701=await purchases_return[_0x444f65(0x1eb)](_0x395137);console['log'](_0x519701);const _0x3e6245=await warehouse[_0x444f65(0x21f)]([{'$match':{'name':_0x519701[_0x444f65(0x209)],'room':_0x519701[_0x444f65(0x205)]}},{'$unwind':_0x444f65(0x21a)},{'$group':{'_id':_0x444f65(0x202),'name':{'$first':_0x444f65(0x1d9)},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x444f65(0x1e3)},'floorlevel':{'$first':_0x444f65(0x1df)},'primary_code':{'$first':_0x444f65(0x1d8)},'secondary_code':{'$first':_0x444f65(0x212)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x444f65(0x1d6)}}}]);warehouse_data=await warehouse[_0x444f65(0x21f)]([{'$match':{'status':_0x444f65(0x1fb),'name':_0x444f65(0x1f5),'warehouse_category':_0x444f65(0x1bb)}},{'$group':{'_id':_0x444f65(0x1fe),'name':{'$first':_0x444f65(0x1fe)}}},{'$sort':{'name':0x1}}]),console['log']('stock_data',_0x3e6245);if(_0x186989[0x0][_0x444f65(0x215)]==_0x444f65(0x1bc)){var _0x5b564f=users[_0x444f65(0x1c1)];console[_0x444f65(0x225)](_0x5b564f);}else{if(_0x186989[0x0]['language']=='Hindi')var _0x5b564f=users[_0x444f65(0x22d)];else{if(_0x186989[0x0]['language']==_0x444f65(0x1c6))var _0x5b564f=users['German'];else{if(_0x186989[0x0]['language']=='Spanish')var _0x5b564f=users[_0x444f65(0x1f7)];else{if(_0x186989[0x0][_0x444f65(0x215)]=='French')var _0x5b564f=users[_0x444f65(0x1d2)];else{if(_0x186989[0x0][_0x444f65(0x215)]==_0x444f65(0x1e9))var _0x5b564f=users[_0x444f65(0x206)];else{if(_0x186989[0x0][_0x444f65(0x215)]==_0x444f65(0x1c3))var _0x5b564f=users['Chinese'];else{if(_0x186989[0x0]['language']==_0x444f65(0x1c9))var _0x5b564f=users[_0x444f65(0x222)];}}}}}}}_0x17d96b[_0x444f65(0x1f0)](_0x444f65(0x227),{'success':_0x5b5856[_0x444f65(0x21d)]('success'),'errors':_0x5b5856['flash'](_0x444f65(0x1cf)),'role':_0xdc5fd9,'master_shop':_0x186989,'profile':_0x1eb90e,'user':_0x519701,'stock':_0x3e6245,'product':_0x55bf8a,'language':_0x5b564f,'warehouse':warehouse_data});}catch(_0x4d5b34){console[_0x444f65(0x225)](_0x4d5b34);}}),router[a0_0x2e7d42(0x218)]('/view/:id',auth,async(_0xccb039,_0x54d0ae)=>{var _0x418a89=a0_0x2e7d42;try{const _0x3413bd=_0xccb039[_0x418a89(0x231)]['id'];console[_0x418a89(0x225)](_0x3413bd);const _0x5d573c=await purchases_return[_0x418a89(0x1fc)]({'invoice':_0xccb039[_0x418a89(0x1bd)]['invoice']});console[_0x418a89(0x225)](_0x418a89(0x1d5),_0x5d573c);const _0x34021b=await warehouse[_0x418a89(0x1fc)]({'name':_0x5d573c['to_warehouse_name'],'room':_0x5d573c[_0x418a89(0x22f)]});console[_0x418a89(0x225)](_0x418a89(0x236),_0x34021b);const {invoice:_0x4e8ca4,suppliers:_0x10dbed,date:_0x345d87,warehouse_name:_0x152583,product_name:_0x507ba2,purchase_quantity:_0x34bce1,stocks:_0x8b9b6d,return_qty:_0x57ea3a,note:_0x2caaae,Room_name:_0x313714,level:_0x2c1560,isle:_0x33e52f,pallet:_0x1f3539,to_warehouse_name:_0x149b48,to_Room_name:_0x285185}=_0xccb039[_0x418a89(0x1bd)];if(typeof _0x507ba2==_0x418a89(0x1f2))var _0x660a4c=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1c2)]],_0x35a596=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x213)]],_0x5683f6=[_0xccb039['body'][_0x418a89(0x1b6)]],_0x3c0594=[_0xccb039['body'][_0x418a89(0x216)]],_0x32255=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1d0)]],_0x5015f1=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x234)]],_0x1b552d=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1ef)]],_0xb78300=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1c0)]],_0x18f1c7=[_0xccb039[_0x418a89(0x1bd)]['product_code_hide']],_0x45bed2=[_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1e5)]],_0x32ac50=[_0xccb039[_0x418a89(0x1bd)]['secondary_code_hide']];else var _0x660a4c=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1c2)]],_0x35a596=[..._0xccb039['body'][_0x418a89(0x213)]],_0x5683f6=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1b6)]],_0x3c0594=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x216)]],_0x32255=[..._0xccb039['body'][_0x418a89(0x1d0)]],_0x5015f1=[..._0xccb039['body'][_0x418a89(0x234)]],_0x1b552d=[..._0xccb039['body'][_0x418a89(0x1ef)]],_0x18f1c7=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1f9)]],_0x45bed2=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1e5)]],_0x32ac50=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1d1)]],_0xb78300=[..._0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1c0)]];const _0x4a8f95=_0x660a4c[_0x418a89(0x1fd)](_0x428336=>{return _0x428336={'product_name':_0x428336};});_0x35a596[_0x418a89(0x1f6)]((_0x43abbf,_0x1ae787)=>{var _0x12e401=_0x418a89;_0x4a8f95[_0x1ae787][_0x12e401(0x213)]=_0x43abbf;}),_0x5683f6[_0x418a89(0x1f6)]((_0x3ee558,_0x2634df)=>{var _0x4b51a2=_0x418a89;_0x4a8f95[_0x2634df][_0x4b51a2(0x1f8)]=_0x3ee558;}),_0x3c0594['forEach']((_0x53c36b,_0x350a2)=>{var _0x45e9dc=_0x418a89;_0x4a8f95[_0x350a2][_0x45e9dc(0x216)]=_0x53c36b;}),_0x32255[_0x418a89(0x1f6)]((_0x23e33a,_0x5d4894)=>{var _0x52c40a=_0x418a89;_0x4a8f95[_0x5d4894][_0x52c40a(0x1c7)]=_0x23e33a;}),_0x5015f1[_0x418a89(0x1f6)]((_0x1c721a,_0x4c788d)=>{var _0x52a1f4=_0x418a89;_0x4a8f95[_0x4c788d][_0x52a1f4(0x1d4)]=_0x1c721a;}),_0x1b552d[_0x418a89(0x1f6)]((_0xf02666,_0x343ec0)=>{var _0x3d8c22=_0x418a89;_0x4a8f95[_0x343ec0][_0x3d8c22(0x20a)]=_0xf02666;}),_0x18f1c7['forEach']((_0x235f6c,_0x5b3e50)=>{var _0x54a61e=_0x418a89;_0x4a8f95[_0x5b3e50][_0x54a61e(0x219)]=_0x235f6c;}),_0x45bed2[_0x418a89(0x1f6)]((_0x5f5af4,_0x488e59)=>{var _0x1c2f20=_0x418a89;_0x4a8f95[_0x488e59][_0x1c2f20(0x1ca)]=_0x5f5af4;}),_0x32ac50[_0x418a89(0x1f6)]((_0x4a4b5b,_0x57fa4b)=>{var _0x397040=_0x418a89;_0x4a8f95[_0x57fa4b][_0x397040(0x22a)]=_0x4a4b5b;}),_0xb78300[_0x418a89(0x1f6)]((_0xb0b7c5,_0x41e707)=>{var _0x459773=_0x418a89;_0x4a8f95[_0x41e707][_0x459773(0x22e)]=_0xb0b7c5;});var _0x272592=0x0;_0x4a8f95[_0x418a89(0x1f6)](_0x217e43=>{var _0x58ef2f=_0x418a89;console['log'](_0x58ef2f(0x217),_0x217e43),(parseInt(_0x217e43[_0x58ef2f(0x213)])<parseInt(_0x217e43[_0x58ef2f(0x216)])||parseInt(_0x217e43[_0x58ef2f(0x1f8)])<parseInt(_0x217e43[_0x58ef2f(0x216)])||parseInt(_0x217e43[_0x58ef2f(0x216)])==0x0)&&_0x272592++;});if(_0x272592!=0x0)return _0xccb039[_0x418a89(0x21d)](_0x418a89(0x1cf),_0x418a89(0x1d7)),_0x54d0ae[_0x418a89(0x237)](_0x418a89(0x230));_0x5d573c[_0x418a89(0x200)][_0x418a89(0x1f6)](_0x160cd5=>{var _0x4d07e6=_0x418a89;const _0x3b7d3f=_0x34021b[_0x4d07e6(0x211)][_0x4d07e6(0x1fd)](_0x616c80=>{var _0x5ae7e6=_0x4d07e6;_0x616c80['product_name']==_0x160cd5['product_name']&&_0x616c80[_0x5ae7e6(0x20a)]==_0x160cd5['floorlevel']&&_0x616c80['type']==_0x160cd5['type']&&_0x616c80[_0x5ae7e6(0x1d4)]==_0x160cd5[_0x5ae7e6(0x1d4)]&&_0x616c80['bay']==_0x160cd5[_0x5ae7e6(0x1c7)]&&(_0x616c80[_0x5ae7e6(0x1f3)]=parseInt(_0x616c80[_0x5ae7e6(0x1f3)])+parseInt(_0x160cd5[_0x5ae7e6(0x216)]));});}),console[_0x418a89(0x225)](_0x418a89(0x236),_0x34021b),await _0x34021b[_0x418a89(0x226)](),_0x5d573c[_0x418a89(0x1f1)]=_0x4e8ca4,_0x5d573c[_0x418a89(0x1e8)]=_0x10dbed,_0x5d573c[_0x418a89(0x228)]=_0x345d87,_0x5d573c['warehouse_name']=_0x152583,_0x5d573c[_0x418a89(0x200)]=_0x4a8f95,_0x5d573c['note']=_0x2caaae,_0x5d573c[_0x418a89(0x205)]=_0x313714,_0x5d573c[_0x418a89(0x1e0)]=_0x149b48,_0x5d573c['to_room']=_0x285185;const _0x37868d=await _0x5d573c[_0x418a89(0x226)](),_0x65bc4c=await purchases_return['findOne']({'invoice':_0xccb039[_0x418a89(0x1bd)]['invoice']}),_0x21413c=await warehouse[_0x418a89(0x1fc)]({'name':_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1e0)],'room':_0xccb039[_0x418a89(0x1bd)][_0x418a89(0x1bf)]});_0x65bc4c['return_product'][_0x418a89(0x1f6)](_0x517297=>{var _0x4b0dc4=_0x418a89;_0x21413c[_0x4b0dc4(0x211)]['map'](_0x55d133=>{var _0x193be1=_0x4b0dc4;_0x55d133[_0x193be1(0x1c2)]==_0x517297['product_name']&&_0x55d133[_0x193be1(0x1ef)]==_0x517297['pallet']&&(_0x55d133[_0x193be1(0x1f3)]=parseInt(_0x55d133[_0x193be1(0x1f3)])-parseInt(_0x517297[_0x193be1(0x216)]),console[_0x193be1(0x225)](_0x193be1(0x201),_0x517297[_0x193be1(0x216)]));});}),console['log']('final',_0x21413c),await _0x21413c[_0x418a89(0x226)]();const _0x50f26a=await s_payment_data[_0x418a89(0x1fc)]({'invoice':_0xccb039['body'][_0x418a89(0x1f1)],'reason':_0x418a89(0x1cd)});await _0x50f26a[_0x418a89(0x226)](),_0xccb039[_0x418a89(0x21d)](_0x418a89(0x207),_0x418a89(0x1c8)),_0x54d0ae[_0x418a89(0x237)]('/purchases_return/view');}catch(_0x47124c){console[_0x418a89(0x225)](_0x47124c),_0x54d0ae[_0x418a89(0x1dd)](0xc8)[_0x418a89(0x21c)]({'message':_0x47124c[_0x418a89(0x1cc)]});}}),router[a0_0x2e7d42(0x229)](a0_0x2e7d42(0x22c),auth,async(_0x5b1385,_0x1103af)=>{var _0x2b82cc=a0_0x2e7d42;try{const {username:_0x153ac1,email:_0x354ff8,role:_0x2f952a}=_0x5b1385['user'],_0x4b601d=_0x5b1385['user'],_0x4fcd7f=await profile['findOne']({'email':_0x4b601d[_0x2b82cc(0x1c5)]}),_0x25f226=await master_shop[_0x2b82cc(0x210)]();console[_0x2b82cc(0x225)](_0x2b82cc(0x1ec),_0x25f226);const _0x5260de=_0x5b1385[_0x2b82cc(0x231)]['id'],_0x5160b6=await purchases_return[_0x2b82cc(0x1eb)](_0x5260de);console[_0x2b82cc(0x225)](_0x5160b6);const _0x5c0ec8=await suppliers[_0x2b82cc(0x1fc)]({'name':_0x5160b6[_0x2b82cc(0x1e8)]});console[_0x2b82cc(0x225)](_0x5c0ec8);if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x1bc)){var _0x4ded78=users[_0x2b82cc(0x1c1)];console[_0x2b82cc(0x225)](_0x4ded78);}else{if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x22d))var _0x4ded78=users[_0x2b82cc(0x22d)];else{if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x1c6))var _0x4ded78=users['German'];else{if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x1f7))var _0x4ded78=users[_0x2b82cc(0x1f7)];else{if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x1d2))var _0x4ded78=users['French'];else{if(_0x25f226[0x0][_0x2b82cc(0x215)]=='Portuguese\x20(BR)')var _0x4ded78=users['Portuguese'];else{if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x1c3))var _0x4ded78=users[_0x2b82cc(0x1c3)];else{if(_0x25f226[0x0][_0x2b82cc(0x215)]==_0x2b82cc(0x1c9))var _0x4ded78=users[_0x2b82cc(0x222)];}}}}}}}_0x1103af[_0x2b82cc(0x1f0)]('return_purchase_invoice',{'success':_0x5b1385[_0x2b82cc(0x21d)](_0x2b82cc(0x207)),'errors':_0x5b1385['flash'](_0x2b82cc(0x1cf)),'role':_0x4b601d,'profile':_0x4fcd7f,'master_shop':_0x25f226,'supplier':_0x5c0ec8,'purchase':_0x5160b6,'language':_0x4ded78});}catch(_0x479637){console[_0x2b82cc(0x225)](_0x479637);}}),router[a0_0x2e7d42(0x218)](a0_0x2e7d42(0x204),auth,async(_0x34348b,_0x52dff1)=>{var _0xc9eaf9=a0_0x2e7d42;try{const _0x2ee671=_0x34348b[_0xc9eaf9(0x231)]['id'],{invoice:_0x19475b,suppliers:_0x5c6fd4,receivable_amount:_0x5cf856,received_amount:_0x1c40db}=_0x34348b[_0xc9eaf9(0x1bd)],_0x486a02=await purchases_return[_0xc9eaf9(0x1eb)](_0x2ee671);console[_0xc9eaf9(0x225)](_0x486a02);var _0x5b6057=_0x5cf856-_0x1c40db;console[_0xc9eaf9(0x225)](_0x1c40db),_0x486a02[_0xc9eaf9(0x1de)]=parseFloat(_0x1c40db)+parseFloat(_0x486a02[_0xc9eaf9(0x1de)]),_0x486a02[_0xc9eaf9(0x1c4)]=_0x5b6057,console[_0xc9eaf9(0x225)](_0x486a02);const _0x5013f6=await _0x486a02[_0xc9eaf9(0x226)](),_0x16b05a=await s_payment_data[_0xc9eaf9(0x1fc)]({'invoice':_0x34348b[_0xc9eaf9(0x1bd)][_0xc9eaf9(0x1f1)],'reason':_0xc9eaf9(0x1cd)});_0x16b05a[_0xc9eaf9(0x1e2)]=_0x5b6057,await _0x16b05a[_0xc9eaf9(0x226)]();let _0x153132=new Date(),_0x16739e=('0'+_0x153132['getDate']())[_0xc9eaf9(0x20b)](-0x2),_0x5c5a8d=('0'+(_0x153132[_0xc9eaf9(0x1fa)]()+0x1))['slice'](-0x2),_0x46a6df=_0x153132[_0xc9eaf9(0x203)](),_0x39b4d4=_0x46a6df+'-'+_0x5c5a8d+'-'+_0x16739e;const _0x57f22c=new suppliers_payment({'invoice':_0x19475b,'date':_0x46a6df+'-'+_0x5c5a8d+'-'+_0x16739e,'suppliers':_0x5c6fd4,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x1c40db}),_0x4da65f=await _0x57f22c[_0xc9eaf9(0x226)]();_0x34348b[_0xc9eaf9(0x21d)](_0xc9eaf9(0x207),_0xc9eaf9(0x20d)),_0x52dff1[_0xc9eaf9(0x237)](_0xc9eaf9(0x1ee));}catch(_0x12fd7b){console[_0xc9eaf9(0x225)](_0x12fd7b);}}),module[a0_0x2e7d42(0x233)]=router;