function a0_0x17ea(_0x184345,_0x495935){var _0x4f011d=a0_0x4f01();return a0_0x17ea=function(_0x17eadf,_0x3a5583){_0x17eadf=_0x17eadf-0xc5;var _0x5b48e0=_0x4f011d[_0x17eadf];return _0x5b48e0;},a0_0x17ea(_0x184345,_0x495935);}var a0_0x832668=a0_0x17ea;function a0_0x4f01(){var _0x2f0841=['/invoice/:id','Purchase\x20Return','$product_details','Spanish','success','$return_product.product_name','$return_product.price','$discount','type','$warehouse_name','6pzifXi','$due_amount','getFullYear','product_code','findOne','$note','Arabic','504621jAqwCD','supplier_docs','old_warehouse_data','$product_details.primary_code','/receive_payment/:id','getDate','../public/language/languages.json','warehouse_name','285610bCpcHu','old_data','/view/:id','German','email','Chinese','/purchases_return/view','$product_details.storage','return_product','payment\x20successfull','secondary_code','primary_code_hide','Raw\x20Materials','$product_details._id','$name','redirect','stocks','$product_details.product_name','product_code_hide','json','string','$receivable','stock_quantity','to_room','$date','flash','$supplier_docs.address','679174yGbALg','body','received','master','/view','foreach\x20newproduct','primary_code','exports','language','$return_product','348264BZFIny','$total_amount','stock_data','save','types','French','to_Room_name','$invoice','Hindi','Arabic\x20(ae)','493755DqJgEu','findById','suppliers','634563Fdffgn','user','$product_details.floorlevel','$supplier_docs.email','$_id','isle','forEach','$supplier_docs','final','due_amount','pallet','product_details.return_qtyproduct_details.return_qty','bay','purchase_quantity','invoice','getMonth','amount','params','$suppliers','express','146678wQWepH','date','bin','purchases_return','product_details','Portuguese','product_stock','Portuguese\x20(BR)','get','to_warehouse_name','secondary_code_hide','$product_details.rack','Router','$product_details.bay','aggregate','../models/all_models','map','return_qty','log','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','errors','name','$product_details.bin','product_name','$product_details.secondary_code','English','message','English\x20(US)','$product_details.product_stock','8SWifzM','find','level','return_purchase_invoice','floorlevel','return_purchase_edit','../middleware/auth','room'];a0_0x4f01=function(){return _0x2f0841;};return a0_0x4f01();}(function(_0x3cbdc6,_0xdb13d4){var _0x356cf8=a0_0x17ea,_0x3521a4=_0x3cbdc6();while(!![]){try{var _0x51d8c8=parseInt(_0x356cf8(0xf1))/0x1+-parseInt(_0x356cf8(0xdd))/0x2+parseInt(_0x356cf8(0x13e))/0x3+parseInt(_0x356cf8(0xe7))/0x4+-parseInt(_0x356cf8(0x146))/0x5*(parseInt(_0x356cf8(0x137))/0x6)+-parseInt(_0x356cf8(0x108))/0x7*(-parseInt(_0x356cf8(0x125))/0x8)+-parseInt(_0x356cf8(0xf4))/0x9;if(_0x51d8c8===_0xdb13d4)break;else _0x3521a4['push'](_0x3521a4['shift']());}catch(_0x10f063){_0x3521a4['push'](_0x3521a4['shift']());}}}(a0_0x4f01,0x49eae));const express=require(a0_0x832668(0x107)),app=express(),router=express[a0_0x832668(0x114)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x832668(0x117)),auth=require(a0_0x832668(0x12b)),users=require(a0_0x832668(0x144));router[a0_0x832668(0x110)](a0_0x832668(0xe1),auth,async(_0x58932e,_0x9b17a3)=>{var _0x98787f=a0_0x832668;try{const {username:_0x27fb7b,email:_0x4e627a,role:_0x52ccce}=_0x58932e[_0x98787f(0xf5)],_0x5c5514=_0x58932e[_0x98787f(0xf5)],_0x1ef4bb=await profile[_0x98787f(0x13b)]({'email':_0x5c5514[_0x98787f(0xc6)]}),_0x7a4aa6=await master_shop[_0x98787f(0x126)]();console['log'](_0x98787f(0xe0),_0x7a4aa6);const _0x3f9a4b=await purchases_return[_0x98787f(0x116)]([{'$lookup':{'from':_0x98787f(0xf3),'localField':_0x98787f(0xf3),'foreignField':_0x98787f(0x11d),'as':_0x98787f(0x13f)}},{'$unwind':_0x98787f(0xe6)},{'$unwind':_0x98787f(0xfb)},{'$group':{'_id':_0x98787f(0xf8),'invoice':{'$first':_0x98787f(0xee)},'date':{'$first':_0x98787f(0xda)},'suppliers':{'$first':_0x98787f(0x106)},'warehouse_name':{'$first':_0x98787f(0x136)},'product_name':{'$first':_0x98787f(0x132)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x98787f(0x133)},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x98787f(0x13c)},'total_amount':{'$first':_0x98787f(0xe8)},'discount':{'$first':_0x98787f(0x134)},'receivable':{'$first':_0x98787f(0xd7)},'received':{'$first':'$received'},'due_amount':{'$first':_0x98787f(0x138)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x98787f(0xf7)},'address':{'$first':_0x98787f(0xdc)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x98787f(0x11a)](_0x3f9a4b);if(_0x7a4aa6[0x0][_0x98787f(0xe5)]=='English\x20(US)'){var _0x115026=users[_0x98787f(0x121)];console[_0x98787f(0x11a)](_0x115026);}else{if(_0x7a4aa6[0x0][_0x98787f(0xe5)]==_0x98787f(0xef))var _0x115026=users[_0x98787f(0xef)];else{if(_0x7a4aa6[0x0][_0x98787f(0xe5)]==_0x98787f(0xc5))var _0x115026=users[_0x98787f(0xc5)];else{if(_0x7a4aa6[0x0][_0x98787f(0xe5)]==_0x98787f(0x130))var _0x115026=users[_0x98787f(0x130)];else{if(_0x7a4aa6[0x0][_0x98787f(0xe5)]==_0x98787f(0xec))var _0x115026=users[_0x98787f(0xec)];else{if(_0x7a4aa6[0x0]['language']==_0x98787f(0x10f))var _0x115026=users[_0x98787f(0x10d)];else{if(_0x7a4aa6[0x0][_0x98787f(0xe5)]==_0x98787f(0xc7))var _0x115026=users[_0x98787f(0xc7)];else{if(_0x7a4aa6[0x0][_0x98787f(0xe5)]==_0x98787f(0xf0))var _0x115026=users[_0x98787f(0x13d)];}}}}}}}_0x9b17a3['render'](_0x98787f(0x10b),{'success':_0x58932e[_0x98787f(0xdb)]('success'),'errors':_0x58932e[_0x98787f(0xdb)](_0x98787f(0x11c)),'role':_0x5c5514,'profile':_0x1ef4bb,'master_shop':_0x7a4aa6,'user':_0x3f9a4b,'language':_0x115026});}catch(_0x5c468c){console['log'](_0x5c468c);}}),router[a0_0x832668(0x110)](a0_0x832668(0x148),auth,async(_0xa7897a,_0x416bb9)=>{var _0x1f0eae=a0_0x832668;try{const {username:_0x3f426c,email:_0x457dc8,role:_0x283120}=_0xa7897a['user'],_0x1664b1=_0xa7897a['user'],_0x3f6942=await profile['findOne']({'email':_0x1664b1[_0x1f0eae(0xc6)]}),_0x2eac78=await product[_0x1f0eae(0x126)]({}),_0x2e976c=await master_shop[_0x1f0eae(0x126)]();console['log']('master',_0x2e976c),console[_0x1f0eae(0x11a)](_0xa7897a[_0x1f0eae(0xde)]);const _0x57c22f=_0xa7897a[_0x1f0eae(0x105)]['id'],_0x47a612=await purchases_return[_0x1f0eae(0xf2)](_0x57c22f);console['log'](_0x47a612);const _0x8aec1c=await warehouse[_0x1f0eae(0x116)]([{'$match':{'name':_0x47a612[_0x1f0eae(0x145)],'room':_0x47a612[_0x1f0eae(0x12c)]}},{'$unwind':_0x1f0eae(0x12f)},{'$group':{'_id':_0x1f0eae(0xcf),'name':{'$first':_0x1f0eae(0xd3)},'product_stock':{'$first':_0x1f0eae(0x124)},'bay':{'$first':_0x1f0eae(0x115)},'bin':{'$first':_0x1f0eae(0x11e)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x1f0eae(0xf6)},'primary_code':{'$first':_0x1f0eae(0x141)},'secondary_code':{'$first':_0x1f0eae(0x120)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':_0x1f0eae(0xc9)},'rack':{'$first':_0x1f0eae(0x113)}}}]);warehouse_data=await warehouse[_0x1f0eae(0x116)]([{'$match':{'status':'Enabled','name':'Return\x20Goods','warehouse_category':_0x1f0eae(0xce)}},{'$group':{'_id':_0x1f0eae(0xd0),'name':{'$first':_0x1f0eae(0xd0)}}},{'$sort':{'name':0x1}}]),console[_0x1f0eae(0x11a)](_0x1f0eae(0xe9),_0x8aec1c);if(_0x2e976c[0x0]['language']==_0x1f0eae(0x123)){var _0x54ac02=users['English'];console['log'](_0x54ac02);}else{if(_0x2e976c[0x0][_0x1f0eae(0xe5)]==_0x1f0eae(0xef))var _0x54ac02=users[_0x1f0eae(0xef)];else{if(_0x2e976c[0x0][_0x1f0eae(0xe5)]==_0x1f0eae(0xc5))var _0x54ac02=users[_0x1f0eae(0xc5)];else{if(_0x2e976c[0x0][_0x1f0eae(0xe5)]==_0x1f0eae(0x130))var _0x54ac02=users['Spanish'];else{if(_0x2e976c[0x0][_0x1f0eae(0xe5)]==_0x1f0eae(0xec))var _0x54ac02=users[_0x1f0eae(0xec)];else{if(_0x2e976c[0x0][_0x1f0eae(0xe5)]==_0x1f0eae(0x10f))var _0x54ac02=users[_0x1f0eae(0x10d)];else{if(_0x2e976c[0x0][_0x1f0eae(0xe5)]==_0x1f0eae(0xc7))var _0x54ac02=users[_0x1f0eae(0xc7)];else{if(_0x2e976c[0x0]['language']==_0x1f0eae(0xf0))var _0x54ac02=users[_0x1f0eae(0x13d)];}}}}}}}_0x416bb9['render'](_0x1f0eae(0x12a),{'success':_0xa7897a['flash'](_0x1f0eae(0x131)),'errors':_0xa7897a['flash']('errors'),'role':_0x1664b1,'master_shop':_0x2e976c,'profile':_0x3f6942,'user':_0x47a612,'stock':_0x8aec1c,'product':_0x2eac78,'language':_0x54ac02,'warehouse':warehouse_data});}catch(_0x5a963a){console['log'](_0x5a963a);}}),router['post'](a0_0x832668(0x148),auth,async(_0x4d1d46,_0xd816f5)=>{var _0x5ebb81=a0_0x832668;try{const _0x4b1867=_0x4d1d46[_0x5ebb81(0x105)]['id'];console[_0x5ebb81(0x11a)](_0x4b1867);const _0x1202b8=await purchases_return['findOne']({'invoice':_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x102)]});console['log'](_0x5ebb81(0x147),_0x1202b8);const _0x56aeab=await warehouse['findOne']({'name':_0x1202b8[_0x5ebb81(0x111)],'room':_0x1202b8[_0x5ebb81(0xd9)]});console[_0x5ebb81(0x11a)](_0x5ebb81(0x140),_0x56aeab);const {invoice:_0x41a654,suppliers:_0x6cc767,date:_0x10cb2f,warehouse_name:_0x47d88c,product_name:_0x5ba725,purchase_quantity:_0x2c5af8,stocks:_0x23061f,return_qty:_0x502295,note:_0xffdfd5,Room_name:_0x46030c,level:_0x5540c1,isle:_0x20593f,pallet:_0x27f4ec,to_warehouse_name:_0xef297d,to_Room_name:_0xce1278}=_0x4d1d46[_0x5ebb81(0xde)];if(typeof _0x5ba725==_0x5ebb81(0xd6))var _0x5c3819=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x11f)]],_0x23b718=[_0x4d1d46[_0x5ebb81(0xde)]['purchase_quantity']],_0x5540dd=[_0x4d1d46['body'][_0x5ebb81(0xd2)]],_0xe10af=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x119)]],_0x204188=[_0x4d1d46['body'][_0x5ebb81(0x127)]],_0x3e6d48=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xf9)]],_0x9265c=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xfe)]],_0x596070=[_0x4d1d46['body'][_0x5ebb81(0xeb)]],_0x473534=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xd4)]],_0x506e87=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xcd)]],_0x5822a8=[_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x112)]];else var _0x5c3819=[..._0x4d1d46['body'][_0x5ebb81(0x11f)]],_0x23b718=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x101)]],_0x5540dd=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xd2)]],_0xe10af=[..._0x4d1d46['body'][_0x5ebb81(0x119)]],_0x204188=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x127)]],_0x3e6d48=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xf9)]],_0x9265c=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xfe)]],_0x473534=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xd4)]],_0x506e87=[..._0x4d1d46[_0x5ebb81(0xde)]['primary_code_hide']],_0x5822a8=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x112)]],_0x596070=[..._0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xeb)]];const _0x43e54c=_0x5c3819[_0x5ebb81(0x118)](_0x1a98e4=>{return _0x1a98e4={'product_name':_0x1a98e4};});_0x23b718[_0x5ebb81(0xfa)]((_0x5513f1,_0x16b677)=>{var _0x40e569=_0x5ebb81;_0x43e54c[_0x16b677][_0x40e569(0x101)]=_0x5513f1;}),_0x5540dd[_0x5ebb81(0xfa)]((_0x349699,_0x169c35)=>{var _0x416a1d=_0x5ebb81;_0x43e54c[_0x169c35][_0x416a1d(0xd8)]=_0x349699;}),_0xe10af['forEach']((_0x416b11,_0x5852b9)=>{var _0x31f56f=_0x5ebb81;_0x43e54c[_0x5852b9][_0x31f56f(0x119)]=_0x416b11;}),_0x204188[_0x5ebb81(0xfa)]((_0x395f4f,_0x4d668f)=>{var _0x2e6ccd=_0x5ebb81;_0x43e54c[_0x4d668f][_0x2e6ccd(0x100)]=_0x395f4f;}),_0x3e6d48[_0x5ebb81(0xfa)]((_0x19d332,_0x46073b)=>{var _0x16812c=_0x5ebb81;_0x43e54c[_0x46073b][_0x16812c(0x10a)]=_0x19d332;}),_0x9265c['forEach']((_0x358b50,_0x47c6ba)=>{var _0x44720e=_0x5ebb81;_0x43e54c[_0x47c6ba][_0x44720e(0x129)]=_0x358b50;}),_0x473534[_0x5ebb81(0xfa)]((_0x127e86,_0x2700ee)=>{var _0x42f938=_0x5ebb81;_0x43e54c[_0x2700ee][_0x42f938(0x13a)]=_0x127e86;}),_0x506e87['forEach']((_0x58f5c9,_0x1dd0a3)=>{var _0x2e67a2=_0x5ebb81;_0x43e54c[_0x1dd0a3][_0x2e67a2(0xe3)]=_0x58f5c9;}),_0x5822a8[_0x5ebb81(0xfa)]((_0x1155a7,_0x36f3c7)=>{var _0x1333cb=_0x5ebb81;_0x43e54c[_0x36f3c7][_0x1333cb(0xcc)]=_0x1155a7;}),_0x596070['forEach']((_0x3642ac,_0x447e61)=>{var _0x48c242=_0x5ebb81;_0x43e54c[_0x447e61][_0x48c242(0x135)]=_0x3642ac;});var _0x44b455=0x0;_0x43e54c[_0x5ebb81(0xfa)](_0x4ff7ac=>{var _0x3bc4de=_0x5ebb81;console['log'](_0x3bc4de(0xe2),_0x4ff7ac),(parseInt(_0x4ff7ac['purchase_quantity'])<parseInt(_0x4ff7ac['return_qty'])||parseInt(_0x4ff7ac[_0x3bc4de(0xd8)])<parseInt(_0x4ff7ac[_0x3bc4de(0x119)])||parseInt(_0x4ff7ac[_0x3bc4de(0x119)])==0x0)&&_0x44b455++;});if(_0x44b455!=0x0)return _0x4d1d46[_0x5ebb81(0xdb)](_0x5ebb81(0x11c),_0x5ebb81(0x11b)),_0xd816f5[_0x5ebb81(0xd1)]('back');_0x1202b8['return_product'][_0x5ebb81(0xfa)](_0x390f89=>{var _0x107367=_0x5ebb81;const _0x8ed298=_0x56aeab[_0x107367(0x10c)]['map'](_0x463e62=>{var _0x861086=_0x107367;_0x463e62[_0x861086(0x11f)]==_0x390f89[_0x861086(0x11f)]&&_0x463e62[_0x861086(0x129)]==_0x390f89[_0x861086(0x129)]&&_0x463e62[_0x861086(0x135)]==_0x390f89['type']&&_0x463e62[_0x861086(0x10a)]==_0x390f89[_0x861086(0x10a)]&&_0x463e62[_0x861086(0x100)]==_0x390f89[_0x861086(0x100)]&&(_0x463e62[_0x861086(0x10e)]=parseInt(_0x463e62[_0x861086(0x10e)])+parseInt(_0x390f89[_0x861086(0x119)]));});}),console['log'](_0x5ebb81(0x140),_0x56aeab),await _0x56aeab[_0x5ebb81(0xea)](),_0x1202b8['invoice']=_0x41a654,_0x1202b8[_0x5ebb81(0xf3)]=_0x6cc767,_0x1202b8[_0x5ebb81(0x109)]=_0x10cb2f,_0x1202b8[_0x5ebb81(0x145)]=_0x47d88c,_0x1202b8[_0x5ebb81(0xca)]=_0x43e54c,_0x1202b8['note']=_0xffdfd5,_0x1202b8[_0x5ebb81(0x12c)]=_0x46030c,_0x1202b8[_0x5ebb81(0x111)]=_0xef297d,_0x1202b8[_0x5ebb81(0xd9)]=_0xce1278;const _0x563c55=await _0x1202b8[_0x5ebb81(0xea)](),_0x984386=await purchases_return['findOne']({'invoice':_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x102)]}),_0x402104=await warehouse[_0x5ebb81(0x13b)]({'name':_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x111)],'room':_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0xed)]});_0x984386['return_product'][_0x5ebb81(0xfa)](_0x3b1741=>{var _0x34b6c5=_0x5ebb81;_0x402104['product_details'][_0x34b6c5(0x118)](_0x1b691d=>{var _0xa71e96=_0x34b6c5;_0x1b691d[_0xa71e96(0x11f)]==_0x3b1741['product_name']&&_0x1b691d[_0xa71e96(0xfe)]==_0x3b1741[_0xa71e96(0xfe)]&&(_0x1b691d[_0xa71e96(0x10e)]=parseInt(_0x1b691d[_0xa71e96(0x10e)])-parseInt(_0x3b1741[_0xa71e96(0x119)]),console[_0xa71e96(0x11a)](_0xa71e96(0xff),_0x3b1741[_0xa71e96(0x119)]));});}),console[_0x5ebb81(0x11a)](_0x5ebb81(0xfc),_0x402104),await _0x402104[_0x5ebb81(0xea)]();const _0x5953c7=await s_payment_data[_0x5ebb81(0x13b)]({'invoice':_0x4d1d46[_0x5ebb81(0xde)][_0x5ebb81(0x102)],'reason':_0x5ebb81(0x12e)});await _0x5953c7[_0x5ebb81(0xea)](),_0x4d1d46[_0x5ebb81(0xdb)]('success','purchase\x20return\x20successfully'),_0xd816f5[_0x5ebb81(0xd1)](_0x5ebb81(0xc8));}catch(_0x214a8a){console[_0x5ebb81(0x11a)](_0x214a8a),_0xd816f5['status'](0xc8)[_0x5ebb81(0xd5)]({'message':_0x214a8a[_0x5ebb81(0x122)]});}}),router[a0_0x832668(0x110)](a0_0x832668(0x12d),auth,async(_0x16e4cd,_0x2c1901)=>{var _0x31aae6=a0_0x832668;try{const {username:_0x29a821,email:_0x13edc3,role:_0x57810a}=_0x16e4cd['user'],_0xdd9fc0=_0x16e4cd['user'],_0x215ad2=await profile['findOne']({'email':_0xdd9fc0[_0x31aae6(0xc6)]}),_0x32c6e5=await master_shop[_0x31aae6(0x126)]();console[_0x31aae6(0x11a)](_0x31aae6(0xe0),_0x32c6e5);const _0x521752=_0x16e4cd[_0x31aae6(0x105)]['id'],_0x15c124=await purchases_return[_0x31aae6(0xf2)](_0x521752);console[_0x31aae6(0x11a)](_0x15c124);const _0x48310a=await suppliers[_0x31aae6(0x13b)]({'name':_0x15c124[_0x31aae6(0xf3)]});console['log'](_0x48310a);if(_0x32c6e5[0x0][_0x31aae6(0xe5)]==_0x31aae6(0x123)){var _0x51db33=users[_0x31aae6(0x121)];console[_0x31aae6(0x11a)](_0x51db33);}else{if(_0x32c6e5[0x0][_0x31aae6(0xe5)]=='Hindi')var _0x51db33=users[_0x31aae6(0xef)];else{if(_0x32c6e5[0x0][_0x31aae6(0xe5)]=='German')var _0x51db33=users[_0x31aae6(0xc5)];else{if(_0x32c6e5[0x0][_0x31aae6(0xe5)]==_0x31aae6(0x130))var _0x51db33=users[_0x31aae6(0x130)];else{if(_0x32c6e5[0x0][_0x31aae6(0xe5)]==_0x31aae6(0xec))var _0x51db33=users[_0x31aae6(0xec)];else{if(_0x32c6e5[0x0]['language']=='Portuguese\x20(BR)')var _0x51db33=users[_0x31aae6(0x10d)];else{if(_0x32c6e5[0x0][_0x31aae6(0xe5)]==_0x31aae6(0xc7))var _0x51db33=users[_0x31aae6(0xc7)];else{if(_0x32c6e5[0x0][_0x31aae6(0xe5)]=='Arabic\x20(ae)')var _0x51db33=users[_0x31aae6(0x13d)];}}}}}}}_0x2c1901['render'](_0x31aae6(0x128),{'success':_0x16e4cd['flash'](_0x31aae6(0x131)),'errors':_0x16e4cd[_0x31aae6(0xdb)](_0x31aae6(0x11c)),'role':_0xdd9fc0,'profile':_0x215ad2,'master_shop':_0x32c6e5,'supplier':_0x48310a,'purchase':_0x15c124,'language':_0x51db33});}catch(_0x2d8732){console[_0x31aae6(0x11a)](_0x2d8732);}}),router['post'](a0_0x832668(0x142),auth,async(_0x572d4f,_0x35b62e)=>{var _0x5de619=a0_0x832668;try{const _0x402d0a=_0x572d4f[_0x5de619(0x105)]['id'],{invoice:_0x28ae11,suppliers:_0x518cf1,receivable_amount:_0x7781ce,received_amount:_0x2d37b8}=_0x572d4f['body'],_0x150bfb=await purchases_return['findById'](_0x402d0a);console[_0x5de619(0x11a)](_0x150bfb);var _0x14eaf4=_0x7781ce-_0x2d37b8;console[_0x5de619(0x11a)](_0x2d37b8),_0x150bfb[_0x5de619(0xdf)]=parseFloat(_0x2d37b8)+parseFloat(_0x150bfb[_0x5de619(0xdf)]),_0x150bfb[_0x5de619(0xfd)]=_0x14eaf4,console[_0x5de619(0x11a)](_0x150bfb);const _0x5ecb90=await _0x150bfb[_0x5de619(0xea)](),_0x4639b9=await s_payment_data[_0x5de619(0x13b)]({'invoice':_0x572d4f[_0x5de619(0xde)][_0x5de619(0x102)],'reason':_0x5de619(0x12e)});_0x4639b9[_0x5de619(0x104)]=_0x14eaf4,await _0x4639b9[_0x5de619(0xea)]();let _0x180fab=new Date(),_0x523b0e=('0'+_0x180fab[_0x5de619(0x143)]())['slice'](-0x2),_0x14355c=('0'+(_0x180fab[_0x5de619(0x103)]()+0x1))['slice'](-0x2),_0x529912=_0x180fab[_0x5de619(0x139)](),_0x3a1589=_0x529912+'-'+_0x14355c+'-'+_0x523b0e;const _0x4d5f00=new suppliers_payment({'invoice':_0x28ae11,'date':_0x529912+'-'+_0x14355c+'-'+_0x523b0e,'suppliers':_0x518cf1,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x2d37b8}),_0x2c3267=await _0x4d5f00[_0x5de619(0xea)]();_0x572d4f[_0x5de619(0xdb)](_0x5de619(0x131),_0x5de619(0xcb)),_0x35b62e[_0x5de619(0xd1)]('/purchases_return/view');}catch(_0x10545d){console[_0x5de619(0x11a)](_0x10545d);}}),module[a0_0x832668(0xe4)]=router;