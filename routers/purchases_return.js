var a0_0x413cc0=a0_0x53c4;(function(_0x19ed31,_0x2151a9){var _0x19c8d1=a0_0x53c4,_0x5e2810=_0x19ed31();while(!![]){try{var _0x57d76=parseInt(_0x19c8d1(0xb6))/0x1+parseInt(_0x19c8d1(0x123))/0x2*(parseInt(_0x19c8d1(0xe2))/0x3)+-parseInt(_0x19c8d1(0x125))/0x4+-parseInt(_0x19c8d1(0x130))/0x5*(parseInt(_0x19c8d1(0xb0))/0x6)+parseInt(_0x19c8d1(0xd6))/0x7*(-parseInt(_0x19c8d1(0xb2))/0x8)+parseInt(_0x19c8d1(0xd2))/0x9*(parseInt(_0x19c8d1(0xec))/0xa)+-parseInt(_0x19c8d1(0xfa))/0xb*(parseInt(_0x19c8d1(0xfd))/0xc);if(_0x57d76===_0x2151a9)break;else _0x5e2810['push'](_0x5e2810['shift']());}catch(_0x3addb3){_0x5e2810['push'](_0x5e2810['shift']());}}}(a0_0x5b71,0x8959a));const express=require(a0_0x413cc0(0x124)),app=express(),router=express[a0_0x413cc0(0x137)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x413cc0(0x118)),auth=require('../middleware/auth'),users=require(a0_0x413cc0(0xf4));function a0_0x5b71(){var _0xe62710=['foreach\x20newproduct','json','get','$product_details.type','92nzlioJ','express','1103560EMlEwS','Return\x20Goods','map','secondary_code_hide','German','note','$product_details.storage','product_stock','$product_details._id','getMonth','$receivable','62630SqtEUa','pallet','findOne','return_product','stock_data','$supplier_docs.mobile','to_Room_name','Router','log','Spanish','198byVilH','final','8pFsjEY','$product_details.floorlevel','success','/view','1086961eEflIS','back','$_id','old_data','$product_details.primary_code','$return_product.return_qty','$due_amount','bay','$return_product.total','status','post','isle','purchase_quantity','product_details','$product_details.bin','master','$product_details.rack','params','secondary_code','errors','save','language','product_name','warehouse_name','$product_details.product_code','$received','types','$suppliers','18fTCncw','flash','findById','supplier_docs','3910879yajCSJ','English\x20(US)','message','$warehouse_name','$note','amount','$name','$supplier_docs.address','$product_details.product_name','user','$discount','/purchases_return/view','34341BRBUOV','Purchase\x20Return','stocks','received','Hindi','payment\x20successfull','old_warehouse_data','to_room','/view/:id','email','2923810rmWZkh','stock_quantity','Raw\x20Materials','room','primary_code_hide','primary_code','floorlevel','invoice','../public/language/languages.json','Chinese','product_details.return_qtyproduct_details.return_qty','$supplier_docs','type','exports','11uvJECG','purchases_return','$total_amount','4653048TThHIE','find','purchase\x20return\x20successfully','$return_product.price','Enabled','bin','getFullYear','body','slice','return_purchase_edit','return_qty','aggregate','/invoice/:id','render','$product_details.secondary_code','name','Portuguese','to_warehouse_name','date','suppliers','return_purchase_invoice','Arabic\x20(ae)','French','string','getDate','forEach','Arabic','../models/all_models','product_code_hide','redirect','level','English','due_amount','Portuguese\x20(BR)'];a0_0x5b71=function(){return _0xe62710;};return a0_0x5b71();}function a0_0x53c4(_0x186719,_0x2bd34f){var _0x5b71a8=a0_0x5b71();return a0_0x53c4=function(_0x53c403,_0x457962){_0x53c403=_0x53c403-0xae;var _0x3fed13=_0x5b71a8[_0x53c403];return _0x3fed13;},a0_0x53c4(_0x186719,_0x2bd34f);}router['get'](a0_0x413cc0(0xb5),auth,async(_0x236f97,_0x3d7525)=>{var _0x691588=a0_0x413cc0;try{const {username:_0x19d44e,email:_0xee7cd8,role:_0x1f94fe}=_0x236f97[_0x691588(0xdf)],_0xa3b932=_0x236f97[_0x691588(0xdf)],_0x1ffde2=await profile[_0x691588(0x132)]({'email':_0xa3b932[_0x691588(0xeb)]}),_0x9cbb79=await master_shop['find']();console[_0x691588(0xae)](_0x691588(0xc5),_0x9cbb79);const _0x5dd13e=await purchases_return[_0x691588(0x108)]([{'$lookup':{'from':_0x691588(0x110),'localField':'suppliers','foreignField':_0x691588(0x10c),'as':_0x691588(0xd5)}},{'$unwind':'$return_product'},{'$unwind':_0x691588(0xf7)},{'$group':{'_id':_0x691588(0xb8),'invoice':{'$first':'$invoice'},'date':{'$first':'$date'},'suppliers':{'$first':_0x691588(0xd1)},'warehouse_name':{'$first':_0x691588(0xd9)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x691588(0xbb)},'price':{'$first':_0x691588(0x100)},'total':{'$sum':_0x691588(0xbe)},'note':{'$first':_0x691588(0xda)},'total_amount':{'$first':_0x691588(0xfc)},'discount':{'$first':_0x691588(0xe0)},'receivable':{'$first':_0x691588(0x12f)},'received':{'$first':_0x691588(0xcf)},'due_amount':{'$first':_0x691588(0xbc)},'mobile':{'$first':_0x691588(0x135)},'email':{'$first':'$supplier_docs.email'},'address':{'$first':_0x691588(0xdd)},'return_sum_qty':{'$sum':_0x691588(0xbb)}}}]);console[_0x691588(0xae)](_0x5dd13e);if(_0x9cbb79[0x0]['language']==_0x691588(0xd7)){var _0x116961=users[_0x691588(0x11c)];console[_0x691588(0xae)](_0x116961);}else{if(_0x9cbb79[0x0][_0x691588(0xcb)]==_0x691588(0xe6))var _0x116961=users[_0x691588(0xe6)];else{if(_0x9cbb79[0x0][_0x691588(0xcb)]==_0x691588(0x129))var _0x116961=users['German'];else{if(_0x9cbb79[0x0][_0x691588(0xcb)]==_0x691588(0xaf))var _0x116961=users[_0x691588(0xaf)];else{if(_0x9cbb79[0x0][_0x691588(0xcb)]==_0x691588(0x113))var _0x116961=users[_0x691588(0x113)];else{if(_0x9cbb79[0x0][_0x691588(0xcb)]=='Portuguese\x20(BR)')var _0x116961=users[_0x691588(0x10d)];else{if(_0x9cbb79[0x0]['language']=='Chinese')var _0x116961=users[_0x691588(0xf5)];else{if(_0x9cbb79[0x0][_0x691588(0xcb)]==_0x691588(0x112))var _0x116961=users[_0x691588(0x117)];}}}}}}}_0x3d7525[_0x691588(0x10a)](_0x691588(0xfb),{'success':_0x236f97['flash'](_0x691588(0xb4)),'errors':_0x236f97['flash'](_0x691588(0xc9)),'role':_0xa3b932,'profile':_0x1ffde2,'master_shop':_0x9cbb79,'user':_0x5dd13e,'language':_0x116961});}catch(_0x55f2ca){console[_0x691588(0xae)](_0x55f2ca);}}),router[a0_0x413cc0(0x121)](a0_0x413cc0(0xea),auth,async(_0x8e19bd,_0x40e1da)=>{var _0x598569=a0_0x413cc0;try{const {username:_0x491938,email:_0x35fc62,role:_0x1a783e}=_0x8e19bd[_0x598569(0xdf)],_0x3c7ee1=_0x8e19bd['user'],_0x41f896=await profile[_0x598569(0x132)]({'email':_0x3c7ee1[_0x598569(0xeb)]}),_0x563629=await product[_0x598569(0xfe)]({}),_0x239ff6=await master_shop[_0x598569(0xfe)]();console[_0x598569(0xae)](_0x598569(0xc5),_0x239ff6),console[_0x598569(0xae)](_0x8e19bd['body']);const _0x1b9df2=_0x8e19bd[_0x598569(0xc7)]['id'],_0x1b5daf=await purchases_return[_0x598569(0xd4)](_0x1b9df2);console['log'](_0x1b5daf);const _0x27fd49=await warehouse[_0x598569(0x108)]([{'$match':{'name':_0x1b5daf[_0x598569(0xcd)],'room':_0x1b5daf[_0x598569(0xef)]}},{'$unwind':'$product_details'},{'$group':{'_id':_0x598569(0x12d),'name':{'$first':_0x598569(0xde)},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x598569(0xc4)},'type':{'$first':_0x598569(0x122)},'floorlevel':{'$first':_0x598569(0xb3)},'primary_code':{'$first':_0x598569(0xba)},'secondary_code':{'$first':_0x598569(0x10b)},'product_code':{'$first':_0x598569(0xce)},'storage':{'$first':_0x598569(0x12b)},'rack':{'$first':_0x598569(0xc6)}}}]);warehouse_data=await warehouse[_0x598569(0x108)]([{'$match':{'status':_0x598569(0x101),'name':_0x598569(0x126),'warehouse_category':_0x598569(0xee)}},{'$group':{'_id':_0x598569(0xdc),'name':{'$first':_0x598569(0xdc)}}},{'$sort':{'name':0x1}}]),console[_0x598569(0xae)](_0x598569(0x134),_0x27fd49);if(_0x239ff6[0x0]['language']==_0x598569(0xd7)){var _0x1920a1=users['English'];console[_0x598569(0xae)](_0x1920a1);}else{if(_0x239ff6[0x0][_0x598569(0xcb)]=='Hindi')var _0x1920a1=users['Hindi'];else{if(_0x239ff6[0x0][_0x598569(0xcb)]==_0x598569(0x129))var _0x1920a1=users[_0x598569(0x129)];else{if(_0x239ff6[0x0][_0x598569(0xcb)]==_0x598569(0xaf))var _0x1920a1=users['Spanish'];else{if(_0x239ff6[0x0][_0x598569(0xcb)]==_0x598569(0x113))var _0x1920a1=users[_0x598569(0x113)];else{if(_0x239ff6[0x0][_0x598569(0xcb)]==_0x598569(0x11e))var _0x1920a1=users['Portuguese'];else{if(_0x239ff6[0x0][_0x598569(0xcb)]==_0x598569(0xf5))var _0x1920a1=users['Chinese'];else{if(_0x239ff6[0x0][_0x598569(0xcb)]==_0x598569(0x112))var _0x1920a1=users[_0x598569(0x117)];}}}}}}}_0x40e1da['render'](_0x598569(0x106),{'success':_0x8e19bd[_0x598569(0xd3)](_0x598569(0xb4)),'errors':_0x8e19bd[_0x598569(0xd3)](_0x598569(0xc9)),'role':_0x3c7ee1,'master_shop':_0x239ff6,'profile':_0x41f896,'user':_0x1b5daf,'stock':_0x27fd49,'product':_0x563629,'language':_0x1920a1,'warehouse':warehouse_data});}catch(_0x1bf196){console[_0x598569(0xae)](_0x1bf196);}}),router[a0_0x413cc0(0xc0)](a0_0x413cc0(0xea),auth,async(_0x244a4d,_0x482c6c)=>{var _0x850ab1=a0_0x413cc0;try{const _0x5aa858=_0x244a4d[_0x850ab1(0xc7)]['id'];console[_0x850ab1(0xae)](_0x5aa858);const _0x312ee5=await purchases_return[_0x850ab1(0x132)]({'invoice':_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xf3)]});console[_0x850ab1(0xae)](_0x850ab1(0xb9),_0x312ee5);const _0x6edf79=await warehouse[_0x850ab1(0x132)]({'name':_0x312ee5[_0x850ab1(0x10e)],'room':_0x312ee5[_0x850ab1(0xe9)]});console[_0x850ab1(0xae)](_0x850ab1(0xe8),_0x6edf79);const {invoice:_0x4db791,suppliers:_0x3e1521,date:_0x13be67,warehouse_name:_0x138734,product_name:_0x20026f,purchase_quantity:_0x58f17d,stocks:_0x29d45c,return_qty:_0x58890a,note:_0x1eecc1,Room_name:_0x29a3d4,level:_0x45e0c4,isle:_0x3ad3b6,pallet:_0x21077d,to_warehouse_name:_0x4a4b9b,to_Room_name:_0x5d147d}=_0x244a4d[_0x850ab1(0x104)];if(typeof _0x20026f==_0x850ab1(0x114))var _0x3be334=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xcc)]],_0x747690=[_0x244a4d[_0x850ab1(0x104)]['purchase_quantity']],_0x4549b4=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xe4)]],_0x14f2a1=[_0x244a4d[_0x850ab1(0x104)]['return_qty']],_0x27d4e2=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x11b)]],_0x52a2e5=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xc1)]],_0x5df397=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x131)]],_0x454d20=[_0x244a4d['body'][_0x850ab1(0xd0)]],_0x3fb45c=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x119)]],_0x1a70f0=[_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xf0)]],_0x428a40=[_0x244a4d['body'][_0x850ab1(0x128)]];else var _0x3be334=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xcc)]],_0x747690=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xc2)]],_0x4549b4=[..._0x244a4d[_0x850ab1(0x104)]['stocks']],_0x14f2a1=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x107)]],_0x27d4e2=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x11b)]],_0x52a2e5=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xc1)]],_0x5df397=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x131)]],_0x3fb45c=[..._0x244a4d['body']['product_code_hide']],_0x1a70f0=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xf0)]],_0x428a40=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x128)]],_0x454d20=[..._0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xd0)]];const _0x11f8f0=_0x3be334['map'](_0x1ac2ed=>{return _0x1ac2ed={'product_name':_0x1ac2ed};});_0x747690['forEach']((_0x375ab4,_0x4c23d5)=>{var _0x49b9b0=_0x850ab1;_0x11f8f0[_0x4c23d5][_0x49b9b0(0xc2)]=_0x375ab4;}),_0x4549b4[_0x850ab1(0x116)]((_0x1b4b73,_0xd6a3b5)=>{_0x11f8f0[_0xd6a3b5]['stock_quantity']=_0x1b4b73;}),_0x14f2a1['forEach']((_0x18b364,_0xf2fa7c)=>{var _0x298a34=_0x850ab1;_0x11f8f0[_0xf2fa7c][_0x298a34(0x107)]=_0x18b364;}),_0x27d4e2['forEach']((_0x3c7a1d,_0x59234a)=>{var _0x1be0a9=_0x850ab1;_0x11f8f0[_0x59234a][_0x1be0a9(0xbd)]=_0x3c7a1d;}),_0x52a2e5['forEach']((_0x510393,_0x3a8c61)=>{var _0x55fa54=_0x850ab1;_0x11f8f0[_0x3a8c61][_0x55fa54(0x102)]=_0x510393;}),_0x5df397[_0x850ab1(0x116)]((_0x28b0cc,_0x1a493e)=>{var _0x508ca8=_0x850ab1;_0x11f8f0[_0x1a493e][_0x508ca8(0xf2)]=_0x28b0cc;}),_0x3fb45c[_0x850ab1(0x116)]((_0xe63a5,_0x26ddcb)=>{_0x11f8f0[_0x26ddcb]['product_code']=_0xe63a5;}),_0x1a70f0[_0x850ab1(0x116)]((_0x1a84d6,_0x182181)=>{var _0x924312=_0x850ab1;_0x11f8f0[_0x182181][_0x924312(0xf1)]=_0x1a84d6;}),_0x428a40[_0x850ab1(0x116)]((_0x31f935,_0x4af28e)=>{var _0xe1592f=_0x850ab1;_0x11f8f0[_0x4af28e][_0xe1592f(0xc8)]=_0x31f935;}),_0x454d20['forEach']((_0x55d242,_0x321f1d)=>{var _0x13cbfb=_0x850ab1;_0x11f8f0[_0x321f1d][_0x13cbfb(0xf8)]=_0x55d242;});var _0x1b8597=0x0;_0x11f8f0[_0x850ab1(0x116)](_0x27b95a=>{var _0x4391bd=_0x850ab1;console['log'](_0x4391bd(0x11f),_0x27b95a),(parseInt(_0x27b95a[_0x4391bd(0xc2)])<parseInt(_0x27b95a[_0x4391bd(0x107)])||parseInt(_0x27b95a[_0x4391bd(0xed)])<parseInt(_0x27b95a[_0x4391bd(0x107)])||parseInt(_0x27b95a[_0x4391bd(0x107)])==0x0)&&_0x1b8597++;});if(_0x1b8597!=0x0)return _0x244a4d[_0x850ab1(0xd3)](_0x850ab1(0xc9),'Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x482c6c[_0x850ab1(0x11a)](_0x850ab1(0xb7));_0x312ee5[_0x850ab1(0x133)]['forEach'](_0x3e8412=>{var _0x1ff0f0=_0x850ab1;const _0x327746=_0x6edf79[_0x1ff0f0(0xc3)][_0x1ff0f0(0x127)](_0x45e4e7=>{var _0x1d8d65=_0x1ff0f0;_0x45e4e7[_0x1d8d65(0xcc)]==_0x3e8412[_0x1d8d65(0xcc)]&&_0x45e4e7[_0x1d8d65(0xf2)]==_0x3e8412[_0x1d8d65(0xf2)]&&_0x45e4e7[_0x1d8d65(0xf8)]==_0x3e8412[_0x1d8d65(0xf8)]&&_0x45e4e7[_0x1d8d65(0x102)]==_0x3e8412['bin']&&_0x45e4e7[_0x1d8d65(0xbd)]==_0x3e8412[_0x1d8d65(0xbd)]&&(_0x45e4e7[_0x1d8d65(0x12c)]=parseInt(_0x45e4e7['product_stock'])+parseInt(_0x3e8412['return_qty']));});}),console[_0x850ab1(0xae)](_0x850ab1(0xe8),_0x6edf79),await _0x6edf79[_0x850ab1(0xca)](),_0x312ee5[_0x850ab1(0xf3)]=_0x4db791,_0x312ee5['suppliers']=_0x3e1521,_0x312ee5[_0x850ab1(0x10f)]=_0x13be67,_0x312ee5[_0x850ab1(0xcd)]=_0x138734,_0x312ee5[_0x850ab1(0x133)]=_0x11f8f0,_0x312ee5[_0x850ab1(0x12a)]=_0x1eecc1,_0x312ee5[_0x850ab1(0xef)]=_0x29a3d4,_0x312ee5[_0x850ab1(0x10e)]=_0x4a4b9b,_0x312ee5[_0x850ab1(0xe9)]=_0x5d147d;const _0x273ae8=await _0x312ee5['save'](),_0x8001e=await purchases_return['findOne']({'invoice':_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xf3)]}),_0x2c29bc=await warehouse[_0x850ab1(0x132)]({'name':_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x10e)],'room':_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0x136)]});_0x8001e[_0x850ab1(0x133)][_0x850ab1(0x116)](_0xcb3aa3=>{var _0x3fc477=_0x850ab1;_0x2c29bc[_0x3fc477(0xc3)][_0x3fc477(0x127)](_0x196b8a=>{var _0x5d2fb4=_0x3fc477;_0x196b8a[_0x5d2fb4(0xcc)]==_0xcb3aa3[_0x5d2fb4(0xcc)]&&_0x196b8a[_0x5d2fb4(0x131)]==_0xcb3aa3['pallet']&&(_0x196b8a[_0x5d2fb4(0x12c)]=parseInt(_0x196b8a[_0x5d2fb4(0x12c)])-parseInt(_0xcb3aa3[_0x5d2fb4(0x107)]),console['log'](_0x5d2fb4(0xf6),_0xcb3aa3[_0x5d2fb4(0x107)]));});}),console[_0x850ab1(0xae)](_0x850ab1(0xb1),_0x2c29bc),await _0x2c29bc[_0x850ab1(0xca)]();const _0x3a3d5a=await s_payment_data['findOne']({'invoice':_0x244a4d[_0x850ab1(0x104)][_0x850ab1(0xf3)],'reason':_0x850ab1(0xe3)});await _0x3a3d5a[_0x850ab1(0xca)](),_0x244a4d[_0x850ab1(0xd3)]('success',_0x850ab1(0xff)),_0x482c6c['redirect'](_0x850ab1(0xe1));}catch(_0xbd218){console['log'](_0xbd218),_0x482c6c[_0x850ab1(0xbf)](0xc8)[_0x850ab1(0x120)]({'message':_0xbd218[_0x850ab1(0xd8)]});}}),router['get'](a0_0x413cc0(0x109),auth,async(_0x558361,_0x1c5cbd)=>{var _0x5b9e36=a0_0x413cc0;try{const {username:_0x506c92,email:_0x70df90,role:_0x1cd2e5}=_0x558361[_0x5b9e36(0xdf)],_0x3a455c=_0x558361[_0x5b9e36(0xdf)],_0x315346=await profile[_0x5b9e36(0x132)]({'email':_0x3a455c['email']}),_0x414d0e=await master_shop['find']();console[_0x5b9e36(0xae)](_0x5b9e36(0xc5),_0x414d0e);const _0x5d67c6=_0x558361[_0x5b9e36(0xc7)]['id'],_0x4ba845=await purchases_return[_0x5b9e36(0xd4)](_0x5d67c6);console['log'](_0x4ba845);const _0x1ff6c4=await suppliers[_0x5b9e36(0x132)]({'name':_0x4ba845['suppliers']});console[_0x5b9e36(0xae)](_0x1ff6c4);if(_0x414d0e[0x0][_0x5b9e36(0xcb)]==_0x5b9e36(0xd7)){var _0x3a6ed6=users[_0x5b9e36(0x11c)];console[_0x5b9e36(0xae)](_0x3a6ed6);}else{if(_0x414d0e[0x0][_0x5b9e36(0xcb)]==_0x5b9e36(0xe6))var _0x3a6ed6=users[_0x5b9e36(0xe6)];else{if(_0x414d0e[0x0][_0x5b9e36(0xcb)]=='German')var _0x3a6ed6=users['German'];else{if(_0x414d0e[0x0][_0x5b9e36(0xcb)]==_0x5b9e36(0xaf))var _0x3a6ed6=users[_0x5b9e36(0xaf)];else{if(_0x414d0e[0x0][_0x5b9e36(0xcb)]==_0x5b9e36(0x113))var _0x3a6ed6=users[_0x5b9e36(0x113)];else{if(_0x414d0e[0x0]['language']==_0x5b9e36(0x11e))var _0x3a6ed6=users[_0x5b9e36(0x10d)];else{if(_0x414d0e[0x0][_0x5b9e36(0xcb)]==_0x5b9e36(0xf5))var _0x3a6ed6=users[_0x5b9e36(0xf5)];else{if(_0x414d0e[0x0][_0x5b9e36(0xcb)]==_0x5b9e36(0x112))var _0x3a6ed6=users[_0x5b9e36(0x117)];}}}}}}}_0x1c5cbd[_0x5b9e36(0x10a)](_0x5b9e36(0x111),{'success':_0x558361['flash'](_0x5b9e36(0xb4)),'errors':_0x558361[_0x5b9e36(0xd3)](_0x5b9e36(0xc9)),'role':_0x3a455c,'profile':_0x315346,'master_shop':_0x414d0e,'supplier':_0x1ff6c4,'purchase':_0x4ba845,'language':_0x3a6ed6});}catch(_0x46ce53){console['log'](_0x46ce53);}}),router['post']('/receive_payment/:id',auth,async(_0x3d76b3,_0x1dde81)=>{var _0x33fde7=a0_0x413cc0;try{const _0x5659a4=_0x3d76b3['params']['id'],{invoice:_0x23ee4d,suppliers:_0x34ed80,receivable_amount:_0x39f08a,received_amount:_0x231410}=_0x3d76b3[_0x33fde7(0x104)],_0x43689c=await purchases_return[_0x33fde7(0xd4)](_0x5659a4);console[_0x33fde7(0xae)](_0x43689c);var _0x4f0f8c=_0x39f08a-_0x231410;console[_0x33fde7(0xae)](_0x231410),_0x43689c[_0x33fde7(0xe5)]=parseFloat(_0x231410)+parseFloat(_0x43689c['received']),_0x43689c[_0x33fde7(0x11d)]=_0x4f0f8c,console['log'](_0x43689c);const _0x6d19e1=await _0x43689c['save'](),_0x17644e=await s_payment_data['findOne']({'invoice':_0x3d76b3['body']['invoice'],'reason':_0x33fde7(0xe3)});_0x17644e[_0x33fde7(0xdb)]=_0x4f0f8c,await _0x17644e['save']();let _0x28202b=new Date(),_0x2267e0=('0'+_0x28202b[_0x33fde7(0x115)]())[_0x33fde7(0x105)](-0x2),_0x3071f2=('0'+(_0x28202b[_0x33fde7(0x12e)]()+0x1))[_0x33fde7(0x105)](-0x2),_0xc97a2a=_0x28202b[_0x33fde7(0x103)](),_0x38ae7a=_0xc97a2a+'-'+_0x3071f2+'-'+_0x2267e0;const _0x58cc64=new suppliers_payment({'invoice':_0x23ee4d,'date':_0xc97a2a+'-'+_0x3071f2+'-'+_0x2267e0,'suppliers':_0x34ed80,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x231410}),_0x28ae37=await _0x58cc64[_0x33fde7(0xca)]();_0x3d76b3[_0x33fde7(0xd3)]('success',_0x33fde7(0xe7)),_0x1dde81[_0x33fde7(0x11a)](_0x33fde7(0xe1));}catch(_0x5406e1){console[_0x33fde7(0xae)](_0x5406e1);}}),module[a0_0x413cc0(0xf9)]=router;