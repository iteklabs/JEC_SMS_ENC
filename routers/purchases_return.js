function a0_0x5c64(_0xb4564b,_0x4b477d){var _0x881823=a0_0x8818();return a0_0x5c64=function(_0x5c6498,_0x3b762e){_0x5c6498=_0x5c6498-0x195;var _0x16ea03=_0x881823[_0x5c6498];return _0x16ea03;},a0_0x5c64(_0xb4564b,_0x4b477d);}var a0_0x2770a9=a0_0x5c64;function a0_0x8818(){var _0x4f5f9f=['return_purchase_edit','$date','suppliers','product_details.return_qtyproduct_details.return_qty','1204410DRSdmw','room','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','to_warehouse_name','primary_code_hide','$_id','name','$supplier_docs','payment\x20successfull','aggregate','purchase_quantity','product_name','21eSZIKl','slice','warehouse_name','to_Room_name','../models/all_models','save','old_warehouse_data','findById','map','Return\x20Goods','secondary_code_hide','../middleware/auth','$product_details.rack','stocks','French','5083192auPVqN','getDate','$note','/view/:id','primary_code','9129339WBLZeY','message','master','1084319siHinH','Chinese','errors','redirect','English','stock_data','$product_details.bin','language','Purchase\x20Return','level','/view','purchase\x20return\x20successfully','render','$product_details.product_code','product_code_hide','$product_details._id','post','German','$name','$supplier_docs.mobile','secondary_code','$product_details.storage','find','return_qty','product_code','back','params','json','pallet','log','product_stock','Arabic\x20(ae)','types','$total_amount','findOne','flash','/receive_payment/:id','$discount','body','purchases_return','Arabic','English\x20(US)','success','stock_quantity','Spanish','exports','user','/purchases_return/view','2SNddyF','email','return_product','/invoice/:id','$received','getFullYear','$product_details.type','due_amount','$return_product.price','bay','Portuguese\x20(BR)','52194bwmWbF','to_room','$due_amount','date','1193646jELkhz','get','supplier_docs','product_details','isle','$suppliers','$product_details.product_stock','294692llSLoY','return_purchase_invoice','invoice','$product_details.bay','Enabled','forEach','Hindi','bin','$return_product.return_qty','received','Received\x20For\x20Purchase\x20Return','type','Portuguese','$product_details','floorlevel'];a0_0x8818=function(){return _0x4f5f9f;};return a0_0x8818();}(function(_0x567078,_0x1338a9){var _0x5b92ce=a0_0x5c64,_0x322e3f=_0x567078();while(!![]){try{var _0xb070e8=-parseInt(_0x5b92ce(0x199))/0x1+parseInt(_0x5b92ce(0x1c9))/0x2*(parseInt(_0x5b92ce(0x1d8))/0x3)+-parseInt(_0x5b92ce(0x1df))/0x4+-parseInt(_0x5b92ce(0x1f2))/0x5+parseInt(_0x5b92ce(0x1d4))/0x6*(-parseInt(_0x5b92ce(0x1fe))/0x7)+parseInt(_0x5b92ce(0x20d))/0x8+parseInt(_0x5b92ce(0x196))/0x9;if(_0xb070e8===_0x1338a9)break;else _0x322e3f['push'](_0x322e3f['shift']());}catch(_0x256d97){_0x322e3f['push'](_0x322e3f['shift']());}}}(a0_0x8818,0x98059));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x2770a9(0x202)),auth=require(a0_0x2770a9(0x209)),users=require('../public/language/languages.json');router[a0_0x2770a9(0x1d9)](a0_0x2770a9(0x1a3),auth,async(_0x55b562,_0x271b00)=>{var _0x619274=a0_0x2770a9;try{const {username:_0x33a37b,email:_0x2fbc75,role:_0x157671}=_0x55b562[_0x619274(0x1c7)],_0x59f01a=_0x55b562[_0x619274(0x1c7)],_0x5aabf3=await profile['findOne']({'email':_0x59f01a[_0x619274(0x1ca)]}),_0x168f47=await master_shop[_0x619274(0x1af)]();console[_0x619274(0x1b6)](_0x619274(0x198),_0x168f47);const _0x43b4a1=await purchases_return[_0x619274(0x1fb)]([{'$lookup':{'from':'suppliers','localField':_0x619274(0x1f0),'foreignField':_0x619274(0x1f8),'as':_0x619274(0x1da)}},{'$unwind':'$return_product'},{'$unwind':_0x619274(0x1f9)},{'$group':{'_id':_0x619274(0x1f7),'invoice':{'$first':'$invoice'},'date':{'$first':_0x619274(0x1ef)},'suppliers':{'$first':_0x619274(0x1dd)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x619274(0x1e7)},'price':{'$first':_0x619274(0x1d1)},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x619274(0x20f)},'total_amount':{'$first':_0x619274(0x1ba)},'discount':{'$first':_0x619274(0x1be)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x619274(0x1cd)},'due_amount':{'$first':_0x619274(0x1d6)},'mobile':{'$first':_0x619274(0x1ac)},'email':{'$first':'$supplier_docs.email'},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x619274(0x1e7)}}}]);console[_0x619274(0x1b6)](_0x43b4a1);if(_0x168f47[0x0]['language']==_0x619274(0x1c2)){var _0x2371cc=users[_0x619274(0x19d)];console[_0x619274(0x1b6)](_0x2371cc);}else{if(_0x168f47[0x0]['language']==_0x619274(0x1e5))var _0x2371cc=users[_0x619274(0x1e5)];else{if(_0x168f47[0x0][_0x619274(0x1a0)]==_0x619274(0x1aa))var _0x2371cc=users[_0x619274(0x1aa)];else{if(_0x168f47[0x0][_0x619274(0x1a0)]==_0x619274(0x1c5))var _0x2371cc=users[_0x619274(0x1c5)];else{if(_0x168f47[0x0][_0x619274(0x1a0)]==_0x619274(0x20c))var _0x2371cc=users[_0x619274(0x20c)];else{if(_0x168f47[0x0][_0x619274(0x1a0)]==_0x619274(0x1d3))var _0x2371cc=users[_0x619274(0x1eb)];else{if(_0x168f47[0x0][_0x619274(0x1a0)]==_0x619274(0x19a))var _0x2371cc=users[_0x619274(0x19a)];else{if(_0x168f47[0x0]['language']==_0x619274(0x1b8))var _0x2371cc=users['Arabic'];}}}}}}}_0x271b00['render'](_0x619274(0x1c0),{'success':_0x55b562[_0x619274(0x1bc)]('success'),'errors':_0x55b562[_0x619274(0x1bc)]('errors'),'role':_0x59f01a,'profile':_0x5aabf3,'master_shop':_0x168f47,'user':_0x43b4a1,'language':_0x2371cc});}catch(_0x302650){console['log'](_0x302650);}}),router[a0_0x2770a9(0x1d9)]('/view/:id',auth,async(_0x211db2,_0x562fcb)=>{var _0x200f35=a0_0x2770a9;try{const {username:_0x3c01b8,email:_0x5a0557,role:_0xff7321}=_0x211db2['user'],_0x37d449=_0x211db2['user'],_0x3890a4=await profile[_0x200f35(0x1bb)]({'email':_0x37d449['email']}),_0x8fdd96=await product['find']({}),_0x12377f=await master_shop['find']();console[_0x200f35(0x1b6)](_0x200f35(0x198),_0x12377f),console[_0x200f35(0x1b6)](_0x211db2[_0x200f35(0x1bf)]);const _0x57dc75=_0x211db2[_0x200f35(0x1b3)]['id'],_0x571d1a=await purchases_return[_0x200f35(0x205)](_0x57dc75);console[_0x200f35(0x1b6)](_0x571d1a);const _0x2dfe85=await warehouse[_0x200f35(0x1fb)]([{'$match':{'name':_0x571d1a[_0x200f35(0x200)],'room':_0x571d1a['room']}},{'$unwind':_0x200f35(0x1ec)},{'$group':{'_id':_0x200f35(0x1a8),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x200f35(0x1de)},'bay':{'$first':_0x200f35(0x1e2)},'bin':{'$first':_0x200f35(0x19f)},'type':{'$first':_0x200f35(0x1cf)},'floorlevel':{'$first':'$product_details.floorlevel'},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x200f35(0x1a6)},'storage':{'$first':_0x200f35(0x1ae)},'rack':{'$first':_0x200f35(0x20a)}}}]);warehouse_data=await warehouse[_0x200f35(0x1fb)]([{'$match':{'status':_0x200f35(0x1e3),'name':_0x200f35(0x207),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x200f35(0x1ab),'name':{'$first':_0x200f35(0x1ab)}}},{'$sort':{'name':0x1}}]),console['log'](_0x200f35(0x19e),_0x2dfe85);if(_0x12377f[0x0]['language']=='English\x20(US)'){var _0xc94382=users[_0x200f35(0x19d)];console[_0x200f35(0x1b6)](_0xc94382);}else{if(_0x12377f[0x0][_0x200f35(0x1a0)]=='Hindi')var _0xc94382=users[_0x200f35(0x1e5)];else{if(_0x12377f[0x0]['language']=='German')var _0xc94382=users[_0x200f35(0x1aa)];else{if(_0x12377f[0x0]['language']==_0x200f35(0x1c5))var _0xc94382=users[_0x200f35(0x1c5)];else{if(_0x12377f[0x0][_0x200f35(0x1a0)]==_0x200f35(0x20c))var _0xc94382=users[_0x200f35(0x20c)];else{if(_0x12377f[0x0][_0x200f35(0x1a0)]==_0x200f35(0x1d3))var _0xc94382=users[_0x200f35(0x1eb)];else{if(_0x12377f[0x0][_0x200f35(0x1a0)]=='Chinese')var _0xc94382=users[_0x200f35(0x19a)];else{if(_0x12377f[0x0][_0x200f35(0x1a0)]=='Arabic\x20(ae)')var _0xc94382=users['Arabic'];}}}}}}}_0x562fcb[_0x200f35(0x1a5)](_0x200f35(0x1ee),{'success':_0x211db2['flash'](_0x200f35(0x1c3)),'errors':_0x211db2[_0x200f35(0x1bc)]('errors'),'role':_0x37d449,'master_shop':_0x12377f,'profile':_0x3890a4,'user':_0x571d1a,'stock':_0x2dfe85,'product':_0x8fdd96,'language':_0xc94382,'warehouse':warehouse_data});}catch(_0x3d79f3){console[_0x200f35(0x1b6)](_0x3d79f3);}}),router[a0_0x2770a9(0x1a9)](a0_0x2770a9(0x210),auth,async(_0x51b44a,_0x256b2f)=>{var _0x2dedcb=a0_0x2770a9;try{const _0x5a95b4=_0x51b44a[_0x2dedcb(0x1b3)]['id'];console[_0x2dedcb(0x1b6)](_0x5a95b4);const _0x1b2946=await purchases_return[_0x2dedcb(0x1bb)]({'invoice':_0x51b44a[_0x2dedcb(0x1bf)]['invoice']});console['log']('old_data',_0x1b2946);const _0x68d8af=await warehouse[_0x2dedcb(0x1bb)]({'name':_0x1b2946['to_warehouse_name'],'room':_0x1b2946[_0x2dedcb(0x1d5)]});console[_0x2dedcb(0x1b6)](_0x2dedcb(0x204),_0x68d8af);const {invoice:_0x3bcc1c,suppliers:_0x18f4a7,date:_0x12153f,warehouse_name:_0x5be8d2,product_name:_0x373bc1,purchase_quantity:_0x16c7a8,stocks:_0x1074ab,return_qty:_0x4cdee6,note:_0x24bef5,Room_name:_0x44f965,level:_0x262a2f,isle:_0x18aca5,pallet:_0x402414,to_warehouse_name:_0x331c1b,to_Room_name:_0x4ea789}=_0x51b44a['body'];if(typeof _0x373bc1=='string')var _0x5d0380=[_0x51b44a['body'][_0x2dedcb(0x1fd)]],_0x378db9=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1fc)]],_0x52e6ee=[_0x51b44a['body'][_0x2dedcb(0x20b)]],_0x28aff5=[_0x51b44a[_0x2dedcb(0x1bf)]['return_qty']],_0x14d68f=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1a2)]],_0x2875a3=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1dc)]],_0x4cee40=[_0x51b44a[_0x2dedcb(0x1bf)]['pallet']],_0x3c71f6=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1b9)]],_0x5a14ab=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1a7)]],_0x4269f5=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1f6)]],_0x413bb5=[_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x208)]];else var _0x5d0380=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1fd)]],_0x378db9=[..._0x51b44a[_0x2dedcb(0x1bf)]['purchase_quantity']],_0x52e6ee=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x20b)]],_0x28aff5=[..._0x51b44a['body'][_0x2dedcb(0x1b0)]],_0x14d68f=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1a2)]],_0x2875a3=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1dc)]],_0x4cee40=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1b5)]],_0x5a14ab=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1a7)]],_0x4269f5=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1f6)]],_0x413bb5=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x208)]],_0x3c71f6=[..._0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1b9)]];const _0x5506c8=_0x5d0380[_0x2dedcb(0x206)](_0x2f43f8=>{return _0x2f43f8={'product_name':_0x2f43f8};});_0x378db9[_0x2dedcb(0x1e4)]((_0x32d9de,_0x2078e8)=>{var _0x447914=_0x2dedcb;_0x5506c8[_0x2078e8][_0x447914(0x1fc)]=_0x32d9de;}),_0x52e6ee[_0x2dedcb(0x1e4)]((_0x5b58b1,_0x46c7e1)=>{var _0x3e6c71=_0x2dedcb;_0x5506c8[_0x46c7e1][_0x3e6c71(0x1c4)]=_0x5b58b1;}),_0x28aff5[_0x2dedcb(0x1e4)]((_0x56bf14,_0x3a9526)=>{var _0x561c05=_0x2dedcb;_0x5506c8[_0x3a9526][_0x561c05(0x1b0)]=_0x56bf14;}),_0x14d68f[_0x2dedcb(0x1e4)]((_0x109230,_0x10821a)=>{var _0x502ccd=_0x2dedcb;_0x5506c8[_0x10821a][_0x502ccd(0x1d2)]=_0x109230;}),_0x2875a3[_0x2dedcb(0x1e4)]((_0x155f17,_0x1d1c4b)=>{_0x5506c8[_0x1d1c4b]['bin']=_0x155f17;}),_0x4cee40[_0x2dedcb(0x1e4)]((_0x3e674d,_0x7a84a7)=>{_0x5506c8[_0x7a84a7]['floorlevel']=_0x3e674d;}),_0x5a14ab[_0x2dedcb(0x1e4)]((_0x3f7929,_0x13dc25)=>{var _0x58ec75=_0x2dedcb;_0x5506c8[_0x13dc25][_0x58ec75(0x1b1)]=_0x3f7929;}),_0x4269f5['forEach']((_0x305bfc,_0x50905e)=>{var _0x16b4c0=_0x2dedcb;_0x5506c8[_0x50905e][_0x16b4c0(0x195)]=_0x305bfc;}),_0x413bb5[_0x2dedcb(0x1e4)]((_0x15ddb7,_0x57495b)=>{var _0x871a77=_0x2dedcb;_0x5506c8[_0x57495b][_0x871a77(0x1ad)]=_0x15ddb7;}),_0x3c71f6[_0x2dedcb(0x1e4)]((_0x1b0ebd,_0x5304e4)=>{var _0x1509ec=_0x2dedcb;_0x5506c8[_0x5304e4][_0x1509ec(0x1ea)]=_0x1b0ebd;});var _0xed48a7=0x0;_0x5506c8[_0x2dedcb(0x1e4)](_0x4874e4=>{var _0x2ac944=_0x2dedcb;console['log']('foreach\x20newproduct',_0x4874e4),(parseInt(_0x4874e4[_0x2ac944(0x1fc)])<parseInt(_0x4874e4[_0x2ac944(0x1b0)])||parseInt(_0x4874e4[_0x2ac944(0x1c4)])<parseInt(_0x4874e4[_0x2ac944(0x1b0)])||parseInt(_0x4874e4[_0x2ac944(0x1b0)])==0x0)&&_0xed48a7++;});if(_0xed48a7!=0x0)return _0x51b44a[_0x2dedcb(0x1bc)](_0x2dedcb(0x19b),_0x2dedcb(0x1f4)),_0x256b2f[_0x2dedcb(0x19c)](_0x2dedcb(0x1b2));_0x1b2946[_0x2dedcb(0x1cb)][_0x2dedcb(0x1e4)](_0x226080=>{const _0x4b010a=_0x68d8af['product_details']['map'](_0xef56f0=>{var _0x3e96f4=a0_0x5c64;_0xef56f0[_0x3e96f4(0x1fd)]==_0x226080[_0x3e96f4(0x1fd)]&&_0xef56f0[_0x3e96f4(0x1ed)]==_0x226080[_0x3e96f4(0x1ed)]&&_0xef56f0[_0x3e96f4(0x1ea)]==_0x226080[_0x3e96f4(0x1ea)]&&_0xef56f0[_0x3e96f4(0x1e6)]==_0x226080[_0x3e96f4(0x1e6)]&&_0xef56f0[_0x3e96f4(0x1d2)]==_0x226080[_0x3e96f4(0x1d2)]&&(_0xef56f0['product_stock']=parseInt(_0xef56f0['product_stock'])+parseInt(_0x226080['return_qty']));});}),console[_0x2dedcb(0x1b6)]('old_warehouse_data',_0x68d8af),await _0x68d8af[_0x2dedcb(0x203)](),_0x1b2946[_0x2dedcb(0x1e1)]=_0x3bcc1c,_0x1b2946[_0x2dedcb(0x1f0)]=_0x18f4a7,_0x1b2946[_0x2dedcb(0x1d7)]=_0x12153f,_0x1b2946[_0x2dedcb(0x200)]=_0x5be8d2,_0x1b2946[_0x2dedcb(0x1cb)]=_0x5506c8,_0x1b2946['note']=_0x24bef5,_0x1b2946[_0x2dedcb(0x1f3)]=_0x44f965,_0x1b2946[_0x2dedcb(0x1f5)]=_0x331c1b,_0x1b2946[_0x2dedcb(0x1d5)]=_0x4ea789;const _0x22328f=await _0x1b2946[_0x2dedcb(0x203)](),_0x3e6855=await purchases_return[_0x2dedcb(0x1bb)]({'invoice':_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1e1)]}),_0x284ac5=await warehouse[_0x2dedcb(0x1bb)]({'name':_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1f5)],'room':_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x201)]});_0x3e6855[_0x2dedcb(0x1cb)][_0x2dedcb(0x1e4)](_0x29f709=>{var _0x350b14=_0x2dedcb;_0x284ac5[_0x350b14(0x1db)][_0x350b14(0x206)](_0x26761c=>{var _0x30e6e2=_0x350b14;_0x26761c[_0x30e6e2(0x1fd)]==_0x29f709[_0x30e6e2(0x1fd)]&&_0x26761c[_0x30e6e2(0x1b5)]==_0x29f709[_0x30e6e2(0x1b5)]&&(_0x26761c[_0x30e6e2(0x1b7)]=parseInt(_0x26761c[_0x30e6e2(0x1b7)])-parseInt(_0x29f709['return_qty']),console['log'](_0x30e6e2(0x1f1),_0x29f709['return_qty']));});}),console[_0x2dedcb(0x1b6)]('final',_0x284ac5),await _0x284ac5[_0x2dedcb(0x203)]();const _0x184357=await s_payment_data[_0x2dedcb(0x1bb)]({'invoice':_0x51b44a[_0x2dedcb(0x1bf)][_0x2dedcb(0x1e1)],'reason':_0x2dedcb(0x1a1)});await _0x184357[_0x2dedcb(0x203)](),_0x51b44a['flash']('success',_0x2dedcb(0x1a4)),_0x256b2f[_0x2dedcb(0x19c)](_0x2dedcb(0x1c8));}catch(_0x130b94){console[_0x2dedcb(0x1b6)](_0x130b94),_0x256b2f['status'](0xc8)[_0x2dedcb(0x1b4)]({'message':_0x130b94[_0x2dedcb(0x197)]});}}),router[a0_0x2770a9(0x1d9)](a0_0x2770a9(0x1cc),auth,async(_0x435476,_0x75ad41)=>{var _0x23c802=a0_0x2770a9;try{const {username:_0x50e2d7,email:_0x191566,role:_0x1bf587}=_0x435476[_0x23c802(0x1c7)],_0x28af07=_0x435476[_0x23c802(0x1c7)],_0x4f1c87=await profile[_0x23c802(0x1bb)]({'email':_0x28af07[_0x23c802(0x1ca)]}),_0x324a25=await master_shop[_0x23c802(0x1af)]();console['log']('master',_0x324a25);const _0x5e7ec8=_0x435476[_0x23c802(0x1b3)]['id'],_0x278662=await purchases_return[_0x23c802(0x205)](_0x5e7ec8);console['log'](_0x278662);const _0x5d223a=await suppliers['findOne']({'name':_0x278662[_0x23c802(0x1f0)]});console[_0x23c802(0x1b6)](_0x5d223a);if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x1c2)){var _0x32677f=users[_0x23c802(0x19d)];console[_0x23c802(0x1b6)](_0x32677f);}else{if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x1e5))var _0x32677f=users[_0x23c802(0x1e5)];else{if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x1aa))var _0x32677f=users[_0x23c802(0x1aa)];else{if(_0x324a25[0x0]['language']==_0x23c802(0x1c5))var _0x32677f=users[_0x23c802(0x1c5)];else{if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x20c))var _0x32677f=users[_0x23c802(0x20c)];else{if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x1d3))var _0x32677f=users['Portuguese'];else{if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x19a))var _0x32677f=users[_0x23c802(0x19a)];else{if(_0x324a25[0x0][_0x23c802(0x1a0)]==_0x23c802(0x1b8))var _0x32677f=users[_0x23c802(0x1c1)];}}}}}}}_0x75ad41[_0x23c802(0x1a5)](_0x23c802(0x1e0),{'success':_0x435476['flash']('success'),'errors':_0x435476[_0x23c802(0x1bc)](_0x23c802(0x19b)),'role':_0x28af07,'profile':_0x4f1c87,'master_shop':_0x324a25,'supplier':_0x5d223a,'purchase':_0x278662,'language':_0x32677f});}catch(_0x329817){console[_0x23c802(0x1b6)](_0x329817);}}),router[a0_0x2770a9(0x1a9)](a0_0x2770a9(0x1bd),auth,async(_0x387038,_0xe23060)=>{var _0x4c996b=a0_0x2770a9;try{const _0x4ffefd=_0x387038[_0x4c996b(0x1b3)]['id'],{invoice:_0xc252f4,suppliers:_0x177fc9,receivable_amount:_0x422b5c,received_amount:_0x1a8ea5}=_0x387038[_0x4c996b(0x1bf)],_0x5de83d=await purchases_return[_0x4c996b(0x205)](_0x4ffefd);console['log'](_0x5de83d);var _0x25fef0=_0x422b5c-_0x1a8ea5;console[_0x4c996b(0x1b6)](_0x1a8ea5),_0x5de83d[_0x4c996b(0x1e8)]=parseFloat(_0x1a8ea5)+parseFloat(_0x5de83d['received']),_0x5de83d[_0x4c996b(0x1d0)]=_0x25fef0,console[_0x4c996b(0x1b6)](_0x5de83d);const _0x1916b0=await _0x5de83d[_0x4c996b(0x203)](),_0x1abce4=await s_payment_data[_0x4c996b(0x1bb)]({'invoice':_0x387038[_0x4c996b(0x1bf)]['invoice'],'reason':_0x4c996b(0x1a1)});_0x1abce4['amount']=_0x25fef0,await _0x1abce4[_0x4c996b(0x203)]();let _0x3263d9=new Date(),_0x574f73=('0'+_0x3263d9[_0x4c996b(0x20e)]())[_0x4c996b(0x1ff)](-0x2),_0x53453b=('0'+(_0x3263d9['getMonth']()+0x1))['slice'](-0x2),_0xa4e884=_0x3263d9[_0x4c996b(0x1ce)](),_0x5d64fc=_0xa4e884+'-'+_0x53453b+'-'+_0x574f73;const _0x4832a7=new suppliers_payment({'invoice':_0xc252f4,'date':_0xa4e884+'-'+_0x53453b+'-'+_0x574f73,'suppliers':_0x177fc9,'reason':_0x4c996b(0x1e9),'amount':_0x1a8ea5}),_0x5343ad=await _0x4832a7[_0x4c996b(0x203)]();_0x387038[_0x4c996b(0x1bc)](_0x4c996b(0x1c3),_0x4c996b(0x1fa)),_0xe23060[_0x4c996b(0x19c)]('/purchases_return/view');}catch(_0xa3bb15){console['log'](_0xa3bb15);}}),module[a0_0x2770a9(0x1c6)]=router;