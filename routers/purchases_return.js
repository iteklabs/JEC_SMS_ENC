var a0_0x3954a3=a0_0x10f1;(function(_0xa7e84e,_0x3c4077){var _0x33865e=a0_0x10f1,_0xb53210=_0xa7e84e();while(!![]){try{var _0x42fb23=-parseInt(_0x33865e(0x122))/0x1+-parseInt(_0x33865e(0x14a))/0x2*(parseInt(_0x33865e(0x140))/0x3)+-parseInt(_0x33865e(0x16d))/0x4+parseInt(_0x33865e(0x12a))/0x5+parseInt(_0x33865e(0x16c))/0x6+parseInt(_0x33865e(0x132))/0x7*(parseInt(_0x33865e(0x172))/0x8)+parseInt(_0x33865e(0x177))/0x9;if(_0x42fb23===_0x3c4077)break;else _0xb53210['push'](_0xb53210['shift']());}catch(_0x14a686){_0xb53210['push'](_0xb53210['shift']());}}}(a0_0x3945,0x8a28b));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x3954a3(0x184)),auth=require(a0_0x3954a3(0x164)),users=require(a0_0x3954a3(0x137));function a0_0x3945(){var _0x44e6ef=['old_warehouse_data','14800EaQAgL','$total_amount','$received','$product_details.product_code','$product_details.storage','5901102ljpTwI','findById','supplier_docs','suppliers','product_code','string','Received\x20For\x20Purchase\x20Return','isle','purchase_quantity','product_stock','$product_details.product_stock','Spanish','to_room','../models/all_models','to_warehouse_name','Enabled','$product_details.floorlevel','Portuguese\x20(BR)','body','old_data','$return_product.return_qty','flash','Arabic\x20(ae)','return_purchase_edit','map','/purchases_return/view','errors','bay','floorlevel','amount','$product_details.rack','$supplier_docs.email','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','render','153406DPLXbt','note','return_qty','product_code_hide','getFullYear','Chinese','log','master','1983590UWctOf','json','/invoice/:id','back','payment\x20successfull','product_details','forEach','level','875ONMuVV','French','slice','success','params','../public/language/languages.json','Portuguese','message','English','$discount','Purchase\x20Return','to_Room_name','secondary_code','warehouse_name','1839SQdKvW','language','final','German','$return_product.price','$due_amount','user','return_product','$supplier_docs','$warehouse_name','1258eDCTdv','stock_data','received','findOne','name','invoice','stock_quantity','$return_product.total','room','purchase\x20return\x20successfully','/view/:id','$product_details._id','pallet','$name','$return_product','status','Arabic','save','bin','stocks','redirect','$product_details.type','product_details.return_qtyproduct_details.return_qty','post','email','types','../middleware/auth','secondary_code_hide','product_name','Hindi','$product_details.bin','find','type','$product_details.primary_code','2793534ZFenbv','2577412wWSYgM','aggregate','English\x20(US)','primary_code_hide'];a0_0x3945=function(){return _0x44e6ef;};return a0_0x3945();}function a0_0x10f1(_0x4af6ca,_0x6ab5d){var _0x394526=a0_0x3945();return a0_0x10f1=function(_0x10f178,_0x95ed28){_0x10f178=_0x10f178-0x119;var _0x243b76=_0x394526[_0x10f178];return _0x243b76;},a0_0x10f1(_0x4af6ca,_0x6ab5d);}router['get']('/view',auth,async(_0x12884d,_0x52633a)=>{var _0xf49bae=a0_0x3954a3;try{const {username:_0x407a16,email:_0x5e1dc3,role:_0x32fb91}=_0x12884d['user'],_0x2dc081=_0x12884d[_0xf49bae(0x146)],_0x1aa2e5=await profile[_0xf49bae(0x14d)]({'email':_0x2dc081[_0xf49bae(0x162)]}),_0xe1eef4=await master_shop[_0xf49bae(0x169)]();console[_0xf49bae(0x128)](_0xf49bae(0x129),_0xe1eef4);const _0x58d8ce=await purchases_return[_0xf49bae(0x16e)]([{'$lookup':{'from':_0xf49bae(0x17a),'localField':_0xf49bae(0x17a),'foreignField':_0xf49bae(0x14e),'as':_0xf49bae(0x179)}},{'$unwind':_0xf49bae(0x158)},{'$unwind':_0xf49bae(0x148)},{'$group':{'_id':'$_id','invoice':{'$first':'$invoice'},'date':{'$first':'$date'},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0xf49bae(0x149)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0xf49bae(0x144)},'total':{'$sum':_0xf49bae(0x151)},'note':{'$first':'$note'},'total_amount':{'$first':_0xf49bae(0x173)},'discount':{'$first':_0xf49bae(0x13b)},'receivable':{'$first':'$receivable'},'received':{'$first':_0xf49bae(0x174)},'due_amount':{'$first':_0xf49bae(0x145)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0xf49bae(0x11f)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0xf49bae(0x18b)}}}]);console['log'](_0x58d8ce);if(_0xe1eef4[0x0]['language']==_0xf49bae(0x16f)){var _0x4b2654=users['English'];console[_0xf49bae(0x128)](_0x4b2654);}else{if(_0xe1eef4[0x0][_0xf49bae(0x141)]==_0xf49bae(0x167))var _0x4b2654=users[_0xf49bae(0x167)];else{if(_0xe1eef4[0x0]['language']==_0xf49bae(0x143))var _0x4b2654=users[_0xf49bae(0x143)];else{if(_0xe1eef4[0x0][_0xf49bae(0x141)]==_0xf49bae(0x182))var _0x4b2654=users['Spanish'];else{if(_0xe1eef4[0x0][_0xf49bae(0x141)]==_0xf49bae(0x133))var _0x4b2654=users[_0xf49bae(0x133)];else{if(_0xe1eef4[0x0][_0xf49bae(0x141)]==_0xf49bae(0x188))var _0x4b2654=users[_0xf49bae(0x138)];else{if(_0xe1eef4[0x0]['language']==_0xf49bae(0x127))var _0x4b2654=users['Chinese'];else{if(_0xe1eef4[0x0][_0xf49bae(0x141)]==_0xf49bae(0x18d))var _0x4b2654=users['Arabic'];}}}}}}}_0x52633a[_0xf49bae(0x121)]('purchases_return',{'success':_0x12884d[_0xf49bae(0x18c)](_0xf49bae(0x135)),'errors':_0x12884d[_0xf49bae(0x18c)](_0xf49bae(0x11a)),'role':_0x2dc081,'profile':_0x1aa2e5,'master_shop':_0xe1eef4,'user':_0x58d8ce,'language':_0x4b2654});}catch(_0x507dab){console[_0xf49bae(0x128)](_0x507dab);}}),router['get'](a0_0x3954a3(0x154),auth,async(_0x5c35c7,_0x1e73cf)=>{var _0x566883=a0_0x3954a3;try{const {username:_0x5025ed,email:_0x506ba1,role:_0x4276a4}=_0x5c35c7[_0x566883(0x146)],_0x327982=_0x5c35c7[_0x566883(0x146)],_0x456932=await profile[_0x566883(0x14d)]({'email':_0x327982[_0x566883(0x162)]}),_0x211107=await product['find']({}),_0x4c7551=await master_shop['find']();console[_0x566883(0x128)](_0x566883(0x129),_0x4c7551),console[_0x566883(0x128)](_0x5c35c7[_0x566883(0x189)]);const _0x5c71f2=_0x5c35c7['params']['id'],_0x2a910e=await purchases_return[_0x566883(0x178)](_0x5c71f2);console['log'](_0x2a910e);const _0x5967a0=await warehouse[_0x566883(0x16e)]([{'$match':{'name':_0x2a910e[_0x566883(0x13f)],'room':_0x2a910e[_0x566883(0x152)]}},{'$unwind':'$product_details'},{'$group':{'_id':_0x566883(0x155),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x566883(0x181)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x566883(0x168)},'type':{'$first':_0x566883(0x15f)},'floorlevel':{'$first':_0x566883(0x187)},'primary_code':{'$first':_0x566883(0x16b)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x566883(0x175)},'storage':{'$first':_0x566883(0x176)},'rack':{'$first':_0x566883(0x11e)}}}]);warehouse_data=await warehouse[_0x566883(0x16e)]([{'$match':{'status':_0x566883(0x186),'name':'Return\x20Goods','warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':'$name','name':{'$first':_0x566883(0x157)}}},{'$sort':{'name':0x1}}]),console['log'](_0x566883(0x14b),_0x5967a0);if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x16f)){var _0x49de84=users[_0x566883(0x13a)];console[_0x566883(0x128)](_0x49de84);}else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x167))var _0x49de84=users[_0x566883(0x167)];else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x143))var _0x49de84=users[_0x566883(0x143)];else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x182))var _0x49de84=users['Spanish'];else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x133))var _0x49de84=users[_0x566883(0x133)];else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x188))var _0x49de84=users[_0x566883(0x138)];else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x127))var _0x49de84=users['Chinese'];else{if(_0x4c7551[0x0][_0x566883(0x141)]==_0x566883(0x18d))var _0x49de84=users[_0x566883(0x15a)];}}}}}}}_0x1e73cf[_0x566883(0x121)](_0x566883(0x18e),{'success':_0x5c35c7[_0x566883(0x18c)](_0x566883(0x135)),'errors':_0x5c35c7[_0x566883(0x18c)]('errors'),'role':_0x327982,'master_shop':_0x4c7551,'profile':_0x456932,'user':_0x2a910e,'stock':_0x5967a0,'product':_0x211107,'language':_0x49de84,'warehouse':warehouse_data});}catch(_0x322daa){console[_0x566883(0x128)](_0x322daa);}}),router[a0_0x3954a3(0x161)](a0_0x3954a3(0x154),auth,async(_0x13f65c,_0x8bd350)=>{var _0x4f6909=a0_0x3954a3;try{const _0x1537a1=_0x13f65c['params']['id'];console[_0x4f6909(0x128)](_0x1537a1);const _0x13c340=await purchases_return[_0x4f6909(0x14d)]({'invoice':_0x13f65c['body'][_0x4f6909(0x14f)]});console['log'](_0x4f6909(0x18a),_0x13c340);const _0x263016=await warehouse[_0x4f6909(0x14d)]({'name':_0x13c340['to_warehouse_name'],'room':_0x13c340['to_room']});console[_0x4f6909(0x128)](_0x4f6909(0x171),_0x263016);const {invoice:_0x2883a1,suppliers:_0x268a91,date:_0xfb9fd2,warehouse_name:_0x2eda34,product_name:_0x1ae47f,purchase_quantity:_0x30251f,stocks:_0x2a65c9,return_qty:_0x3958fb,note:_0x23caae,Room_name:_0x50d69c,level:_0x1cc70f,isle:_0x1a5daa,pallet:_0x20eda8,to_warehouse_name:_0x53dc57,to_Room_name:_0x4a1f20}=_0x13f65c[_0x4f6909(0x189)];if(typeof _0x1ae47f==_0x4f6909(0x17c))var _0x64e30e=[_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x166)]],_0x5a7837=[_0x13f65c[_0x4f6909(0x189)]['purchase_quantity']],_0x24cb70=[_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x15d)]],_0xfbb1bd=[_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x124)]],_0x94e12c=[_0x13f65c[_0x4f6909(0x189)]['level']],_0x49d0c5=[_0x13f65c[_0x4f6909(0x189)]['isle']],_0x14e465=[_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x156)]],_0x5ddc06=[_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x163)]],_0x21c60b=[_0x13f65c['body'][_0x4f6909(0x125)]],_0x3d787c=[_0x13f65c[_0x4f6909(0x189)]['primary_code_hide']],_0x1cdfc2=[_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x165)]];else var _0x64e30e=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x166)]],_0x5a7837=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x17f)]],_0x24cb70=[..._0x13f65c[_0x4f6909(0x189)]['stocks']],_0xfbb1bd=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x124)]],_0x94e12c=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x131)]],_0x49d0c5=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x17e)]],_0x14e465=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x156)]],_0x21c60b=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x125)]],_0x3d787c=[..._0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x170)]],_0x1cdfc2=[..._0x13f65c['body'][_0x4f6909(0x165)]],_0x5ddc06=[..._0x13f65c['body'][_0x4f6909(0x163)]];const _0x3802a0=_0x64e30e[_0x4f6909(0x18f)](_0xd5944=>{return _0xd5944={'product_name':_0xd5944};});_0x5a7837[_0x4f6909(0x130)]((_0x1c9816,_0x517b43)=>{var _0x5df673=_0x4f6909;_0x3802a0[_0x517b43][_0x5df673(0x17f)]=_0x1c9816;}),_0x24cb70[_0x4f6909(0x130)]((_0x2ca6b2,_0x346a4e)=>{var _0x105a12=_0x4f6909;_0x3802a0[_0x346a4e][_0x105a12(0x150)]=_0x2ca6b2;}),_0xfbb1bd[_0x4f6909(0x130)]((_0x22a0e7,_0x3193f2)=>{var _0x3dec20=_0x4f6909;_0x3802a0[_0x3193f2][_0x3dec20(0x124)]=_0x22a0e7;}),_0x94e12c[_0x4f6909(0x130)]((_0x3f5065,_0x749116)=>{_0x3802a0[_0x749116]['bay']=_0x3f5065;}),_0x49d0c5[_0x4f6909(0x130)]((_0x30bc46,_0x4994b2)=>{_0x3802a0[_0x4994b2]['bin']=_0x30bc46;}),_0x14e465[_0x4f6909(0x130)]((_0x66ace4,_0x4ae006)=>{var _0x1df4d9=_0x4f6909;_0x3802a0[_0x4ae006][_0x1df4d9(0x11c)]=_0x66ace4;}),_0x21c60b['forEach']((_0x33c712,_0x95a2bf)=>{var _0x24bf69=_0x4f6909;_0x3802a0[_0x95a2bf][_0x24bf69(0x17b)]=_0x33c712;}),_0x3d787c[_0x4f6909(0x130)]((_0xaa62e6,_0x1c7397)=>{_0x3802a0[_0x1c7397]['primary_code']=_0xaa62e6;}),_0x1cdfc2['forEach']((_0x29523b,_0x3684b6)=>{var _0x44fab4=_0x4f6909;_0x3802a0[_0x3684b6][_0x44fab4(0x13e)]=_0x29523b;}),_0x5ddc06[_0x4f6909(0x130)]((_0x1145c0,_0x2cc4a6)=>{_0x3802a0[_0x2cc4a6]['type']=_0x1145c0;});var _0x3e3955=0x0;_0x3802a0['forEach'](_0x3f8b08=>{var _0x5f37c9=_0x4f6909;console[_0x5f37c9(0x128)]('foreach\x20newproduct',_0x3f8b08),(parseInt(_0x3f8b08[_0x5f37c9(0x17f)])<parseInt(_0x3f8b08['return_qty'])||parseInt(_0x3f8b08[_0x5f37c9(0x150)])<parseInt(_0x3f8b08['return_qty'])||parseInt(_0x3f8b08[_0x5f37c9(0x124)])==0x0)&&_0x3e3955++;});if(_0x3e3955!=0x0)return _0x13f65c[_0x4f6909(0x18c)](_0x4f6909(0x11a),_0x4f6909(0x120)),_0x8bd350[_0x4f6909(0x15e)](_0x4f6909(0x12d));_0x13c340[_0x4f6909(0x147)][_0x4f6909(0x130)](_0x11c9d4=>{var _0x56a22a=_0x4f6909;const _0x202d9a=_0x263016[_0x56a22a(0x12f)][_0x56a22a(0x18f)](_0x389ecb=>{var _0x21cf86=_0x56a22a;_0x389ecb[_0x21cf86(0x166)]==_0x11c9d4[_0x21cf86(0x166)]&&_0x389ecb[_0x21cf86(0x11c)]==_0x11c9d4[_0x21cf86(0x11c)]&&_0x389ecb[_0x21cf86(0x16a)]==_0x11c9d4[_0x21cf86(0x16a)]&&_0x389ecb['bin']==_0x11c9d4[_0x21cf86(0x15c)]&&_0x389ecb[_0x21cf86(0x11b)]==_0x11c9d4[_0x21cf86(0x11b)]&&(_0x389ecb['product_stock']=parseInt(_0x389ecb[_0x21cf86(0x180)])+parseInt(_0x11c9d4['return_qty']));});}),console[_0x4f6909(0x128)](_0x4f6909(0x171),_0x263016),await _0x263016['save'](),_0x13c340[_0x4f6909(0x14f)]=_0x2883a1,_0x13c340[_0x4f6909(0x17a)]=_0x268a91,_0x13c340['date']=_0xfb9fd2,_0x13c340['warehouse_name']=_0x2eda34,_0x13c340[_0x4f6909(0x147)]=_0x3802a0,_0x13c340[_0x4f6909(0x123)]=_0x23caae,_0x13c340['room']=_0x50d69c,_0x13c340[_0x4f6909(0x185)]=_0x53dc57,_0x13c340[_0x4f6909(0x183)]=_0x4a1f20;const _0xcdd114=await _0x13c340[_0x4f6909(0x15b)](),_0x3c0c63=await purchases_return[_0x4f6909(0x14d)]({'invoice':_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x14f)]}),_0x4a9c27=await warehouse[_0x4f6909(0x14d)]({'name':_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x185)],'room':_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x13d)]});_0x3c0c63[_0x4f6909(0x147)][_0x4f6909(0x130)](_0x3bc94a=>{var _0x2ed33f=_0x4f6909;_0x4a9c27[_0x2ed33f(0x12f)]['map'](_0x4db06a=>{var _0x41f87a=_0x2ed33f;_0x4db06a[_0x41f87a(0x166)]==_0x3bc94a['product_name']&&_0x4db06a[_0x41f87a(0x156)]==_0x3bc94a[_0x41f87a(0x156)]&&(_0x4db06a[_0x41f87a(0x180)]=parseInt(_0x4db06a[_0x41f87a(0x180)])-parseInt(_0x3bc94a[_0x41f87a(0x124)]),console[_0x41f87a(0x128)](_0x41f87a(0x160),_0x3bc94a[_0x41f87a(0x124)]));});}),console[_0x4f6909(0x128)](_0x4f6909(0x142),_0x4a9c27),await _0x4a9c27[_0x4f6909(0x15b)]();const _0x4ab13f=await s_payment_data[_0x4f6909(0x14d)]({'invoice':_0x13f65c[_0x4f6909(0x189)][_0x4f6909(0x14f)],'reason':_0x4f6909(0x13c)});await _0x4ab13f['save'](),_0x13f65c['flash'](_0x4f6909(0x135),_0x4f6909(0x153)),_0x8bd350[_0x4f6909(0x15e)](_0x4f6909(0x119));}catch(_0x191a18){console[_0x4f6909(0x128)](_0x191a18),_0x8bd350[_0x4f6909(0x159)](0xc8)[_0x4f6909(0x12b)]({'message':_0x191a18[_0x4f6909(0x139)]});}}),router['get'](a0_0x3954a3(0x12c),auth,async(_0x575286,_0x1bee0f)=>{var _0x1721e8=a0_0x3954a3;try{const {username:_0x42f4ae,email:_0x3330d3,role:_0x323c86}=_0x575286[_0x1721e8(0x146)],_0x9e9736=_0x575286['user'],_0x47710e=await profile[_0x1721e8(0x14d)]({'email':_0x9e9736['email']}),_0x34d7f7=await master_shop[_0x1721e8(0x169)]();console['log'](_0x1721e8(0x129),_0x34d7f7);const _0x1dc575=_0x575286[_0x1721e8(0x136)]['id'],_0x342766=await purchases_return[_0x1721e8(0x178)](_0x1dc575);console[_0x1721e8(0x128)](_0x342766);const _0x24251e=await suppliers['findOne']({'name':_0x342766[_0x1721e8(0x17a)]});console[_0x1721e8(0x128)](_0x24251e);if(_0x34d7f7[0x0][_0x1721e8(0x141)]==_0x1721e8(0x16f)){var _0x487c8a=users[_0x1721e8(0x13a)];console[_0x1721e8(0x128)](_0x487c8a);}else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]==_0x1721e8(0x167))var _0x487c8a=users[_0x1721e8(0x167)];else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]==_0x1721e8(0x143))var _0x487c8a=users[_0x1721e8(0x143)];else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]==_0x1721e8(0x182))var _0x487c8a=users[_0x1721e8(0x182)];else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]==_0x1721e8(0x133))var _0x487c8a=users[_0x1721e8(0x133)];else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]=='Portuguese\x20(BR)')var _0x487c8a=users[_0x1721e8(0x138)];else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]=='Chinese')var _0x487c8a=users[_0x1721e8(0x127)];else{if(_0x34d7f7[0x0][_0x1721e8(0x141)]==_0x1721e8(0x18d))var _0x487c8a=users[_0x1721e8(0x15a)];}}}}}}}_0x1bee0f[_0x1721e8(0x121)]('return_purchase_invoice',{'success':_0x575286[_0x1721e8(0x18c)](_0x1721e8(0x135)),'errors':_0x575286[_0x1721e8(0x18c)](_0x1721e8(0x11a)),'role':_0x9e9736,'profile':_0x47710e,'master_shop':_0x34d7f7,'supplier':_0x24251e,'purchase':_0x342766,'language':_0x487c8a});}catch(_0x379056){console[_0x1721e8(0x128)](_0x379056);}}),router[a0_0x3954a3(0x161)]('/receive_payment/:id',auth,async(_0x2c42a1,_0x11cb0a)=>{var _0x1c5789=a0_0x3954a3;try{const _0x50735f=_0x2c42a1[_0x1c5789(0x136)]['id'],{invoice:_0x2ce4b5,suppliers:_0x10677d,receivable_amount:_0x42d625,received_amount:_0x1a709e}=_0x2c42a1[_0x1c5789(0x189)],_0x4b8b31=await purchases_return[_0x1c5789(0x178)](_0x50735f);console[_0x1c5789(0x128)](_0x4b8b31);var _0x3be257=_0x42d625-_0x1a709e;console[_0x1c5789(0x128)](_0x1a709e),_0x4b8b31[_0x1c5789(0x14c)]=parseFloat(_0x1a709e)+parseFloat(_0x4b8b31[_0x1c5789(0x14c)]),_0x4b8b31['due_amount']=_0x3be257,console[_0x1c5789(0x128)](_0x4b8b31);const _0x2eafc7=await _0x4b8b31[_0x1c5789(0x15b)](),_0x59aed1=await s_payment_data[_0x1c5789(0x14d)]({'invoice':_0x2c42a1[_0x1c5789(0x189)][_0x1c5789(0x14f)],'reason':_0x1c5789(0x13c)});_0x59aed1[_0x1c5789(0x11d)]=_0x3be257,await _0x59aed1['save']();let _0x398c79=new Date(),_0x4cd86a=('0'+_0x398c79['getDate']())[_0x1c5789(0x134)](-0x2),_0x4aebc3=('0'+(_0x398c79['getMonth']()+0x1))[_0x1c5789(0x134)](-0x2),_0x34c59f=_0x398c79[_0x1c5789(0x126)](),_0x23f630=_0x34c59f+'-'+_0x4aebc3+'-'+_0x4cd86a;const _0x39e6c2=new suppliers_payment({'invoice':_0x2ce4b5,'date':_0x34c59f+'-'+_0x4aebc3+'-'+_0x4cd86a,'suppliers':_0x10677d,'reason':_0x1c5789(0x17d),'amount':_0x1a709e}),_0x1af804=await _0x39e6c2[_0x1c5789(0x15b)]();_0x2c42a1[_0x1c5789(0x18c)]('success',_0x1c5789(0x12e)),_0x11cb0a[_0x1c5789(0x15e)](_0x1c5789(0x119));}catch(_0x4d7ca8){console['log'](_0x4d7ca8);}}),module['exports']=router;