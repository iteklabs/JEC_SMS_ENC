function a0_0x4d72(){var _0x55bdbb=['isle','$return_product.total','Hindi','$product_details','final','flash','../public/language/languages.json','/purchases_return/view','7094470IfmfnT','780064wAboyj','product_details.return_qtyproduct_details.return_qty','render','Enabled','due_amount','express','$discount','Received\x20For\x20Purchase\x20Return','$product_details.bay','$product_details.product_stock','Return\x20Goods','Arabic\x20(ae)','supplier_docs','26ECHZiV','floorlevel','suppliers','purchase_quantity','$note','/view','return_product','21bxuXrE','aggregate','849785TtQtPl','/view/:id','German','secondary_code','payment\x20successfull','type','purchase\x20return\x20successfully','stocks','$product_details.floorlevel','Chinese','product_code','return_purchase_invoice','$return_product.price','primary_code_hide','bay','$total_amount','9lSCuKu','status','exports','$invoice','Portuguese\x20(BR)','save','$return_product','Purchase\x20Return','pallet','message','Arabic','product_name','user','$warehouse_name','warehouse_name','English\x20(US)','745500DLIydW','to_Room_name','findById','master','find','getFullYear','map','to_room','/receive_payment/:id','room','params','back','16180hDOZmn','secondary_code_hide','invoice','language','note','string','Portuguese','slice','$return_product.product_name','getMonth','post','getDate','forEach','success','Raw\x20Materials','types','English','product_stock','$received','product_details','$product_details.rack','findOne','amount','$product_details.product_code','Spanish','$supplier_docs.email','$date','$product_details._id','French','old_warehouse_data','$product_details.storage','date','purchases_return','bin','$due_amount','product_code_hide','$product_details.product_name','$product_details.primary_code','email','log','216564IwdsSl','errors','old_data','get','873852jDmfXS','body','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$product_details.type','$suppliers','$supplier_docs.address','$return_product.return_qty','primary_code','../middleware/auth','$product_details.bin','stock_quantity','redirect','level','to_warehouse_name','Router','return_qty','/invoice/:id','return_purchase_edit','$name','received'];a0_0x4d72=function(){return _0x55bdbb;};return a0_0x4d72();}var a0_0x43b3c1=a0_0x28dd;(function(_0x2faf44,_0x22c5b4){var _0x1b7fc8=a0_0x28dd,_0x11efe0=_0x2faf44();while(!![]){try{var _0x1de336=parseInt(_0x1b7fc8(0x23a))/0x1*(parseInt(_0x1b7fc8(0x205))/0x2)+-parseInt(_0x1b7fc8(0x20c))/0x3*(parseInt(_0x1b7fc8(0x262))/0x4)+-parseInt(_0x1b7fc8(0x20e))/0x5+-parseInt(_0x1b7fc8(0x22e))/0x6+-parseInt(_0x1b7fc8(0x266))/0x7+parseInt(_0x1b7fc8(0x1f8))/0x8+-parseInt(_0x1b7fc8(0x21e))/0x9*(-parseInt(_0x1b7fc8(0x1f7))/0xa);if(_0x1de336===_0x22c5b4)break;else _0x11efe0['push'](_0x11efe0['shift']());}catch(_0x35f2a3){_0x11efe0['push'](_0x11efe0['shift']());}}}(a0_0x4d72,0x35881));const express=require(a0_0x43b3c1(0x1fd)),app=express(),router=express[a0_0x43b3c1(0x1e9)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x43b3c1(0x1e3)),users=require(a0_0x43b3c1(0x1f5));function a0_0x28dd(_0x569e1e,_0x1b5b89){var _0x4d7240=a0_0x4d72();return a0_0x28dd=function(_0x28ddd2,_0x375f3d){_0x28ddd2=_0x28ddd2-0x1de;var _0x10ec80=_0x4d7240[_0x28ddd2];return _0x10ec80;},a0_0x28dd(_0x569e1e,_0x1b5b89);}router['get'](a0_0x43b3c1(0x20a),auth,async(_0x1899ed,_0x1d9751)=>{var _0x385a4c=a0_0x43b3c1;try{const {username:_0x3a26be,email:_0x1e0128,role:_0x3d0892}=_0x1899ed[_0x385a4c(0x22a)],_0x348cec=_0x1899ed[_0x385a4c(0x22a)],_0xb2fea5=await profile[_0x385a4c(0x24f)]({'email':_0x348cec[_0x385a4c(0x260)]}),_0x4a63e2=await master_shop[_0x385a4c(0x232)]();console[_0x385a4c(0x261)](_0x385a4c(0x231),_0x4a63e2);const _0x5ede50=await purchases_return[_0x385a4c(0x20d)]([{'$lookup':{'from':'suppliers','localField':'suppliers','foreignField':'name','as':_0x385a4c(0x204)}},{'$unwind':_0x385a4c(0x224)},{'$unwind':'$supplier_docs'},{'$group':{'_id':'$_id','invoice':{'$first':_0x385a4c(0x221)},'date':{'$first':_0x385a4c(0x254)},'suppliers':{'$first':_0x385a4c(0x1df)},'warehouse_name':{'$first':_0x385a4c(0x22b)},'product_name':{'$first':_0x385a4c(0x242)},'return_qty':{'$first':_0x385a4c(0x1e1)},'price':{'$first':_0x385a4c(0x21a)},'total':{'$sum':_0x385a4c(0x1f0)},'note':{'$first':_0x385a4c(0x209)},'total_amount':{'$first':_0x385a4c(0x21d)},'discount':{'$first':_0x385a4c(0x1fe)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x385a4c(0x24c)},'due_amount':{'$first':_0x385a4c(0x25c)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x385a4c(0x253)},'address':{'$first':_0x385a4c(0x1e0)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x385a4c(0x261)](_0x5ede50);if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x22d)){var _0x4c0da2=users['English'];console['log'](_0x4c0da2);}else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x1f1))var _0x4c0da2=users[_0x385a4c(0x1f1)];else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x210))var _0x4c0da2=users['German'];else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x252))var _0x4c0da2=users[_0x385a4c(0x252)];else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x256))var _0x4c0da2=users[_0x385a4c(0x256)];else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x222))var _0x4c0da2=users[_0x385a4c(0x240)];else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]==_0x385a4c(0x217))var _0x4c0da2=users[_0x385a4c(0x217)];else{if(_0x4a63e2[0x0][_0x385a4c(0x23d)]=='Arabic\x20(ae)')var _0x4c0da2=users[_0x385a4c(0x228)];}}}}}}}_0x1d9751[_0x385a4c(0x1fa)](_0x385a4c(0x25a),{'success':_0x1899ed[_0x385a4c(0x1f4)](_0x385a4c(0x247)),'errors':_0x1899ed[_0x385a4c(0x1f4)](_0x385a4c(0x263)),'role':_0x348cec,'profile':_0xb2fea5,'master_shop':_0x4a63e2,'user':_0x5ede50,'language':_0x4c0da2});}catch(_0x170027){console[_0x385a4c(0x261)](_0x170027);}}),router[a0_0x43b3c1(0x265)](a0_0x43b3c1(0x20f),auth,async(_0x256fdd,_0x31a54a)=>{var _0x78ec77=a0_0x43b3c1;try{const {username:_0x1320ed,email:_0x2f0723,role:_0x41c96d}=_0x256fdd['user'],_0x3cd3c0=_0x256fdd[_0x78ec77(0x22a)],_0x5d908e=await profile['findOne']({'email':_0x3cd3c0[_0x78ec77(0x260)]}),_0x160b0e=await product[_0x78ec77(0x232)]({}),_0x3cdab6=await master_shop[_0x78ec77(0x232)]();console[_0x78ec77(0x261)](_0x78ec77(0x231),_0x3cdab6),console[_0x78ec77(0x261)](_0x256fdd[_0x78ec77(0x267)]);const _0x122f89=_0x256fdd[_0x78ec77(0x238)]['id'],_0x1389c3=await purchases_return[_0x78ec77(0x230)](_0x122f89);console['log'](_0x1389c3);const _0x28fb19=await warehouse['aggregate']([{'$match':{'name':_0x1389c3[_0x78ec77(0x22c)],'room':_0x1389c3[_0x78ec77(0x237)]}},{'$unwind':_0x78ec77(0x1f2)},{'$group':{'_id':_0x78ec77(0x255),'name':{'$first':_0x78ec77(0x25e)},'product_stock':{'$first':_0x78ec77(0x201)},'bay':{'$first':_0x78ec77(0x200)},'bin':{'$first':_0x78ec77(0x1e4)},'type':{'$first':_0x78ec77(0x1de)},'floorlevel':{'$first':_0x78ec77(0x216)},'primary_code':{'$first':_0x78ec77(0x25f)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x78ec77(0x251)},'storage':{'$first':_0x78ec77(0x258)},'rack':{'$first':_0x78ec77(0x24e)}}}]);warehouse_data=await warehouse[_0x78ec77(0x20d)]([{'$match':{'status':_0x78ec77(0x1fb),'name':_0x78ec77(0x202),'warehouse_category':_0x78ec77(0x248)}},{'$group':{'_id':_0x78ec77(0x1ed),'name':{'$first':_0x78ec77(0x1ed)}}},{'$sort':{'name':0x1}}]),console[_0x78ec77(0x261)]('stock_data',_0x28fb19);if(_0x3cdab6[0x0][_0x78ec77(0x23d)]=='English\x20(US)'){var _0x4609f6=users[_0x78ec77(0x24a)];console[_0x78ec77(0x261)](_0x4609f6);}else{if(_0x3cdab6[0x0][_0x78ec77(0x23d)]==_0x78ec77(0x1f1))var _0x4609f6=users[_0x78ec77(0x1f1)];else{if(_0x3cdab6[0x0][_0x78ec77(0x23d)]==_0x78ec77(0x210))var _0x4609f6=users[_0x78ec77(0x210)];else{if(_0x3cdab6[0x0][_0x78ec77(0x23d)]==_0x78ec77(0x252))var _0x4609f6=users[_0x78ec77(0x252)];else{if(_0x3cdab6[0x0][_0x78ec77(0x23d)]==_0x78ec77(0x256))var _0x4609f6=users[_0x78ec77(0x256)];else{if(_0x3cdab6[0x0]['language']==_0x78ec77(0x222))var _0x4609f6=users[_0x78ec77(0x240)];else{if(_0x3cdab6[0x0][_0x78ec77(0x23d)]==_0x78ec77(0x217))var _0x4609f6=users[_0x78ec77(0x217)];else{if(_0x3cdab6[0x0][_0x78ec77(0x23d)]==_0x78ec77(0x203))var _0x4609f6=users[_0x78ec77(0x228)];}}}}}}}_0x31a54a[_0x78ec77(0x1fa)](_0x78ec77(0x1ec),{'success':_0x256fdd[_0x78ec77(0x1f4)]('success'),'errors':_0x256fdd[_0x78ec77(0x1f4)](_0x78ec77(0x263)),'role':_0x3cd3c0,'master_shop':_0x3cdab6,'profile':_0x5d908e,'user':_0x1389c3,'stock':_0x28fb19,'product':_0x160b0e,'language':_0x4609f6,'warehouse':warehouse_data});}catch(_0x3bebb7){console[_0x78ec77(0x261)](_0x3bebb7);}}),router[a0_0x43b3c1(0x244)](a0_0x43b3c1(0x20f),auth,async(_0xe08b3a,_0x4819a2)=>{var _0x4b8aff=a0_0x43b3c1;try{const _0xa7837b=_0xe08b3a[_0x4b8aff(0x238)]['id'];console['log'](_0xa7837b);const _0x5d2acb=await purchases_return[_0x4b8aff(0x24f)]({'invoice':_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x23c)]});console['log'](_0x4b8aff(0x264),_0x5d2acb);const _0x54d8e8=await warehouse[_0x4b8aff(0x24f)]({'name':_0x5d2acb[_0x4b8aff(0x1e8)],'room':_0x5d2acb[_0x4b8aff(0x235)]});console[_0x4b8aff(0x261)](_0x4b8aff(0x257),_0x54d8e8);const {invoice:_0x5a83e,suppliers:_0x4fea4b,date:_0x3dc36b,warehouse_name:_0x1393d2,product_name:_0x1e2818,purchase_quantity:_0x512b42,stocks:_0x5da024,return_qty:_0x280bb6,note:_0x2a70de,Room_name:_0x468e62,level:_0x252d55,isle:_0x4e47fb,pallet:_0x26dbc4,to_warehouse_name:_0x1f2e69,to_Room_name:_0xe0c350}=_0xe08b3a[_0x4b8aff(0x267)];if(typeof _0x1e2818==_0x4b8aff(0x23f))var _0x2d6ea8=[_0xe08b3a['body'][_0x4b8aff(0x229)]],_0xed3660=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x208)]],_0xfec114=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x215)]],_0x23f93c=[_0xe08b3a['body'][_0x4b8aff(0x1ea)]],_0x53caa1=[_0xe08b3a['body']['level']],_0x43621e=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x1ef)]],_0x33f2bf=[_0xe08b3a['body'][_0x4b8aff(0x226)]],_0x5f4347=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x249)]],_0x3bf366=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x25d)]],_0x1870e2=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x21b)]],_0x56cd95=[_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x23b)]];else var _0x2d6ea8=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x229)]],_0xed3660=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x208)]],_0xfec114=[..._0xe08b3a['body'][_0x4b8aff(0x215)]],_0x23f93c=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x1ea)]],_0x53caa1=[..._0xe08b3a['body'][_0x4b8aff(0x1e7)]],_0x43621e=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x1ef)]],_0x33f2bf=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x226)]],_0x3bf366=[..._0xe08b3a[_0x4b8aff(0x267)]['product_code_hide']],_0x1870e2=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x21b)]],_0x56cd95=[..._0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x23b)]],_0x5f4347=[..._0xe08b3a[_0x4b8aff(0x267)]['types']];const _0x535ca9=_0x2d6ea8[_0x4b8aff(0x234)](_0x10e89e=>{return _0x10e89e={'product_name':_0x10e89e};});_0xed3660[_0x4b8aff(0x246)]((_0x4a4132,_0x33c6d4)=>{var _0x299bfc=_0x4b8aff;_0x535ca9[_0x33c6d4][_0x299bfc(0x208)]=_0x4a4132;}),_0xfec114['forEach']((_0xcfde7b,_0x269555)=>{var _0x4990d4=_0x4b8aff;_0x535ca9[_0x269555][_0x4990d4(0x1e5)]=_0xcfde7b;}),_0x23f93c['forEach']((_0x315b8b,_0xc01ba7)=>{var _0x6f3ab=_0x4b8aff;_0x535ca9[_0xc01ba7][_0x6f3ab(0x1ea)]=_0x315b8b;}),_0x53caa1[_0x4b8aff(0x246)]((_0x697f87,_0x3f068a)=>{var _0x41882c=_0x4b8aff;_0x535ca9[_0x3f068a][_0x41882c(0x21c)]=_0x697f87;}),_0x43621e[_0x4b8aff(0x246)]((_0x10966a,_0x1926e3)=>{var _0x40b6c4=_0x4b8aff;_0x535ca9[_0x1926e3][_0x40b6c4(0x25b)]=_0x10966a;}),_0x33f2bf['forEach']((_0x2109d1,_0x30e461)=>{var _0xdf45cd=_0x4b8aff;_0x535ca9[_0x30e461][_0xdf45cd(0x206)]=_0x2109d1;}),_0x3bf366[_0x4b8aff(0x246)]((_0x5690a0,_0x4e7260)=>{var _0x87aa84=_0x4b8aff;_0x535ca9[_0x4e7260][_0x87aa84(0x218)]=_0x5690a0;}),_0x1870e2[_0x4b8aff(0x246)]((_0x3f219c,_0x59af6c)=>{var _0x20ebd2=_0x4b8aff;_0x535ca9[_0x59af6c][_0x20ebd2(0x1e2)]=_0x3f219c;}),_0x56cd95[_0x4b8aff(0x246)]((_0x5f39e2,_0x25b4e3)=>{var _0x30707e=_0x4b8aff;_0x535ca9[_0x25b4e3][_0x30707e(0x211)]=_0x5f39e2;}),_0x5f4347[_0x4b8aff(0x246)]((_0x24c2e2,_0x4dff51)=>{var _0x4f3978=_0x4b8aff;_0x535ca9[_0x4dff51][_0x4f3978(0x213)]=_0x24c2e2;});var _0x198ea1=0x0;_0x535ca9[_0x4b8aff(0x246)](_0x4220dd=>{var _0x587211=_0x4b8aff;console[_0x587211(0x261)]('foreach\x20newproduct',_0x4220dd),(parseInt(_0x4220dd['purchase_quantity'])<parseInt(_0x4220dd[_0x587211(0x1ea)])||parseInt(_0x4220dd[_0x587211(0x1e5)])<parseInt(_0x4220dd[_0x587211(0x1ea)])||parseInt(_0x4220dd[_0x587211(0x1ea)])==0x0)&&_0x198ea1++;});if(_0x198ea1!=0x0)return _0xe08b3a[_0x4b8aff(0x1f4)](_0x4b8aff(0x263),_0x4b8aff(0x268)),_0x4819a2[_0x4b8aff(0x1e6)](_0x4b8aff(0x239));_0x5d2acb[_0x4b8aff(0x20b)][_0x4b8aff(0x246)](_0x16d86f=>{var _0x1c86d7=_0x4b8aff;const _0x3fae27=_0x54d8e8[_0x1c86d7(0x24d)][_0x1c86d7(0x234)](_0x5aab0a=>{var _0x445f26=_0x1c86d7;_0x5aab0a[_0x445f26(0x229)]==_0x16d86f[_0x445f26(0x229)]&&_0x5aab0a['floorlevel']==_0x16d86f[_0x445f26(0x206)]&&_0x5aab0a[_0x445f26(0x213)]==_0x16d86f[_0x445f26(0x213)]&&_0x5aab0a['bin']==_0x16d86f[_0x445f26(0x25b)]&&_0x5aab0a[_0x445f26(0x21c)]==_0x16d86f[_0x445f26(0x21c)]&&(_0x5aab0a[_0x445f26(0x24b)]=parseInt(_0x5aab0a['product_stock'])+parseInt(_0x16d86f[_0x445f26(0x1ea)]));});}),console[_0x4b8aff(0x261)](_0x4b8aff(0x257),_0x54d8e8),await _0x54d8e8[_0x4b8aff(0x223)](),_0x5d2acb[_0x4b8aff(0x23c)]=_0x5a83e,_0x5d2acb[_0x4b8aff(0x207)]=_0x4fea4b,_0x5d2acb[_0x4b8aff(0x259)]=_0x3dc36b,_0x5d2acb[_0x4b8aff(0x22c)]=_0x1393d2,_0x5d2acb[_0x4b8aff(0x20b)]=_0x535ca9,_0x5d2acb[_0x4b8aff(0x23e)]=_0x2a70de,_0x5d2acb[_0x4b8aff(0x237)]=_0x468e62,_0x5d2acb[_0x4b8aff(0x1e8)]=_0x1f2e69,_0x5d2acb[_0x4b8aff(0x235)]=_0xe0c350;const _0x4fb386=await _0x5d2acb[_0x4b8aff(0x223)](),_0x16eab0=await purchases_return['findOne']({'invoice':_0xe08b3a['body']['invoice']}),_0x1386bb=await warehouse[_0x4b8aff(0x24f)]({'name':_0xe08b3a['body'][_0x4b8aff(0x1e8)],'room':_0xe08b3a['body'][_0x4b8aff(0x22f)]});_0x16eab0[_0x4b8aff(0x20b)][_0x4b8aff(0x246)](_0x4cd5ba=>{var _0x21a651=_0x4b8aff;_0x1386bb[_0x21a651(0x24d)][_0x21a651(0x234)](_0x46ba33=>{var _0x515c76=_0x21a651;_0x46ba33[_0x515c76(0x229)]==_0x4cd5ba['product_name']&&_0x46ba33[_0x515c76(0x226)]==_0x4cd5ba[_0x515c76(0x226)]&&(_0x46ba33[_0x515c76(0x24b)]=parseInt(_0x46ba33['product_stock'])-parseInt(_0x4cd5ba['return_qty']),console[_0x515c76(0x261)](_0x515c76(0x1f9),_0x4cd5ba[_0x515c76(0x1ea)]));});}),console[_0x4b8aff(0x261)](_0x4b8aff(0x1f3),_0x1386bb),await _0x1386bb[_0x4b8aff(0x223)]();const _0x418d6a=await s_payment_data['findOne']({'invoice':_0xe08b3a[_0x4b8aff(0x267)][_0x4b8aff(0x23c)],'reason':_0x4b8aff(0x225)});await _0x418d6a['save'](),_0xe08b3a[_0x4b8aff(0x1f4)](_0x4b8aff(0x247),_0x4b8aff(0x214)),_0x4819a2[_0x4b8aff(0x1e6)]('/purchases_return/view');}catch(_0xd37f6){console[_0x4b8aff(0x261)](_0xd37f6),_0x4819a2[_0x4b8aff(0x21f)](0xc8)['json']({'message':_0xd37f6[_0x4b8aff(0x227)]});}}),router[a0_0x43b3c1(0x265)](a0_0x43b3c1(0x1eb),auth,async(_0x2dc620,_0x5ce71c)=>{var _0x5e3915=a0_0x43b3c1;try{const {username:_0x4bde9c,email:_0x2b6600,role:_0x4fe13d}=_0x2dc620['user'],_0x494191=_0x2dc620[_0x5e3915(0x22a)],_0x1d6fbf=await profile[_0x5e3915(0x24f)]({'email':_0x494191[_0x5e3915(0x260)]}),_0x447e99=await master_shop[_0x5e3915(0x232)]();console['log'](_0x5e3915(0x231),_0x447e99);const _0x12aeb3=_0x2dc620['params']['id'],_0x19787d=await purchases_return[_0x5e3915(0x230)](_0x12aeb3);console['log'](_0x19787d);const _0x1b6028=await suppliers['findOne']({'name':_0x19787d[_0x5e3915(0x207)]});console[_0x5e3915(0x261)](_0x1b6028);if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x22d)){var _0x151640=users[_0x5e3915(0x24a)];console[_0x5e3915(0x261)](_0x151640);}else{if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x1f1))var _0x151640=users['Hindi'];else{if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x210))var _0x151640=users[_0x5e3915(0x210)];else{if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x252))var _0x151640=users[_0x5e3915(0x252)];else{if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x256))var _0x151640=users[_0x5e3915(0x256)];else{if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x222))var _0x151640=users[_0x5e3915(0x240)];else{if(_0x447e99[0x0]['language']==_0x5e3915(0x217))var _0x151640=users[_0x5e3915(0x217)];else{if(_0x447e99[0x0][_0x5e3915(0x23d)]==_0x5e3915(0x203))var _0x151640=users[_0x5e3915(0x228)];}}}}}}}_0x5ce71c[_0x5e3915(0x1fa)](_0x5e3915(0x219),{'success':_0x2dc620[_0x5e3915(0x1f4)](_0x5e3915(0x247)),'errors':_0x2dc620[_0x5e3915(0x1f4)](_0x5e3915(0x263)),'role':_0x494191,'profile':_0x1d6fbf,'master_shop':_0x447e99,'supplier':_0x1b6028,'purchase':_0x19787d,'language':_0x151640});}catch(_0x531037){console[_0x5e3915(0x261)](_0x531037);}}),router[a0_0x43b3c1(0x244)](a0_0x43b3c1(0x236),auth,async(_0x170723,_0x2df02f)=>{var _0x47796b=a0_0x43b3c1;try{const _0x48ceda=_0x170723['params']['id'],{invoice:_0x2f6381,suppliers:_0x3f39eb,receivable_amount:_0x3e6624,received_amount:_0x16e5a7}=_0x170723['body'],_0x541af8=await purchases_return[_0x47796b(0x230)](_0x48ceda);console[_0x47796b(0x261)](_0x541af8);var _0x100a71=_0x3e6624-_0x16e5a7;console[_0x47796b(0x261)](_0x16e5a7),_0x541af8['received']=parseFloat(_0x16e5a7)+parseFloat(_0x541af8[_0x47796b(0x1ee)]),_0x541af8[_0x47796b(0x1fc)]=_0x100a71,console['log'](_0x541af8);const _0xe1e26b=await _0x541af8[_0x47796b(0x223)](),_0x8e1d89=await s_payment_data[_0x47796b(0x24f)]({'invoice':_0x170723[_0x47796b(0x267)][_0x47796b(0x23c)],'reason':_0x47796b(0x225)});_0x8e1d89[_0x47796b(0x250)]=_0x100a71,await _0x8e1d89[_0x47796b(0x223)]();let _0x16c294=new Date(),_0xd3279e=('0'+_0x16c294[_0x47796b(0x245)]())[_0x47796b(0x241)](-0x2),_0x2a1297=('0'+(_0x16c294[_0x47796b(0x243)]()+0x1))[_0x47796b(0x241)](-0x2),_0x2d5726=_0x16c294[_0x47796b(0x233)](),_0x35ab00=_0x2d5726+'-'+_0x2a1297+'-'+_0xd3279e;const _0xa3b92a=new suppliers_payment({'invoice':_0x2f6381,'date':_0x2d5726+'-'+_0x2a1297+'-'+_0xd3279e,'suppliers':_0x3f39eb,'reason':_0x47796b(0x1ff),'amount':_0x16e5a7}),_0xf8681b=await _0xa3b92a[_0x47796b(0x223)]();_0x170723[_0x47796b(0x1f4)](_0x47796b(0x247),_0x47796b(0x212)),_0x2df02f[_0x47796b(0x1e6)](_0x47796b(0x1f6));}catch(_0x3b8bb8){console[_0x47796b(0x261)](_0x3b8bb8);}}),module[a0_0x43b3c1(0x220)]=router;