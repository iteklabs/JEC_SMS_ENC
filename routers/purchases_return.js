var a0_0x56141a=a0_0x49cc;function a0_0x49cc(_0x2d7e52,_0x53102c){var _0x5aa16c=a0_0x5aa1();return a0_0x49cc=function(_0x49cc2f,_0x38d6aa){_0x49cc2f=_0x49cc2f-0x1f2;var _0x17a8e1=_0x5aa16c[_0x49cc2f];return _0x17a8e1;},a0_0x49cc(_0x2d7e52,_0x53102c);}(function(_0x53b826,_0xac6cb7){var _0x119bc9=a0_0x49cc,_0x10c95f=_0x53b826();while(!![]){try{var _0x1bd61b=parseInt(_0x119bc9(0x21a))/0x1*(-parseInt(_0x119bc9(0x20e))/0x2)+parseInt(_0x119bc9(0x245))/0x3+parseInt(_0x119bc9(0x240))/0x4+parseInt(_0x119bc9(0x26c))/0x5+-parseInt(_0x119bc9(0x227))/0x6*(parseInt(_0x119bc9(0x243))/0x7)+parseInt(_0x119bc9(0x246))/0x8*(-parseInt(_0x119bc9(0x1fb))/0x9)+-parseInt(_0x119bc9(0x251))/0xa*(-parseInt(_0x119bc9(0x26b))/0xb);if(_0x1bd61b===_0xac6cb7)break;else _0x10c95f['push'](_0x10c95f['shift']());}catch(_0x2affa8){_0x10c95f['push'](_0x10c95f['shift']());}}}(a0_0x5aa1,0x7ece5));const express=require(a0_0x56141a(0x24b)),app=express(),router=express[a0_0x56141a(0x261)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x56141a(0x265)),auth=require(a0_0x56141a(0x254)),users=require(a0_0x56141a(0x252));function a0_0x5aa1(){var _0x33b914=['$due_amount','email','product_code','$supplier_docs','primary_code','$return_product.total','get','return_product','$product_details.product_name','stock_quantity','2231WYBTat','string','Purchase\x20Return','product_name','note','slice','Spanish','$product_details.product_stock','/view/:id','$suppliers','json','old_data','find','450Uauhiu','secondary_code_hide','level','$discount','$date','to_warehouse_name','findById','type','suppliers','stocks','bay','types','post','render','$product_details.bin','English','supplier_docs','Portuguese','bin','old_warehouse_data','English\x20(US)','$note','product_code_hide','$product_details.secondary_code','$warehouse_name','3762716uUxYuR','findOne','room','36428lEHBLQ','$product_details.storage','898500EvLLKe','24gbVeAB','due_amount','amount','master','language','express','user','product_stock','$product_details.product_code','Portuguese\x20(BR)','payment\x20successfull','10VTrbUz','../public/language/languages.json','foreach\x20newproduct','../middleware/auth','map','/receive_payment/:id','Enabled','params','Arabic\x20(ae)','product_details.return_qtyproduct_details.return_qty','success','message','return_purchase_invoice','purchases_return','$return_product.return_qty','errors','Router','final','product_details','/purchases_return/view','../models/all_models','Arabic','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$product_details.rack','isle','getDate','12559283SOXvGd','1477240NTaKqX','save','primary_code_hide','$supplier_docs.email','Return\x20Goods','warehouse_name','getMonth','back','floorlevel','getFullYear','pallet','invoice','to_Room_name','secondary_code','/view','German','purchase_quantity','French','Received\x20For\x20Purchase\x20Return','Chinese','$_id','$total_amount','3047508HSiqqM','$supplier_docs.mobile','Hindi','$invoice','log','received','exports','/invoice/:id','status','return_qty','$product_details.bay','Raw\x20Materials','purchase\x20return\x20successfully','aggregate','body','stock_data','flash','forEach','redirect','674yvWgmD','$product_details.floorlevel'];a0_0x5aa1=function(){return _0x33b914;};return a0_0x5aa1();}router['get'](a0_0x56141a(0x1f3),auth,async(_0x456019,_0x229961)=>{var _0x55dd9e=a0_0x56141a;try{const {username:_0x598bc7,email:_0x5bad19,role:_0x84d1b9}=_0x456019[_0x55dd9e(0x24c)],_0x52c1dd=_0x456019[_0x55dd9e(0x24c)],_0x54c97b=await profile['findOne']({'email':_0x52c1dd[_0x55dd9e(0x211)]}),_0xb3c92b=await master_shop[_0x55dd9e(0x226)]();console[_0x55dd9e(0x1ff)](_0x55dd9e(0x249),_0xb3c92b);const _0x375e08=await purchases_return[_0x55dd9e(0x208)]([{'$lookup':{'from':_0x55dd9e(0x22f),'localField':_0x55dd9e(0x22f),'foreignField':'name','as':_0x55dd9e(0x237)}},{'$unwind':'$return_product'},{'$unwind':_0x55dd9e(0x213)},{'$group':{'_id':_0x55dd9e(0x1f9),'invoice':{'$first':_0x55dd9e(0x1fe)},'date':{'$first':_0x55dd9e(0x22b)},'suppliers':{'$first':_0x55dd9e(0x223)},'warehouse_name':{'$first':_0x55dd9e(0x23f)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x55dd9e(0x25f)},'price':{'$first':'$return_product.price'},'total':{'$sum':_0x55dd9e(0x215)},'note':{'$first':_0x55dd9e(0x23c)},'total_amount':{'$first':_0x55dd9e(0x1fa)},'discount':{'$first':_0x55dd9e(0x22a)},'receivable':{'$first':'$receivable'},'received':{'$first':'$received'},'due_amount':{'$first':_0x55dd9e(0x210)},'mobile':{'$first':_0x55dd9e(0x1fc)},'email':{'$first':_0x55dd9e(0x26f)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x55dd9e(0x1ff)](_0x375e08);if(_0xb3c92b[0x0][_0x55dd9e(0x24a)]==_0x55dd9e(0x23b)){var _0x457a85=users[_0x55dd9e(0x236)];console[_0x55dd9e(0x1ff)](_0x457a85);}else{if(_0xb3c92b[0x0]['language']=='Hindi')var _0x457a85=users['Hindi'];else{if(_0xb3c92b[0x0][_0x55dd9e(0x24a)]==_0x55dd9e(0x1f4))var _0x457a85=users[_0x55dd9e(0x1f4)];else{if(_0xb3c92b[0x0][_0x55dd9e(0x24a)]=='Spanish')var _0x457a85=users[_0x55dd9e(0x220)];else{if(_0xb3c92b[0x0][_0x55dd9e(0x24a)]=='French')var _0x457a85=users[_0x55dd9e(0x1f6)];else{if(_0xb3c92b[0x0]['language']==_0x55dd9e(0x24f))var _0x457a85=users[_0x55dd9e(0x238)];else{if(_0xb3c92b[0x0]['language']==_0x55dd9e(0x1f8))var _0x457a85=users[_0x55dd9e(0x1f8)];else{if(_0xb3c92b[0x0][_0x55dd9e(0x24a)]=='Arabic\x20(ae)')var _0x457a85=users['Arabic'];}}}}}}}_0x229961[_0x55dd9e(0x234)](_0x55dd9e(0x25e),{'success':_0x456019['flash'](_0x55dd9e(0x25b)),'errors':_0x456019['flash']('errors'),'role':_0x52c1dd,'profile':_0x54c97b,'master_shop':_0xb3c92b,'user':_0x375e08,'language':_0x457a85});}catch(_0x52ce64){console[_0x55dd9e(0x1ff)](_0x52ce64);}}),router['get'](a0_0x56141a(0x222),auth,async(_0x312992,_0x1ab0ff)=>{var _0x3b8cb9=a0_0x56141a;try{const {username:_0x5c54a6,email:_0x6bd3e1,role:_0x2c2cb5}=_0x312992['user'],_0x4ce2b7=_0x312992['user'],_0x3fefe3=await profile[_0x3b8cb9(0x241)]({'email':_0x4ce2b7[_0x3b8cb9(0x211)]}),_0x2866e3=await product[_0x3b8cb9(0x226)]({}),_0x2072a2=await master_shop[_0x3b8cb9(0x226)]();console['log'](_0x3b8cb9(0x249),_0x2072a2),console[_0x3b8cb9(0x1ff)](_0x312992[_0x3b8cb9(0x209)]);const _0x28b407=_0x312992[_0x3b8cb9(0x258)]['id'],_0x1faad=await purchases_return[_0x3b8cb9(0x22d)](_0x28b407);console[_0x3b8cb9(0x1ff)](_0x1faad);const _0x4e5c58=await warehouse[_0x3b8cb9(0x208)]([{'$match':{'name':_0x1faad[_0x3b8cb9(0x271)],'room':_0x1faad[_0x3b8cb9(0x242)]}},{'$unwind':'$product_details'},{'$group':{'_id':'$product_details._id','name':{'$first':_0x3b8cb9(0x218)},'product_stock':{'$first':_0x3b8cb9(0x221)},'bay':{'$first':_0x3b8cb9(0x205)},'bin':{'$first':_0x3b8cb9(0x235)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x3b8cb9(0x20f)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0x3b8cb9(0x23e)},'product_code':{'$first':_0x3b8cb9(0x24e)},'storage':{'$first':_0x3b8cb9(0x244)},'rack':{'$first':_0x3b8cb9(0x268)}}}]);warehouse_data=await warehouse[_0x3b8cb9(0x208)]([{'$match':{'status':_0x3b8cb9(0x257),'name':_0x3b8cb9(0x270),'warehouse_category':_0x3b8cb9(0x206)}},{'$group':{'_id':'$name','name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]),console[_0x3b8cb9(0x1ff)](_0x3b8cb9(0x20a),_0x4e5c58);if(_0x2072a2[0x0][_0x3b8cb9(0x24a)]==_0x3b8cb9(0x23b)){var _0x14a940=users[_0x3b8cb9(0x236)];console[_0x3b8cb9(0x1ff)](_0x14a940);}else{if(_0x2072a2[0x0][_0x3b8cb9(0x24a)]==_0x3b8cb9(0x1fd))var _0x14a940=users[_0x3b8cb9(0x1fd)];else{if(_0x2072a2[0x0]['language']==_0x3b8cb9(0x1f4))var _0x14a940=users['German'];else{if(_0x2072a2[0x0][_0x3b8cb9(0x24a)]==_0x3b8cb9(0x220))var _0x14a940=users[_0x3b8cb9(0x220)];else{if(_0x2072a2[0x0]['language']==_0x3b8cb9(0x1f6))var _0x14a940=users[_0x3b8cb9(0x1f6)];else{if(_0x2072a2[0x0][_0x3b8cb9(0x24a)]==_0x3b8cb9(0x24f))var _0x14a940=users[_0x3b8cb9(0x238)];else{if(_0x2072a2[0x0]['language']==_0x3b8cb9(0x1f8))var _0x14a940=users[_0x3b8cb9(0x1f8)];else{if(_0x2072a2[0x0]['language']==_0x3b8cb9(0x259))var _0x14a940=users[_0x3b8cb9(0x266)];}}}}}}}_0x1ab0ff[_0x3b8cb9(0x234)]('return_purchase_edit',{'success':_0x312992['flash'](_0x3b8cb9(0x25b)),'errors':_0x312992[_0x3b8cb9(0x20b)](_0x3b8cb9(0x260)),'role':_0x4ce2b7,'master_shop':_0x2072a2,'profile':_0x3fefe3,'user':_0x1faad,'stock':_0x4e5c58,'product':_0x2866e3,'language':_0x14a940,'warehouse':warehouse_data});}catch(_0x2c17b1){console[_0x3b8cb9(0x1ff)](_0x2c17b1);}}),router['post'](a0_0x56141a(0x222),auth,async(_0x15f3d3,_0xc13b91)=>{var _0x2f7b82=a0_0x56141a;try{const _0x490a9b=_0x15f3d3[_0x2f7b82(0x258)]['id'];console['log'](_0x490a9b);const _0x2a733c=await purchases_return[_0x2f7b82(0x241)]({'invoice':_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x277)]});console['log'](_0x2f7b82(0x225),_0x2a733c);const _0x4c17e3=await warehouse[_0x2f7b82(0x241)]({'name':_0x2a733c[_0x2f7b82(0x22c)],'room':_0x2a733c['to_room']});console['log'](_0x2f7b82(0x23a),_0x4c17e3);const {invoice:_0x454a95,suppliers:_0x2852cd,date:_0x42295a,warehouse_name:_0x43d1b6,product_name:_0x3766a1,purchase_quantity:_0x14f2af,stocks:_0x3fcec9,return_qty:_0x5a8faa,note:_0x387768,Room_name:_0x1554ae,level:_0x329ae,isle:_0x594ce7,pallet:_0x5a0287,to_warehouse_name:_0x1a7d80,to_Room_name:_0x12c9ef}=_0x15f3d3['body'];if(typeof _0x3766a1==_0x2f7b82(0x21b))var _0x710c13=[_0x15f3d3['body'][_0x2f7b82(0x21d)]],_0x455cf3=[_0x15f3d3[_0x2f7b82(0x209)]['purchase_quantity']],_0x3dfee9=[_0x15f3d3[_0x2f7b82(0x209)]['stocks']],_0x4de499=[_0x15f3d3[_0x2f7b82(0x209)]['return_qty']],_0x3e0883=[_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x229)]],_0x532ab8=[_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x269)]],_0xb2390f=[_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x276)]],_0x4c3573=[_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x232)]],_0x6ded83=[_0x15f3d3['body'][_0x2f7b82(0x23d)]],_0x3e833e=[_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x26e)]],_0x577fd7=[_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x228)]];else var _0x710c13=[..._0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x21d)]],_0x455cf3=[..._0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x1f5)]],_0x3dfee9=[..._0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x230)]],_0x4de499=[..._0x15f3d3['body']['return_qty']],_0x3e0883=[..._0x15f3d3['body'][_0x2f7b82(0x229)]],_0x532ab8=[..._0x15f3d3['body'][_0x2f7b82(0x269)]],_0xb2390f=[..._0x15f3d3['body'][_0x2f7b82(0x276)]],_0x6ded83=[..._0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x23d)]],_0x3e833e=[..._0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x26e)]],_0x577fd7=[..._0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x228)]],_0x4c3573=[..._0x15f3d3['body'][_0x2f7b82(0x232)]];const _0x42c2e2=_0x710c13['map'](_0x1109d7=>{return _0x1109d7={'product_name':_0x1109d7};});_0x455cf3[_0x2f7b82(0x20c)]((_0x23567f,_0x4e9bb6)=>{var _0x43a019=_0x2f7b82;_0x42c2e2[_0x4e9bb6][_0x43a019(0x1f5)]=_0x23567f;}),_0x3dfee9['forEach']((_0x10d4a4,_0x268e43)=>{var _0x3ea729=_0x2f7b82;_0x42c2e2[_0x268e43][_0x3ea729(0x219)]=_0x10d4a4;}),_0x4de499[_0x2f7b82(0x20c)]((_0x465867,_0xa6044c)=>{var _0x3d8522=_0x2f7b82;_0x42c2e2[_0xa6044c][_0x3d8522(0x204)]=_0x465867;}),_0x3e0883[_0x2f7b82(0x20c)]((_0x53d712,_0x97fd22)=>{_0x42c2e2[_0x97fd22]['bay']=_0x53d712;}),_0x532ab8['forEach']((_0x4d222d,_0x120970)=>{_0x42c2e2[_0x120970]['bin']=_0x4d222d;}),_0xb2390f[_0x2f7b82(0x20c)]((_0x33ac62,_0x36b8e9)=>{var _0x4d3f1d=_0x2f7b82;_0x42c2e2[_0x36b8e9][_0x4d3f1d(0x274)]=_0x33ac62;}),_0x6ded83['forEach']((_0xf16407,_0x58325f)=>{var _0x3a21e0=_0x2f7b82;_0x42c2e2[_0x58325f][_0x3a21e0(0x212)]=_0xf16407;}),_0x3e833e[_0x2f7b82(0x20c)]((_0x239771,_0xca9e4d)=>{var _0x29cbc2=_0x2f7b82;_0x42c2e2[_0xca9e4d][_0x29cbc2(0x214)]=_0x239771;}),_0x577fd7['forEach']((_0x3cc5c0,_0x5103c6)=>{var _0x521526=_0x2f7b82;_0x42c2e2[_0x5103c6][_0x521526(0x1f2)]=_0x3cc5c0;}),_0x4c3573[_0x2f7b82(0x20c)]((_0x56d886,_0x1069e4)=>{var _0x9a0a74=_0x2f7b82;_0x42c2e2[_0x1069e4][_0x9a0a74(0x22e)]=_0x56d886;});var _0x4e5c3b=0x0;_0x42c2e2['forEach'](_0xe5a73d=>{var _0x530f44=_0x2f7b82;console['log'](_0x530f44(0x253),_0xe5a73d),(parseInt(_0xe5a73d['purchase_quantity'])<parseInt(_0xe5a73d[_0x530f44(0x204)])||parseInt(_0xe5a73d[_0x530f44(0x219)])<parseInt(_0xe5a73d[_0x530f44(0x204)])||parseInt(_0xe5a73d[_0x530f44(0x204)])==0x0)&&_0x4e5c3b++;});if(_0x4e5c3b!=0x0)return _0x15f3d3[_0x2f7b82(0x20b)](_0x2f7b82(0x260),_0x2f7b82(0x267)),_0xc13b91[_0x2f7b82(0x20d)](_0x2f7b82(0x273));_0x2a733c['return_product'][_0x2f7b82(0x20c)](_0x20a850=>{var _0x3005fc=_0x2f7b82;const _0x586872=_0x4c17e3['product_details'][_0x3005fc(0x255)](_0x3234c8=>{var _0x115204=_0x3005fc;_0x3234c8[_0x115204(0x21d)]==_0x20a850[_0x115204(0x21d)]&&_0x3234c8['floorlevel']==_0x20a850[_0x115204(0x274)]&&_0x3234c8[_0x115204(0x22e)]==_0x20a850[_0x115204(0x22e)]&&_0x3234c8[_0x115204(0x239)]==_0x20a850['bin']&&_0x3234c8[_0x115204(0x231)]==_0x20a850[_0x115204(0x231)]&&(_0x3234c8[_0x115204(0x24d)]=parseInt(_0x3234c8[_0x115204(0x24d)])+parseInt(_0x20a850[_0x115204(0x204)]));});}),console[_0x2f7b82(0x1ff)]('old_warehouse_data',_0x4c17e3),await _0x4c17e3[_0x2f7b82(0x26d)](),_0x2a733c['invoice']=_0x454a95,_0x2a733c[_0x2f7b82(0x22f)]=_0x2852cd,_0x2a733c['date']=_0x42295a,_0x2a733c[_0x2f7b82(0x271)]=_0x43d1b6,_0x2a733c[_0x2f7b82(0x217)]=_0x42c2e2,_0x2a733c[_0x2f7b82(0x21e)]=_0x387768,_0x2a733c[_0x2f7b82(0x242)]=_0x1554ae,_0x2a733c[_0x2f7b82(0x22c)]=_0x1a7d80,_0x2a733c['to_room']=_0x12c9ef;const _0xab6a34=await _0x2a733c[_0x2f7b82(0x26d)](),_0x2dfaae=await purchases_return[_0x2f7b82(0x241)]({'invoice':_0x15f3d3[_0x2f7b82(0x209)]['invoice']}),_0x3b277e=await warehouse[_0x2f7b82(0x241)]({'name':_0x15f3d3['body'][_0x2f7b82(0x22c)],'room':_0x15f3d3['body'][_0x2f7b82(0x278)]});_0x2dfaae[_0x2f7b82(0x217)]['forEach'](_0x577b25=>{var _0x29a310=_0x2f7b82;_0x3b277e[_0x29a310(0x263)][_0x29a310(0x255)](_0x1973fa=>{var _0x5aa866=_0x29a310;_0x1973fa[_0x5aa866(0x21d)]==_0x577b25[_0x5aa866(0x21d)]&&_0x1973fa[_0x5aa866(0x276)]==_0x577b25[_0x5aa866(0x276)]&&(_0x1973fa['product_stock']=parseInt(_0x1973fa[_0x5aa866(0x24d)])-parseInt(_0x577b25[_0x5aa866(0x204)]),console[_0x5aa866(0x1ff)](_0x5aa866(0x25a),_0x577b25[_0x5aa866(0x204)]));});}),console[_0x2f7b82(0x1ff)](_0x2f7b82(0x262),_0x3b277e),await _0x3b277e[_0x2f7b82(0x26d)]();const _0x2cb972=await s_payment_data[_0x2f7b82(0x241)]({'invoice':_0x15f3d3[_0x2f7b82(0x209)][_0x2f7b82(0x277)],'reason':_0x2f7b82(0x21c)});await _0x2cb972['save'](),_0x15f3d3[_0x2f7b82(0x20b)](_0x2f7b82(0x25b),_0x2f7b82(0x207)),_0xc13b91['redirect'](_0x2f7b82(0x264));}catch(_0x4770cc){console[_0x2f7b82(0x1ff)](_0x4770cc),_0xc13b91[_0x2f7b82(0x203)](0xc8)[_0x2f7b82(0x224)]({'message':_0x4770cc[_0x2f7b82(0x25c)]});}}),router[a0_0x56141a(0x216)](a0_0x56141a(0x202),auth,async(_0xa9a204,_0x311db8)=>{var _0x298014=a0_0x56141a;try{const {username:_0x48badc,email:_0x4e976e,role:_0x3bd028}=_0xa9a204[_0x298014(0x24c)],_0x435eb2=_0xa9a204[_0x298014(0x24c)],_0x39572e=await profile[_0x298014(0x241)]({'email':_0x435eb2['email']}),_0x196170=await master_shop['find']();console[_0x298014(0x1ff)](_0x298014(0x249),_0x196170);const _0xc74065=_0xa9a204[_0x298014(0x258)]['id'],_0xafb6ff=await purchases_return[_0x298014(0x22d)](_0xc74065);console[_0x298014(0x1ff)](_0xafb6ff);const _0x12dd6d=await suppliers[_0x298014(0x241)]({'name':_0xafb6ff[_0x298014(0x22f)]});console[_0x298014(0x1ff)](_0x12dd6d);if(_0x196170[0x0][_0x298014(0x24a)]=='English\x20(US)'){var _0x312584=users[_0x298014(0x236)];console[_0x298014(0x1ff)](_0x312584);}else{if(_0x196170[0x0][_0x298014(0x24a)]==_0x298014(0x1fd))var _0x312584=users['Hindi'];else{if(_0x196170[0x0][_0x298014(0x24a)]==_0x298014(0x1f4))var _0x312584=users[_0x298014(0x1f4)];else{if(_0x196170[0x0][_0x298014(0x24a)]=='Spanish')var _0x312584=users[_0x298014(0x220)];else{if(_0x196170[0x0][_0x298014(0x24a)]==_0x298014(0x1f6))var _0x312584=users['French'];else{if(_0x196170[0x0][_0x298014(0x24a)]==_0x298014(0x24f))var _0x312584=users['Portuguese'];else{if(_0x196170[0x0][_0x298014(0x24a)]==_0x298014(0x1f8))var _0x312584=users['Chinese'];else{if(_0x196170[0x0]['language']==_0x298014(0x259))var _0x312584=users[_0x298014(0x266)];}}}}}}}_0x311db8['render'](_0x298014(0x25d),{'success':_0xa9a204[_0x298014(0x20b)](_0x298014(0x25b)),'errors':_0xa9a204[_0x298014(0x20b)](_0x298014(0x260)),'role':_0x435eb2,'profile':_0x39572e,'master_shop':_0x196170,'supplier':_0x12dd6d,'purchase':_0xafb6ff,'language':_0x312584});}catch(_0x33473b){console[_0x298014(0x1ff)](_0x33473b);}}),router[a0_0x56141a(0x233)](a0_0x56141a(0x256),auth,async(_0x2bebc3,_0x2101ce)=>{var _0x5eae2d=a0_0x56141a;try{const _0xa20136=_0x2bebc3[_0x5eae2d(0x258)]['id'],{invoice:_0x55a4a4,suppliers:_0x3fcfe4,receivable_amount:_0x8e6ac3,received_amount:_0x33541e}=_0x2bebc3[_0x5eae2d(0x209)],_0x172bef=await purchases_return['findById'](_0xa20136);console[_0x5eae2d(0x1ff)](_0x172bef);var _0x40efb2=_0x8e6ac3-_0x33541e;console[_0x5eae2d(0x1ff)](_0x33541e),_0x172bef[_0x5eae2d(0x200)]=parseFloat(_0x33541e)+parseFloat(_0x172bef['received']),_0x172bef[_0x5eae2d(0x247)]=_0x40efb2,console[_0x5eae2d(0x1ff)](_0x172bef);const _0x2d1ac9=await _0x172bef['save'](),_0x3813d2=await s_payment_data[_0x5eae2d(0x241)]({'invoice':_0x2bebc3['body'][_0x5eae2d(0x277)],'reason':'Purchase\x20Return'});_0x3813d2[_0x5eae2d(0x248)]=_0x40efb2,await _0x3813d2[_0x5eae2d(0x26d)]();let _0x2ffd0=new Date(),_0x214e95=('0'+_0x2ffd0[_0x5eae2d(0x26a)]())[_0x5eae2d(0x21f)](-0x2),_0x6b2d3e=('0'+(_0x2ffd0[_0x5eae2d(0x272)]()+0x1))['slice'](-0x2),_0x2e2aa2=_0x2ffd0[_0x5eae2d(0x275)](),_0x3bf035=_0x2e2aa2+'-'+_0x6b2d3e+'-'+_0x214e95;const _0x185ffd=new suppliers_payment({'invoice':_0x55a4a4,'date':_0x2e2aa2+'-'+_0x6b2d3e+'-'+_0x214e95,'suppliers':_0x3fcfe4,'reason':_0x5eae2d(0x1f7),'amount':_0x33541e}),_0x21aa61=await _0x185ffd[_0x5eae2d(0x26d)]();_0x2bebc3[_0x5eae2d(0x20b)](_0x5eae2d(0x25b),_0x5eae2d(0x250)),_0x2101ce['redirect'](_0x5eae2d(0x264));}catch(_0x54f204){console['log'](_0x54f204);}}),module[a0_0x56141a(0x201)]=router;