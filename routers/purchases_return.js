var a0_0x359a88=a0_0x36a5;(function(_0x3cbe7b,_0x5e21ba){var _0x3bf863=a0_0x36a5,_0x341472=_0x3cbe7b();while(!![]){try{var _0x861e75=parseInt(_0x3bf863(0x15e))/0x1+-parseInt(_0x3bf863(0x117))/0x2*(-parseInt(_0x3bf863(0x166))/0x3)+parseInt(_0x3bf863(0x132))/0x4*(parseInt(_0x3bf863(0x123))/0x5)+parseInt(_0x3bf863(0x156))/0x6+-parseInt(_0x3bf863(0x137))/0x7*(parseInt(_0x3bf863(0x17d))/0x8)+parseInt(_0x3bf863(0x183))/0x9+-parseInt(_0x3bf863(0x186))/0xa;if(_0x861e75===_0x5e21ba)break;else _0x341472['push'](_0x341472['shift']());}catch(_0x448190){_0x341472['push'](_0x341472['shift']());}}}(a0_0x58f2,0xb1e2b));const express=require(a0_0x359a88(0x159)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x359a88(0x165)),auth=require(a0_0x359a88(0x16e)),users=require(a0_0x359a88(0x16a));function a0_0x36a5(_0x4ad09c,_0x4a6f05){var _0x58f265=a0_0x58f2();return a0_0x36a5=function(_0x36a569,_0x29f7ea){_0x36a569=_0x36a569-0x110;var _0x8d2b42=_0x58f265[_0x36a569];return _0x8d2b42;},a0_0x36a5(_0x4ad09c,_0x4a6f05);}function a0_0x58f2(){var _0x238519=['Spanish','stocks','stock_quantity','log','return_purchase_invoice','7273540OSypJD','purchase_quantity','$product_details','to_room','to_Room_name','Arabic','isle','purchase\x20return\x20successfully','$supplier_docs.email','$supplier_docs.address','amount','get','$return_product.product_name','Raw\x20Materials','findById','4qlHqoE','redirect','primary_code_hide','save','forEach','7wXeuVJ','floorlevel','user','Portuguese','secondary_code_hide','Received\x20For\x20Purchase\x20Return','email','language','due_amount','$invoice','$product_details.floorlevel','flash','return_product','json','Return\x20Goods','$name','secondary_code','final','$product_details.type','return_qty','findOne','/purchases_return/view','$product_details.bay','aggregate','English','date','$product_details.storage','French','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','Hindi','primary_code','1541634VLplAE','product_name','invoice','express','old_data','$warehouse_name','/invoice/:id','Portuguese\x20(BR)','684330XElXhD','product_stock','product_code_hide','pallet','getFullYear','errors','find','../models/all_models','3cFdpub','type','$supplier_docs','$received','../public/language/languages.json','received','suppliers','master','../middleware/auth','name','$discount','$product_details._id','$_id','bin','getMonth','success','$return_product.total','body','room','post','English\x20(US)','Chinese','warehouse_name','5213336YctPDy','payment\x20successfull','level','types','/view/:id','$product_details.product_stock','5461029mjIBpf','string','$note','19197730QUzxIE','status','slice','bay','map','product_details.return_qtyproduct_details.return_qty','params','message','purchases_return','$product_details.product_code','$return_product.return_qty','getDate','to_warehouse_name','product_details','German','$due_amount','product_code','594602MlqgjS','render','supplier_docs','return_purchase_edit','Arabic\x20(ae)','$product_details.bin','/view'];a0_0x58f2=function(){return _0x238519;};return a0_0x58f2();}router[a0_0x359a88(0x12e)](a0_0x359a88(0x11d),auth,async(_0x192da4,_0xbe1752)=>{var _0x25c67b=a0_0x359a88;try{const {username:_0x33f56c,email:_0x2eab20,role:_0x23b031}=_0x192da4[_0x25c67b(0x139)],_0x2bd28f=_0x192da4[_0x25c67b(0x139)],_0x5a1c7d=await profile['findOne']({'email':_0x2bd28f[_0x25c67b(0x13d)]}),_0x1711e7=await master_shop[_0x25c67b(0x164)]();console['log'](_0x25c67b(0x16d),_0x1711e7);const _0x42a808=await purchases_return[_0x25c67b(0x14e)]([{'$lookup':{'from':_0x25c67b(0x16c),'localField':_0x25c67b(0x16c),'foreignField':_0x25c67b(0x16f),'as':_0x25c67b(0x119)}},{'$unwind':'$return_product'},{'$unwind':_0x25c67b(0x168)},{'$group':{'_id':_0x25c67b(0x172),'invoice':{'$first':_0x25c67b(0x140)},'date':{'$first':'$date'},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x25c67b(0x15b)},'product_name':{'$first':_0x25c67b(0x12f)},'return_qty':{'$first':_0x25c67b(0x110)},'price':{'$first':'$return_product.price'},'total':{'$sum':_0x25c67b(0x176)},'note':{'$first':_0x25c67b(0x185)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x25c67b(0x170)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x25c67b(0x169)},'due_amount':{'$first':_0x25c67b(0x115)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x25c67b(0x12b)},'address':{'$first':_0x25c67b(0x12c)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x25c67b(0x121)](_0x42a808);if(_0x1711e7[0x0]['language']==_0x25c67b(0x17a)){var _0x1517d6=users[_0x25c67b(0x14f)];console['log'](_0x1517d6);}else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]==_0x25c67b(0x154))var _0x1517d6=users[_0x25c67b(0x154)];else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]=='German')var _0x1517d6=users[_0x25c67b(0x114)];else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]==_0x25c67b(0x11e))var _0x1517d6=users[_0x25c67b(0x11e)];else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]==_0x25c67b(0x152))var _0x1517d6=users[_0x25c67b(0x152)];else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]==_0x25c67b(0x15d))var _0x1517d6=users['Portuguese'];else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]==_0x25c67b(0x17b))var _0x1517d6=users[_0x25c67b(0x17b)];else{if(_0x1711e7[0x0][_0x25c67b(0x13e)]=='Arabic\x20(ae)')var _0x1517d6=users[_0x25c67b(0x128)];}}}}}}}_0xbe1752[_0x25c67b(0x118)](_0x25c67b(0x18e),{'success':_0x192da4['flash'](_0x25c67b(0x175)),'errors':_0x192da4[_0x25c67b(0x142)](_0x25c67b(0x163)),'role':_0x2bd28f,'profile':_0x5a1c7d,'master_shop':_0x1711e7,'user':_0x42a808,'language':_0x1517d6});}catch(_0x364575){console['log'](_0x364575);}}),router['get'](a0_0x359a88(0x181),auth,async(_0x470a57,_0x4f06c3)=>{var _0x25610a=a0_0x359a88;try{const {username:_0x5b2f28,email:_0x5f1784,role:_0x20ec8e}=_0x470a57[_0x25610a(0x139)],_0x19d3ca=_0x470a57[_0x25610a(0x139)],_0x1cfffb=await profile[_0x25610a(0x14b)]({'email':_0x19d3ca[_0x25610a(0x13d)]}),_0x2828fb=await product['find']({}),_0x147ebd=await master_shop[_0x25610a(0x164)]();console[_0x25610a(0x121)]('master',_0x147ebd),console['log'](_0x470a57[_0x25610a(0x177)]);const _0x2a1d25=_0x470a57[_0x25610a(0x18c)]['id'],_0xdc8108=await purchases_return[_0x25610a(0x131)](_0x2a1d25);console[_0x25610a(0x121)](_0xdc8108);const _0x55e2f4=await warehouse[_0x25610a(0x14e)]([{'$match':{'name':_0xdc8108[_0x25610a(0x17c)],'room':_0xdc8108[_0x25610a(0x178)]}},{'$unwind':_0x25610a(0x125)},{'$group':{'_id':_0x25610a(0x171),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x25610a(0x182)},'bay':{'$first':_0x25610a(0x14d)},'bin':{'$first':_0x25610a(0x11c)},'type':{'$first':_0x25610a(0x149)},'floorlevel':{'$first':_0x25610a(0x141)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x25610a(0x18f)},'storage':{'$first':_0x25610a(0x151)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x25610a(0x14e)]([{'$match':{'status':'Enabled','name':_0x25610a(0x145),'warehouse_category':_0x25610a(0x130)}},{'$group':{'_id':'$name','name':{'$first':_0x25610a(0x146)}}},{'$sort':{'name':0x1}}]),console[_0x25610a(0x121)]('stock_data',_0x55e2f4);if(_0x147ebd[0x0]['language']=='English\x20(US)'){var _0x40bcfd=users['English'];console[_0x25610a(0x121)](_0x40bcfd);}else{if(_0x147ebd[0x0][_0x25610a(0x13e)]==_0x25610a(0x154))var _0x40bcfd=users[_0x25610a(0x154)];else{if(_0x147ebd[0x0][_0x25610a(0x13e)]=='German')var _0x40bcfd=users['German'];else{if(_0x147ebd[0x0]['language']==_0x25610a(0x11e))var _0x40bcfd=users[_0x25610a(0x11e)];else{if(_0x147ebd[0x0]['language']==_0x25610a(0x152))var _0x40bcfd=users[_0x25610a(0x152)];else{if(_0x147ebd[0x0][_0x25610a(0x13e)]==_0x25610a(0x15d))var _0x40bcfd=users[_0x25610a(0x13a)];else{if(_0x147ebd[0x0][_0x25610a(0x13e)]==_0x25610a(0x17b))var _0x40bcfd=users['Chinese'];else{if(_0x147ebd[0x0]['language']==_0x25610a(0x11b))var _0x40bcfd=users['Arabic'];}}}}}}}_0x4f06c3[_0x25610a(0x118)](_0x25610a(0x11a),{'success':_0x470a57[_0x25610a(0x142)](_0x25610a(0x175)),'errors':_0x470a57[_0x25610a(0x142)]('errors'),'role':_0x19d3ca,'master_shop':_0x147ebd,'profile':_0x1cfffb,'user':_0xdc8108,'stock':_0x55e2f4,'product':_0x2828fb,'language':_0x40bcfd,'warehouse':warehouse_data});}catch(_0x1ee8a6){console['log'](_0x1ee8a6);}}),router[a0_0x359a88(0x179)](a0_0x359a88(0x181),auth,async(_0x4c2fbe,_0x12398a)=>{var _0x425119=a0_0x359a88;try{const _0x136e09=_0x4c2fbe[_0x425119(0x18c)]['id'];console[_0x425119(0x121)](_0x136e09);const _0x4fb07a=await purchases_return['findOne']({'invoice':_0x4c2fbe[_0x425119(0x177)][_0x425119(0x158)]});console[_0x425119(0x121)](_0x425119(0x15a),_0x4fb07a);const _0x46209a=await warehouse[_0x425119(0x14b)]({'name':_0x4fb07a[_0x425119(0x112)],'room':_0x4fb07a[_0x425119(0x126)]});console['log']('old_warehouse_data',_0x46209a);const {invoice:_0x37bce3,suppliers:_0x2a54a8,date:_0x4514de,warehouse_name:_0x592668,product_name:_0x4e33ea,purchase_quantity:_0x11439b,stocks:_0x322811,return_qty:_0x4d1c2f,note:_0xbcd54e,Room_name:_0x548115,level:_0x1a7ce7,isle:_0x364c89,pallet:_0x9f1d8,to_warehouse_name:_0x5b4086,to_Room_name:_0x149be3}=_0x4c2fbe[_0x425119(0x177)];if(typeof _0x4e33ea==_0x425119(0x184))var _0xca0cf9=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x157)]],_0x4e624e=[_0x4c2fbe['body'][_0x425119(0x124)]],_0x50f5e2=[_0x4c2fbe['body']['stocks']],_0x2925cb=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x14a)]],_0x2fd33f=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x17f)]],_0x25a135=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x129)]],_0x2806a3=[_0x4c2fbe[_0x425119(0x177)]['pallet']],_0x22a4aa=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x180)]],_0x4333ad=[_0x4c2fbe['body'][_0x425119(0x160)]],_0xe2bde2=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x134)]],_0x19abe5=[_0x4c2fbe[_0x425119(0x177)][_0x425119(0x13b)]];else var _0xca0cf9=[..._0x4c2fbe[_0x425119(0x177)][_0x425119(0x157)]],_0x4e624e=[..._0x4c2fbe['body'][_0x425119(0x124)]],_0x50f5e2=[..._0x4c2fbe[_0x425119(0x177)][_0x425119(0x11f)]],_0x2925cb=[..._0x4c2fbe['body'][_0x425119(0x14a)]],_0x2fd33f=[..._0x4c2fbe[_0x425119(0x177)]['level']],_0x25a135=[..._0x4c2fbe[_0x425119(0x177)][_0x425119(0x129)]],_0x2806a3=[..._0x4c2fbe[_0x425119(0x177)]['pallet']],_0x4333ad=[..._0x4c2fbe[_0x425119(0x177)]['product_code_hide']],_0xe2bde2=[..._0x4c2fbe[_0x425119(0x177)]['primary_code_hide']],_0x19abe5=[..._0x4c2fbe['body'][_0x425119(0x13b)]],_0x22a4aa=[..._0x4c2fbe[_0x425119(0x177)][_0x425119(0x180)]];const _0x5cf8d1=_0xca0cf9[_0x425119(0x18a)](_0x377791=>{return _0x377791={'product_name':_0x377791};});_0x4e624e[_0x425119(0x136)]((_0x596556,_0x50ed9e)=>{var _0x3448e0=_0x425119;_0x5cf8d1[_0x50ed9e][_0x3448e0(0x124)]=_0x596556;}),_0x50f5e2[_0x425119(0x136)]((_0x467b1b,_0x18b0cb)=>{var _0x4d9a50=_0x425119;_0x5cf8d1[_0x18b0cb][_0x4d9a50(0x120)]=_0x467b1b;}),_0x2925cb['forEach']((_0x289b2d,_0x196f00)=>{var _0x27dc76=_0x425119;_0x5cf8d1[_0x196f00][_0x27dc76(0x14a)]=_0x289b2d;}),_0x2fd33f['forEach']((_0x4f1f12,_0x545e9b)=>{var _0x31d00f=_0x425119;_0x5cf8d1[_0x545e9b][_0x31d00f(0x189)]=_0x4f1f12;}),_0x25a135[_0x425119(0x136)]((_0x128724,_0x5ee7d3)=>{_0x5cf8d1[_0x5ee7d3]['bin']=_0x128724;}),_0x2806a3[_0x425119(0x136)]((_0x4d35e1,_0x592f49)=>{var _0x349a68=_0x425119;_0x5cf8d1[_0x592f49][_0x349a68(0x138)]=_0x4d35e1;}),_0x4333ad['forEach']((_0x275feb,_0x1af5ed)=>{var _0x2deaf0=_0x425119;_0x5cf8d1[_0x1af5ed][_0x2deaf0(0x116)]=_0x275feb;}),_0xe2bde2['forEach']((_0x2f589c,_0x3f921a)=>{var _0x1df8d8=_0x425119;_0x5cf8d1[_0x3f921a][_0x1df8d8(0x155)]=_0x2f589c;}),_0x19abe5[_0x425119(0x136)]((_0x36c1b1,_0xb1ece6)=>{var _0x55fae7=_0x425119;_0x5cf8d1[_0xb1ece6][_0x55fae7(0x147)]=_0x36c1b1;}),_0x22a4aa[_0x425119(0x136)]((_0x23eb40,_0x53e288)=>{var _0x174c91=_0x425119;_0x5cf8d1[_0x53e288][_0x174c91(0x167)]=_0x23eb40;});var _0x3df29c=0x0;_0x5cf8d1['forEach'](_0x2c6a78=>{var _0x55e0c8=_0x425119;console[_0x55e0c8(0x121)]('foreach\x20newproduct',_0x2c6a78),(parseInt(_0x2c6a78[_0x55e0c8(0x124)])<parseInt(_0x2c6a78[_0x55e0c8(0x14a)])||parseInt(_0x2c6a78['stock_quantity'])<parseInt(_0x2c6a78['return_qty'])||parseInt(_0x2c6a78[_0x55e0c8(0x14a)])==0x0)&&_0x3df29c++;});if(_0x3df29c!=0x0)return _0x4c2fbe[_0x425119(0x142)]('errors',_0x425119(0x153)),_0x12398a[_0x425119(0x133)]('back');_0x4fb07a[_0x425119(0x143)][_0x425119(0x136)](_0x98668c=>{var _0xe710fd=_0x425119;const _0x79e1a1=_0x46209a[_0xe710fd(0x113)]['map'](_0x29704d=>{var _0x52f7c3=_0xe710fd;_0x29704d[_0x52f7c3(0x157)]==_0x98668c[_0x52f7c3(0x157)]&&_0x29704d[_0x52f7c3(0x138)]==_0x98668c['floorlevel']&&_0x29704d[_0x52f7c3(0x167)]==_0x98668c[_0x52f7c3(0x167)]&&_0x29704d[_0x52f7c3(0x173)]==_0x98668c['bin']&&_0x29704d[_0x52f7c3(0x189)]==_0x98668c[_0x52f7c3(0x189)]&&(_0x29704d[_0x52f7c3(0x15f)]=parseInt(_0x29704d[_0x52f7c3(0x15f)])+parseInt(_0x98668c[_0x52f7c3(0x14a)]));});}),console[_0x425119(0x121)]('old_warehouse_data',_0x46209a),await _0x46209a[_0x425119(0x135)](),_0x4fb07a[_0x425119(0x158)]=_0x37bce3,_0x4fb07a[_0x425119(0x16c)]=_0x2a54a8,_0x4fb07a[_0x425119(0x150)]=_0x4514de,_0x4fb07a[_0x425119(0x17c)]=_0x592668,_0x4fb07a['return_product']=_0x5cf8d1,_0x4fb07a['note']=_0xbcd54e,_0x4fb07a['room']=_0x548115,_0x4fb07a[_0x425119(0x112)]=_0x5b4086,_0x4fb07a['to_room']=_0x149be3;const _0x5befbe=await _0x4fb07a[_0x425119(0x135)](),_0x5c8f28=await purchases_return[_0x425119(0x14b)]({'invoice':_0x4c2fbe[_0x425119(0x177)][_0x425119(0x158)]}),_0x45bb74=await warehouse[_0x425119(0x14b)]({'name':_0x4c2fbe['body']['to_warehouse_name'],'room':_0x4c2fbe[_0x425119(0x177)][_0x425119(0x127)]});_0x5c8f28[_0x425119(0x143)][_0x425119(0x136)](_0x47af11=>{var _0x5a6e99=_0x425119;_0x45bb74[_0x5a6e99(0x113)][_0x5a6e99(0x18a)](_0x28d34d=>{var _0x50ebd3=_0x5a6e99;_0x28d34d[_0x50ebd3(0x157)]==_0x47af11[_0x50ebd3(0x157)]&&_0x28d34d['pallet']==_0x47af11[_0x50ebd3(0x161)]&&(_0x28d34d['product_stock']=parseInt(_0x28d34d['product_stock'])-parseInt(_0x47af11[_0x50ebd3(0x14a)]),console[_0x50ebd3(0x121)](_0x50ebd3(0x18b),_0x47af11[_0x50ebd3(0x14a)]));});}),console[_0x425119(0x121)](_0x425119(0x148),_0x45bb74),await _0x45bb74[_0x425119(0x135)]();const _0x4e954f=await s_payment_data['findOne']({'invoice':_0x4c2fbe[_0x425119(0x177)][_0x425119(0x158)],'reason':'Purchase\x20Return'});await _0x4e954f[_0x425119(0x135)](),_0x4c2fbe[_0x425119(0x142)](_0x425119(0x175),_0x425119(0x12a)),_0x12398a[_0x425119(0x133)](_0x425119(0x14c));}catch(_0x3e88cc){console[_0x425119(0x121)](_0x3e88cc),_0x12398a[_0x425119(0x187)](0xc8)[_0x425119(0x144)]({'message':_0x3e88cc[_0x425119(0x18d)]});}}),router[a0_0x359a88(0x12e)](a0_0x359a88(0x15c),auth,async(_0x5bdbaa,_0x500df0)=>{var _0xf22664=a0_0x359a88;try{const {username:_0x3257c0,email:_0x50a6bc,role:_0x25f3c7}=_0x5bdbaa[_0xf22664(0x139)],_0x1830eb=_0x5bdbaa[_0xf22664(0x139)],_0x5cf4b8=await profile[_0xf22664(0x14b)]({'email':_0x1830eb[_0xf22664(0x13d)]}),_0x59eaf3=await master_shop[_0xf22664(0x164)]();console[_0xf22664(0x121)](_0xf22664(0x16d),_0x59eaf3);const _0x52ced7=_0x5bdbaa['params']['id'],_0x5433d9=await purchases_return['findById'](_0x52ced7);console[_0xf22664(0x121)](_0x5433d9);const _0x3d4afe=await suppliers[_0xf22664(0x14b)]({'name':_0x5433d9['suppliers']});console[_0xf22664(0x121)](_0x3d4afe);if(_0x59eaf3[0x0][_0xf22664(0x13e)]==_0xf22664(0x17a)){var _0x531bea=users[_0xf22664(0x14f)];console['log'](_0x531bea);}else{if(_0x59eaf3[0x0]['language']==_0xf22664(0x154))var _0x531bea=users[_0xf22664(0x154)];else{if(_0x59eaf3[0x0][_0xf22664(0x13e)]==_0xf22664(0x114))var _0x531bea=users[_0xf22664(0x114)];else{if(_0x59eaf3[0x0][_0xf22664(0x13e)]==_0xf22664(0x11e))var _0x531bea=users[_0xf22664(0x11e)];else{if(_0x59eaf3[0x0][_0xf22664(0x13e)]=='French')var _0x531bea=users[_0xf22664(0x152)];else{if(_0x59eaf3[0x0]['language']==_0xf22664(0x15d))var _0x531bea=users[_0xf22664(0x13a)];else{if(_0x59eaf3[0x0][_0xf22664(0x13e)]==_0xf22664(0x17b))var _0x531bea=users['Chinese'];else{if(_0x59eaf3[0x0]['language']==_0xf22664(0x11b))var _0x531bea=users[_0xf22664(0x128)];}}}}}}}_0x500df0[_0xf22664(0x118)](_0xf22664(0x122),{'success':_0x5bdbaa['flash'](_0xf22664(0x175)),'errors':_0x5bdbaa['flash'](_0xf22664(0x163)),'role':_0x1830eb,'profile':_0x5cf4b8,'master_shop':_0x59eaf3,'supplier':_0x3d4afe,'purchase':_0x5433d9,'language':_0x531bea});}catch(_0x47610d){console['log'](_0x47610d);}}),router[a0_0x359a88(0x179)]('/receive_payment/:id',auth,async(_0x4b39bf,_0x582325)=>{var _0x3315c5=a0_0x359a88;try{const _0x3d9971=_0x4b39bf[_0x3315c5(0x18c)]['id'],{invoice:_0x4d92dd,suppliers:_0x384460,receivable_amount:_0x18a0ad,received_amount:_0x1e3ca3}=_0x4b39bf['body'],_0x391d04=await purchases_return['findById'](_0x3d9971);console[_0x3315c5(0x121)](_0x391d04);var _0x4c37e2=_0x18a0ad-_0x1e3ca3;console[_0x3315c5(0x121)](_0x1e3ca3),_0x391d04[_0x3315c5(0x16b)]=parseFloat(_0x1e3ca3)+parseFloat(_0x391d04['received']),_0x391d04[_0x3315c5(0x13f)]=_0x4c37e2,console['log'](_0x391d04);const _0x5e7a84=await _0x391d04[_0x3315c5(0x135)](),_0x5b10d4=await s_payment_data['findOne']({'invoice':_0x4b39bf[_0x3315c5(0x177)]['invoice'],'reason':'Purchase\x20Return'});_0x5b10d4[_0x3315c5(0x12d)]=_0x4c37e2,await _0x5b10d4[_0x3315c5(0x135)]();let _0x364bfa=new Date(),_0x3e21cd=('0'+_0x364bfa[_0x3315c5(0x111)]())[_0x3315c5(0x188)](-0x2),_0x251519=('0'+(_0x364bfa[_0x3315c5(0x174)]()+0x1))[_0x3315c5(0x188)](-0x2),_0x2be75c=_0x364bfa[_0x3315c5(0x162)](),_0x27eeb4=_0x2be75c+'-'+_0x251519+'-'+_0x3e21cd;const _0x25d12=new suppliers_payment({'invoice':_0x4d92dd,'date':_0x2be75c+'-'+_0x251519+'-'+_0x3e21cd,'suppliers':_0x384460,'reason':_0x3315c5(0x13c),'amount':_0x1e3ca3}),_0x4b4dff=await _0x25d12[_0x3315c5(0x135)]();_0x4b39bf['flash'](_0x3315c5(0x175),_0x3315c5(0x17e)),_0x582325[_0x3315c5(0x133)](_0x3315c5(0x14c));}catch(_0x5b208e){console['log'](_0x5b208e);}}),module['exports']=router;