function a0_0x59ed(_0x5b5255,_0x3bf5c5){var _0x2a4323=a0_0x2a43();return a0_0x59ed=function(_0x59edfa,_0x51a908){_0x59edfa=_0x59edfa-0x186;var _0x9b1bfd=_0x2a4323[_0x59edfa];return _0x9b1bfd;},a0_0x59ed(_0x5b5255,_0x3bf5c5);}var a0_0x1e487d=a0_0x59ed;(function(_0x93e0e6,_0x5f2208){var _0x16ed6e=a0_0x59ed,_0x99e18e=_0x93e0e6();while(!![]){try{var _0x29e9db=-parseInt(_0x16ed6e(0x201))/0x1*(parseInt(_0x16ed6e(0x19d))/0x2)+parseInt(_0x16ed6e(0x1d0))/0x3+-parseInt(_0x16ed6e(0x18a))/0x4*(-parseInt(_0x16ed6e(0x1d5))/0x5)+-parseInt(_0x16ed6e(0x191))/0x6+parseInt(_0x16ed6e(0x196))/0x7*(-parseInt(_0x16ed6e(0x1a4))/0x8)+-parseInt(_0x16ed6e(0x1dc))/0x9*(-parseInt(_0x16ed6e(0x204))/0xa)+parseInt(_0x16ed6e(0x19f))/0xb*(parseInt(_0x16ed6e(0x1d4))/0xc);if(_0x29e9db===_0x5f2208)break;else _0x99e18e['push'](_0x99e18e['shift']());}catch(_0x213680){_0x99e18e['push'](_0x99e18e['shift']());}}}(a0_0x2a43,0x689b9));const express=require(a0_0x1e487d(0x1b1)),app=express(),router=express[a0_0x1e487d(0x190)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x1e487d(0x1e3)),users=require(a0_0x1e487d(0x1ae));function a0_0x2a43(){var _0x3cae78=['57064pHCEiR','product_stock','$product_details.bay','body','email','Return\x20Goods','$return_product.total','1258ApptBz','warehouse_name','11TolCNY','Purchase\x20Return','old_warehouse_data','json','product_code','472OSayAQ','Hindi','/purchases_return/view','stock_data','$received','/receive_payment/:id','purchases_return','save','note','primary_code','../public/language/languages.json','$note','getFullYear','express','user','English\x20(US)','getMonth','$invoice','$name','room','$product_details.product_stock','isle','/view/:id','findById','level','success','amount','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','return_qty','German','status','Portuguese\x20(BR)','/view','to_Room_name','find','return_purchase_edit','supplier_docs','stocks','due_amount','exports','$date','language','master','post','1833972vHXRBK','purchase_quantity','foreach\x20newproduct','type','2306508xvLUIP','130TbIszz','$product_details.product_name','$product_details.secondary_code','$product_details.bin','purchase\x20return\x20successfully','return_product','final','936315eIGyNo','name','back','$return_product.product_name','invoice','suppliers','to_warehouse_name','../middleware/auth','slice','$product_details.type','aggregate','Portuguese','map','Arabic\x20(ae)','Chinese','primary_code_hide','render','secondary_code_hide','product_code_hide','$discount','received','English','stock_quantity','product_details.return_qtyproduct_details.return_qty','return_purchase_invoice','Spanish','French','pallet','log','$total_amount','bay','$product_details.storage','secondary_code','payment\x20successfull','product_details','Raw\x20Materials','$supplier_docs.mobile','619WkWAWh','redirect','product_name','50PyWBtX','to_room','bin','errors','$supplier_docs.email','$supplier_docs.address','string','floorlevel','$warehouse_name','82844iZbIzy','Enabled','$supplier_docs','get','$return_product','types','Router','3380412KUPtzw','flash','findOne','forEach','params'];a0_0x2a43=function(){return _0x3cae78;};return a0_0x2a43();}router[a0_0x1e487d(0x18d)](a0_0x1e487d(0x1c4),auth,async(_0x5d01b6,_0x332892)=>{var _0x1b761a=a0_0x1e487d;try{const {username:_0x619ab,email:_0x578c2e,role:_0x4c6851}=_0x5d01b6[_0x1b761a(0x1b2)],_0x196638=_0x5d01b6[_0x1b761a(0x1b2)],_0x568651=await profile[_0x1b761a(0x193)]({'email':_0x196638[_0x1b761a(0x19a)]}),_0x98ee9f=await master_shop[_0x1b761a(0x1c6)]();console['log'](_0x1b761a(0x1ce),_0x98ee9f);const _0x42eef3=await purchases_return[_0x1b761a(0x1e6)]([{'$lookup':{'from':_0x1b761a(0x1e1),'localField':_0x1b761a(0x1e1),'foreignField':_0x1b761a(0x1dd),'as':_0x1b761a(0x1c8)}},{'$unwind':_0x1b761a(0x18e)},{'$unwind':_0x1b761a(0x18c)},{'$group':{'_id':'$_id','invoice':{'$first':_0x1b761a(0x1b5)},'date':{'$first':_0x1b761a(0x1cc)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x1b761a(0x189)},'product_name':{'$first':_0x1b761a(0x1df)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':'$return_product.price'},'total':{'$sum':_0x1b761a(0x19c)},'note':{'$first':_0x1b761a(0x1af)},'total_amount':{'$first':_0x1b761a(0x1f9)},'discount':{'$first':_0x1b761a(0x1ef)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x1b761a(0x1a8)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x1b761a(0x200)},'email':{'$first':_0x1b761a(0x208)},'address':{'$first':_0x1b761a(0x186)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x1b761a(0x1f8)](_0x42eef3);if(_0x98ee9f[0x0][_0x1b761a(0x1cd)]==_0x1b761a(0x1b3)){var _0x5ee95b=users[_0x1b761a(0x1f1)];console[_0x1b761a(0x1f8)](_0x5ee95b);}else{if(_0x98ee9f[0x0][_0x1b761a(0x1cd)]==_0x1b761a(0x1a5))var _0x5ee95b=users[_0x1b761a(0x1a5)];else{if(_0x98ee9f[0x0][_0x1b761a(0x1cd)]==_0x1b761a(0x1c1))var _0x5ee95b=users[_0x1b761a(0x1c1)];else{if(_0x98ee9f[0x0][_0x1b761a(0x1cd)]==_0x1b761a(0x1f5))var _0x5ee95b=users[_0x1b761a(0x1f5)];else{if(_0x98ee9f[0x0]['language']==_0x1b761a(0x1f6))var _0x5ee95b=users['French'];else{if(_0x98ee9f[0x0]['language']==_0x1b761a(0x1c3))var _0x5ee95b=users['Portuguese'];else{if(_0x98ee9f[0x0][_0x1b761a(0x1cd)]==_0x1b761a(0x1ea))var _0x5ee95b=users[_0x1b761a(0x1ea)];else{if(_0x98ee9f[0x0][_0x1b761a(0x1cd)]=='Arabic\x20(ae)')var _0x5ee95b=users['Arabic'];}}}}}}}_0x332892[_0x1b761a(0x1ec)](_0x1b761a(0x1aa),{'success':_0x5d01b6[_0x1b761a(0x192)](_0x1b761a(0x1bd)),'errors':_0x5d01b6[_0x1b761a(0x192)](_0x1b761a(0x207)),'role':_0x196638,'profile':_0x568651,'master_shop':_0x98ee9f,'user':_0x42eef3,'language':_0x5ee95b});}catch(_0x404e63){console[_0x1b761a(0x1f8)](_0x404e63);}}),router[a0_0x1e487d(0x18d)](a0_0x1e487d(0x1ba),auth,async(_0x188e46,_0x4f48ea)=>{var _0x103453=a0_0x1e487d;try{const {username:_0x5ba96a,email:_0x18ecc3,role:_0x5d1584}=_0x188e46[_0x103453(0x1b2)],_0x530a27=_0x188e46['user'],_0x5f0194=await profile[_0x103453(0x193)]({'email':_0x530a27[_0x103453(0x19a)]}),_0x392540=await product[_0x103453(0x1c6)]({}),_0x2a11ed=await master_shop['find']();console[_0x103453(0x1f8)](_0x103453(0x1ce),_0x2a11ed),console['log'](_0x188e46[_0x103453(0x199)]);const _0x477c59=_0x188e46[_0x103453(0x195)]['id'],_0x459244=await purchases_return[_0x103453(0x1bb)](_0x477c59);console[_0x103453(0x1f8)](_0x459244);const _0xa2de9e=await warehouse[_0x103453(0x1e6)]([{'$match':{'name':_0x459244[_0x103453(0x19e)],'room':_0x459244[_0x103453(0x1b7)]}},{'$unwind':'$product_details'},{'$group':{'_id':'$product_details._id','name':{'$first':_0x103453(0x1d6)},'product_stock':{'$first':_0x103453(0x1b8)},'bay':{'$first':_0x103453(0x198)},'bin':{'$first':_0x103453(0x1d8)},'type':{'$first':_0x103453(0x1e5)},'floorlevel':{'$first':'$product_details.floorlevel'},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0x103453(0x1d7)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':_0x103453(0x1fb)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x103453(0x18b),'name':_0x103453(0x19b),'warehouse_category':_0x103453(0x1ff)}},{'$group':{'_id':'$name','name':{'$first':_0x103453(0x1b6)}}},{'$sort':{'name':0x1}}]),console[_0x103453(0x1f8)](_0x103453(0x1a7),_0xa2de9e);if(_0x2a11ed[0x0]['language']=='English\x20(US)'){var _0x4d485a=users['English'];console[_0x103453(0x1f8)](_0x4d485a);}else{if(_0x2a11ed[0x0]['language']==_0x103453(0x1a5))var _0x4d485a=users[_0x103453(0x1a5)];else{if(_0x2a11ed[0x0][_0x103453(0x1cd)]=='German')var _0x4d485a=users[_0x103453(0x1c1)];else{if(_0x2a11ed[0x0][_0x103453(0x1cd)]==_0x103453(0x1f5))var _0x4d485a=users[_0x103453(0x1f5)];else{if(_0x2a11ed[0x0][_0x103453(0x1cd)]=='French')var _0x4d485a=users['French'];else{if(_0x2a11ed[0x0]['language']==_0x103453(0x1c3))var _0x4d485a=users[_0x103453(0x1e7)];else{if(_0x2a11ed[0x0][_0x103453(0x1cd)]==_0x103453(0x1ea))var _0x4d485a=users[_0x103453(0x1ea)];else{if(_0x2a11ed[0x0][_0x103453(0x1cd)]==_0x103453(0x1e9))var _0x4d485a=users['Arabic'];}}}}}}}_0x4f48ea[_0x103453(0x1ec)](_0x103453(0x1c7),{'success':_0x188e46[_0x103453(0x192)](_0x103453(0x1bd)),'errors':_0x188e46[_0x103453(0x192)](_0x103453(0x207)),'role':_0x530a27,'master_shop':_0x2a11ed,'profile':_0x5f0194,'user':_0x459244,'stock':_0xa2de9e,'product':_0x392540,'language':_0x4d485a,'warehouse':warehouse_data});}catch(_0x47ea7e){console[_0x103453(0x1f8)](_0x47ea7e);}}),router[a0_0x1e487d(0x1cf)](a0_0x1e487d(0x1ba),auth,async(_0x366be8,_0x10cd7d)=>{var _0x38135d=a0_0x1e487d;try{const _0x37c9d7=_0x366be8[_0x38135d(0x195)]['id'];console['log'](_0x37c9d7);const _0x172b78=await purchases_return[_0x38135d(0x193)]({'invoice':_0x366be8['body'][_0x38135d(0x1e0)]});console['log']('old_data',_0x172b78);const _0x1620cd=await warehouse[_0x38135d(0x193)]({'name':_0x172b78['to_warehouse_name'],'room':_0x172b78[_0x38135d(0x205)]});console['log'](_0x38135d(0x1a1),_0x1620cd);const {invoice:_0x4ac49b,suppliers:_0x2d294d,date:_0x2ec315,warehouse_name:_0xcf9e0a,product_name:_0x1cfd12,purchase_quantity:_0xafcda9,stocks:_0x304f25,return_qty:_0x39fb33,note:_0x156ce1,Room_name:_0x3690de,level:_0x38438e,isle:_0x1cc753,pallet:_0x458847,to_warehouse_name:_0x54f2c9,to_Room_name:_0x4dc444}=_0x366be8[_0x38135d(0x199)];if(typeof _0x1cfd12==_0x38135d(0x187))var _0xa07a03=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x203)]],_0x22885a=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x1d1)]],_0x33d608=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x1c9)]],_0xe99475=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x1c0)]],_0x53297b=[_0x366be8[_0x38135d(0x199)]['level']],_0x130b84=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x1b9)]],_0x5866df=[_0x366be8['body'][_0x38135d(0x1f7)]],_0x1b6442=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x18f)]],_0x229d32=[_0x366be8['body'][_0x38135d(0x1ee)]],_0x555f1a=[_0x366be8[_0x38135d(0x199)][_0x38135d(0x1eb)]],_0x465ae4=[_0x366be8['body'][_0x38135d(0x1ed)]];else var _0xa07a03=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x203)]],_0x22885a=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1d1)]],_0x33d608=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1c9)]],_0xe99475=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1c0)]],_0x53297b=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1bc)]],_0x130b84=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1b9)]],_0x5866df=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1f7)]],_0x229d32=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1ee)]],_0x555f1a=[..._0x366be8['body']['primary_code_hide']],_0x465ae4=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x1ed)]],_0x1b6442=[..._0x366be8[_0x38135d(0x199)][_0x38135d(0x18f)]];const _0xec7683=_0xa07a03['map'](_0x3d9193=>{return _0x3d9193={'product_name':_0x3d9193};});_0x22885a[_0x38135d(0x194)]((_0x5a4ccb,_0x57b933)=>{var _0x4742e3=_0x38135d;_0xec7683[_0x57b933][_0x4742e3(0x1d1)]=_0x5a4ccb;}),_0x33d608['forEach']((_0x614b29,_0x33cef4)=>{var _0x430a97=_0x38135d;_0xec7683[_0x33cef4][_0x430a97(0x1f2)]=_0x614b29;}),_0xe99475[_0x38135d(0x194)]((_0x44d671,_0x2fc44b)=>{var _0x2823a2=_0x38135d;_0xec7683[_0x2fc44b][_0x2823a2(0x1c0)]=_0x44d671;}),_0x53297b[_0x38135d(0x194)]((_0x153d13,_0x116f79)=>{var _0x12e063=_0x38135d;_0xec7683[_0x116f79][_0x12e063(0x1fa)]=_0x153d13;}),_0x130b84['forEach']((_0x30d526,_0x3add76)=>{var _0x39685a=_0x38135d;_0xec7683[_0x3add76][_0x39685a(0x206)]=_0x30d526;}),_0x5866df[_0x38135d(0x194)]((_0x392a24,_0x585c99)=>{var _0x3bf910=_0x38135d;_0xec7683[_0x585c99][_0x3bf910(0x188)]=_0x392a24;}),_0x229d32[_0x38135d(0x194)]((_0x102148,_0x59728b)=>{var _0x5b6316=_0x38135d;_0xec7683[_0x59728b][_0x5b6316(0x1a3)]=_0x102148;}),_0x555f1a['forEach']((_0x201ac8,_0x81f9c2)=>{var _0x2fa9f7=_0x38135d;_0xec7683[_0x81f9c2][_0x2fa9f7(0x1ad)]=_0x201ac8;}),_0x465ae4[_0x38135d(0x194)]((_0x6d8070,_0x811d49)=>{var _0x4202c3=_0x38135d;_0xec7683[_0x811d49][_0x4202c3(0x1fc)]=_0x6d8070;}),_0x1b6442[_0x38135d(0x194)]((_0x176012,_0x3bd847)=>{_0xec7683[_0x3bd847]['type']=_0x176012;});var _0x127396=0x0;_0xec7683[_0x38135d(0x194)](_0x15f74a=>{var _0x3b6a4d=_0x38135d;console[_0x3b6a4d(0x1f8)](_0x3b6a4d(0x1d2),_0x15f74a),(parseInt(_0x15f74a[_0x3b6a4d(0x1d1)])<parseInt(_0x15f74a['return_qty'])||parseInt(_0x15f74a[_0x3b6a4d(0x1f2)])<parseInt(_0x15f74a['return_qty'])||parseInt(_0x15f74a['return_qty'])==0x0)&&_0x127396++;});if(_0x127396!=0x0)return _0x366be8['flash'](_0x38135d(0x207),_0x38135d(0x1bf)),_0x10cd7d[_0x38135d(0x202)](_0x38135d(0x1de));_0x172b78[_0x38135d(0x1da)]['forEach'](_0x1a1c08=>{var _0x3a485=_0x38135d;const _0x51805a=_0x1620cd['product_details'][_0x3a485(0x1e8)](_0x5e4029=>{var _0x3dc8ea=_0x3a485;_0x5e4029[_0x3dc8ea(0x203)]==_0x1a1c08[_0x3dc8ea(0x203)]&&_0x5e4029['floorlevel']==_0x1a1c08[_0x3dc8ea(0x188)]&&_0x5e4029['type']==_0x1a1c08[_0x3dc8ea(0x1d3)]&&_0x5e4029[_0x3dc8ea(0x206)]==_0x1a1c08[_0x3dc8ea(0x206)]&&_0x5e4029[_0x3dc8ea(0x1fa)]==_0x1a1c08[_0x3dc8ea(0x1fa)]&&(_0x5e4029['product_stock']=parseInt(_0x5e4029['product_stock'])+parseInt(_0x1a1c08[_0x3dc8ea(0x1c0)]));});}),console['log'](_0x38135d(0x1a1),_0x1620cd),await _0x1620cd[_0x38135d(0x1ab)](),_0x172b78['invoice']=_0x4ac49b,_0x172b78[_0x38135d(0x1e1)]=_0x2d294d,_0x172b78['date']=_0x2ec315,_0x172b78[_0x38135d(0x19e)]=_0xcf9e0a,_0x172b78[_0x38135d(0x1da)]=_0xec7683,_0x172b78[_0x38135d(0x1ac)]=_0x156ce1,_0x172b78['room']=_0x3690de,_0x172b78[_0x38135d(0x1e2)]=_0x54f2c9,_0x172b78[_0x38135d(0x205)]=_0x4dc444;const _0x1e0e69=await _0x172b78[_0x38135d(0x1ab)](),_0x9673ea=await purchases_return[_0x38135d(0x193)]({'invoice':_0x366be8[_0x38135d(0x199)][_0x38135d(0x1e0)]}),_0x693c60=await warehouse['findOne']({'name':_0x366be8[_0x38135d(0x199)]['to_warehouse_name'],'room':_0x366be8['body'][_0x38135d(0x1c5)]});_0x9673ea[_0x38135d(0x1da)][_0x38135d(0x194)](_0x2aec71=>{var _0x5afe4a=_0x38135d;_0x693c60[_0x5afe4a(0x1fe)]['map'](_0x4ff420=>{var _0x23a24f=_0x5afe4a;_0x4ff420[_0x23a24f(0x203)]==_0x2aec71['product_name']&&_0x4ff420[_0x23a24f(0x1f7)]==_0x2aec71['pallet']&&(_0x4ff420[_0x23a24f(0x197)]=parseInt(_0x4ff420[_0x23a24f(0x197)])-parseInt(_0x2aec71[_0x23a24f(0x1c0)]),console[_0x23a24f(0x1f8)](_0x23a24f(0x1f3),_0x2aec71['return_qty']));});}),console[_0x38135d(0x1f8)](_0x38135d(0x1db),_0x693c60),await _0x693c60['save']();const _0x5437b1=await s_payment_data[_0x38135d(0x193)]({'invoice':_0x366be8[_0x38135d(0x199)]['invoice'],'reason':_0x38135d(0x1a0)});await _0x5437b1[_0x38135d(0x1ab)](),_0x366be8['flash'](_0x38135d(0x1bd),_0x38135d(0x1d9)),_0x10cd7d['redirect']('/purchases_return/view');}catch(_0x29cd91){console[_0x38135d(0x1f8)](_0x29cd91),_0x10cd7d[_0x38135d(0x1c2)](0xc8)[_0x38135d(0x1a2)]({'message':_0x29cd91['message']});}}),router['get']('/invoice/:id',auth,async(_0x2c8b86,_0x1a1a51)=>{var _0x1da186=a0_0x1e487d;try{const {username:_0x583b94,email:_0x2f9c33,role:_0x110bd2}=_0x2c8b86[_0x1da186(0x1b2)],_0xf4ecf4=_0x2c8b86[_0x1da186(0x1b2)],_0x57afa2=await profile['findOne']({'email':_0xf4ecf4[_0x1da186(0x19a)]}),_0x4022a5=await master_shop[_0x1da186(0x1c6)]();console[_0x1da186(0x1f8)](_0x1da186(0x1ce),_0x4022a5);const _0x36bfba=_0x2c8b86[_0x1da186(0x195)]['id'],_0x5db9ed=await purchases_return[_0x1da186(0x1bb)](_0x36bfba);console[_0x1da186(0x1f8)](_0x5db9ed);const _0x38b88a=await suppliers[_0x1da186(0x193)]({'name':_0x5db9ed[_0x1da186(0x1e1)]});console[_0x1da186(0x1f8)](_0x38b88a);if(_0x4022a5[0x0][_0x1da186(0x1cd)]=='English\x20(US)'){var _0x188e3b=users[_0x1da186(0x1f1)];console[_0x1da186(0x1f8)](_0x188e3b);}else{if(_0x4022a5[0x0][_0x1da186(0x1cd)]=='Hindi')var _0x188e3b=users[_0x1da186(0x1a5)];else{if(_0x4022a5[0x0]['language']==_0x1da186(0x1c1))var _0x188e3b=users[_0x1da186(0x1c1)];else{if(_0x4022a5[0x0][_0x1da186(0x1cd)]==_0x1da186(0x1f5))var _0x188e3b=users[_0x1da186(0x1f5)];else{if(_0x4022a5[0x0][_0x1da186(0x1cd)]==_0x1da186(0x1f6))var _0x188e3b=users[_0x1da186(0x1f6)];else{if(_0x4022a5[0x0][_0x1da186(0x1cd)]=='Portuguese\x20(BR)')var _0x188e3b=users[_0x1da186(0x1e7)];else{if(_0x4022a5[0x0][_0x1da186(0x1cd)]=='Chinese')var _0x188e3b=users[_0x1da186(0x1ea)];else{if(_0x4022a5[0x0][_0x1da186(0x1cd)]==_0x1da186(0x1e9))var _0x188e3b=users['Arabic'];}}}}}}}_0x1a1a51[_0x1da186(0x1ec)](_0x1da186(0x1f4),{'success':_0x2c8b86[_0x1da186(0x192)](_0x1da186(0x1bd)),'errors':_0x2c8b86[_0x1da186(0x192)](_0x1da186(0x207)),'role':_0xf4ecf4,'profile':_0x57afa2,'master_shop':_0x4022a5,'supplier':_0x38b88a,'purchase':_0x5db9ed,'language':_0x188e3b});}catch(_0x5b536a){console[_0x1da186(0x1f8)](_0x5b536a);}}),router[a0_0x1e487d(0x1cf)](a0_0x1e487d(0x1a9),auth,async(_0x3a1afc,_0x1bdabf)=>{var _0x56f54b=a0_0x1e487d;try{const _0x1c2cc5=_0x3a1afc[_0x56f54b(0x195)]['id'],{invoice:_0x14620c,suppliers:_0x2331b8,receivable_amount:_0x48be3a,received_amount:_0x4714f7}=_0x3a1afc['body'],_0x2f2328=await purchases_return[_0x56f54b(0x1bb)](_0x1c2cc5);console[_0x56f54b(0x1f8)](_0x2f2328);var _0x18ea45=_0x48be3a-_0x4714f7;console[_0x56f54b(0x1f8)](_0x4714f7),_0x2f2328['received']=parseFloat(_0x4714f7)+parseFloat(_0x2f2328[_0x56f54b(0x1f0)]),_0x2f2328[_0x56f54b(0x1ca)]=_0x18ea45,console['log'](_0x2f2328);const _0x392e03=await _0x2f2328['save'](),_0x45860d=await s_payment_data[_0x56f54b(0x193)]({'invoice':_0x3a1afc[_0x56f54b(0x199)][_0x56f54b(0x1e0)],'reason':_0x56f54b(0x1a0)});_0x45860d[_0x56f54b(0x1be)]=_0x18ea45,await _0x45860d[_0x56f54b(0x1ab)]();let _0x57c2b9=new Date(),_0x52d72e=('0'+_0x57c2b9['getDate']())['slice'](-0x2),_0x16317d=('0'+(_0x57c2b9[_0x56f54b(0x1b4)]()+0x1))[_0x56f54b(0x1e4)](-0x2),_0x1ff002=_0x57c2b9[_0x56f54b(0x1b0)](),_0xa5cf01=_0x1ff002+'-'+_0x16317d+'-'+_0x52d72e;const _0x58f19f=new suppliers_payment({'invoice':_0x14620c,'date':_0x1ff002+'-'+_0x16317d+'-'+_0x52d72e,'suppliers':_0x2331b8,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x4714f7}),_0x396125=await _0x58f19f[_0x56f54b(0x1ab)]();_0x3a1afc[_0x56f54b(0x192)](_0x56f54b(0x1bd),_0x56f54b(0x1fd)),_0x1bdabf[_0x56f54b(0x202)](_0x56f54b(0x1a6));}catch(_0x271b83){console[_0x56f54b(0x1f8)](_0x271b83);}}),module[a0_0x1e487d(0x1cb)]=router;