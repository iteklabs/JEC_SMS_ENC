var a0_0x209b44=a0_0x32a9;function a0_0x32a9(_0x2e381f,_0x4f3c67){var _0xe05f3d=a0_0xe05f();return a0_0x32a9=function(_0x32a9bd,_0x2df5d5){_0x32a9bd=_0x32a9bd-0x89;var _0x12ff16=_0xe05f3d[_0x32a9bd];return _0x12ff16;},a0_0x32a9(_0x2e381f,_0x4f3c67);}(function(_0x5685f3,_0x328d2b){var _0x27bb9a=a0_0x32a9,_0x445dd5=_0x5685f3();while(!![]){try{var _0x4da6ce=-parseInt(_0x27bb9a(0x109))/0x1+parseInt(_0x27bb9a(0xa8))/0x2*(parseInt(_0x27bb9a(0xf6))/0x3)+parseInt(_0x27bb9a(0xe4))/0x4*(-parseInt(_0x27bb9a(0xcd))/0x5)+-parseInt(_0x27bb9a(0xec))/0x6*(-parseInt(_0x27bb9a(0x102))/0x7)+-parseInt(_0x27bb9a(0xde))/0x8*(parseInt(_0x27bb9a(0xbf))/0x9)+parseInt(_0x27bb9a(0xc5))/0xa*(parseInt(_0x27bb9a(0x9a))/0xb)+parseInt(_0x27bb9a(0xd2))/0xc;if(_0x4da6ce===_0x328d2b)break;else _0x445dd5['push'](_0x445dd5['shift']());}catch(_0x53b8da){_0x445dd5['push'](_0x445dd5['shift']());}}}(a0_0xe05f,0x3eea2));const express=require(a0_0x209b44(0xb7)),app=express(),router=express[a0_0x209b44(0xaa)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x209b44(0xfb)),auth=require(a0_0x209b44(0xa7)),users=require(a0_0x209b44(0x103));function a0_0xe05f(){var _0x2b5759=['map','$product_details','flash','due_amount','success','English\x20(US)','$_id','/view/:id','suppliers','$invoice','../middleware/auth','166614juOKrP','English','Router','to_warehouse_name','$name','level','$discount','primary_code_hide','pallet','email','stocks','Portuguese\x20(BR)','foreach\x20newproduct','$product_details.type','$product_details.secondary_code','express','$due_amount','invoice','$product_details.product_code','$product_details.bin','/receive_payment/:id','return_purchase_edit','amount','1233wECkNJ','master','Hindi','purchase_quantity','$warehouse_name','getDate','425710yGBwMq','/purchases_return/view','old_warehouse_data','exports','Chinese','product_name','$supplier_docs.email','forEach','25iqKxjI','errors','product_code','type','note','14583444WyQmtq','$supplier_docs.address','$received','$return_product.price','message','Arabic','floorlevel','Received\x20For\x20Purchase\x20Return','/view','return_qty','post','$product_details.product_name','28488XeBUCh','Purchase\x20Return','log','payment\x20successfull','stock_data','slice','342092IFxTEg','Arabic\x20(ae)','findById','/invoice/:id','Spanish','purchase\x20return\x20successfully','to_Room_name','getFullYear','36UGefJr','primary_code','final','to_room','render','save','$supplier_docs','stock_quantity','German','$note','12vYyOGI','find','$return_product.total','Portuguese','user','../models/all_models','isle','product_stock','return_product','back','$product_details.primary_code','French','65212TblpMq','../public/language/languages.json','secondary_code_hide','$product_details.rack','product_code_hide','body','bin','473812jSNFYL','bay','$return_product.product_name','warehouse_name','language','get','$product_details.floorlevel','Enabled','received','room','redirect','findOne','aggregate','secondary_code','types','product_details','params','$suppliers','$return_product','name','11mZfSty','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','json'];a0_0xe05f=function(){return _0x2b5759;};return a0_0xe05f();}router[a0_0x209b44(0x8b)](a0_0x209b44(0xda),auth,async(_0x5ab9b1,_0x3f8164)=>{var _0x53b994=a0_0x209b44;try{const {username:_0xa492ed,email:_0x2d5055,role:_0x1a2a1c}=_0x5ab9b1[_0x53b994(0xfa)],_0x15522c=_0x5ab9b1[_0x53b994(0xfa)],_0x224573=await profile[_0x53b994(0x91)]({'email':_0x15522c[_0x53b994(0xb1)]}),_0x2bb957=await master_shop[_0x53b994(0xf7)]();console[_0x53b994(0xe0)](_0x53b994(0xc0),_0x2bb957);const _0xc39ef6=await purchases_return[_0x53b994(0x92)]([{'$lookup':{'from':'suppliers','localField':'suppliers','foreignField':_0x53b994(0x99),'as':'supplier_docs'}},{'$unwind':_0x53b994(0x98)},{'$unwind':_0x53b994(0xf2)},{'$group':{'_id':_0x53b994(0xa3),'invoice':{'$first':_0x53b994(0xa6)},'date':{'$first':'$date'},'suppliers':{'$first':_0x53b994(0x97)},'warehouse_name':{'$first':_0x53b994(0xc3)},'product_name':{'$first':_0x53b994(0x10b)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x53b994(0xd5)},'total':{'$sum':_0x53b994(0xf8)},'note':{'$first':_0x53b994(0xf5)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x53b994(0xae)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x53b994(0xd4)},'due_amount':{'$first':_0x53b994(0xb8)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x53b994(0xcb)},'address':{'$first':_0x53b994(0xd3)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console['log'](_0xc39ef6);if(_0x2bb957[0x0][_0x53b994(0x8a)]==_0x53b994(0xa2)){var _0x305e99=users[_0x53b994(0xa9)];console[_0x53b994(0xe0)](_0x305e99);}else{if(_0x2bb957[0x0][_0x53b994(0x8a)]=='Hindi')var _0x305e99=users['Hindi'];else{if(_0x2bb957[0x0][_0x53b994(0x8a)]==_0x53b994(0xf4))var _0x305e99=users[_0x53b994(0xf4)];else{if(_0x2bb957[0x0]['language']==_0x53b994(0xe8))var _0x305e99=users[_0x53b994(0xe8)];else{if(_0x2bb957[0x0][_0x53b994(0x8a)]==_0x53b994(0x101))var _0x305e99=users[_0x53b994(0x101)];else{if(_0x2bb957[0x0][_0x53b994(0x8a)]=='Portuguese\x20(BR)')var _0x305e99=users[_0x53b994(0xf9)];else{if(_0x2bb957[0x0][_0x53b994(0x8a)]==_0x53b994(0xc9))var _0x305e99=users[_0x53b994(0xc9)];else{if(_0x2bb957[0x0][_0x53b994(0x8a)]==_0x53b994(0xe5))var _0x305e99=users[_0x53b994(0xd7)];}}}}}}}_0x3f8164[_0x53b994(0xf0)]('purchases_return',{'success':_0x5ab9b1[_0x53b994(0x9f)]('success'),'errors':_0x5ab9b1[_0x53b994(0x9f)](_0x53b994(0xce)),'role':_0x15522c,'profile':_0x224573,'master_shop':_0x2bb957,'user':_0xc39ef6,'language':_0x305e99});}catch(_0x1b3547){console[_0x53b994(0xe0)](_0x1b3547);}}),router['get'](a0_0x209b44(0xa4),auth,async(_0x36dbe4,_0x4bda12)=>{var _0x18ba2d=a0_0x209b44;try{const {username:_0x23c43e,email:_0x4f11e4,role:_0xc413c9}=_0x36dbe4[_0x18ba2d(0xfa)],_0x3b270d=_0x36dbe4['user'],_0xd4cb73=await profile[_0x18ba2d(0x91)]({'email':_0x3b270d['email']}),_0x6e5461=await product[_0x18ba2d(0xf7)]({}),_0x2b8e0f=await master_shop[_0x18ba2d(0xf7)]();console['log'](_0x18ba2d(0xc0),_0x2b8e0f),console[_0x18ba2d(0xe0)](_0x36dbe4[_0x18ba2d(0x107)]);const _0x471d54=_0x36dbe4[_0x18ba2d(0x96)]['id'],_0x13c2cb=await purchases_return['findById'](_0x471d54);console[_0x18ba2d(0xe0)](_0x13c2cb);const _0x40065c=await warehouse['aggregate']([{'$match':{'name':_0x13c2cb[_0x18ba2d(0x89)],'room':_0x13c2cb['room']}},{'$unwind':_0x18ba2d(0x9e)},{'$group':{'_id':'$product_details._id','name':{'$first':_0x18ba2d(0xdd)},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x18ba2d(0xbb)},'type':{'$first':_0x18ba2d(0xb5)},'floorlevel':{'$first':_0x18ba2d(0x8c)},'primary_code':{'$first':_0x18ba2d(0x100)},'secondary_code':{'$first':_0x18ba2d(0xb6)},'product_code':{'$first':_0x18ba2d(0xba)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x18ba2d(0x105)}}}]);warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x18ba2d(0x8d),'name':'Return\x20Goods','warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x18ba2d(0xac),'name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]),console[_0x18ba2d(0xe0)](_0x18ba2d(0xe2),_0x40065c);if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0xa2)){var _0x1a356e=users['English'];console[_0x18ba2d(0xe0)](_0x1a356e);}else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0xc1))var _0x1a356e=users[_0x18ba2d(0xc1)];else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0xf4))var _0x1a356e=users['German'];else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0xe8))var _0x1a356e=users[_0x18ba2d(0xe8)];else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0x101))var _0x1a356e=users[_0x18ba2d(0x101)];else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0xb3))var _0x1a356e=users['Portuguese'];else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]==_0x18ba2d(0xc9))var _0x1a356e=users[_0x18ba2d(0xc9)];else{if(_0x2b8e0f[0x0][_0x18ba2d(0x8a)]=='Arabic\x20(ae)')var _0x1a356e=users[_0x18ba2d(0xd7)];}}}}}}}_0x4bda12[_0x18ba2d(0xf0)](_0x18ba2d(0xbd),{'success':_0x36dbe4['flash'](_0x18ba2d(0xa1)),'errors':_0x36dbe4[_0x18ba2d(0x9f)]('errors'),'role':_0x3b270d,'master_shop':_0x2b8e0f,'profile':_0xd4cb73,'user':_0x13c2cb,'stock':_0x40065c,'product':_0x6e5461,'language':_0x1a356e,'warehouse':warehouse_data});}catch(_0x3b19eb){console[_0x18ba2d(0xe0)](_0x3b19eb);}}),router[a0_0x209b44(0xdc)](a0_0x209b44(0xa4),auth,async(_0x435d73,_0x49889e)=>{var _0x5b6f62=a0_0x209b44;try{const _0x4294fe=_0x435d73[_0x5b6f62(0x96)]['id'];console['log'](_0x4294fe);const _0x49710f=await purchases_return[_0x5b6f62(0x91)]({'invoice':_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xb9)]});console[_0x5b6f62(0xe0)]('old_data',_0x49710f);const _0x148bb4=await warehouse[_0x5b6f62(0x91)]({'name':_0x49710f[_0x5b6f62(0xab)],'room':_0x49710f['to_room']});console['log']('old_warehouse_data',_0x148bb4);const {invoice:_0x594afe,suppliers:_0x59203c,date:_0x2d2113,warehouse_name:_0xe2a519,product_name:_0x67dc98,purchase_quantity:_0xbb56e6,stocks:_0xa66c80,return_qty:_0x357ce8,note:_0x14345a,Room_name:_0x27215e,level:_0x47cad5,isle:_0x501a81,pallet:_0x1e7b51,to_warehouse_name:_0x447620,to_Room_name:_0x4f51dd}=_0x435d73['body'];if(typeof _0x67dc98=='string')var _0x1103ed=[_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xca)]],_0x4134be=[_0x435d73['body'][_0x5b6f62(0xc2)]],_0x3c3263=[_0x435d73[_0x5b6f62(0x107)]['stocks']],_0x1ce791=[_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xdb)]],_0xe19af0=[_0x435d73[_0x5b6f62(0x107)]['level']],_0x39e3ab=[_0x435d73['body'][_0x5b6f62(0xfc)]],_0x3c20ec=[_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xb0)]],_0x196f39=[_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0x94)]],_0x5289a3=[_0x435d73['body'][_0x5b6f62(0x106)]],_0x361665=[_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xaf)]],_0x235337=[_0x435d73[_0x5b6f62(0x107)]['secondary_code_hide']];else var _0x1103ed=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xca)]],_0x4134be=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xc2)]],_0x3c3263=[..._0x435d73['body'][_0x5b6f62(0xb2)]],_0x1ce791=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xdb)]],_0xe19af0=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xad)]],_0x39e3ab=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xfc)]],_0x3c20ec=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xb0)]],_0x5289a3=[..._0x435d73[_0x5b6f62(0x107)]['product_code_hide']],_0x361665=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xaf)]],_0x235337=[..._0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0x104)]],_0x196f39=[..._0x435d73[_0x5b6f62(0x107)]['types']];const _0xdb4253=_0x1103ed[_0x5b6f62(0x9d)](_0x24c9c1=>{return _0x24c9c1={'product_name':_0x24c9c1};});_0x4134be[_0x5b6f62(0xcc)]((_0x51e09a,_0x2c245e)=>{var _0x386195=_0x5b6f62;_0xdb4253[_0x2c245e][_0x386195(0xc2)]=_0x51e09a;}),_0x3c3263['forEach']((_0x4cd28a,_0x51db14)=>{var _0x674686=_0x5b6f62;_0xdb4253[_0x51db14][_0x674686(0xf3)]=_0x4cd28a;}),_0x1ce791[_0x5b6f62(0xcc)]((_0x3275fb,_0x4b8657)=>{var _0x50876c=_0x5b6f62;_0xdb4253[_0x4b8657][_0x50876c(0xdb)]=_0x3275fb;}),_0xe19af0[_0x5b6f62(0xcc)]((_0x3a2b80,_0x49f36a)=>{var _0x12290b=_0x5b6f62;_0xdb4253[_0x49f36a][_0x12290b(0x10a)]=_0x3a2b80;}),_0x39e3ab[_0x5b6f62(0xcc)]((_0x33bd33,_0x200c19)=>{_0xdb4253[_0x200c19]['bin']=_0x33bd33;}),_0x3c20ec[_0x5b6f62(0xcc)]((_0x37eb7c,_0x49939d)=>{_0xdb4253[_0x49939d]['floorlevel']=_0x37eb7c;}),_0x5289a3['forEach']((_0x15ef40,_0x4dd01d)=>{var _0x4a5efe=_0x5b6f62;_0xdb4253[_0x4dd01d][_0x4a5efe(0xcf)]=_0x15ef40;}),_0x361665[_0x5b6f62(0xcc)]((_0x5941eb,_0x41009d)=>{var _0x3aa05f=_0x5b6f62;_0xdb4253[_0x41009d][_0x3aa05f(0xed)]=_0x5941eb;}),_0x235337[_0x5b6f62(0xcc)]((_0x163896,_0x6c7761)=>{var _0x1b5905=_0x5b6f62;_0xdb4253[_0x6c7761][_0x1b5905(0x93)]=_0x163896;}),_0x196f39[_0x5b6f62(0xcc)]((_0x41b163,_0x4b6501)=>{var _0x57a69d=_0x5b6f62;_0xdb4253[_0x4b6501][_0x57a69d(0xd0)]=_0x41b163;});var _0xe139ab=0x0;_0xdb4253[_0x5b6f62(0xcc)](_0x2e0b5e=>{var _0x2119d0=_0x5b6f62;console[_0x2119d0(0xe0)](_0x2119d0(0xb4),_0x2e0b5e),(parseInt(_0x2e0b5e[_0x2119d0(0xc2)])<parseInt(_0x2e0b5e['return_qty'])||parseInt(_0x2e0b5e['stock_quantity'])<parseInt(_0x2e0b5e[_0x2119d0(0xdb)])||parseInt(_0x2e0b5e['return_qty'])==0x0)&&_0xe139ab++;});if(_0xe139ab!=0x0)return _0x435d73['flash'](_0x5b6f62(0xce),_0x5b6f62(0x9b)),_0x49889e[_0x5b6f62(0x90)](_0x5b6f62(0xff));_0x49710f[_0x5b6f62(0xfe)][_0x5b6f62(0xcc)](_0x4eecfa=>{var _0x158516=_0x5b6f62;const _0x3d0ff2=_0x148bb4[_0x158516(0x95)][_0x158516(0x9d)](_0xa99682=>{var _0x196f58=_0x158516;_0xa99682[_0x196f58(0xca)]==_0x4eecfa['product_name']&&_0xa99682[_0x196f58(0xd8)]==_0x4eecfa[_0x196f58(0xd8)]&&_0xa99682[_0x196f58(0xd0)]==_0x4eecfa['type']&&_0xa99682[_0x196f58(0x108)]==_0x4eecfa[_0x196f58(0x108)]&&_0xa99682[_0x196f58(0x10a)]==_0x4eecfa['bay']&&(_0xa99682[_0x196f58(0xfd)]=parseInt(_0xa99682['product_stock'])+parseInt(_0x4eecfa[_0x196f58(0xdb)]));});}),console[_0x5b6f62(0xe0)](_0x5b6f62(0xc7),_0x148bb4),await _0x148bb4['save'](),_0x49710f['invoice']=_0x594afe,_0x49710f[_0x5b6f62(0xa5)]=_0x59203c,_0x49710f['date']=_0x2d2113,_0x49710f[_0x5b6f62(0x89)]=_0xe2a519,_0x49710f['return_product']=_0xdb4253,_0x49710f[_0x5b6f62(0xd1)]=_0x14345a,_0x49710f[_0x5b6f62(0x8f)]=_0x27215e,_0x49710f['to_warehouse_name']=_0x447620,_0x49710f[_0x5b6f62(0xef)]=_0x4f51dd;const _0x492d3f=await _0x49710f[_0x5b6f62(0xf1)](),_0x4e1326=await purchases_return[_0x5b6f62(0x91)]({'invoice':_0x435d73[_0x5b6f62(0x107)]['invoice']}),_0x158832=await warehouse[_0x5b6f62(0x91)]({'name':_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xab)],'room':_0x435d73[_0x5b6f62(0x107)][_0x5b6f62(0xea)]});_0x4e1326['return_product'][_0x5b6f62(0xcc)](_0x5634ad=>{var _0x28458d=_0x5b6f62;_0x158832[_0x28458d(0x95)][_0x28458d(0x9d)](_0x375178=>{var _0x3f9786=_0x28458d;_0x375178[_0x3f9786(0xca)]==_0x5634ad[_0x3f9786(0xca)]&&_0x375178['pallet']==_0x5634ad[_0x3f9786(0xb0)]&&(_0x375178[_0x3f9786(0xfd)]=parseInt(_0x375178[_0x3f9786(0xfd)])-parseInt(_0x5634ad[_0x3f9786(0xdb)]),console['log']('product_details.return_qtyproduct_details.return_qty',_0x5634ad[_0x3f9786(0xdb)]));});}),console[_0x5b6f62(0xe0)](_0x5b6f62(0xee),_0x158832),await _0x158832['save']();const _0x5f363b=await s_payment_data[_0x5b6f62(0x91)]({'invoice':_0x435d73[_0x5b6f62(0x107)]['invoice'],'reason':_0x5b6f62(0xdf)});await _0x5f363b[_0x5b6f62(0xf1)](),_0x435d73[_0x5b6f62(0x9f)](_0x5b6f62(0xa1),_0x5b6f62(0xe9)),_0x49889e[_0x5b6f62(0x90)](_0x5b6f62(0xc6));}catch(_0x24ef78){console[_0x5b6f62(0xe0)](_0x24ef78),_0x49889e['status'](0xc8)[_0x5b6f62(0x9c)]({'message':_0x24ef78[_0x5b6f62(0xd6)]});}}),router[a0_0x209b44(0x8b)](a0_0x209b44(0xe7),auth,async(_0x46e27a,_0x5ac838)=>{var _0x5c597b=a0_0x209b44;try{const {username:_0x5a6297,email:_0x228e12,role:_0x25454d}=_0x46e27a[_0x5c597b(0xfa)],_0x4b5429=_0x46e27a[_0x5c597b(0xfa)],_0x54b9d6=await profile[_0x5c597b(0x91)]({'email':_0x4b5429['email']}),_0x3002ea=await master_shop[_0x5c597b(0xf7)]();console[_0x5c597b(0xe0)]('master',_0x3002ea);const _0x5df862=_0x46e27a[_0x5c597b(0x96)]['id'],_0x8a862a=await purchases_return[_0x5c597b(0xe6)](_0x5df862);console[_0x5c597b(0xe0)](_0x8a862a);const _0x30edee=await suppliers[_0x5c597b(0x91)]({'name':_0x8a862a[_0x5c597b(0xa5)]});console[_0x5c597b(0xe0)](_0x30edee);if(_0x3002ea[0x0][_0x5c597b(0x8a)]==_0x5c597b(0xa2)){var _0x54a6b5=users['English'];console[_0x5c597b(0xe0)](_0x54a6b5);}else{if(_0x3002ea[0x0][_0x5c597b(0x8a)]==_0x5c597b(0xc1))var _0x54a6b5=users['Hindi'];else{if(_0x3002ea[0x0][_0x5c597b(0x8a)]=='German')var _0x54a6b5=users[_0x5c597b(0xf4)];else{if(_0x3002ea[0x0]['language']==_0x5c597b(0xe8))var _0x54a6b5=users[_0x5c597b(0xe8)];else{if(_0x3002ea[0x0][_0x5c597b(0x8a)]==_0x5c597b(0x101))var _0x54a6b5=users[_0x5c597b(0x101)];else{if(_0x3002ea[0x0]['language']==_0x5c597b(0xb3))var _0x54a6b5=users['Portuguese'];else{if(_0x3002ea[0x0][_0x5c597b(0x8a)]==_0x5c597b(0xc9))var _0x54a6b5=users[_0x5c597b(0xc9)];else{if(_0x3002ea[0x0]['language']==_0x5c597b(0xe5))var _0x54a6b5=users[_0x5c597b(0xd7)];}}}}}}}_0x5ac838['render']('return_purchase_invoice',{'success':_0x46e27a['flash']('success'),'errors':_0x46e27a[_0x5c597b(0x9f)](_0x5c597b(0xce)),'role':_0x4b5429,'profile':_0x54b9d6,'master_shop':_0x3002ea,'supplier':_0x30edee,'purchase':_0x8a862a,'language':_0x54a6b5});}catch(_0x586ad7){console[_0x5c597b(0xe0)](_0x586ad7);}}),router[a0_0x209b44(0xdc)](a0_0x209b44(0xbc),auth,async(_0x3ebc88,_0x3ec9b2)=>{var _0x36ee1d=a0_0x209b44;try{const _0x222131=_0x3ebc88[_0x36ee1d(0x96)]['id'],{invoice:_0x3aa0f1,suppliers:_0x151285,receivable_amount:_0x1df203,received_amount:_0x2fc994}=_0x3ebc88[_0x36ee1d(0x107)],_0x16aa19=await purchases_return['findById'](_0x222131);console[_0x36ee1d(0xe0)](_0x16aa19);var _0x58d651=_0x1df203-_0x2fc994;console['log'](_0x2fc994),_0x16aa19[_0x36ee1d(0x8e)]=parseFloat(_0x2fc994)+parseFloat(_0x16aa19[_0x36ee1d(0x8e)]),_0x16aa19[_0x36ee1d(0xa0)]=_0x58d651,console['log'](_0x16aa19);const _0xa0c936=await _0x16aa19[_0x36ee1d(0xf1)](),_0x1d3fab=await s_payment_data[_0x36ee1d(0x91)]({'invoice':_0x3ebc88[_0x36ee1d(0x107)][_0x36ee1d(0xb9)],'reason':'Purchase\x20Return'});_0x1d3fab[_0x36ee1d(0xbe)]=_0x58d651,await _0x1d3fab[_0x36ee1d(0xf1)]();let _0x53f985=new Date(),_0x5b36be=('0'+_0x53f985[_0x36ee1d(0xc4)]())['slice'](-0x2),_0x560e02=('0'+(_0x53f985['getMonth']()+0x1))[_0x36ee1d(0xe3)](-0x2),_0x441f1d=_0x53f985[_0x36ee1d(0xeb)](),_0x4614de=_0x441f1d+'-'+_0x560e02+'-'+_0x5b36be;const _0x2b47ba=new suppliers_payment({'invoice':_0x3aa0f1,'date':_0x441f1d+'-'+_0x560e02+'-'+_0x5b36be,'suppliers':_0x151285,'reason':_0x36ee1d(0xd9),'amount':_0x2fc994}),_0x27ffc6=await _0x2b47ba[_0x36ee1d(0xf1)]();_0x3ebc88[_0x36ee1d(0x9f)]('success',_0x36ee1d(0xe1)),_0x3ec9b2['redirect'](_0x36ee1d(0xc6));}catch(_0x18ee4e){console[_0x36ee1d(0xe0)](_0x18ee4e);}}),module[a0_0x209b44(0xc8)]=router;