const a0_0x2a5567=a0_0x46d2;function a0_0x3565(){const _0x2942a0=['Portuguese\x20(BR)','Hindi','params','/all_expenses/view','all','340518cDjzGM','German','2921624oarAFv','3LKtIaA','/view/add_expenses','countDocuments','get','Expenses\x20data\x20delete\x20successfully','16848hGKopi','find','expenses\x20data\x20update\x20successfully','exports','1246468DEsboX','language','render','/all_expenses/type','save','/type/:id','findByIdAndDelete','post','email','master','French','add_expenses','/type/delete/:id','user','/type','32930dZPnuw','Spanish','errors','express','1610XnUFTv','\x20expenses\x20is\x20alredy\x20added.\x20please\x20choose\x20another','\x20expenses\x20is\x20add\x20successfully','33942740YFyTla','log','/view/:id','redirect','findById','edit_expenses','Arabic\x20(ae)','150pzXSQP','flash','Arabic','English','English\x20(US)','toJSON','6090417HlrLIB','body','Portuguese','name','../public/language/languages.json','findOne','success','../models/all_models','expenses_type','Chinese'];a0_0x3565=function(){return _0x2942a0;};return a0_0x3565();}(function(_0x4c1424,_0x12a64d){const _0x34fb5f=a0_0x46d2,_0x550788=_0x4c1424();while(!![]){try{const _0x4ec277=-parseInt(_0x34fb5f(0x14c))/0x1+parseInt(_0x34fb5f(0x11a))/0x2*(-parseInt(_0x34fb5f(0x14f))/0x3)+-parseInt(_0x34fb5f(0x14e))/0x4+parseInt(_0x34fb5f(0x129))/0x5*(-parseInt(_0x34fb5f(0x137))/0x6)+-parseInt(_0x34fb5f(0x12d))/0x7*(parseInt(_0x34fb5f(0x116))/0x8)+-parseInt(_0x34fb5f(0x13d))/0x9+parseInt(_0x34fb5f(0x130))/0xa;if(_0x4ec277===_0x12a64d)break;else _0x550788['push'](_0x550788['shift']());}catch(_0x1b2ebc){_0x550788['push'](_0x550788['shift']());}}}(a0_0x3565,0x5b665));const express=require(a0_0x2a5567(0x12c)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,suppliers_payment,expenses_type,all_expenses}=require(a0_0x2a5567(0x144)),auth=require('../middleware/auth'),users=require(a0_0x2a5567(0x141));function a0_0x46d2(_0x170b3e,_0x41dc13){const _0x356529=a0_0x3565();return a0_0x46d2=function(_0x46d25f,_0x433cae){_0x46d25f=_0x46d25f-0x112;let _0x37d2ca=_0x356529[_0x46d25f];return _0x37d2ca;},a0_0x46d2(_0x170b3e,_0x41dc13);}router[a0_0x2a5567(0x114)]('/type',auth,async(_0x4aa348,_0x2fc96e)=>{const _0xf5ff56=a0_0x2a5567;try{const {username:_0xe05be1,email:_0x498737,role:_0x32be3c}=_0x4aa348[_0xf5ff56(0x127)],_0x2919f4=_0x4aa348[_0xf5ff56(0x127)],_0x56d399=await profile[_0xf5ff56(0x142)]({'email':_0x2919f4[_0xf5ff56(0x122)]}),_0x29a1c1=await master_shop[_0xf5ff56(0x117)]();if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]==_0xf5ff56(0x13b)){var _0x2f46f8=users[_0xf5ff56(0x13a)];console[_0xf5ff56(0x131)](_0x2f46f8);}else{if(_0x29a1c1[0x0]['language']==_0xf5ff56(0x148))var _0x2f46f8=users[_0xf5ff56(0x148)];else{if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]==_0xf5ff56(0x14d))var _0x2f46f8=users[_0xf5ff56(0x14d)];else{if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]==_0xf5ff56(0x12a))var _0x2f46f8=users[_0xf5ff56(0x12a)];else{if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]==_0xf5ff56(0x124))var _0x2f46f8=users['French'];else{if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]=='Portuguese\x20(BR)')var _0x2f46f8=users[_0xf5ff56(0x13f)];else{if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]==_0xf5ff56(0x146))var _0x2f46f8=users['Chinese'];else{if(_0x29a1c1[0x0][_0xf5ff56(0x11b)]=='Arabic\x20(ae)')var _0x2f46f8=users[_0xf5ff56(0x139)];}}}}}}}const _0x4be17a=await expenses_type['find']({}),_0x19cd53=await Promise[_0xf5ff56(0x14b)](_0x4be17a['map'](async _0x268c10=>{const _0x1ada6a=_0xf5ff56,_0x504720=await all_expenses[_0x1ada6a(0x113)]({'type':_0x268c10[_0x1ada6a(0x140)]});return{..._0x268c10[_0x1ada6a(0x13c)](),'count':_0x504720};}));_0x2fc96e[_0xf5ff56(0x11c)](_0xf5ff56(0x145),{'success':_0x4aa348['flash']('success'),'errors':_0x4aa348['flash'](_0xf5ff56(0x12b)),'role':_0x2919f4,'profile':_0x56d399,'master_shop':_0x29a1c1,'language':_0x2f46f8,'expensesData':_0x19cd53});}catch(_0x32e288){console[_0xf5ff56(0x131)](_0x32e288);}}),router[a0_0x2a5567(0x121)](a0_0x2a5567(0x128),auth,async(_0x4e4cae,_0x2c4b41)=>{const _0x278957=a0_0x2a5567;try{const {name:_0x5a4c93}=_0x4e4cae['body'],_0x2aa9c7=new expenses_type({'name':_0x5a4c93}),_0x15d819=await expenses_type[_0x278957(0x142)]({'name':_0x5a4c93});if(_0x15d819)_0x4e4cae[_0x278957(0x138)](_0x278957(0x12b),_0x5a4c93+_0x278957(0x12e));else{_0x4e4cae[_0x278957(0x138)](_0x278957(0x143),_0x5a4c93+_0x278957(0x12f));const _0x4fc220=await _0x2aa9c7[_0x278957(0x11e)]();}_0x2c4b41['redirect'](_0x278957(0x11d));}catch(_0x2a01a9){console[_0x278957(0x131)](_0x2a01a9);}}),router[a0_0x2a5567(0x121)](a0_0x2a5567(0x11f),auth,async(_0x927d72,_0x48c708)=>{const _0x5b9a10=a0_0x2a5567;try{const _0xf08df7=_0x927d72[_0x5b9a10(0x149)]['id'],_0x5d1e11=await expenses_type[_0x5b9a10(0x134)](_0xf08df7),_0x37920d=await expenses_type['findByIdAndUpdate'](_0xf08df7,_0x927d72['body']),_0x516d54=await all_expenses['updateMany']({'type':_0x5d1e11[_0x5b9a10(0x140)]},{'$set':{'type':_0x927d72[_0x5b9a10(0x13e)][_0x5b9a10(0x140)]}});_0x927d72['flash']('success',_0x5b9a10(0x118)),_0x48c708['redirect']('/all_expenses/type');}catch(_0x417718){console[_0x5b9a10(0x131)](_0x417718);}}),router['get'](a0_0x2a5567(0x126),auth,async(_0x57506f,_0x11f360)=>{const _0x38d194=a0_0x2a5567;try{const _0x19e453=_0x57506f[_0x38d194(0x149)]['id'],_0x54381d=await expenses_type[_0x38d194(0x120)](_0x19e453);_0x57506f['flash'](_0x38d194(0x143),_0x38d194(0x115)),_0x11f360['redirect'](_0x38d194(0x11d));}catch(_0xb2c20a){console[_0x38d194(0x131)](_0xb2c20a);}}),router[a0_0x2a5567(0x114)]('/view',auth,async(_0x17c8b7,_0x3ede91)=>{const _0x14a840=a0_0x2a5567;try{const {username:_0x2d1281,email:_0x4f0209,role:_0x2ba62a}=_0x17c8b7[_0x14a840(0x127)],_0x317cbe=_0x17c8b7[_0x14a840(0x127)],_0x3f94ae=await profile[_0x14a840(0x142)]({'email':_0x317cbe[_0x14a840(0x122)]}),_0x1ac0c9=await master_shop[_0x14a840(0x117)]();console[_0x14a840(0x131)](_0x14a840(0x123),_0x1ac0c9);const _0x2a4cbb=await expenses_type[_0x14a840(0x117)]({}),_0x382117=await all_expenses[_0x14a840(0x117)]({});console[_0x14a840(0x131)](_0x382117);if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x13b)){var _0x5111e9=users['English'];console[_0x14a840(0x131)](_0x5111e9);}else{if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x148))var _0x5111e9=users[_0x14a840(0x148)];else{if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x14d))var _0x5111e9=users[_0x14a840(0x14d)];else{if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x12a))var _0x5111e9=users[_0x14a840(0x12a)];else{if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x124))var _0x5111e9=users[_0x14a840(0x124)];else{if(_0x1ac0c9[0x0]['language']==_0x14a840(0x147))var _0x5111e9=users[_0x14a840(0x13f)];else{if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x146))var _0x5111e9=users['Chinese'];else{if(_0x1ac0c9[0x0][_0x14a840(0x11b)]==_0x14a840(0x136))var _0x5111e9=users[_0x14a840(0x139)];}}}}}}}_0x3ede91['render']('expenses',{'success':_0x17c8b7[_0x14a840(0x138)]('success'),'errors':_0x17c8b7[_0x14a840(0x138)]('errors'),'role':_0x317cbe,'profile':_0x3f94ae,'data':_0x2a4cbb,'expenses_data':_0x382117,'master_shop':_0x1ac0c9,'language':_0x5111e9});}catch(_0x18b9f3){console[_0x14a840(0x131)](_0x18b9f3);}}),router[a0_0x2a5567(0x114)]('/view/add_expenses',auth,async(_0x2a2726,_0x41f19b)=>{const _0x2b30f7=a0_0x2a5567;try{const {username:_0x5b15fc,email:_0x5d932d,role:_0x7c5546}=_0x2a2726['user'],_0x4333ec=_0x2a2726[_0x2b30f7(0x127)],_0x41e0c8=await profile['findOne']({'email':_0x4333ec[_0x2b30f7(0x122)]}),_0x157656=await master_shop[_0x2b30f7(0x117)]();console[_0x2b30f7(0x131)](_0x2b30f7(0x123),_0x157656);const _0xdc229f=await expenses_type[_0x2b30f7(0x117)]({});if(_0x157656[0x0]['language']==_0x2b30f7(0x13b)){var _0x4fd7df=users[_0x2b30f7(0x13a)];console['log'](_0x4fd7df);}else{if(_0x157656[0x0][_0x2b30f7(0x11b)]=='Hindi')var _0x4fd7df=users[_0x2b30f7(0x148)];else{if(_0x157656[0x0]['language']==_0x2b30f7(0x14d))var _0x4fd7df=users[_0x2b30f7(0x14d)];else{if(_0x157656[0x0][_0x2b30f7(0x11b)]=='Spanish')var _0x4fd7df=users[_0x2b30f7(0x12a)];else{if(_0x157656[0x0][_0x2b30f7(0x11b)]=='French')var _0x4fd7df=users[_0x2b30f7(0x124)];else{if(_0x157656[0x0]['language']=='Portuguese\x20(BR)')var _0x4fd7df=users['Portuguese'];else{if(_0x157656[0x0][_0x2b30f7(0x11b)]==_0x2b30f7(0x146))var _0x4fd7df=users[_0x2b30f7(0x146)];else{if(_0x157656[0x0][_0x2b30f7(0x11b)]==_0x2b30f7(0x136))var _0x4fd7df=users[_0x2b30f7(0x139)];}}}}}}}_0x41f19b['render'](_0x2b30f7(0x125),{'success':_0x2a2726[_0x2b30f7(0x138)]('success'),'errors':_0x2a2726[_0x2b30f7(0x138)](_0x2b30f7(0x12b)),'role':_0x4333ec,'profile':_0x41e0c8,'data':_0xdc229f,'master_shop':_0x157656,'language':_0x4fd7df});}catch(_0x3c4f3d){console[_0x2b30f7(0x131)](_0x3c4f3d);}}),router['post'](a0_0x2a5567(0x112),auth,async(_0x1089b9,_0x372bf6)=>{const _0x53f2e5=a0_0x2a5567;try{const {type:_0x2144cd,date:_0x4b12a6,amount:_0x33e8e0,note:_0x914568}=_0x1089b9['body'],_0x1dd81d=new all_expenses({'type':_0x2144cd,'date':_0x4b12a6,'amount':_0x33e8e0,'note':_0x914568}),_0x5d61a4=await _0x1dd81d['save']();_0x372bf6['redirect'](_0x53f2e5(0x14a));}catch(_0x51d68b){console['log'](_0x51d68b);}}),router[a0_0x2a5567(0x114)]('/view/:id',auth,async(_0x5d7ccb,_0xd2ee00)=>{const _0x5bb835=a0_0x2a5567;try{const {username:_0x2fa375,email:_0x5685a4,role:_0x559e13}=_0x5d7ccb[_0x5bb835(0x127)],_0x152b70=_0x5d7ccb[_0x5bb835(0x127)],_0x168b05=await profile['findOne']({'email':_0x152b70[_0x5bb835(0x122)]}),_0x3290aa=await master_shop[_0x5bb835(0x117)]();console[_0x5bb835(0x131)]('master',_0x3290aa);const _0x1aaf54=await expenses_type[_0x5bb835(0x117)]({});console[_0x5bb835(0x131)](_0x1aaf54);const _0x288741=await all_expenses[_0x5bb835(0x134)](_0x5d7ccb[_0x5bb835(0x149)]['id']);console['log'](_0x288741);if(_0x3290aa[0x0][_0x5bb835(0x11b)]=='English\x20(US)'){var _0x317e2b=users[_0x5bb835(0x13a)];console[_0x5bb835(0x131)](_0x317e2b);}else{if(_0x3290aa[0x0][_0x5bb835(0x11b)]=='Hindi')var _0x317e2b=users[_0x5bb835(0x148)];else{if(_0x3290aa[0x0]['language']==_0x5bb835(0x14d))var _0x317e2b=users['German'];else{if(_0x3290aa[0x0][_0x5bb835(0x11b)]==_0x5bb835(0x12a))var _0x317e2b=users[_0x5bb835(0x12a)];else{if(_0x3290aa[0x0][_0x5bb835(0x11b)]==_0x5bb835(0x124))var _0x317e2b=users[_0x5bb835(0x124)];else{if(_0x3290aa[0x0][_0x5bb835(0x11b)]==_0x5bb835(0x147))var _0x317e2b=users[_0x5bb835(0x13f)];else{if(_0x3290aa[0x0]['language']==_0x5bb835(0x146))var _0x317e2b=users[_0x5bb835(0x146)];else{if(_0x3290aa[0x0]['language']==_0x5bb835(0x136))var _0x317e2b=users[_0x5bb835(0x139)];}}}}}}}_0xd2ee00[_0x5bb835(0x11c)](_0x5bb835(0x135),{'success':_0x5d7ccb[_0x5bb835(0x138)](_0x5bb835(0x143)),'errors':_0x5d7ccb['flash'](_0x5bb835(0x12b)),'role':_0x152b70,'profile':_0x168b05,'data':_0x1aaf54,'expenses_data':_0x288741,'master_shop':_0x3290aa,'language':_0x317e2b});}catch(_0x39b6e5){console[_0x5bb835(0x131)](_0x39b6e5);}}),router[a0_0x2a5567(0x121)](a0_0x2a5567(0x132),auth,async(_0x292911,_0x9eac9e)=>{const _0x56aec7=a0_0x2a5567;try{const _0x20791e=_0x292911[_0x56aec7(0x149)]['id'];console[_0x56aec7(0x131)](_0x20791e);const _0x5bd2ad=await all_expenses['findByIdAndUpdate'](_0x20791e,_0x292911['body']);console[_0x56aec7(0x131)](_0x5bd2ad),_0x292911[_0x56aec7(0x138)](_0x56aec7(0x143),_0x56aec7(0x118)),_0x9eac9e[_0x56aec7(0x133)](_0x56aec7(0x14a));}catch(_0x282409){console[_0x56aec7(0x131)](_0x282409);}}),module[a0_0x2a5567(0x119)]=router;