function a0_0x1bcc(_0x198f5f,_0x328074){const _0x21d1a3=a0_0x21d1();return a0_0x1bcc=function(_0x1bcc51,_0x41d34a){_0x1bcc51=_0x1bcc51-0xae;let _0x58ec65=_0x21d1a3[_0x1bcc51];return _0x58ec65;},a0_0x1bcc(_0x198f5f,_0x328074);}function a0_0x21d1(){const _0x30eada=['16nBkFgI','$_id','timezone','$production_date','pack','$product_details.type','$_id.type','/MapData2','warehousemap_incoming','French','8814640eMvQtw','find','/staff_sales_id','/staff_sales','$$product.product_quantity','English','$product_details.bin','../middleware/auth','$product_details.bay','Arabic','user','4271499xFaTEI','$room','Enabled','get','$product_code','2412shwZKi','$product_details.product_stock','log','/Rooms_data2','post','Portuguese','$count','$product_details.expiry_date','../models/all_models','findOne','body','flash','success','8636214FSRpmA','$_id.bin','$product_details.batch_code','Hindi','aggregate','language','all','Portuguese\x20(BR)','4UvjlwY','$name','timezones-list','All','errors','product','/map_value','14455ZFVNiG','message','768224QhyZzN','$_id.bay','$product_details.level','Chinese','10168046KbDPgu','QA\x20Warehouse','$product_details','Finished\x20Goods','$product_details.product_code','role','en-US','/view','email','/Rooms_data','json','Return\x20Goods','$product_details.product_name','/MapData','$_id.floorlevel','express','$product_details.production_date','Spanish','2050758HVDcoc','toLocaleString','status','$product_details.floorlevel','staff','Router'];a0_0x21d1=function(){return _0x30eada;};return a0_0x21d1();}const a0_0x5142b0=a0_0x1bcc;(function(_0x356742,_0x1e331a){const _0x4af6a9=a0_0x1bcc,_0x918de3=_0x356742();while(!![]){try{const _0x334376=-parseInt(_0x4af6a9(0xea))/0x1*(-parseInt(_0x4af6a9(0xe1))/0x2)+-parseInt(_0x4af6a9(0x100))/0x3+-parseInt(_0x4af6a9(0xcc))/0x4*(parseInt(_0x4af6a9(0xe8))/0x5)+-parseInt(_0x4af6a9(0xd9))/0x6+parseInt(_0x4af6a9(0xee))/0x7+-parseInt(_0x4af6a9(0xb2))/0x8*(-parseInt(_0x4af6a9(0xc7))/0x9)+parseInt(_0x4af6a9(0xbc))/0xa;if(_0x334376===_0x1e331a)break;else _0x918de3['push'](_0x918de3['shift']());}catch(_0x30d545){_0x918de3['push'](_0x918de3['shift']());}}}(a0_0x21d1,0xe8c8c));const express=require(a0_0x5142b0(0xfd)),app=express(),router=express[a0_0x5142b0(0xb1)](),multer=require('multer'),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x5142b0(0xd4)),auth=require(a0_0x5142b0(0xc3));var timezones=require(a0_0x5142b0(0xe3));const users=require('../public/language/languages.json');router[a0_0x5142b0(0xca)](a0_0x5142b0(0xf5),auth,async(_0x7511ed,_0x16cb2b)=>{const _0x8c89e1=a0_0x5142b0;try{const {username:_0x1362cc,email:_0x131e1d,role:_0x3f410b}=_0x7511ed[_0x8c89e1(0xc6)],_0x3e2523=_0x7511ed[_0x8c89e1(0xc6)],_0x38507c=await profile[_0x8c89e1(0xd5)]({'email':_0x3e2523[_0x8c89e1(0xf6)]}),_0x5dd117=await master_shop[_0x8c89e1(0xbd)]();let _0x218d4c;if(_0x3e2523[_0x8c89e1(0xf3)]==_0x8c89e1(0xb0)){const _0x4ace79=await staff[_0x8c89e1(0xd5)]({'email':_0x3e2523[_0x8c89e1(0xf6)]});_0x218d4c=await warehouse[_0x8c89e1(0xdd)]([{'$match':{'status':_0x8c89e1(0xc9),'name':_0x4ace79['warehouse']}},{'$group':{'_id':_0x8c89e1(0xe2),'name':{'$first':'$name'}}},{'$sort':{'name':-0x1}}]);}else _0x218d4c=await warehouse['aggregate']([{'$match':{'status':_0x8c89e1(0xc9)}},{'$group':{'_id':_0x8c89e1(0xe2),'name':{'$first':_0x8c89e1(0xe2)}}},{'$sort':{'name':-0x1}}]);const _0x499213=new Date()[_0x8c89e1(0x101)](_0x8c89e1(0xf4),{'timeZone':_0x5dd117[0x0][_0x8c89e1(0xb4)]});if(_0x5dd117[0x0]['language']=='English\x20(US)')var _0x595b7b=users[_0x8c89e1(0xc1)];else{if(_0x5dd117[0x0][_0x8c89e1(0xde)]==_0x8c89e1(0xdc))var _0x595b7b=users[_0x8c89e1(0xdc)];else{if(_0x5dd117[0x0]['language']=='German')var _0x595b7b=users['German'];else{if(_0x5dd117[0x0][_0x8c89e1(0xde)]=='Spanish')var _0x595b7b=users[_0x8c89e1(0xff)];else{if(_0x5dd117[0x0][_0x8c89e1(0xde)]==_0x8c89e1(0xbb))var _0x595b7b=users[_0x8c89e1(0xbb)];else{if(_0x5dd117[0x0]['language']==_0x8c89e1(0xe0))var _0x595b7b=users[_0x8c89e1(0xd1)];else{if(_0x5dd117[0x0][_0x8c89e1(0xde)]==_0x8c89e1(0xed))var _0x595b7b=users[_0x8c89e1(0xed)];else{if(_0x5dd117[0x0][_0x8c89e1(0xde)]=='Arabic\x20(ae)')var _0x595b7b=users[_0x8c89e1(0xc5)];}}}}}}}_0x16cb2b['render'](_0x8c89e1(0xba),{'success':_0x7511ed[_0x8c89e1(0xd7)](_0x8c89e1(0xd8)),'errors':_0x7511ed[_0x8c89e1(0xd7)](_0x8c89e1(0xe5)),'role':_0x3e2523,'profile':_0x38507c,'master_shop':_0x5dd117,'timezones':timezones,'language':_0x595b7b,'warehouse':_0x218d4c});}catch(_0xe0cc0){console[_0x8c89e1(0xce)](_0xe0cc0),_0x16cb2b[_0x8c89e1(0xae)](0xc8)['json']({'message':_0xe0cc0[_0x8c89e1(0xe9)]});}}),router[a0_0x5142b0(0xd0)](a0_0x5142b0(0xfb),async(_0x36337c,_0x50bb6e)=>{const _0x2b6768=a0_0x5142b0,{warehouseNew:_0x3eeb03,rooms:_0x12267e,Type:_0x35afcb}=_0x36337c['body'],_0x3a7ae6=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'name':_0x3eeb03,'room':_0x12267e,'product_details.type':_0x35afcb}},{'$group':{'_id':{'bay':_0x2b6768(0xc4),'bin':_0x2b6768(0xc2),'type':_0x2b6768(0xb7),'floorlevel':_0x2b6768(0xaf)},'products':{'$push':{'product_name':_0x2b6768(0xfa),'product_quantity':_0x2b6768(0xcd),'product_code':_0x2b6768(0xf2)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x2b6768(0xcd),0x0]},'then':'$product_details.product_stock','else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0x2b6768(0xeb),'bin':_0x2b6768(0xda),'type':_0x2b6768(0xb8),'floorlevel':_0x2b6768(0xfc),'products':{'$filter':{'input':'$products','as':_0x2b6768(0xe6),'cond':{'$gt':[_0x2b6768(0xc0),0x0]}}},'totalQuantity':0x1}}]);_0x50bb6e['json'](_0x3a7ae6);}),router[a0_0x5142b0(0xd0)](a0_0x5142b0(0xb9),async(_0x24889b,_0x534c29)=>{const _0x31ab32=a0_0x5142b0,{warehouseNew:_0x40c74f,rooms:_0x16e434,room_cat:_0x15c1e5}=_0x24889b[_0x31ab32(0xd6)];let _0x21e7ba;if(_0x15c1e5==_0x31ab32(0xe4))_0x21e7ba=await warehouse[_0x31ab32(0xdd)]([{'$unwind':_0x31ab32(0xf0)},{'$match':{'name':_0x40c74f}},{'$group':{'_id':{'bay':_0x31ab32(0xc4),'product':'$product_details.product_name','expiry':_0x31ab32(0xd3)},'count':{'$sum':_0x31ab32(0xcd)},'production_date':{'$first':_0x31ab32(0xfe)},'expiry_date':{'$first':_0x31ab32(0xd3)},'batch_code':{'$first':_0x31ab32(0xdb)},'product_code':{'$first':_0x31ab32(0xf2)}}},{'$group':{'_id':'$_id.bay','products':{'$push':{'product':'$_id.product','quantity':_0x31ab32(0xd2),'production_date':_0x31ab32(0xb5),'expiry_date':'$expiry_date','batch_code':'$batch_code','product_code':_0x31ab32(0xcb)}},'totalQuantity':{'$sum':'$count'}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x31ab32(0xb3),'products':0x1,'totalQuantity':0x1}}]),console[_0x31ab32(0xce)](_0x15c1e5);else{}_0x534c29[_0x31ab32(0xf8)](_0x21e7ba);}),router['post'](a0_0x5142b0(0xf7),async(_0x105b77,_0x284dfa)=>{const _0x3b1d6a=a0_0x5142b0;try{const {warehouse_name:_0x4600f5}=_0x105b77[_0x3b1d6a(0xd6)];var _0x19033b='';_0x19033b=[{'$match':{'name':_0x4600f5,'status':_0x3b1d6a(0xc9)}},{'$group':{'_id':_0x3b1d6a(0xb3),'room_name':{'$first':_0x3b1d6a(0xc8)}}},{'$sort':{'room_name':0x1}}];const _0x5810d6=await warehouse[_0x3b1d6a(0xdd)](_0x19033b);_0x284dfa[_0x3b1d6a(0xae)](0xc8)['json'](_0x5810d6);}catch(_0x311bed){_0x284dfa['status'](0x190)[_0x3b1d6a(0xf8)]({'errorMessage':_0x311bed['message']});}}),router[a0_0x5142b0(0xd0)](a0_0x5142b0(0xcf),async(_0xf7b128,_0x3aaadc)=>{const _0x52779b=a0_0x5142b0;try{const {warehouse_name:_0x19d97c,cat:_0xfdea9,valNew:_0x29cfe6}=_0xf7b128[_0x52779b(0xd6)];var _0x59953b='',_0x163cfc='';if(_0xfdea9=='Raw\x20Materials')_0x59953b=_0x52779b(0xf9),_0x29cfe6==_0x52779b(0xb6)?_0x163cfc=[{'$match':{'status':_0x52779b(0xc9),'warehouse_category':_0xfdea9,'name':{'$ne':_0x59953b},'name':'DRY\x20STORAGE'}},{'$group':{'_id':_0x52779b(0xe2),'room_name':{'$first':_0x52779b(0xe2)}}},{'$sort':{'room_name':0x1}}]:_0x163cfc=[{'$match':{'status':_0x52779b(0xc9),'warehouse_category':_0xfdea9,'name':{'$ne':_0x59953b}}},{'$group':{'_id':_0x52779b(0xe2),'room_name':{'$first':_0x52779b(0xe2)}}},{'$sort':{'room_name':0x1}}];else _0xfdea9==_0x52779b(0xf1)?(_0x59953b=_0x52779b(0xef),_0x163cfc=[{'$match':{'status':_0x52779b(0xc9),'warehouse_category':_0xfdea9,'name':{'$ne':_0x59953b}}},{'$group':{'_id':'$name','room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}]):_0x163cfc=[{'$match':{'status':_0x52779b(0xc9)}},{'$group':{'_id':_0x52779b(0xe2),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];const _0x4f5d64=await warehouse['aggregate'](_0x163cfc);_0x3aaadc[_0x52779b(0xae)](0xc8)[_0x52779b(0xf8)](_0x4f5d64);}catch(_0xa4345c){_0x3aaadc[_0x52779b(0xae)](0x190)[_0x52779b(0xf8)]({'errorMessage':_0xa4345c['message']}),console[_0x52779b(0xce)](_0xa4345c);}}),router['post']('/Rooms_data3',async(_0x1ff030,_0x2bcb51)=>{const _0x1b491b=a0_0x5142b0;try{const {warehouse_name:_0x4dcef7,cat:_0x342c09}=_0x1ff030[_0x1b491b(0xd6)],_0x13e123=await warehouse[_0x1b491b(0xdd)]([{'$match':{'status':_0x1b491b(0xc9),'warehouse_category':_0x342c09,'name':_0x4dcef7}},{'$group':{'_id':_0x1b491b(0xc8),'room_name':{'$first':_0x1b491b(0xc8)}}},{'$sort':{'room_name':0x1}}]);_0x2bcb51[_0x1b491b(0xae)](0xc8)[_0x1b491b(0xf8)](_0x13e123);}catch(_0x45f1de){_0x2bcb51[_0x1b491b(0xae)](0x190)['json']({'errorMessage':_0x45f1de['message']});}}),router['post'](a0_0x5142b0(0xbf),async(_0x3d2844,_0x4b8a47)=>{const _0x544aea=a0_0x5142b0;try{const {typeofsales:_0x1b5af2}=_0x3d2844['body'],_0x3e9b98=await staff[_0x544aea(0xbd)]({'account_category':'sa','type_of_acc_cat':_0x1b5af2});_0x4b8a47[_0x544aea(0xae)](0xc8)[_0x544aea(0xf8)](_0x3e9b98);}catch(_0x18798f){_0x4b8a47[_0x544aea(0xae)](0x190)[_0x544aea(0xf8)]({'errorMessage':_0x18798f[_0x544aea(0xe9)]});}}),router[a0_0x5142b0(0xd0)](a0_0x5142b0(0xbe),async(_0x103a49,_0x4e5130)=>{const _0x25f691=a0_0x5142b0;try{const {id:_0x1b63da}=_0x103a49[_0x25f691(0xd6)],_0x52defe=await staff[_0x25f691(0xbd)]({'_id':_0x1b63da});_0x4e5130[_0x25f691(0xae)](0xc8)[_0x25f691(0xf8)](_0x52defe);}catch(_0x6ffca1){_0x4e5130[_0x25f691(0xae)](0x190)[_0x25f691(0xf8)]({'errorMessage':_0x6ffca1[_0x25f691(0xe9)]});}}),router['post'](a0_0x5142b0(0xe7),async(_0xa2c3d1,_0x33c02a)=>{const _0x4e39ad=a0_0x5142b0;try{const {warehouse_name:_0x890e04,room_value:_0x596441}=_0xa2c3d1['body'];let _0x8cf400;_0x596441==_0x4e39ad(0xdf)?_0x8cf400=await warehouse['aggregate']([{'$unwind':_0x4e39ad(0xf0)},{'$match':{'name':_0x890e04}},{'$group':{'_id':{'bay':_0x4e39ad(0xc4),'level':'$product_details.level','type':_0x4e39ad(0xb7),'floorlevel':'$product_details.floorlevel'},'products':{'$push':{'product_name':'$product_details.product_name','product_quantity':_0x4e39ad(0xcd),'product_code':_0x4e39ad(0xf2)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x4e39ad(0xcd),0x0]},'then':_0x4e39ad(0xcd),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0x4e39ad(0xeb),'level':'$_id.level','type':_0x4e39ad(0xb8),'floorlevel':_0x4e39ad(0xfc),'products':{'$filter':{'input':'$products','as':_0x4e39ad(0xe6),'cond':{'$gt':[_0x4e39ad(0xc0),0x0]}}},'totalQuantity':0x1}}]):_0x8cf400=await warehouse[_0x4e39ad(0xdd)]([{'$unwind':'$product_details'},{'$match':{'name':_0x890e04,'room':_0x596441}},{'$group':{'_id':{'bay':'$product_details.bay','level':_0x4e39ad(0xec),'type':_0x4e39ad(0xb7),'floorlevel':_0x4e39ad(0xaf)},'products':{'$push':{'product_name':'$product_details.product_name','product_quantity':'$product_details.product_stock','product_code':'$product_details.product_code'}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x4e39ad(0xcd),0x0]},'then':'$product_details.product_stock','else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0x4e39ad(0xeb),'level':'$_id.level','type':_0x4e39ad(0xb8),'floorlevel':'$_id.floorlevel','products':{'$filter':{'input':'$products','as':_0x4e39ad(0xe6),'cond':{'$gt':[_0x4e39ad(0xc0),0x0]}}},'totalQuantity':0x1}}]),_0x33c02a[_0x4e39ad(0xae)](0xc8)['json'](_0x8cf400);}catch(_0x1b5d94){_0x33c02a['status'](0x190)[_0x4e39ad(0xf8)]({'errorMessage':_0x1b5d94[_0x4e39ad(0xe9)]});}}),module['exports']=router;