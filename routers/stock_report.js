var a0_0x1a1024=a0_0x48ab;(function(_0x4e1177,_0x1c8ce6){var _0x331632=a0_0x48ab,_0xeaa760=_0x4e1177();while(!![]){try{var _0x181cb0=-parseInt(_0x331632(0x19f))/0x1*(parseInt(_0x331632(0x177))/0x2)+-parseInt(_0x331632(0x191))/0x3*(parseInt(_0x331632(0x19c))/0x4)+parseInt(_0x331632(0x18c))/0x5+-parseInt(_0x331632(0x16f))/0x6*(parseInt(_0x331632(0x197))/0x7)+-parseInt(_0x331632(0x166))/0x8+-parseInt(_0x331632(0x172))/0x9+parseInt(_0x331632(0x1a6))/0xa;if(_0x181cb0===_0x1c8ce6)break;else _0xeaa760['push'](_0xeaa760['shift']());}catch(_0x517d9b){_0xeaa760['push'](_0xeaa760['shift']());}}}(a0_0x2688,0x9fbea));function a0_0x48ab(_0x248cd8,_0x213d2c){var _0x2688de=a0_0x2688();return a0_0x48ab=function(_0x48ab9d,_0x52f71e){_0x48ab9d=_0x48ab9d-0x166;var _0x5305c8=_0x2688de[_0x48ab9d];return _0x5305c8;},a0_0x48ab(_0x248cd8,_0x213d2c);}function a0_0x2688(){var _0x176de4=['English\x20(US)','role_data','../public/language/languages.json','aggregate','status','success','/view/:id','French','products','$product_details','3681870fCcmPM','product_details.product_name','$product_docs.unit','product_docs','find','501CqzFul','$product_details.product_name','$product_docs','findOne','/Reports','Enabled','14dNecXC','/view/warehouse/:id','params','user','log','13388SnpJyv','Portuguese','/Reports_product','1009YNxieE','errors','$product_details.product_stock','Arabic','Chinese','Router','warehouse','41493470jpLrCT','2168520sVjadp','Arabic\x20(ae)','../middleware/auth','All','English','flash','post','get','111','3346668gCDZqo','$name','product_data','9847872wJfkwL','German','$product_docs.brand','language','Spanish','2362JCWXPV','Portuguese\x20(BR)','body','warehouse_data','Hindi','master','email','json','/view/product/:id','product_details.rak_name','express'];a0_0x2688=function(){return _0x176de4;};return a0_0x2688();}const express=require(a0_0x1a1024(0x181)),app=express(),router=express[a0_0x1a1024(0x1a4)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require(a0_0x1a1024(0x168)),users=require(a0_0x1a1024(0x184));router[a0_0x1a1024(0x16d)]('/view',auth,async(_0x219c47,_0x5bf2fb)=>{var _0x509694=a0_0x1a1024;try{const _0x5773cb=_0x219c47[_0x509694(0x19a)];console[_0x509694(0x19b)](_0x509694(0x183),_0x219c47['user']);const _0x227a27=await profile[_0x509694(0x194)]({'email':_0x5773cb[_0x509694(0x17d)]}),_0x3826d9=await master_shop[_0x509694(0x190)]();console[_0x509694(0x19b)]('master',_0x3826d9);const _0x169c14=await warehouse[_0x509694(0x185)]([{'$match':{'status':_0x509694(0x196)}},{'$group':{'_id':_0x509694(0x170),'name':{'$first':'$name'}}}]),_0x24d25=await product[_0x509694(0x190)]({});if(_0x3826d9[0x0][_0x509694(0x175)]==_0x509694(0x182)){var _0x2d13a5=users[_0x509694(0x16a)];console['log'](_0x2d13a5);}else{if(_0x3826d9[0x0][_0x509694(0x175)]==_0x509694(0x17b))var _0x2d13a5=users[_0x509694(0x17b)];else{if(_0x3826d9[0x0][_0x509694(0x175)]=='German')var _0x2d13a5=users['German'];else{if(_0x3826d9[0x0][_0x509694(0x175)]==_0x509694(0x176))var _0x2d13a5=users[_0x509694(0x176)];else{if(_0x3826d9[0x0][_0x509694(0x175)]=='French')var _0x2d13a5=users[_0x509694(0x189)];else{if(_0x3826d9[0x0]['language']==_0x509694(0x178))var _0x2d13a5=users[_0x509694(0x19d)];else{if(_0x3826d9[0x0][_0x509694(0x175)]==_0x509694(0x1a3))var _0x2d13a5=users[_0x509694(0x1a3)];else{if(_0x3826d9[0x0]['language']==_0x509694(0x167))var _0x2d13a5=users[_0x509694(0x1a2)];}}}}}}}_0x5bf2fb['render']('stock_report',{'success':_0x219c47['flash'](_0x509694(0x187)),'errors':_0x219c47[_0x509694(0x16b)](_0x509694(0x1a0)),'role':_0x5773cb,'profile':_0x227a27,'master_shop':_0x3826d9,'warehouse':_0x169c14,'product':_0x24d25,'warehouse_doc':[],'product_doc':[],'language':_0x2d13a5});}catch(_0x2418e7){console['log'](_0x2418e7);}}),router[a0_0x1a1024(0x16d)](a0_0x1a1024(0x188),auth,async(_0x3fb428,_0x1d5da7)=>{var _0x4101b2=a0_0x1a1024;try{const _0x3e6708=await master_shop['find']();console['log'](_0x4101b2(0x17c),_0x3e6708);if(_0x3fb428['params']['id']==_0x4101b2(0x1a5)){const _0x12b44e=await warehouse['find']();console['log'](_0x12b44e);if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x182)){var _0x5120f7=users[_0x4101b2(0x16a)];console[_0x4101b2(0x19b)](_0x5120f7);}else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x17b))var _0x5120f7=users[_0x4101b2(0x17b)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]=='German')var _0x5120f7=users[_0x4101b2(0x173)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x176))var _0x5120f7=users['Spanish'];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x189))var _0x5120f7=users[_0x4101b2(0x189)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x178))var _0x5120f7=users['Portuguese'];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x1a3))var _0x5120f7=users[_0x4101b2(0x1a3)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x167))var _0x5120f7=users[_0x4101b2(0x1a2)];}}}}}}}_0x1d5da7['status'](0xc8)[_0x4101b2(0x17e)]({'data':_0x12b44e,'language':_0x5120f7[_0x4101b2(0x1a5)]});}else{const _0x504879=await product[_0x4101b2(0x190)]();console[_0x4101b2(0x19b)](_0x4101b2(0x16e),_0x504879);if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x182)){var _0x5120f7=users[_0x4101b2(0x16a)];console[_0x4101b2(0x19b)](_0x5120f7);}else{if(_0x3e6708[0x0][_0x4101b2(0x175)]=='Hindi')var _0x5120f7=users[_0x4101b2(0x17b)];else{if(_0x3e6708[0x0]['language']==_0x4101b2(0x173))var _0x5120f7=users[_0x4101b2(0x173)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x176))var _0x5120f7=users[_0x4101b2(0x176)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x189))var _0x5120f7=users[_0x4101b2(0x189)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x178))var _0x5120f7=users[_0x4101b2(0x19d)];else{if(_0x3e6708[0x0][_0x4101b2(0x175)]==_0x4101b2(0x1a3))var _0x5120f7=users[_0x4101b2(0x1a3)];else{if(_0x3e6708[0x0]['language']==_0x4101b2(0x167))var _0x5120f7=users[_0x4101b2(0x1a2)];}}}}}}}_0x1d5da7[_0x4101b2(0x186)](0xc8)[_0x4101b2(0x17e)]({'data':_0x504879,'language':_0x5120f7['products']});}}catch(_0x281cac){console['log'](_0x281cac);}}),router['get'](a0_0x1a1024(0x198),auth,async(_0x1bcbba,_0xff332a)=>{var _0x43f9b2=a0_0x1a1024;try{const _0x1e047e=_0x1bcbba[_0x43f9b2(0x199)]['id'];console[_0x43f9b2(0x19b)](_0x1e047e);const _0x1f0f39=await master_shop['find']();console[_0x43f9b2(0x19b)](_0x43f9b2(0x17c),_0x1f0f39);const _0x16bdb3=await warehouse[_0x43f9b2(0x185)]([{'$match':{'name':_0x1e047e}},{'$unwind':_0x43f9b2(0x18b)},{'$lookup':{'from':_0x43f9b2(0x18a),'localField':_0x43f9b2(0x18d),'foreignField':'name','as':_0x43f9b2(0x18f)}},{'$unwind':_0x43f9b2(0x193)},{'$project':{'name':0x1,'product_name':_0x43f9b2(0x192),'product_stock':_0x43f9b2(0x1a1),'category':'$product_docs.category','brand':_0x43f9b2(0x174),'sku':'$product_docs.sku','unit':_0x43f9b2(0x18e),'rak':_0x43f9b2(0x180),'bin':'product_details.bin_name'}}]);console[_0x43f9b2(0x19b)](_0x16bdb3);if(_0x1f0f39[0x0]['language']=='English\x20(US)'){var _0x4928f9=users[_0x43f9b2(0x16a)];console[_0x43f9b2(0x19b)](_0x4928f9);}else{if(_0x1f0f39[0x0]['language']=='Hindi')var _0x4928f9=users[_0x43f9b2(0x17b)];else{if(_0x1f0f39[0x0][_0x43f9b2(0x175)]==_0x43f9b2(0x173))var _0x4928f9=users['German'];else{if(_0x1f0f39[0x0][_0x43f9b2(0x175)]=='Spanish')var _0x4928f9=users[_0x43f9b2(0x176)];else{if(_0x1f0f39[0x0]['language']==_0x43f9b2(0x189))var _0x4928f9=users[_0x43f9b2(0x189)];else{if(_0x1f0f39[0x0]['language']==_0x43f9b2(0x178))var _0x4928f9=users[_0x43f9b2(0x19d)];else{if(_0x1f0f39[0x0][_0x43f9b2(0x175)]==_0x43f9b2(0x1a3))var _0x4928f9=users[_0x43f9b2(0x1a3)];else{if(_0x1f0f39[0x0][_0x43f9b2(0x175)]==_0x43f9b2(0x167))var _0x4928f9=users['Arabic'];}}}}}}}_0xff332a['status'](0xc8)[_0x43f9b2(0x17e)]({'data':_0x16bdb3,'language':_0x4928f9});}catch(_0x36c6f3){console[_0x43f9b2(0x19b)](_0x36c6f3);}}),router[a0_0x1a1024(0x16d)](a0_0x1a1024(0x17f),auth,async(_0x2e22be,_0x2b3efa)=>{var _0x18846e=a0_0x1a1024;try{const _0x370740=_0x2e22be[_0x18846e(0x199)]['id'];console['log'](_0x370740);const _0x58b4b9=await master_shop[_0x18846e(0x190)]();console[_0x18846e(0x19b)](_0x18846e(0x17c),_0x58b4b9);const _0x46633f=await product['findOne']({'name':_0x370740});console['log'](_0x18846e(0x171),_0x46633f);const _0x381880=await warehouse[_0x18846e(0x185)]([{'$unwind':_0x18846e(0x18b)},{'$match':{'product_details.product_name':_0x370740}},{'$project':{'name':0x1,'product_name':_0x18846e(0x192),'product_stock':'$product_details.product_stock'}}]);console['log'](_0x18846e(0x17a),_0x381880);if(_0x58b4b9[0x0][_0x18846e(0x175)]==_0x18846e(0x182)){var _0x5b7503=users[_0x18846e(0x16a)];console[_0x18846e(0x19b)](_0x5b7503);}else{if(_0x58b4b9[0x0]['language']==_0x18846e(0x17b))var _0x5b7503=users[_0x18846e(0x17b)];else{if(_0x58b4b9[0x0][_0x18846e(0x175)]==_0x18846e(0x173))var _0x5b7503=users[_0x18846e(0x173)];else{if(_0x58b4b9[0x0][_0x18846e(0x175)]==_0x18846e(0x176))var _0x5b7503=users[_0x18846e(0x176)];else{if(_0x58b4b9[0x0]['language']=='French')var _0x5b7503=users[_0x18846e(0x189)];else{if(_0x58b4b9[0x0]['language']==_0x18846e(0x178))var _0x5b7503=users[_0x18846e(0x19d)];else{if(_0x58b4b9[0x0][_0x18846e(0x175)]==_0x18846e(0x1a3))var _0x5b7503=users[_0x18846e(0x1a3)];else{if(_0x58b4b9[0x0][_0x18846e(0x175)]==_0x18846e(0x167))var _0x5b7503=users[_0x18846e(0x1a2)];}}}}}}}_0x2b3efa[_0x18846e(0x186)](0xc8)['json']({'product_data':_0x46633f,'warehouse_data':_0x381880,'language':_0x5b7503});}catch(_0x83cf9b){console[_0x18846e(0x19b)](_0x83cf9b);}}),router[a0_0x1a1024(0x16c)](a0_0x1a1024(0x195),async(_0x5e36ae,_0x55fda7)=>{var _0x58b2b8=a0_0x1a1024;const {warehouseNew:_0x1a54c2,rooms:_0x2cc2b2}=_0x5e36ae[_0x58b2b8(0x179)];let _0x5db7fc;_0x2cc2b2==_0x58b2b8(0x169)?_0x5db7fc=await warehouse[_0x58b2b8(0x185)]([{'$match':{'name':_0x1a54c2}},{'$unwind':_0x58b2b8(0x18b)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5db7fc=await warehouse[_0x58b2b8(0x185)]([{'$match':{'name':_0x1a54c2,'room':_0x2cc2b2}},{'$unwind':_0x58b2b8(0x18b)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x55fda7[_0x58b2b8(0x17e)](_0x5db7fc);}),router['post'](a0_0x1a1024(0x19e),async(_0x18eb60,_0x4f38bd)=>{var _0xd01db9=a0_0x1a1024;const {warehouseNew:_0xd3864b,rooms:_0x4f12ea,Type:_0x162b1d,process_cat:_0x3414e4,room_cat:_0x510551}=_0x18eb60[_0xd01db9(0x179)],_0x3a40c1=await product[_0xd01db9(0x190)]();_0x4f38bd[_0xd01db9(0x17e)](_0x3a40c1);}),module['exports']=router;