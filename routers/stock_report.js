var a0_0x314585=a0_0x58fa;(function(_0x556bdf,_0x154c59){var _0x1880bf=a0_0x58fa,_0x35159a=_0x556bdf();while(!![]){try{var _0x8f71f=parseInt(_0x1880bf(0x9d))/0x1*(parseInt(_0x1880bf(0xb8))/0x2)+-parseInt(_0x1880bf(0xa0))/0x3+parseInt(_0x1880bf(0x89))/0x4*(parseInt(_0x1880bf(0x92))/0x5)+parseInt(_0x1880bf(0x9c))/0x6*(parseInt(_0x1880bf(0x8a))/0x7)+-parseInt(_0x1880bf(0xad))/0x8+parseInt(_0x1880bf(0xaa))/0x9*(parseInt(_0x1880bf(0xab))/0xa)+parseInt(_0x1880bf(0x90))/0xb;if(_0x8f71f===_0x154c59)break;else _0x35159a['push'](_0x35159a['shift']());}catch(_0x373ba4){_0x35159a['push'](_0x35159a['shift']());}}}(a0_0x33dd,0x4f315));const express=require(a0_0x314585(0xa2)),app=express(),router=express[a0_0x314585(0x8b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x314585(0xb6));router[a0_0x314585(0x9e)](a0_0x314585(0xc5),auth,async(_0x2ed280,_0x289a6a)=>{var _0x14540a=a0_0x314585;try{const _0x4e793e=_0x2ed280[_0x14540a(0xbe)];console[_0x14540a(0xa3)](_0x14540a(0xc9),_0x2ed280['user']);const _0x3a237f=await profile[_0x14540a(0x9f)]({'email':_0x4e793e[_0x14540a(0x91)]}),_0x520af5=await master_shop['find']();console[_0x14540a(0xa3)](_0x14540a(0xc3),_0x520af5);const _0x46812e=await warehouse[_0x14540a(0xaf)]([{'$match':{'status':_0x14540a(0xac)}},{'$group':{'_id':_0x14540a(0xbd),'name':{'$first':_0x14540a(0xbd)}}}]),_0x3280ad=await product[_0x14540a(0xa1)]({});if(_0x520af5[0x0][_0x14540a(0xb3)]==_0x14540a(0xb9)){var _0x1752bf=users[_0x14540a(0x8e)];console['log'](_0x1752bf);}else{if(_0x520af5[0x0][_0x14540a(0xb3)]=='Hindi')var _0x1752bf=users[_0x14540a(0xb2)];else{if(_0x520af5[0x0][_0x14540a(0xb3)]==_0x14540a(0xbf))var _0x1752bf=users['German'];else{if(_0x520af5[0x0][_0x14540a(0xb3)]==_0x14540a(0x9b))var _0x1752bf=users[_0x14540a(0x9b)];else{if(_0x520af5[0x0][_0x14540a(0xb3)]==_0x14540a(0xb4))var _0x1752bf=users[_0x14540a(0xb4)];else{if(_0x520af5[0x0]['language']==_0x14540a(0xb1))var _0x1752bf=users['Portuguese'];else{if(_0x520af5[0x0][_0x14540a(0xb3)]==_0x14540a(0x95))var _0x1752bf=users[_0x14540a(0x95)];else{if(_0x520af5[0x0][_0x14540a(0xb3)]==_0x14540a(0x93))var _0x1752bf=users['Arabic'];}}}}}}}_0x289a6a[_0x14540a(0xa5)](_0x14540a(0xb5),{'success':_0x2ed280[_0x14540a(0xc1)]('success'),'errors':_0x2ed280[_0x14540a(0xc1)](_0x14540a(0xa7)),'role':_0x4e793e,'profile':_0x3a237f,'master_shop':_0x520af5,'warehouse':_0x46812e,'product':_0x3280ad,'warehouse_doc':[],'product_doc':[],'language':_0x1752bf});}catch(_0x829acb){console[_0x14540a(0xa3)](_0x829acb);}}),router[a0_0x314585(0x9e)](a0_0x314585(0xc6),auth,async(_0x172976,_0x5e2fcf)=>{var _0x204773=a0_0x314585;try{const _0x49057b=await master_shop[_0x204773(0xa1)]();console[_0x204773(0xa3)]('master',_0x49057b);if(_0x172976[_0x204773(0x94)]['id']==_0x204773(0xc2)){const _0x332397=await warehouse[_0x204773(0xa1)]();console['log'](_0x332397);if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0xb9)){var _0xa49c96=users[_0x204773(0x8e)];console[_0x204773(0xa3)](_0xa49c96);}else{if(_0x49057b[0x0]['language']==_0x204773(0xb2))var _0xa49c96=users[_0x204773(0xb2)];else{if(_0x49057b[0x0][_0x204773(0xb3)]=='German')var _0xa49c96=users[_0x204773(0xbf)];else{if(_0x49057b[0x0][_0x204773(0xb3)]=='Spanish')var _0xa49c96=users['Spanish'];else{if(_0x49057b[0x0][_0x204773(0xb3)]=='French')var _0xa49c96=users['French'];else{if(_0x49057b[0x0]['language']==_0x204773(0xb1))var _0xa49c96=users[_0x204773(0xb7)];else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0x95))var _0xa49c96=users[_0x204773(0x95)];else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0x93))var _0xa49c96=users[_0x204773(0xa8)];}}}}}}}_0x5e2fcf[_0x204773(0x97)](0xc8)[_0x204773(0x8d)]({'data':_0x332397,'language':_0xa49c96[_0x204773(0xc2)]});}else{const _0x57d356=await product['find']();console['log']('111',_0x57d356);if(_0x49057b[0x0]['language']==_0x204773(0xb9)){var _0xa49c96=users['English'];console[_0x204773(0xa3)](_0xa49c96);}else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0xb2))var _0xa49c96=users[_0x204773(0xb2)];else{if(_0x49057b[0x0]['language']==_0x204773(0xbf))var _0xa49c96=users[_0x204773(0xbf)];else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0x9b))var _0xa49c96=users[_0x204773(0x9b)];else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0xb4))var _0xa49c96=users[_0x204773(0xb4)];else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0xb1))var _0xa49c96=users[_0x204773(0xb7)];else{if(_0x49057b[0x0][_0x204773(0xb3)]==_0x204773(0x95))var _0xa49c96=users[_0x204773(0x95)];else{if(_0x49057b[0x0]['language']=='Arabic\x20(ae)')var _0xa49c96=users[_0x204773(0xa8)];}}}}}}}_0x5e2fcf['status'](0xc8)[_0x204773(0x8d)]({'data':_0x57d356,'language':_0xa49c96[_0x204773(0x8f)]});}}catch(_0x52be46){console[_0x204773(0xa3)](_0x52be46);}}),router[a0_0x314585(0x9e)](a0_0x314585(0xba),auth,async(_0x3f0fc8,_0x340be9)=>{var _0x52dc04=a0_0x314585;try{const _0x4b58cf=_0x3f0fc8[_0x52dc04(0x94)]['id'];console[_0x52dc04(0xa3)](_0x4b58cf);const _0x5f5953=await master_shop['find']();console[_0x52dc04(0xa3)]('master',_0x5f5953);const _0x480a91=await warehouse['aggregate']([{'$match':{'name':_0x4b58cf}},{'$unwind':_0x52dc04(0x98)},{'$lookup':{'from':_0x52dc04(0x8f),'localField':'product_details.product_name','foreignField':_0x52dc04(0xa9),'as':_0x52dc04(0xbc)}},{'$unwind':_0x52dc04(0xae)},{'$project':{'name':0x1,'product_name':_0x52dc04(0xbb),'product_stock':'$product_details.product_stock','category':_0x52dc04(0xc8),'brand':_0x52dc04(0x96),'sku':_0x52dc04(0x99),'unit':_0x52dc04(0xc4),'rak':'product_details.rak_name','bin':_0x52dc04(0xa4)}}]);console[_0x52dc04(0xa3)](_0x480a91);if(_0x5f5953[0x0][_0x52dc04(0xb3)]==_0x52dc04(0xb9)){var _0x5ccf59=users[_0x52dc04(0x8e)];console[_0x52dc04(0xa3)](_0x5ccf59);}else{if(_0x5f5953[0x0][_0x52dc04(0xb3)]==_0x52dc04(0xb2))var _0x5ccf59=users['Hindi'];else{if(_0x5f5953[0x0][_0x52dc04(0xb3)]==_0x52dc04(0xbf))var _0x5ccf59=users[_0x52dc04(0xbf)];else{if(_0x5f5953[0x0][_0x52dc04(0xb3)]==_0x52dc04(0x9b))var _0x5ccf59=users[_0x52dc04(0x9b)];else{if(_0x5f5953[0x0]['language']==_0x52dc04(0xb4))var _0x5ccf59=users[_0x52dc04(0xb4)];else{if(_0x5f5953[0x0][_0x52dc04(0xb3)]==_0x52dc04(0xb1))var _0x5ccf59=users[_0x52dc04(0xb7)];else{if(_0x5f5953[0x0][_0x52dc04(0xb3)]==_0x52dc04(0x95))var _0x5ccf59=users['Chinese'];else{if(_0x5f5953[0x0][_0x52dc04(0xb3)]=='Arabic\x20(ae)')var _0x5ccf59=users[_0x52dc04(0xa8)];}}}}}}}_0x340be9[_0x52dc04(0x97)](0xc8)[_0x52dc04(0x8d)]({'data':_0x480a91,'language':_0x5ccf59});}catch(_0x5668cd){console[_0x52dc04(0xa3)](_0x5668cd);}}),router[a0_0x314585(0x9e)](a0_0x314585(0xc7),auth,async(_0x1a5efb,_0x1bad59)=>{var _0x2dde4f=a0_0x314585;try{const _0x58534b=_0x1a5efb['params']['id'];console['log'](_0x58534b);const _0x25e00a=await master_shop[_0x2dde4f(0xa1)]();console['log']('master',_0x25e00a);const _0x937745=await product[_0x2dde4f(0x9f)]({'name':_0x58534b});console['log'](_0x2dde4f(0xa6),_0x937745);const _0x22e53f=await warehouse[_0x2dde4f(0xaf)]([{'$unwind':_0x2dde4f(0x98)},{'$match':{'product_details.product_name':_0x58534b}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':'$product_details.product_stock'}}]);console[_0x2dde4f(0xa3)](_0x2dde4f(0xb0),_0x22e53f);if(_0x25e00a[0x0]['language']=='English\x20(US)'){var _0x7447de=users[_0x2dde4f(0x8e)];console[_0x2dde4f(0xa3)](_0x7447de);}else{if(_0x25e00a[0x0][_0x2dde4f(0xb3)]==_0x2dde4f(0xb2))var _0x7447de=users[_0x2dde4f(0xb2)];else{if(_0x25e00a[0x0][_0x2dde4f(0xb3)]==_0x2dde4f(0xbf))var _0x7447de=users[_0x2dde4f(0xbf)];else{if(_0x25e00a[0x0]['language']==_0x2dde4f(0x9b))var _0x7447de=users['Spanish'];else{if(_0x25e00a[0x0][_0x2dde4f(0xb3)]==_0x2dde4f(0xb4))var _0x7447de=users['French'];else{if(_0x25e00a[0x0][_0x2dde4f(0xb3)]==_0x2dde4f(0xb1))var _0x7447de=users[_0x2dde4f(0xb7)];else{if(_0x25e00a[0x0]['language']==_0x2dde4f(0x95))var _0x7447de=users[_0x2dde4f(0x95)];else{if(_0x25e00a[0x0][_0x2dde4f(0xb3)]==_0x2dde4f(0x93))var _0x7447de=users[_0x2dde4f(0xa8)];}}}}}}}_0x1bad59[_0x2dde4f(0x97)](0xc8)['json']({'product_data':_0x937745,'warehouse_data':_0x22e53f,'language':_0x7447de});}catch(_0x1d37d2){console['log'](_0x1d37d2);}}),router['post']('/Reports',async(_0x50d688,_0x150142)=>{var _0x9e93c4=a0_0x314585;const {warehouseNew:_0x30b7c1,rooms:_0x32b813}=_0x50d688[_0x9e93c4(0x9a)];let _0x292c38;_0x32b813=='All'?_0x292c38=await warehouse['aggregate']([{'$match':{'name':_0x30b7c1}},{'$unwind':_0x9e93c4(0x98)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x292c38=await warehouse['aggregate']([{'$match':{'name':_0x30b7c1,'room':_0x32b813}},{'$unwind':_0x9e93c4(0x98)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x150142[_0x9e93c4(0x8d)](_0x292c38);}),router[a0_0x314585(0xc0)](a0_0x314585(0x8c),async(_0x19be23,_0x1f1c2e)=>{var _0x4c565b=a0_0x314585;const {warehouseNew:_0x5345f7,rooms:_0x5070a8,Type:_0x424d23,process_cat:_0x224c2d,room_cat:_0x3578a1}=_0x19be23[_0x4c565b(0x9a)],_0xd31ff6=await product[_0x4c565b(0xa1)]();_0x1f1c2e['json'](_0xd31ff6);}),module['exports']=router;function a0_0x58fa(_0x468f8a,_0x27feb9){var _0x33dd5b=a0_0x33dd();return a0_0x58fa=function(_0x58fa6a,_0x3d9eac){_0x58fa6a=_0x58fa6a-0x89;var _0x3fd1c9=_0x33dd5b[_0x58fa6a];return _0x3fd1c9;},a0_0x58fa(_0x468f8a,_0x27feb9);}function a0_0x33dd(){var _0x46548=['$product_docs.unit','/view','/view/:id','/view/product/:id','$product_docs.category','role_data','892rAhDiH','728rWEdrz','Router','/Reports_product','json','English','products','5423572WJJvxO','email','2145UfPYLO','Arabic\x20(ae)','params','Chinese','$product_docs.brand','status','$product_details','$product_docs.sku','body','Spanish','9162SkgITz','1243YyLXzZ','get','findOne','624735dnkvUY','find','express','log','product_details.bin_name','render','product_data','errors','Arabic','name','27LqtuSx','622310KnrKiV','Enabled','4853576ljQQvj','$product_docs','aggregate','warehouse_data','Portuguese\x20(BR)','Hindi','language','French','stock_report','../public/language/languages.json','Portuguese','330plTmYu','English\x20(US)','/view/warehouse/:id','$product_details.product_name','product_docs','$name','user','German','post','flash','warehouse','master'];a0_0x33dd=function(){return _0x46548;};return a0_0x33dd();}