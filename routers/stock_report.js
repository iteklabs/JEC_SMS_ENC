var a0_0xf7f576=a0_0x46ac;function a0_0x46ac(_0x4cd7c0,_0x2db765){var _0x7b869a=a0_0x7b86();return a0_0x46ac=function(_0x46ac78,_0x2ea698){_0x46ac78=_0x46ac78-0x138;var _0x4d343f=_0x7b869a[_0x46ac78];return _0x4d343f;},a0_0x46ac(_0x4cd7c0,_0x2db765);}function a0_0x7b86(){var _0x32354a=['Hindi','user','stock_report','master','112TICZFK','post','Arabic\x20(ae)','French','find','1633914OzDJHD','/view/warehouse/:id','Portuguese\x20(BR)','/view/:id','status','902421Pavmgc','language','params','aggregate','product_details.rak_name','10hIkqYH','$product_docs.brand','$product_details','warehouse','Enabled','../models/all_models','$product_details.product_stock','role_data','All','Portuguese','878650vSAEFP','English','27275GmrJSR','German','exports','flash','products','2624rIHlXN','33BNAidL','body','json','$product_docs','111','email','Spanish','findOne','name','../public/language/languages.json','6678FGEAXv','Arabic','log','$product_details.product_name','3105175KTLNcr','Chinese','$name','get','errors','338436FomevO','/view','../middleware/auth','English\x20(US)','product_details.product_name'];a0_0x7b86=function(){return _0x32354a;};return a0_0x7b86();}(function(_0x54a65b,_0x530dbc){var _0x22d557=a0_0x46ac,_0x5b5cca=_0x54a65b();while(!![]){try{var _0x3fae6a=-parseInt(_0x22d557(0x151))/0x1*(-parseInt(_0x22d557(0x145))/0x2)+-parseInt(_0x22d557(0x161))/0x3*(-parseInt(_0x22d557(0x156))/0x4)+parseInt(_0x22d557(0x165))/0x5+-parseInt(_0x22d557(0x13b))/0x6+-parseInt(_0x22d557(0x16a))/0x7+-parseInt(_0x22d557(0x173))/0x8*(parseInt(_0x22d557(0x140))/0x9)+parseInt(_0x22d557(0x14f))/0xa*(parseInt(_0x22d557(0x157))/0xb);if(_0x3fae6a===_0x530dbc)break;else _0x5b5cca['push'](_0x5b5cca['shift']());}catch(_0x4294e2){_0x5b5cca['push'](_0x5b5cca['shift']());}}}(a0_0x7b86,0xb8c5c));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0xf7f576(0x14a)),auth=require(a0_0xf7f576(0x16c)),users=require(a0_0xf7f576(0x160));router[a0_0xf7f576(0x168)](a0_0xf7f576(0x16b),auth,async(_0x3c5c0f,_0x47c250)=>{var _0xde8b24=a0_0xf7f576;try{const _0x1d4761=_0x3c5c0f['user'];console[_0xde8b24(0x163)](_0xde8b24(0x14c),_0x3c5c0f[_0xde8b24(0x170)]);const _0x5ee563=await profile[_0xde8b24(0x15e)]({'email':_0x1d4761[_0xde8b24(0x15c)]}),_0x11403d=await master_shop[_0xde8b24(0x13a)]();console[_0xde8b24(0x163)](_0xde8b24(0x172),_0x11403d);const _0xc38a05=await warehouse[_0xde8b24(0x143)]([{'$match':{'status':_0xde8b24(0x149)}},{'$group':{'_id':'$name','name':{'$first':_0xde8b24(0x167)}}}]),_0xb12224=await product[_0xde8b24(0x13a)]({});if(_0x11403d[0x0][_0xde8b24(0x141)]==_0xde8b24(0x16d)){var _0x4520b4=users[_0xde8b24(0x150)];console['log'](_0x4520b4);}else{if(_0x11403d[0x0][_0xde8b24(0x141)]==_0xde8b24(0x16f))var _0x4520b4=users[_0xde8b24(0x16f)];else{if(_0x11403d[0x0][_0xde8b24(0x141)]==_0xde8b24(0x152))var _0x4520b4=users[_0xde8b24(0x152)];else{if(_0x11403d[0x0][_0xde8b24(0x141)]==_0xde8b24(0x15d))var _0x4520b4=users[_0xde8b24(0x15d)];else{if(_0x11403d[0x0][_0xde8b24(0x141)]==_0xde8b24(0x139))var _0x4520b4=users[_0xde8b24(0x139)];else{if(_0x11403d[0x0][_0xde8b24(0x141)]==_0xde8b24(0x13d))var _0x4520b4=users['Portuguese'];else{if(_0x11403d[0x0][_0xde8b24(0x141)]=='Chinese')var _0x4520b4=users[_0xde8b24(0x166)];else{if(_0x11403d[0x0][_0xde8b24(0x141)]=='Arabic\x20(ae)')var _0x4520b4=users['Arabic'];}}}}}}}_0x47c250['render'](_0xde8b24(0x171),{'success':_0x3c5c0f[_0xde8b24(0x154)]('success'),'errors':_0x3c5c0f['flash'](_0xde8b24(0x169)),'role':_0x1d4761,'profile':_0x5ee563,'master_shop':_0x11403d,'warehouse':_0xc38a05,'product':_0xb12224,'warehouse_doc':[],'product_doc':[],'language':_0x4520b4});}catch(_0x513b3a){console['log'](_0x513b3a);}}),router[a0_0xf7f576(0x168)](a0_0xf7f576(0x13e),auth,async(_0x3188ea,_0x5178af)=>{var _0x5c861a=a0_0xf7f576;try{const _0x1f63d0=await master_shop[_0x5c861a(0x13a)]();console[_0x5c861a(0x163)](_0x5c861a(0x172),_0x1f63d0);if(_0x3188ea[_0x5c861a(0x142)]['id']==_0x5c861a(0x148)){const _0x48ea03=await warehouse['find']();console[_0x5c861a(0x163)](_0x48ea03);if(_0x1f63d0[0x0]['language']==_0x5c861a(0x16d)){var _0x1ed08b=users['English'];console[_0x5c861a(0x163)](_0x1ed08b);}else{if(_0x1f63d0[0x0]['language']=='Hindi')var _0x1ed08b=users[_0x5c861a(0x16f)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x152))var _0x1ed08b=users[_0x5c861a(0x152)];else{if(_0x1f63d0[0x0]['language']==_0x5c861a(0x15d))var _0x1ed08b=users[_0x5c861a(0x15d)];else{if(_0x1f63d0[0x0]['language']=='French')var _0x1ed08b=users[_0x5c861a(0x139)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x13d))var _0x1ed08b=users['Portuguese'];else{if(_0x1f63d0[0x0]['language']=='Chinese')var _0x1ed08b=users[_0x5c861a(0x166)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]=='Arabic\x20(ae)')var _0x1ed08b=users[_0x5c861a(0x162)];}}}}}}}_0x5178af[_0x5c861a(0x13f)](0xc8)[_0x5c861a(0x159)]({'data':_0x48ea03,'language':_0x1ed08b[_0x5c861a(0x148)]});}else{const _0x271cb6=await product['find']();console[_0x5c861a(0x163)](_0x5c861a(0x15b),_0x271cb6);if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x16d)){var _0x1ed08b=users[_0x5c861a(0x150)];console[_0x5c861a(0x163)](_0x1ed08b);}else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x16f))var _0x1ed08b=users[_0x5c861a(0x16f)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x152))var _0x1ed08b=users[_0x5c861a(0x152)];else{if(_0x1f63d0[0x0]['language']==_0x5c861a(0x15d))var _0x1ed08b=users[_0x5c861a(0x15d)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]=='French')var _0x1ed08b=users['French'];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x13d))var _0x1ed08b=users[_0x5c861a(0x14e)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]=='Chinese')var _0x1ed08b=users[_0x5c861a(0x166)];else{if(_0x1f63d0[0x0][_0x5c861a(0x141)]==_0x5c861a(0x138))var _0x1ed08b=users['Arabic'];}}}}}}}_0x5178af[_0x5c861a(0x13f)](0xc8)[_0x5c861a(0x159)]({'data':_0x271cb6,'language':_0x1ed08b[_0x5c861a(0x155)]});}}catch(_0x5bf92e){console[_0x5c861a(0x163)](_0x5bf92e);}}),router[a0_0xf7f576(0x168)](a0_0xf7f576(0x13c),auth,async(_0x383292,_0x448fc1)=>{var _0x3e6350=a0_0xf7f576;try{const _0x8495c1=_0x383292[_0x3e6350(0x142)]['id'];console[_0x3e6350(0x163)](_0x8495c1);const _0x62bfc2=await master_shop[_0x3e6350(0x13a)]();console[_0x3e6350(0x163)](_0x3e6350(0x172),_0x62bfc2);const _0x5d8902=await warehouse[_0x3e6350(0x143)]([{'$match':{'name':_0x8495c1}},{'$unwind':_0x3e6350(0x147)},{'$lookup':{'from':_0x3e6350(0x155),'localField':_0x3e6350(0x16e),'foreignField':_0x3e6350(0x15f),'as':'product_docs'}},{'$unwind':_0x3e6350(0x15a)},{'$project':{'name':0x1,'product_name':_0x3e6350(0x164),'product_stock':_0x3e6350(0x14b),'category':'$product_docs.category','brand':_0x3e6350(0x146),'sku':'$product_docs.sku','unit':'$product_docs.unit','rak':_0x3e6350(0x144),'bin':'product_details.bin_name'}}]);console[_0x3e6350(0x163)](_0x5d8902);if(_0x62bfc2[0x0][_0x3e6350(0x141)]=='English\x20(US)'){var _0x7c6ef9=users[_0x3e6350(0x150)];console['log'](_0x7c6ef9);}else{if(_0x62bfc2[0x0][_0x3e6350(0x141)]==_0x3e6350(0x16f))var _0x7c6ef9=users[_0x3e6350(0x16f)];else{if(_0x62bfc2[0x0][_0x3e6350(0x141)]=='German')var _0x7c6ef9=users[_0x3e6350(0x152)];else{if(_0x62bfc2[0x0][_0x3e6350(0x141)]=='Spanish')var _0x7c6ef9=users['Spanish'];else{if(_0x62bfc2[0x0][_0x3e6350(0x141)]=='French')var _0x7c6ef9=users[_0x3e6350(0x139)];else{if(_0x62bfc2[0x0]['language']==_0x3e6350(0x13d))var _0x7c6ef9=users['Portuguese'];else{if(_0x62bfc2[0x0]['language']=='Chinese')var _0x7c6ef9=users[_0x3e6350(0x166)];else{if(_0x62bfc2[0x0][_0x3e6350(0x141)]==_0x3e6350(0x138))var _0x7c6ef9=users['Arabic'];}}}}}}}_0x448fc1['status'](0xc8)[_0x3e6350(0x159)]({'data':_0x5d8902,'language':_0x7c6ef9});}catch(_0x2e736f){console[_0x3e6350(0x163)](_0x2e736f);}}),router[a0_0xf7f576(0x168)]('/view/product/:id',auth,async(_0x5f287c,_0x111b86)=>{var _0x5ace68=a0_0xf7f576;try{const _0x46159e=_0x5f287c['params']['id'];console['log'](_0x46159e);const _0x4d9a8a=await master_shop[_0x5ace68(0x13a)]();console[_0x5ace68(0x163)](_0x5ace68(0x172),_0x4d9a8a);const _0x59055c=await product[_0x5ace68(0x15e)]({'name':_0x46159e});console[_0x5ace68(0x163)]('product_data',_0x59055c);const _0x1e8f6a=await warehouse['aggregate']([{'$unwind':_0x5ace68(0x147)},{'$match':{'product_details.product_name':_0x46159e}},{'$project':{'name':0x1,'product_name':_0x5ace68(0x164),'product_stock':_0x5ace68(0x14b)}}]);console[_0x5ace68(0x163)]('warehouse_data',_0x1e8f6a);if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x16d)){var _0x50cdcd=users['English'];console[_0x5ace68(0x163)](_0x50cdcd);}else{if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x16f))var _0x50cdcd=users['Hindi'];else{if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x152))var _0x50cdcd=users[_0x5ace68(0x152)];else{if(_0x4d9a8a[0x0]['language']==_0x5ace68(0x15d))var _0x50cdcd=users[_0x5ace68(0x15d)];else{if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x139))var _0x50cdcd=users[_0x5ace68(0x139)];else{if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x13d))var _0x50cdcd=users[_0x5ace68(0x14e)];else{if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x166))var _0x50cdcd=users['Chinese'];else{if(_0x4d9a8a[0x0][_0x5ace68(0x141)]==_0x5ace68(0x138))var _0x50cdcd=users[_0x5ace68(0x162)];}}}}}}}_0x111b86['status'](0xc8)[_0x5ace68(0x159)]({'product_data':_0x59055c,'warehouse_data':_0x1e8f6a,'language':_0x50cdcd});}catch(_0x4dd3ab){console[_0x5ace68(0x163)](_0x4dd3ab);}}),router[a0_0xf7f576(0x174)]('/Reports',async(_0x31cb6e,_0x4347b5)=>{var _0x597e5c=a0_0xf7f576;const {warehouseNew:_0x4d7acd,rooms:_0x4e6d8b}=_0x31cb6e[_0x597e5c(0x158)];let _0x3a60b8;_0x4e6d8b==_0x597e5c(0x14d)?_0x3a60b8=await warehouse[_0x597e5c(0x143)]([{'$match':{'name':_0x4d7acd}},{'$unwind':_0x597e5c(0x147)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x3a60b8=await warehouse['aggregate']([{'$match':{'name':_0x4d7acd,'room':_0x4e6d8b}},{'$unwind':_0x597e5c(0x147)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x4347b5[_0x597e5c(0x159)](_0x3a60b8);}),router['post']('/Reports_product',async(_0x113bbb,_0x2474c3)=>{var _0xa65b15=a0_0xf7f576;const {warehouseNew:_0x3140fd,rooms:_0x33ba1d,Type:_0x411d37,process_cat:_0x580638,room_cat:_0x12e12e}=_0x113bbb['body'],_0x5e6f17=await product[_0xa65b15(0x13a)]();_0x2474c3[_0xa65b15(0x159)](_0x5e6f17);}),module[a0_0xf7f576(0x153)]=router;