var a0_0xf8d17e=a0_0x4965;function a0_0x2c8a(){var _0x4ca7f0=['71798LVcmFl','$name','user','errors','json','Hindi','Enabled','$product_docs.sku','English\x20(US)','$product_docs','Portuguese','params','$product_details.product_stock','1242IMhBxy','status','product_docs','product_data','/view/product/:id','German','product_details.rak_name','exports','Spanish','2NZIsEc','warehouse','aggregate','name','Portuguese\x20(BR)','/view','/Reports','express','email','role_data','master','../middleware/auth','888129WpuKCg','log','Arabic\x20(ae)','116764gLfTJZ','product_details.bin_name','body','Router','246972sACUrW','111','post','English','render','1546192cZmeRA','warehouse_data','Arabic','products','$product_docs.brand','findOne','success','get','language','../public/language/languages.json','$product_docs.unit','$product_details','/Reports_product','product_details.product_name','stock_report','$product_details.product_name','7427QqUREQ','find','/view/:id','Chinese','flash','French','1261390ysTBOY'];a0_0x2c8a=function(){return _0x4ca7f0;};return a0_0x2c8a();}(function(_0xbace5d,_0x4042d6){var _0x34bad2=a0_0x4965,_0x36aad3=_0xbace5d();while(!![]){try{var _0x18c74c=-parseInt(_0x34bad2(0xcb))/0x1*(-parseInt(_0x34bad2(0xe1))/0x2)+-parseInt(_0x34bad2(0xf4))/0x3+-parseInt(_0x34bad2(0xf0))/0x4+parseInt(_0x34bad2(0xca))/0x5+-parseInt(_0x34bad2(0xd8))/0x6*(-parseInt(_0x34bad2(0xc4))/0x7)+-parseInt(_0x34bad2(0xb4))/0x8+-parseInt(_0x34bad2(0xed))/0x9;if(_0x18c74c===_0x4042d6)break;else _0x36aad3['push'](_0x36aad3['shift']());}catch(_0x5c25e6){_0x36aad3['push'](_0x36aad3['shift']());}}}(a0_0x2c8a,0x223c9));function a0_0x4965(_0x4805a9,_0x221c1d){var _0x2c8ab1=a0_0x2c8a();return a0_0x4965=function(_0x496563,_0x4d7a7f){_0x496563=_0x496563-0xb4;var _0x24b33e=_0x2c8ab1[_0x496563];return _0x24b33e;},a0_0x4965(_0x4805a9,_0x221c1d);}const express=require(a0_0xf8d17e(0xe8)),app=express(),router=express[a0_0xf8d17e(0xf3)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require(a0_0xf8d17e(0xec)),users=require(a0_0xf8d17e(0xbd));router[a0_0xf8d17e(0xbb)](a0_0xf8d17e(0xe6),auth,async(_0x550c79,_0x2c062b)=>{var _0x1f52d8=a0_0xf8d17e;try{const _0x4ee27d=_0x550c79['user'];console['log'](_0x1f52d8(0xea),_0x550c79[_0x1f52d8(0xcd)]);const _0x191b9c=await profile[_0x1f52d8(0xb9)]({'email':_0x4ee27d[_0x1f52d8(0xe9)]}),_0x13518b=await master_shop[_0x1f52d8(0xc5)]();console['log']('master',_0x13518b);const _0x16fb56=await warehouse[_0x1f52d8(0xe3)]([{'$match':{'status':_0x1f52d8(0xd1)}},{'$group':{'_id':_0x1f52d8(0xcc),'name':{'$first':_0x1f52d8(0xcc)}}}]),_0xdaff5=await product[_0x1f52d8(0xc5)]({});if(_0x13518b[0x0][_0x1f52d8(0xbc)]==_0x1f52d8(0xd3)){var _0x34dd54=users[_0x1f52d8(0xf7)];console[_0x1f52d8(0xee)](_0x34dd54);}else{if(_0x13518b[0x0]['language']==_0x1f52d8(0xd0))var _0x34dd54=users[_0x1f52d8(0xd0)];else{if(_0x13518b[0x0][_0x1f52d8(0xbc)]=='German')var _0x34dd54=users[_0x1f52d8(0xdd)];else{if(_0x13518b[0x0][_0x1f52d8(0xbc)]==_0x1f52d8(0xe0))var _0x34dd54=users[_0x1f52d8(0xe0)];else{if(_0x13518b[0x0][_0x1f52d8(0xbc)]==_0x1f52d8(0xc9))var _0x34dd54=users['French'];else{if(_0x13518b[0x0][_0x1f52d8(0xbc)]==_0x1f52d8(0xe5))var _0x34dd54=users[_0x1f52d8(0xd5)];else{if(_0x13518b[0x0][_0x1f52d8(0xbc)]==_0x1f52d8(0xc7))var _0x34dd54=users[_0x1f52d8(0xc7)];else{if(_0x13518b[0x0][_0x1f52d8(0xbc)]=='Arabic\x20(ae)')var _0x34dd54=users[_0x1f52d8(0xb6)];}}}}}}}_0x2c062b[_0x1f52d8(0xf8)](_0x1f52d8(0xc2),{'success':_0x550c79[_0x1f52d8(0xc8)](_0x1f52d8(0xba)),'errors':_0x550c79[_0x1f52d8(0xc8)](_0x1f52d8(0xce)),'role':_0x4ee27d,'profile':_0x191b9c,'master_shop':_0x13518b,'warehouse':_0x16fb56,'product':_0xdaff5,'warehouse_doc':[],'product_doc':[],'language':_0x34dd54});}catch(_0x3c8605){console['log'](_0x3c8605);}}),router[a0_0xf8d17e(0xbb)](a0_0xf8d17e(0xc6),auth,async(_0x2c40b3,_0x19a10a)=>{var _0x658956=a0_0xf8d17e;try{const _0x2c6332=await master_shop['find']();console[_0x658956(0xee)](_0x658956(0xeb),_0x2c6332);if(_0x2c40b3['params']['id']==_0x658956(0xe2)){const _0x10b866=await warehouse[_0x658956(0xc5)]();console[_0x658956(0xee)](_0x10b866);if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xd3)){var _0x43ea48=users[_0x658956(0xf7)];console[_0x658956(0xee)](_0x43ea48);}else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xd0))var _0x43ea48=users[_0x658956(0xd0)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xdd))var _0x43ea48=users[_0x658956(0xdd)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]=='Spanish')var _0x43ea48=users['Spanish'];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xc9))var _0x43ea48=users['French'];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xe5))var _0x43ea48=users[_0x658956(0xd5)];else{if(_0x2c6332[0x0]['language']==_0x658956(0xc7))var _0x43ea48=users[_0x658956(0xc7)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xef))var _0x43ea48=users[_0x658956(0xb6)];}}}}}}}_0x19a10a[_0x658956(0xd9)](0xc8)[_0x658956(0xcf)]({'data':_0x10b866,'language':_0x43ea48[_0x658956(0xe2)]});}else{const _0x25e323=await product[_0x658956(0xc5)]();console[_0x658956(0xee)](_0x658956(0xf5),_0x25e323);if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xd3)){var _0x43ea48=users[_0x658956(0xf7)];console[_0x658956(0xee)](_0x43ea48);}else{if(_0x2c6332[0x0][_0x658956(0xbc)]=='Hindi')var _0x43ea48=users[_0x658956(0xd0)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xdd))var _0x43ea48=users['German'];else{if(_0x2c6332[0x0][_0x658956(0xbc)]=='Spanish')var _0x43ea48=users[_0x658956(0xe0)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xc9))var _0x43ea48=users[_0x658956(0xc9)];else{if(_0x2c6332[0x0]['language']=='Portuguese\x20(BR)')var _0x43ea48=users[_0x658956(0xd5)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]=='Chinese')var _0x43ea48=users[_0x658956(0xc7)];else{if(_0x2c6332[0x0][_0x658956(0xbc)]==_0x658956(0xef))var _0x43ea48=users['Arabic'];}}}}}}}_0x19a10a[_0x658956(0xd9)](0xc8)[_0x658956(0xcf)]({'data':_0x25e323,'language':_0x43ea48['products']});}}catch(_0x6982f8){console[_0x658956(0xee)](_0x6982f8);}}),router[a0_0xf8d17e(0xbb)]('/view/warehouse/:id',auth,async(_0x2913cf,_0x19e1f3)=>{var _0x43fcab=a0_0xf8d17e;try{const _0x4c3e9c=_0x2913cf[_0x43fcab(0xd6)]['id'];console[_0x43fcab(0xee)](_0x4c3e9c);const _0x273aac=await master_shop[_0x43fcab(0xc5)]();console['log']('master',_0x273aac);const _0x3aaeee=await warehouse[_0x43fcab(0xe3)]([{'$match':{'name':_0x4c3e9c}},{'$unwind':_0x43fcab(0xbf)},{'$lookup':{'from':_0x43fcab(0xb7),'localField':_0x43fcab(0xc1),'foreignField':_0x43fcab(0xe4),'as':_0x43fcab(0xda)}},{'$unwind':_0x43fcab(0xd4)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':'$product_details.product_stock','category':'$product_docs.category','brand':_0x43fcab(0xb8),'sku':_0x43fcab(0xd2),'unit':_0x43fcab(0xbe),'rak':_0x43fcab(0xde),'bin':_0x43fcab(0xf1)}}]);console[_0x43fcab(0xee)](_0x3aaeee);if(_0x273aac[0x0][_0x43fcab(0xbc)]==_0x43fcab(0xd3)){var _0x5a761f=users['English'];console[_0x43fcab(0xee)](_0x5a761f);}else{if(_0x273aac[0x0][_0x43fcab(0xbc)]==_0x43fcab(0xd0))var _0x5a761f=users[_0x43fcab(0xd0)];else{if(_0x273aac[0x0][_0x43fcab(0xbc)]==_0x43fcab(0xdd))var _0x5a761f=users['German'];else{if(_0x273aac[0x0][_0x43fcab(0xbc)]=='Spanish')var _0x5a761f=users['Spanish'];else{if(_0x273aac[0x0][_0x43fcab(0xbc)]==_0x43fcab(0xc9))var _0x5a761f=users[_0x43fcab(0xc9)];else{if(_0x273aac[0x0][_0x43fcab(0xbc)]==_0x43fcab(0xe5))var _0x5a761f=users[_0x43fcab(0xd5)];else{if(_0x273aac[0x0][_0x43fcab(0xbc)]==_0x43fcab(0xc7))var _0x5a761f=users['Chinese'];else{if(_0x273aac[0x0][_0x43fcab(0xbc)]=='Arabic\x20(ae)')var _0x5a761f=users[_0x43fcab(0xb6)];}}}}}}}_0x19e1f3[_0x43fcab(0xd9)](0xc8)['json']({'data':_0x3aaeee,'language':_0x5a761f});}catch(_0x10e837){console[_0x43fcab(0xee)](_0x10e837);}}),router[a0_0xf8d17e(0xbb)](a0_0xf8d17e(0xdc),auth,async(_0x5a18d6,_0x1dd3c8)=>{var _0x16bb6f=a0_0xf8d17e;try{const _0xf5b4f8=_0x5a18d6[_0x16bb6f(0xd6)]['id'];console[_0x16bb6f(0xee)](_0xf5b4f8);const _0x22f0cf=await master_shop[_0x16bb6f(0xc5)]();console[_0x16bb6f(0xee)]('master',_0x22f0cf);const _0x3d3cb9=await product[_0x16bb6f(0xb9)]({'name':_0xf5b4f8});console[_0x16bb6f(0xee)](_0x16bb6f(0xdb),_0x3d3cb9);const _0x3e0c82=await warehouse[_0x16bb6f(0xe3)]([{'$unwind':_0x16bb6f(0xbf)},{'$match':{'product_details.product_name':_0xf5b4f8}},{'$project':{'name':0x1,'product_name':_0x16bb6f(0xc3),'product_stock':_0x16bb6f(0xd7)}}]);console['log'](_0x16bb6f(0xb5),_0x3e0c82);if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]==_0x16bb6f(0xd3)){var _0x469dd4=users[_0x16bb6f(0xf7)];console[_0x16bb6f(0xee)](_0x469dd4);}else{if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]==_0x16bb6f(0xd0))var _0x469dd4=users[_0x16bb6f(0xd0)];else{if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]=='German')var _0x469dd4=users[_0x16bb6f(0xdd)];else{if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]==_0x16bb6f(0xe0))var _0x469dd4=users[_0x16bb6f(0xe0)];else{if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]==_0x16bb6f(0xc9))var _0x469dd4=users[_0x16bb6f(0xc9)];else{if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]=='Portuguese\x20(BR)')var _0x469dd4=users[_0x16bb6f(0xd5)];else{if(_0x22f0cf[0x0]['language']=='Chinese')var _0x469dd4=users['Chinese'];else{if(_0x22f0cf[0x0][_0x16bb6f(0xbc)]==_0x16bb6f(0xef))var _0x469dd4=users[_0x16bb6f(0xb6)];}}}}}}}_0x1dd3c8[_0x16bb6f(0xd9)](0xc8)[_0x16bb6f(0xcf)]({'product_data':_0x3d3cb9,'warehouse_data':_0x3e0c82,'language':_0x469dd4});}catch(_0x33ca85){console['log'](_0x33ca85);}}),router[a0_0xf8d17e(0xf6)](a0_0xf8d17e(0xe7),async(_0x5f381a,_0x2e5709)=>{var _0x7ae6d=a0_0xf8d17e;const {warehouseNew:_0x25d87b,rooms:_0x2da895}=_0x5f381a[_0x7ae6d(0xf2)];let _0x222153;_0x2da895=='All'?_0x222153=await warehouse[_0x7ae6d(0xe3)]([{'$match':{'name':_0x25d87b}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x222153=await warehouse[_0x7ae6d(0xe3)]([{'$match':{'name':_0x25d87b,'room':_0x2da895}},{'$unwind':_0x7ae6d(0xbf)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x2e5709['json'](_0x222153);}),router['post'](a0_0xf8d17e(0xc0),async(_0x300199,_0x391bdc)=>{var _0x2a0ec3=a0_0xf8d17e;const {warehouseNew:_0x1d95d9,rooms:_0x370a6c,Type:_0x3e5836,process_cat:_0x2fdbdc,room_cat:_0x4694b1}=_0x300199[_0x2a0ec3(0xf2)],_0x538e14=await product['find']();_0x391bdc[_0x2a0ec3(0xcf)](_0x538e14);}),module[a0_0xf8d17e(0xdf)]=router;