function a0_0xeb45(){var _0x49d236=['147520fyNEyj','name','/view/warehouse/:id','42uzfpQt','English\x20(US)','111','body','findOne','flash','product_docs','aggregate','product_data','24487512bwRYcx','101662XmPeGF','master','$product_docs.unit','205617LFDErO','3097053ZYwpyz','language','find','get','warehouse_data','$name','Router','product_details.rak_name','2325060LsHhvJ','$product_docs.sku','515263TEVQIT','Arabic','German','product_details.bin_name','warehouse','Chinese','exports','$product_docs.category','14PvyXVY','French','Hindi','$product_details.product_name','/Reports','Portuguese','../models/all_models','68GKzzeo','8UgHtOZ','role_data','status','json','11oOAHhY','log','$product_details.product_stock','Arabic\x20(ae)','Spanish','user','$product_details','English','success','errors','/Reports_product','$product_docs.brand','Portuguese\x20(BR)','products','post','product_details.product_name','params','../public/language/languages.json'];a0_0xeb45=function(){return _0x49d236;};return a0_0xeb45();}var a0_0x1614a3=a0_0x3a23;(function(_0x1ae2fb,_0x2e886c){var _0x3b9c4d=a0_0x3a23,_0xd7e615=_0x1ae2fb();while(!![]){try{var _0x4060b5=-parseInt(_0x3b9c4d(0x14b))/0x1+-parseInt(_0x3b9c4d(0x161))/0x2*(parseInt(_0x3b9c4d(0x14e))/0x3)+parseInt(_0x3b9c4d(0x168))/0x4*(-parseInt(_0x3b9c4d(0x13e))/0x5)+parseInt(_0x3b9c4d(0x141))/0x6*(-parseInt(_0x3b9c4d(0x159))/0x7)+-parseInt(_0x3b9c4d(0x169))/0x8*(parseInt(_0x3b9c4d(0x14f))/0x9)+parseInt(_0x3b9c4d(0x157))/0xa+parseInt(_0x3b9c4d(0x16d))/0xb*(parseInt(_0x3b9c4d(0x14a))/0xc);if(_0x4060b5===_0x2e886c)break;else _0xd7e615['push'](_0xd7e615['shift']());}catch(_0x500cfe){_0xd7e615['push'](_0xd7e615['shift']());}}}(a0_0xeb45,0x50bfd));function a0_0x3a23(_0x396edc,_0x3b9854){var _0xeb456d=a0_0xeb45();return a0_0x3a23=function(_0x3a2370,_0x579318){_0x3a2370=_0x3a2370-0x13b;var _0x48f3a4=_0xeb456d[_0x3a2370];return _0x48f3a4;},a0_0x3a23(_0x396edc,_0x3b9854);}const express=require('express'),app=express(),router=express[a0_0x1614a3(0x155)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x1614a3(0x167)),auth=require('../middleware/auth'),users=require(a0_0x1614a3(0x13d));router[a0_0x1614a3(0x152)]('/view',auth,async(_0x543b62,_0x551a12)=>{var _0x8e507c=a0_0x1614a3;try{const _0x3a7537=_0x543b62[_0x8e507c(0x172)];console['log'](_0x8e507c(0x16a),_0x543b62['user']);const _0x379a47=await profile[_0x8e507c(0x145)]({'email':_0x3a7537['email']}),_0x5cc4e4=await master_shop[_0x8e507c(0x151)]();console[_0x8e507c(0x16e)](_0x8e507c(0x14c),_0x5cc4e4);const _0x416f00=await warehouse['aggregate']([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x8e507c(0x154),'name':{'$first':_0x8e507c(0x154)}}}]),_0x3c73f9=await product[_0x8e507c(0x151)]({});if(_0x5cc4e4[0x0][_0x8e507c(0x150)]==_0x8e507c(0x142)){var _0x2e67a7=users['English'];console[_0x8e507c(0x16e)](_0x2e67a7);}else{if(_0x5cc4e4[0x0][_0x8e507c(0x150)]==_0x8e507c(0x163))var _0x2e67a7=users[_0x8e507c(0x163)];else{if(_0x5cc4e4[0x0][_0x8e507c(0x150)]==_0x8e507c(0x15b))var _0x2e67a7=users['German'];else{if(_0x5cc4e4[0x0]['language']=='Spanish')var _0x2e67a7=users[_0x8e507c(0x171)];else{if(_0x5cc4e4[0x0][_0x8e507c(0x150)]==_0x8e507c(0x162))var _0x2e67a7=users[_0x8e507c(0x162)];else{if(_0x5cc4e4[0x0][_0x8e507c(0x150)]==_0x8e507c(0x179))var _0x2e67a7=users['Portuguese'];else{if(_0x5cc4e4[0x0]['language']==_0x8e507c(0x15e))var _0x2e67a7=users[_0x8e507c(0x15e)];else{if(_0x5cc4e4[0x0][_0x8e507c(0x150)]==_0x8e507c(0x170))var _0x2e67a7=users[_0x8e507c(0x15a)];}}}}}}}_0x551a12['render']('stock_report',{'success':_0x543b62[_0x8e507c(0x146)](_0x8e507c(0x175)),'errors':_0x543b62['flash'](_0x8e507c(0x176)),'role':_0x3a7537,'profile':_0x379a47,'master_shop':_0x5cc4e4,'warehouse':_0x416f00,'product':_0x3c73f9,'warehouse_doc':[],'product_doc':[],'language':_0x2e67a7});}catch(_0x56cdda){console[_0x8e507c(0x16e)](_0x56cdda);}}),router['get']('/view/:id',auth,async(_0x4c4a87,_0x3fe0bc)=>{var _0x40a947=a0_0x1614a3;try{const _0xf076a4=await master_shop[_0x40a947(0x151)]();console[_0x40a947(0x16e)]('master',_0xf076a4);if(_0x4c4a87['params']['id']==_0x40a947(0x15d)){const _0x65dddd=await warehouse['find']();console[_0x40a947(0x16e)](_0x65dddd);if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x142)){var _0x42c157=users[_0x40a947(0x174)];console[_0x40a947(0x16e)](_0x42c157);}else{if(_0xf076a4[0x0]['language']=='Hindi')var _0x42c157=users[_0x40a947(0x163)];else{if(_0xf076a4[0x0]['language']=='German')var _0x42c157=users['German'];else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x171))var _0x42c157=users[_0x40a947(0x171)];else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x162))var _0x42c157=users['French'];else{if(_0xf076a4[0x0][_0x40a947(0x150)]=='Portuguese\x20(BR)')var _0x42c157=users[_0x40a947(0x166)];else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x15e))var _0x42c157=users[_0x40a947(0x15e)];else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x170))var _0x42c157=users[_0x40a947(0x15a)];}}}}}}}_0x3fe0bc[_0x40a947(0x16b)](0xc8)[_0x40a947(0x16c)]({'data':_0x65dddd,'language':_0x42c157['warehouse']});}else{const _0x1376fc=await product['find']();console[_0x40a947(0x16e)](_0x40a947(0x143),_0x1376fc);if(_0xf076a4[0x0]['language']==_0x40a947(0x142)){var _0x42c157=users[_0x40a947(0x174)];console[_0x40a947(0x16e)](_0x42c157);}else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x163))var _0x42c157=users[_0x40a947(0x163)];else{if(_0xf076a4[0x0][_0x40a947(0x150)]=='German')var _0x42c157=users[_0x40a947(0x15b)];else{if(_0xf076a4[0x0]['language']==_0x40a947(0x171))var _0x42c157=users['Spanish'];else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x162))var _0x42c157=users[_0x40a947(0x162)];else{if(_0xf076a4[0x0]['language']==_0x40a947(0x179))var _0x42c157=users[_0x40a947(0x166)];else{if(_0xf076a4[0x0][_0x40a947(0x150)]=='Chinese')var _0x42c157=users[_0x40a947(0x15e)];else{if(_0xf076a4[0x0][_0x40a947(0x150)]==_0x40a947(0x170))var _0x42c157=users['Arabic'];}}}}}}}_0x3fe0bc['status'](0xc8)[_0x40a947(0x16c)]({'data':_0x1376fc,'language':_0x42c157['products']});}}catch(_0x439ffa){console[_0x40a947(0x16e)](_0x439ffa);}}),router[a0_0x1614a3(0x152)](a0_0x1614a3(0x140),auth,async(_0x270f1f,_0x35d628)=>{var _0x4a8da9=a0_0x1614a3;try{const _0x1e4a74=_0x270f1f[_0x4a8da9(0x13c)]['id'];console[_0x4a8da9(0x16e)](_0x1e4a74);const _0x1dc5a4=await master_shop['find']();console[_0x4a8da9(0x16e)]('master',_0x1dc5a4);const _0x4b87b9=await warehouse['aggregate']([{'$match':{'name':_0x1e4a74}},{'$unwind':_0x4a8da9(0x173)},{'$lookup':{'from':_0x4a8da9(0x17a),'localField':_0x4a8da9(0x13b),'foreignField':_0x4a8da9(0x13f),'as':_0x4a8da9(0x147)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x4a8da9(0x164),'product_stock':_0x4a8da9(0x16f),'category':_0x4a8da9(0x160),'brand':_0x4a8da9(0x178),'sku':_0x4a8da9(0x158),'unit':_0x4a8da9(0x14d),'rak':_0x4a8da9(0x156),'bin':_0x4a8da9(0x15c)}}]);console[_0x4a8da9(0x16e)](_0x4b87b9);if(_0x1dc5a4[0x0][_0x4a8da9(0x150)]==_0x4a8da9(0x142)){var _0x1c2780=users[_0x4a8da9(0x174)];console[_0x4a8da9(0x16e)](_0x1c2780);}else{if(_0x1dc5a4[0x0][_0x4a8da9(0x150)]==_0x4a8da9(0x163))var _0x1c2780=users[_0x4a8da9(0x163)];else{if(_0x1dc5a4[0x0][_0x4a8da9(0x150)]==_0x4a8da9(0x15b))var _0x1c2780=users[_0x4a8da9(0x15b)];else{if(_0x1dc5a4[0x0][_0x4a8da9(0x150)]=='Spanish')var _0x1c2780=users[_0x4a8da9(0x171)];else{if(_0x1dc5a4[0x0][_0x4a8da9(0x150)]==_0x4a8da9(0x162))var _0x1c2780=users[_0x4a8da9(0x162)];else{if(_0x1dc5a4[0x0]['language']==_0x4a8da9(0x179))var _0x1c2780=users[_0x4a8da9(0x166)];else{if(_0x1dc5a4[0x0]['language']==_0x4a8da9(0x15e))var _0x1c2780=users['Chinese'];else{if(_0x1dc5a4[0x0][_0x4a8da9(0x150)]==_0x4a8da9(0x170))var _0x1c2780=users['Arabic'];}}}}}}}_0x35d628[_0x4a8da9(0x16b)](0xc8)['json']({'data':_0x4b87b9,'language':_0x1c2780});}catch(_0x3d26bc){console[_0x4a8da9(0x16e)](_0x3d26bc);}}),router['get']('/view/product/:id',auth,async(_0x3410c6,_0x2541d2)=>{var _0x564527=a0_0x1614a3;try{const _0x153a7b=_0x3410c6[_0x564527(0x13c)]['id'];console[_0x564527(0x16e)](_0x153a7b);const _0x3b68e4=await master_shop[_0x564527(0x151)]();console['log'](_0x564527(0x14c),_0x3b68e4);const _0x226cd1=await product[_0x564527(0x145)]({'name':_0x153a7b});console[_0x564527(0x16e)](_0x564527(0x149),_0x226cd1);const _0x804045=await warehouse[_0x564527(0x148)]([{'$unwind':_0x564527(0x173)},{'$match':{'product_details.product_name':_0x153a7b}},{'$project':{'name':0x1,'product_name':_0x564527(0x164),'product_stock':_0x564527(0x16f)}}]);console[_0x564527(0x16e)](_0x564527(0x153),_0x804045);if(_0x3b68e4[0x0][_0x564527(0x150)]=='English\x20(US)'){var _0x1d1daf=users['English'];console[_0x564527(0x16e)](_0x1d1daf);}else{if(_0x3b68e4[0x0][_0x564527(0x150)]==_0x564527(0x163))var _0x1d1daf=users[_0x564527(0x163)];else{if(_0x3b68e4[0x0][_0x564527(0x150)]==_0x564527(0x15b))var _0x1d1daf=users['German'];else{if(_0x3b68e4[0x0]['language']==_0x564527(0x171))var _0x1d1daf=users['Spanish'];else{if(_0x3b68e4[0x0][_0x564527(0x150)]==_0x564527(0x162))var _0x1d1daf=users[_0x564527(0x162)];else{if(_0x3b68e4[0x0][_0x564527(0x150)]==_0x564527(0x179))var _0x1d1daf=users['Portuguese'];else{if(_0x3b68e4[0x0][_0x564527(0x150)]==_0x564527(0x15e))var _0x1d1daf=users[_0x564527(0x15e)];else{if(_0x3b68e4[0x0][_0x564527(0x150)]==_0x564527(0x170))var _0x1d1daf=users['Arabic'];}}}}}}}_0x2541d2['status'](0xc8)[_0x564527(0x16c)]({'product_data':_0x226cd1,'warehouse_data':_0x804045,'language':_0x1d1daf});}catch(_0x5d762a){console[_0x564527(0x16e)](_0x5d762a);}}),router[a0_0x1614a3(0x17b)](a0_0x1614a3(0x165),async(_0x17d82f,_0x470f9e)=>{var _0x2ca874=a0_0x1614a3;const {warehouseNew:_0x1549bf,rooms:_0x1e4461}=_0x17d82f[_0x2ca874(0x144)];let _0x5c1c75;_0x1e4461=='All'?_0x5c1c75=await warehouse[_0x2ca874(0x148)]([{'$match':{'name':_0x1549bf}},{'$unwind':_0x2ca874(0x173)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5c1c75=await warehouse[_0x2ca874(0x148)]([{'$match':{'name':_0x1549bf,'room':_0x1e4461}},{'$unwind':_0x2ca874(0x173)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x470f9e[_0x2ca874(0x16c)](_0x5c1c75);}),router[a0_0x1614a3(0x17b)](a0_0x1614a3(0x177),async(_0x597e9b,_0x176e2b)=>{var _0x482ef9=a0_0x1614a3;const {warehouseNew:_0x539b5c,rooms:_0x1f3ae4,Type:_0xc85f3c,process_cat:_0x48c423,room_cat:_0xb51339}=_0x597e9b[_0x482ef9(0x144)],_0x2b4543=await product[_0x482ef9(0x151)]();_0x176e2b['json'](_0x2b4543);}),module[a0_0x1614a3(0x15f)]=router;