var a0_0x7c8fca=a0_0x1554;function a0_0x2ae7(){var _0x150e33=['params','111','1829525oobbxU','170879NSXfyl','$product_details.product_stock','Spanish','English\x20(US)','Arabic','$product_details.product_name','Portuguese','$product_docs.category','Arabic\x20(ae)','products','warehouse','../public/language/languages.json','name','post','1348592rLCjNI','Hindi','6EQPHzX','/view/warehouse/:id','body','Chinese','143001BWobBI','German','user','/view','4011628kwlJdk','master','$product_details','errors','437024dBJqba','language','All','warehouse_data','json','flash','Enabled','product_details.product_name','product_data','status','find','$product_docs.sku','product_docs','get','5558896xRSErZ','$product_docs.brand','../middleware/auth','../models/all_models','Portuguese\x20(BR)','email','$name','render','stock_report','exports','success','findOne','aggregate','log','/Reports_product','product_details.bin_name','English','French'];a0_0x2ae7=function(){return _0x150e33;};return a0_0x2ae7();}function a0_0x1554(_0x206d26,_0x1802e4){var _0x2ae7cd=a0_0x2ae7();return a0_0x1554=function(_0x1554cb,_0x234725){_0x1554cb=_0x1554cb-0x17f;var _0x443752=_0x2ae7cd[_0x1554cb];return _0x443752;},a0_0x1554(_0x206d26,_0x1802e4);}(function(_0x59876c,_0x31f224){var _0x21c3e5=a0_0x1554,_0xa15969=_0x59876c();while(!![]){try{var _0x51b615=parseInt(_0x21c3e5(0x184))/0x1+parseInt(_0x21c3e5(0x1a0))/0x2+-parseInt(_0x21c3e5(0x198))/0x3+-parseInt(_0x21c3e5(0x19c))/0x4+parseInt(_0x21c3e5(0x183))/0x5+-parseInt(_0x21c3e5(0x194))/0x6*(-parseInt(_0x21c3e5(0x192))/0x7)+parseInt(_0x21c3e5(0x1ae))/0x8;if(_0x51b615===_0x31f224)break;else _0xa15969['push'](_0xa15969['shift']());}catch(_0x2348c6){_0xa15969['push'](_0xa15969['shift']());}}}(a0_0x2ae7,0x90970));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x7c8fca(0x1b1)),auth=require(a0_0x7c8fca(0x1b0)),users=require(a0_0x7c8fca(0x18f));router['get'](a0_0x7c8fca(0x19b),auth,async(_0x13d553,_0x2199aa)=>{var _0x3af119=a0_0x7c8fca;try{const _0x35c4c6=_0x13d553[_0x3af119(0x19a)];console['log']('role_data',_0x13d553[_0x3af119(0x19a)]);const _0x469b00=await profile[_0x3af119(0x1b9)]({'email':_0x35c4c6[_0x3af119(0x1b3)]}),_0x271174=await master_shop[_0x3af119(0x1aa)]();console['log'](_0x3af119(0x19d),_0x271174);const _0x3b07a8=await warehouse[_0x3af119(0x1ba)]([{'$match':{'status':_0x3af119(0x1a6)}},{'$group':{'_id':_0x3af119(0x1b4),'name':{'$first':'$name'}}}]),_0x2dfee4=await product[_0x3af119(0x1aa)]({});if(_0x271174[0x0][_0x3af119(0x1a1)]==_0x3af119(0x187)){var _0x378641=users[_0x3af119(0x17f)];console[_0x3af119(0x1bb)](_0x378641);}else{if(_0x271174[0x0]['language']==_0x3af119(0x193))var _0x378641=users[_0x3af119(0x193)];else{if(_0x271174[0x0][_0x3af119(0x1a1)]==_0x3af119(0x199))var _0x378641=users['German'];else{if(_0x271174[0x0][_0x3af119(0x1a1)]==_0x3af119(0x186))var _0x378641=users[_0x3af119(0x186)];else{if(_0x271174[0x0][_0x3af119(0x1a1)]==_0x3af119(0x180))var _0x378641=users[_0x3af119(0x180)];else{if(_0x271174[0x0]['language']==_0x3af119(0x1b2))var _0x378641=users['Portuguese'];else{if(_0x271174[0x0][_0x3af119(0x1a1)]==_0x3af119(0x197))var _0x378641=users[_0x3af119(0x197)];else{if(_0x271174[0x0][_0x3af119(0x1a1)]=='Arabic\x20(ae)')var _0x378641=users[_0x3af119(0x188)];}}}}}}}_0x2199aa[_0x3af119(0x1b5)](_0x3af119(0x1b6),{'success':_0x13d553['flash'](_0x3af119(0x1b8)),'errors':_0x13d553[_0x3af119(0x1a5)](_0x3af119(0x19f)),'role':_0x35c4c6,'profile':_0x469b00,'master_shop':_0x271174,'warehouse':_0x3b07a8,'product':_0x2dfee4,'warehouse_doc':[],'product_doc':[],'language':_0x378641});}catch(_0x3d04be){console['log'](_0x3d04be);}}),router[a0_0x7c8fca(0x1ad)]('/view/:id',auth,async(_0x2e843d,_0x762754)=>{var _0x4eed46=a0_0x7c8fca;try{const _0x446e41=await master_shop[_0x4eed46(0x1aa)]();console[_0x4eed46(0x1bb)](_0x4eed46(0x19d),_0x446e41);if(_0x2e843d[_0x4eed46(0x181)]['id']==_0x4eed46(0x18e)){const _0x2aa861=await warehouse[_0x4eed46(0x1aa)]();console[_0x4eed46(0x1bb)](_0x2aa861);if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x187)){var _0x216263=users[_0x4eed46(0x17f)];console[_0x4eed46(0x1bb)](_0x216263);}else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x193))var _0x216263=users['Hindi'];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x199))var _0x216263=users['German'];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x186))var _0x216263=users[_0x4eed46(0x186)];else{if(_0x446e41[0x0]['language']==_0x4eed46(0x180))var _0x216263=users[_0x4eed46(0x180)];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x1b2))var _0x216263=users[_0x4eed46(0x18a)];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x197))var _0x216263=users['Chinese'];else{if(_0x446e41[0x0]['language']==_0x4eed46(0x18c))var _0x216263=users['Arabic'];}}}}}}}_0x762754[_0x4eed46(0x1a9)](0xc8)['json']({'data':_0x2aa861,'language':_0x216263[_0x4eed46(0x18e)]});}else{const _0x54c20b=await product[_0x4eed46(0x1aa)]();console[_0x4eed46(0x1bb)](_0x4eed46(0x182),_0x54c20b);if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x187)){var _0x216263=users[_0x4eed46(0x17f)];console[_0x4eed46(0x1bb)](_0x216263);}else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x193))var _0x216263=users[_0x4eed46(0x193)];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]=='German')var _0x216263=users[_0x4eed46(0x199)];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]=='Spanish')var _0x216263=users['Spanish'];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x180))var _0x216263=users['French'];else{if(_0x446e41[0x0]['language']==_0x4eed46(0x1b2))var _0x216263=users['Portuguese'];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x197))var _0x216263=users[_0x4eed46(0x197)];else{if(_0x446e41[0x0][_0x4eed46(0x1a1)]==_0x4eed46(0x18c))var _0x216263=users[_0x4eed46(0x188)];}}}}}}}_0x762754[_0x4eed46(0x1a9)](0xc8)[_0x4eed46(0x1a4)]({'data':_0x54c20b,'language':_0x216263[_0x4eed46(0x18d)]});}}catch(_0xed67dd){console['log'](_0xed67dd);}}),router['get'](a0_0x7c8fca(0x195),auth,async(_0x4a449f,_0x535125)=>{var _0x28df3f=a0_0x7c8fca;try{const _0x47d63c=_0x4a449f[_0x28df3f(0x181)]['id'];console[_0x28df3f(0x1bb)](_0x47d63c);const _0x5b6535=await master_shop[_0x28df3f(0x1aa)]();console[_0x28df3f(0x1bb)](_0x28df3f(0x19d),_0x5b6535);const _0x5f526e=await warehouse[_0x28df3f(0x1ba)]([{'$match':{'name':_0x47d63c}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x28df3f(0x18d),'localField':_0x28df3f(0x1a7),'foreignField':_0x28df3f(0x190),'as':_0x28df3f(0x1ac)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x28df3f(0x189),'product_stock':_0x28df3f(0x185),'category':_0x28df3f(0x18b),'brand':_0x28df3f(0x1af),'sku':_0x28df3f(0x1ab),'unit':'$product_docs.unit','rak':'product_details.rak_name','bin':_0x28df3f(0x1bd)}}]);console['log'](_0x5f526e);if(_0x5b6535[0x0][_0x28df3f(0x1a1)]==_0x28df3f(0x187)){var _0x23b825=users['English'];console[_0x28df3f(0x1bb)](_0x23b825);}else{if(_0x5b6535[0x0]['language']==_0x28df3f(0x193))var _0x23b825=users[_0x28df3f(0x193)];else{if(_0x5b6535[0x0][_0x28df3f(0x1a1)]==_0x28df3f(0x199))var _0x23b825=users[_0x28df3f(0x199)];else{if(_0x5b6535[0x0][_0x28df3f(0x1a1)]==_0x28df3f(0x186))var _0x23b825=users[_0x28df3f(0x186)];else{if(_0x5b6535[0x0][_0x28df3f(0x1a1)]==_0x28df3f(0x180))var _0x23b825=users[_0x28df3f(0x180)];else{if(_0x5b6535[0x0][_0x28df3f(0x1a1)]==_0x28df3f(0x1b2))var _0x23b825=users[_0x28df3f(0x18a)];else{if(_0x5b6535[0x0]['language']==_0x28df3f(0x197))var _0x23b825=users[_0x28df3f(0x197)];else{if(_0x5b6535[0x0]['language']==_0x28df3f(0x18c))var _0x23b825=users[_0x28df3f(0x188)];}}}}}}}_0x535125[_0x28df3f(0x1a9)](0xc8)[_0x28df3f(0x1a4)]({'data':_0x5f526e,'language':_0x23b825});}catch(_0x111ae8){console[_0x28df3f(0x1bb)](_0x111ae8);}}),router['get']('/view/product/:id',auth,async(_0x497f3d,_0xa8ed4f)=>{var _0x3ca5db=a0_0x7c8fca;try{const _0x172807=_0x497f3d['params']['id'];console[_0x3ca5db(0x1bb)](_0x172807);const _0x4f9b52=await master_shop['find']();console[_0x3ca5db(0x1bb)](_0x3ca5db(0x19d),_0x4f9b52);const _0x2774d1=await product[_0x3ca5db(0x1b9)]({'name':_0x172807});console[_0x3ca5db(0x1bb)](_0x3ca5db(0x1a8),_0x2774d1);const _0x39c243=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x172807}},{'$project':{'name':0x1,'product_name':_0x3ca5db(0x189),'product_stock':_0x3ca5db(0x185)}}]);console[_0x3ca5db(0x1bb)](_0x3ca5db(0x1a3),_0x39c243);if(_0x4f9b52[0x0][_0x3ca5db(0x1a1)]==_0x3ca5db(0x187)){var _0x5804af=users[_0x3ca5db(0x17f)];console[_0x3ca5db(0x1bb)](_0x5804af);}else{if(_0x4f9b52[0x0][_0x3ca5db(0x1a1)]==_0x3ca5db(0x193))var _0x5804af=users[_0x3ca5db(0x193)];else{if(_0x4f9b52[0x0]['language']==_0x3ca5db(0x199))var _0x5804af=users[_0x3ca5db(0x199)];else{if(_0x4f9b52[0x0][_0x3ca5db(0x1a1)]=='Spanish')var _0x5804af=users[_0x3ca5db(0x186)];else{if(_0x4f9b52[0x0]['language']=='French')var _0x5804af=users[_0x3ca5db(0x180)];else{if(_0x4f9b52[0x0][_0x3ca5db(0x1a1)]==_0x3ca5db(0x1b2))var _0x5804af=users[_0x3ca5db(0x18a)];else{if(_0x4f9b52[0x0]['language']==_0x3ca5db(0x197))var _0x5804af=users[_0x3ca5db(0x197)];else{if(_0x4f9b52[0x0][_0x3ca5db(0x1a1)]==_0x3ca5db(0x18c))var _0x5804af=users[_0x3ca5db(0x188)];}}}}}}}_0xa8ed4f[_0x3ca5db(0x1a9)](0xc8)['json']({'product_data':_0x2774d1,'warehouse_data':_0x39c243,'language':_0x5804af});}catch(_0x51a913){console[_0x3ca5db(0x1bb)](_0x51a913);}}),router['post']('/Reports',async(_0x56e2ea,_0x32db5f)=>{var _0x446ee5=a0_0x7c8fca;const {warehouseNew:_0x4eda1c,rooms:_0x295697}=_0x56e2ea[_0x446ee5(0x196)];let _0x183781;_0x295697==_0x446ee5(0x1a2)?_0x183781=await warehouse[_0x446ee5(0x1ba)]([{'$match':{'name':_0x4eda1c}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x183781=await warehouse['aggregate']([{'$match':{'name':_0x4eda1c,'room':_0x295697}},{'$unwind':_0x446ee5(0x19e)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x32db5f['json'](_0x183781);}),router[a0_0x7c8fca(0x191)](a0_0x7c8fca(0x1bc),async(_0x3e0ebd,_0x157281)=>{var _0x3bb908=a0_0x7c8fca;const {warehouseNew:_0x1ac52b,rooms:_0x5d8ab0,Type:_0x5d0406,process_cat:_0x49d142,room_cat:_0x53ee4d}=_0x3e0ebd['body'],_0x2b7949=await product[_0x3bb908(0x1aa)]();_0x157281['json'](_0x2b7949);}),module[a0_0x7c8fca(0x1b7)]=router;