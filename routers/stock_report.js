var a0_0x2e4913=a0_0x3957;function a0_0x3957(_0x5e2b7e,_0x272640){var _0x5608d2=a0_0x5608();return a0_0x3957=function(_0x395719,_0x356e17){_0x395719=_0x395719-0x157;var _0x5d450c=_0x5608d2[_0x395719];return _0x5d450c;},a0_0x3957(_0x5e2b7e,_0x272640);}(function(_0x2d927d,_0x3ec043){var _0x2b786b=a0_0x3957,_0x55fa48=_0x2d927d();while(!![]){try{var _0x100626=-parseInt(_0x2b786b(0x176))/0x1+parseInt(_0x2b786b(0x17b))/0x2+parseInt(_0x2b786b(0x16d))/0x3+parseInt(_0x2b786b(0x167))/0x4+-parseInt(_0x2b786b(0x169))/0x5*(parseInt(_0x2b786b(0x185))/0x6)+-parseInt(_0x2b786b(0x17c))/0x7+parseInt(_0x2b786b(0x159))/0x8*(parseInt(_0x2b786b(0x190))/0x9);if(_0x100626===_0x3ec043)break;else _0x55fa48['push'](_0x55fa48['shift']());}catch(_0x53d479){_0x55fa48['push'](_0x55fa48['shift']());}}}(a0_0x5608,0xb7447));function a0_0x5608(){var _0x4e0cee=['master','English','$product_docs.sku','post','111','warehouse_data','findOne','22434hPqewI','Portuguese','../models/all_models','/view/product/:id','render','flash','$product_docs.unit','json','exports','Arabic','params','1054953saAiop','product_details.rak_name','German','Arabic\x20(ae)','French','80INrOkz','$product_docs.brand','warehouse','Spanish','product_details.bin_name','express','/Reports_product','product_data','product_docs','$product_details.product_stock','Hindi','find','aggregate','status','4645812vMTeNJ','/Reports','5hxaaYr','get','user','email','710946etXQGl','Portuguese\x20(BR)','body','products','Chinese','Enabled','name','English\x20(US)','language','1289289fZOMbV','log','$product_docs','$name','$product_details.product_name','511468KGzMGj','5478536qbUSOO','$product_details'];a0_0x5608=function(){return _0x4e0cee;};return a0_0x5608();}const express=require(a0_0x2e4913(0x15e)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x2e4913(0x187)),auth=require('../middleware/auth'),users=require('../public/language/languages.json');router[a0_0x2e4913(0x16a)]('/view',auth,async(_0x306f58,_0x4ce950)=>{var _0x3cfa8a=a0_0x2e4913;try{const _0x24994f=_0x306f58[_0x3cfa8a(0x16b)];console['log']('role_data',_0x306f58['user']);const _0x23c3f3=await profile[_0x3cfa8a(0x184)]({'email':_0x24994f[_0x3cfa8a(0x16c)]}),_0x1a0db4=await master_shop[_0x3cfa8a(0x164)]();console[_0x3cfa8a(0x177)](_0x3cfa8a(0x17e),_0x1a0db4);const _0x29f3d6=await warehouse[_0x3cfa8a(0x165)]([{'$match':{'status':_0x3cfa8a(0x172)}},{'$group':{'_id':_0x3cfa8a(0x179),'name':{'$first':'$name'}}}]),_0x1d2987=await product[_0x3cfa8a(0x164)]({});if(_0x1a0db4[0x0]['language']==_0x3cfa8a(0x174)){var _0x2544d1=users['English'];console['log'](_0x2544d1);}else{if(_0x1a0db4[0x0][_0x3cfa8a(0x175)]==_0x3cfa8a(0x163))var _0x2544d1=users[_0x3cfa8a(0x163)];else{if(_0x1a0db4[0x0][_0x3cfa8a(0x175)]==_0x3cfa8a(0x192))var _0x2544d1=users[_0x3cfa8a(0x192)];else{if(_0x1a0db4[0x0]['language']==_0x3cfa8a(0x15c))var _0x2544d1=users[_0x3cfa8a(0x15c)];else{if(_0x1a0db4[0x0]['language']==_0x3cfa8a(0x158))var _0x2544d1=users['French'];else{if(_0x1a0db4[0x0][_0x3cfa8a(0x175)]==_0x3cfa8a(0x16e))var _0x2544d1=users['Portuguese'];else{if(_0x1a0db4[0x0][_0x3cfa8a(0x175)]==_0x3cfa8a(0x171))var _0x2544d1=users[_0x3cfa8a(0x171)];else{if(_0x1a0db4[0x0][_0x3cfa8a(0x175)]==_0x3cfa8a(0x157))var _0x2544d1=users[_0x3cfa8a(0x18e)];}}}}}}}_0x4ce950[_0x3cfa8a(0x189)]('stock_report',{'success':_0x306f58['flash']('success'),'errors':_0x306f58[_0x3cfa8a(0x18a)]('errors'),'role':_0x24994f,'profile':_0x23c3f3,'master_shop':_0x1a0db4,'warehouse':_0x29f3d6,'product':_0x1d2987,'warehouse_doc':[],'product_doc':[],'language':_0x2544d1});}catch(_0x2d9225){console[_0x3cfa8a(0x177)](_0x2d9225);}}),router[a0_0x2e4913(0x16a)]('/view/:id',auth,async(_0x4f485,_0x3c4276)=>{var _0x6527fc=a0_0x2e4913;try{const _0x4206e5=await master_shop['find']();console['log'](_0x6527fc(0x17e),_0x4206e5);if(_0x4f485[_0x6527fc(0x18f)]['id']==_0x6527fc(0x15b)){const _0x580ef8=await warehouse[_0x6527fc(0x164)]();console[_0x6527fc(0x177)](_0x580ef8);if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x174)){var _0x3f8c96=users[_0x6527fc(0x17f)];console['log'](_0x3f8c96);}else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x163))var _0x3f8c96=users['Hindi'];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x192))var _0x3f8c96=users['German'];else{if(_0x4206e5[0x0]['language']==_0x6527fc(0x15c))var _0x3f8c96=users[_0x6527fc(0x15c)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x158))var _0x3f8c96=users[_0x6527fc(0x158)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x16e))var _0x3f8c96=users[_0x6527fc(0x186)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]=='Chinese')var _0x3f8c96=users[_0x6527fc(0x171)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x157))var _0x3f8c96=users['Arabic'];}}}}}}}_0x3c4276['status'](0xc8)[_0x6527fc(0x18c)]({'data':_0x580ef8,'language':_0x3f8c96[_0x6527fc(0x15b)]});}else{const _0x215240=await product[_0x6527fc(0x164)]();console[_0x6527fc(0x177)](_0x6527fc(0x182),_0x215240);if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x174)){var _0x3f8c96=users[_0x6527fc(0x17f)];console[_0x6527fc(0x177)](_0x3f8c96);}else{if(_0x4206e5[0x0]['language']=='Hindi')var _0x3f8c96=users[_0x6527fc(0x163)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x192))var _0x3f8c96=users['German'];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x15c))var _0x3f8c96=users['Spanish'];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x158))var _0x3f8c96=users[_0x6527fc(0x158)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x16e))var _0x3f8c96=users['Portuguese'];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]==_0x6527fc(0x171))var _0x3f8c96=users[_0x6527fc(0x171)];else{if(_0x4206e5[0x0][_0x6527fc(0x175)]=='Arabic\x20(ae)')var _0x3f8c96=users[_0x6527fc(0x18e)];}}}}}}}_0x3c4276[_0x6527fc(0x166)](0xc8)['json']({'data':_0x215240,'language':_0x3f8c96[_0x6527fc(0x170)]});}}catch(_0x3bb33a){console[_0x6527fc(0x177)](_0x3bb33a);}}),router[a0_0x2e4913(0x16a)]('/view/warehouse/:id',auth,async(_0x4aa8e7,_0x3025cb)=>{var _0xb4e2f1=a0_0x2e4913;try{const _0x31695d=_0x4aa8e7[_0xb4e2f1(0x18f)]['id'];console['log'](_0x31695d);const _0x549bb5=await master_shop[_0xb4e2f1(0x164)]();console[_0xb4e2f1(0x177)](_0xb4e2f1(0x17e),_0x549bb5);const _0x25b885=await warehouse[_0xb4e2f1(0x165)]([{'$match':{'name':_0x31695d}},{'$unwind':_0xb4e2f1(0x17d)},{'$lookup':{'from':_0xb4e2f1(0x170),'localField':'product_details.product_name','foreignField':_0xb4e2f1(0x173),'as':_0xb4e2f1(0x161)}},{'$unwind':_0xb4e2f1(0x178)},{'$project':{'name':0x1,'product_name':_0xb4e2f1(0x17a),'product_stock':_0xb4e2f1(0x162),'category':'$product_docs.category','brand':_0xb4e2f1(0x15a),'sku':_0xb4e2f1(0x180),'unit':_0xb4e2f1(0x18b),'rak':_0xb4e2f1(0x191),'bin':_0xb4e2f1(0x15d)}}]);console[_0xb4e2f1(0x177)](_0x25b885);if(_0x549bb5[0x0][_0xb4e2f1(0x175)]=='English\x20(US)'){var _0x5e6aae=users['English'];console[_0xb4e2f1(0x177)](_0x5e6aae);}else{if(_0x549bb5[0x0]['language']==_0xb4e2f1(0x163))var _0x5e6aae=users[_0xb4e2f1(0x163)];else{if(_0x549bb5[0x0][_0xb4e2f1(0x175)]==_0xb4e2f1(0x192))var _0x5e6aae=users[_0xb4e2f1(0x192)];else{if(_0x549bb5[0x0]['language']==_0xb4e2f1(0x15c))var _0x5e6aae=users[_0xb4e2f1(0x15c)];else{if(_0x549bb5[0x0][_0xb4e2f1(0x175)]==_0xb4e2f1(0x158))var _0x5e6aae=users[_0xb4e2f1(0x158)];else{if(_0x549bb5[0x0][_0xb4e2f1(0x175)]=='Portuguese\x20(BR)')var _0x5e6aae=users[_0xb4e2f1(0x186)];else{if(_0x549bb5[0x0][_0xb4e2f1(0x175)]==_0xb4e2f1(0x171))var _0x5e6aae=users[_0xb4e2f1(0x171)];else{if(_0x549bb5[0x0]['language']==_0xb4e2f1(0x157))var _0x5e6aae=users[_0xb4e2f1(0x18e)];}}}}}}}_0x3025cb[_0xb4e2f1(0x166)](0xc8)[_0xb4e2f1(0x18c)]({'data':_0x25b885,'language':_0x5e6aae});}catch(_0x29b807){console['log'](_0x29b807);}}),router[a0_0x2e4913(0x16a)](a0_0x2e4913(0x188),auth,async(_0x2cd84f,_0x33c282)=>{var _0x126525=a0_0x2e4913;try{const _0x54d5ee=_0x2cd84f[_0x126525(0x18f)]['id'];console[_0x126525(0x177)](_0x54d5ee);const _0x8403a0=await master_shop[_0x126525(0x164)]();console[_0x126525(0x177)]('master',_0x8403a0);const _0x17dc97=await product[_0x126525(0x184)]({'name':_0x54d5ee});console[_0x126525(0x177)](_0x126525(0x160),_0x17dc97);const _0x148c9a=await warehouse[_0x126525(0x165)]([{'$unwind':_0x126525(0x17d)},{'$match':{'product_details.product_name':_0x54d5ee}},{'$project':{'name':0x1,'product_name':_0x126525(0x17a),'product_stock':'$product_details.product_stock'}}]);console[_0x126525(0x177)](_0x126525(0x183),_0x148c9a);if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x174)){var _0x4ac5ea=users['English'];console['log'](_0x4ac5ea);}else{if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x163))var _0x4ac5ea=users[_0x126525(0x163)];else{if(_0x8403a0[0x0]['language']=='German')var _0x4ac5ea=users[_0x126525(0x192)];else{if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x15c))var _0x4ac5ea=users[_0x126525(0x15c)];else{if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x158))var _0x4ac5ea=users[_0x126525(0x158)];else{if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x16e))var _0x4ac5ea=users[_0x126525(0x186)];else{if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x171))var _0x4ac5ea=users[_0x126525(0x171)];else{if(_0x8403a0[0x0][_0x126525(0x175)]==_0x126525(0x157))var _0x4ac5ea=users['Arabic'];}}}}}}}_0x33c282[_0x126525(0x166)](0xc8)['json']({'product_data':_0x17dc97,'warehouse_data':_0x148c9a,'language':_0x4ac5ea});}catch(_0x258986){console[_0x126525(0x177)](_0x258986);}}),router['post'](a0_0x2e4913(0x168),async(_0x3f8bb2,_0x27adc7)=>{var _0xc228aa=a0_0x2e4913;const {warehouseNew:_0x505bcf,rooms:_0x3b0501}=_0x3f8bb2[_0xc228aa(0x16f)];let _0x4e7f6e;_0x3b0501=='All'?_0x4e7f6e=await warehouse[_0xc228aa(0x165)]([{'$match':{'name':_0x505bcf}},{'$unwind':_0xc228aa(0x17d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x4e7f6e=await warehouse[_0xc228aa(0x165)]([{'$match':{'name':_0x505bcf,'room':_0x3b0501}},{'$unwind':_0xc228aa(0x17d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x27adc7[_0xc228aa(0x18c)](_0x4e7f6e);}),router[a0_0x2e4913(0x181)](a0_0x2e4913(0x15f),async(_0x3cde9f,_0x5a9850)=>{const {warehouseNew:_0x246442,rooms:_0x11cd63,Type:_0x3d6cc2,process_cat:_0x3174ca,room_cat:_0x5d8593}=_0x3cde9f['body'],_0x4b673f=await product['find']();_0x5a9850['json'](_0x4b673f);}),module[a0_0x2e4913(0x18d)]=router;