var a0_0x414c64=a0_0x3a45;function a0_0x3a45(_0x5b4800,_0x5ab5ce){var _0x8292ce=a0_0x8292();return a0_0x3a45=function(_0x3a450e,_0x2fd338){_0x3a450e=_0x3a450e-0x8a;var _0x403338=_0x8292ce[_0x3a450e];return _0x403338;},a0_0x3a45(_0x5b4800,_0x5ab5ce);}(function(_0xddd35a,_0x33497b){var _0x58e116=a0_0x3a45,_0x1bf54a=_0xddd35a();while(!![]){try{var _0x2bf777=-parseInt(_0x58e116(0xaa))/0x1*(parseInt(_0x58e116(0x8f))/0x2)+parseInt(_0x58e116(0xb5))/0x3*(-parseInt(_0x58e116(0x9d))/0x4)+parseInt(_0x58e116(0x94))/0x5+parseInt(_0x58e116(0xa5))/0x6+-parseInt(_0x58e116(0xbd))/0x7+-parseInt(_0x58e116(0xa9))/0x8+-parseInt(_0x58e116(0x97))/0x9*(-parseInt(_0x58e116(0x9b))/0xa);if(_0x2bf777===_0x33497b)break;else _0x1bf54a['push'](_0x1bf54a['shift']());}catch(_0x316df2){_0x1bf54a['push'](_0x1bf54a['shift']());}}}(a0_0x8292,0x97332));const express=require('express'),app=express(),router=express[a0_0x414c64(0xbc)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require(a0_0x414c64(0xb9)),users=require('../public/language/languages.json');function a0_0x8292(){var _0x5cca99=['Arabic','$product_docs.sku','body','stock_report','Chinese','217302cScLAq','name','Portuguese','product_data','master','320505DYGpMz','log','German','41241159WVxnLi','flash','$product_docs.category','json','10klBoGT','$product_docs.brand','4zpIpMG','email','warehouse','Spanish','role_data','get','$product_docs','language','918180EENriu','$product_details.product_stock','render','/view/warehouse/:id','8404624ZOLEjf','11sdiurZ','Arabic\x20(ae)','$product_details','aggregate','findOne','$product_docs.unit','English\x20(US)','user','find','English','/Reports','2979192oYhfJz','/view/product/:id','status','Enabled','../middleware/auth','Hindi','Portuguese\x20(BR)','Router','6589555Tblbay','$name','exports','products','params','post','errors','/view/:id','$product_details.product_name','French'];a0_0x8292=function(){return _0x5cca99;};return a0_0x8292();}router['get']('/view',auth,async(_0x4930e9,_0x2175fd)=>{var _0x4b8b71=a0_0x414c64;try{const _0x415122=_0x4930e9[_0x4b8b71(0xb1)];console[_0x4b8b71(0x95)](_0x4b8b71(0xa1),_0x4930e9['user']);const _0x5a2394=await profile[_0x4b8b71(0xae)]({'email':_0x415122[_0x4b8b71(0x9e)]}),_0xb4df18=await master_shop['find']();console['log']('master',_0xb4df18);const _0x597a08=await warehouse[_0x4b8b71(0xad)]([{'$match':{'status':_0x4b8b71(0xb8)}},{'$group':{'_id':_0x4b8b71(0xbe),'name':{'$first':_0x4b8b71(0xbe)}}}]),_0x458980=await product[_0x4b8b71(0xb2)]({});if(_0xb4df18[0x0][_0x4b8b71(0xa4)]==_0x4b8b71(0xb0)){var _0xfc8f29=users['English'];console['log'](_0xfc8f29);}else{if(_0xb4df18[0x0]['language']=='Hindi')var _0xfc8f29=users[_0x4b8b71(0xba)];else{if(_0xb4df18[0x0][_0x4b8b71(0xa4)]==_0x4b8b71(0x96))var _0xfc8f29=users[_0x4b8b71(0x96)];else{if(_0xb4df18[0x0][_0x4b8b71(0xa4)]==_0x4b8b71(0xa0))var _0xfc8f29=users[_0x4b8b71(0xa0)];else{if(_0xb4df18[0x0][_0x4b8b71(0xa4)]==_0x4b8b71(0xc6))var _0xfc8f29=users[_0x4b8b71(0xc6)];else{if(_0xb4df18[0x0][_0x4b8b71(0xa4)]==_0x4b8b71(0xbb))var _0xfc8f29=users[_0x4b8b71(0x91)];else{if(_0xb4df18[0x0][_0x4b8b71(0xa4)]==_0x4b8b71(0x8e))var _0xfc8f29=users[_0x4b8b71(0x8e)];else{if(_0xb4df18[0x0]['language']==_0x4b8b71(0xab))var _0xfc8f29=users[_0x4b8b71(0x8a)];}}}}}}}_0x2175fd[_0x4b8b71(0xa7)](_0x4b8b71(0x8d),{'success':_0x4930e9[_0x4b8b71(0x98)]('success'),'errors':_0x4930e9[_0x4b8b71(0x98)](_0x4b8b71(0xc3)),'role':_0x415122,'profile':_0x5a2394,'master_shop':_0xb4df18,'warehouse':_0x597a08,'product':_0x458980,'warehouse_doc':[],'product_doc':[],'language':_0xfc8f29});}catch(_0x4526b4){console['log'](_0x4526b4);}}),router['get'](a0_0x414c64(0xc4),auth,async(_0xb12c9e,_0x4d838e)=>{var _0x527153=a0_0x414c64;try{const _0x299b4f=await master_shop['find']();console[_0x527153(0x95)](_0x527153(0x93),_0x299b4f);if(_0xb12c9e['params']['id']==_0x527153(0x9f)){const _0xc71096=await warehouse[_0x527153(0xb2)]();console[_0x527153(0x95)](_0xc71096);if(_0x299b4f[0x0]['language']==_0x527153(0xb0)){var _0x243d10=users[_0x527153(0xb3)];console[_0x527153(0x95)](_0x243d10);}else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0xba))var _0x243d10=users['Hindi'];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0x96))var _0x243d10=users[_0x527153(0x96)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0xa0))var _0x243d10=users[_0x527153(0xa0)];else{if(_0x299b4f[0x0]['language']==_0x527153(0xc6))var _0x243d10=users[_0x527153(0xc6)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0xbb))var _0x243d10=users[_0x527153(0x91)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0x8e))var _0x243d10=users[_0x527153(0x8e)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0xab))var _0x243d10=users['Arabic'];}}}}}}}_0x4d838e[_0x527153(0xb7)](0xc8)[_0x527153(0x9a)]({'data':_0xc71096,'language':_0x243d10['warehouse']});}else{const _0x25501d=await product[_0x527153(0xb2)]();console['log']('111',_0x25501d);if(_0x299b4f[0x0]['language']==_0x527153(0xb0)){var _0x243d10=users['English'];console[_0x527153(0x95)](_0x243d10);}else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0xba))var _0x243d10=users[_0x527153(0xba)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0x96))var _0x243d10=users['German'];else{if(_0x299b4f[0x0]['language']==_0x527153(0xa0))var _0x243d10=users[_0x527153(0xa0)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]=='French')var _0x243d10=users[_0x527153(0xc6)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]==_0x527153(0xbb))var _0x243d10=users[_0x527153(0x91)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]=='Chinese')var _0x243d10=users[_0x527153(0x8e)];else{if(_0x299b4f[0x0][_0x527153(0xa4)]=='Arabic\x20(ae)')var _0x243d10=users[_0x527153(0x8a)];}}}}}}}_0x4d838e[_0x527153(0xb7)](0xc8)[_0x527153(0x9a)]({'data':_0x25501d,'language':_0x243d10[_0x527153(0xc0)]});}}catch(_0x55442e){console[_0x527153(0x95)](_0x55442e);}}),router['get'](a0_0x414c64(0xa8),auth,async(_0x2d7ee1,_0x220746)=>{var _0x314bc8=a0_0x414c64;try{const _0x3d70b3=_0x2d7ee1[_0x314bc8(0xc1)]['id'];console['log'](_0x3d70b3);const _0xc3e46c=await master_shop['find']();console['log']('master',_0xc3e46c);const _0x59c0cd=await warehouse[_0x314bc8(0xad)]([{'$match':{'name':_0x3d70b3}},{'$unwind':_0x314bc8(0xac)},{'$lookup':{'from':_0x314bc8(0xc0),'localField':'product_details.product_name','foreignField':_0x314bc8(0x90),'as':'product_docs'}},{'$unwind':_0x314bc8(0xa3)},{'$project':{'name':0x1,'product_name':_0x314bc8(0xc5),'product_stock':_0x314bc8(0xa6),'category':_0x314bc8(0x99),'brand':_0x314bc8(0x9c),'sku':_0x314bc8(0x8b),'unit':_0x314bc8(0xaf),'rak':'product_details.rak_name','bin':'product_details.bin_name'}}]);console[_0x314bc8(0x95)](_0x59c0cd);if(_0xc3e46c[0x0][_0x314bc8(0xa4)]==_0x314bc8(0xb0)){var _0x43ee66=users[_0x314bc8(0xb3)];console[_0x314bc8(0x95)](_0x43ee66);}else{if(_0xc3e46c[0x0][_0x314bc8(0xa4)]=='Hindi')var _0x43ee66=users[_0x314bc8(0xba)];else{if(_0xc3e46c[0x0][_0x314bc8(0xa4)]=='German')var _0x43ee66=users[_0x314bc8(0x96)];else{if(_0xc3e46c[0x0][_0x314bc8(0xa4)]=='Spanish')var _0x43ee66=users[_0x314bc8(0xa0)];else{if(_0xc3e46c[0x0][_0x314bc8(0xa4)]==_0x314bc8(0xc6))var _0x43ee66=users['French'];else{if(_0xc3e46c[0x0]['language']==_0x314bc8(0xbb))var _0x43ee66=users[_0x314bc8(0x91)];else{if(_0xc3e46c[0x0][_0x314bc8(0xa4)]==_0x314bc8(0x8e))var _0x43ee66=users[_0x314bc8(0x8e)];else{if(_0xc3e46c[0x0]['language']=='Arabic\x20(ae)')var _0x43ee66=users[_0x314bc8(0x8a)];}}}}}}}_0x220746[_0x314bc8(0xb7)](0xc8)[_0x314bc8(0x9a)]({'data':_0x59c0cd,'language':_0x43ee66});}catch(_0x1dcc4c){console[_0x314bc8(0x95)](_0x1dcc4c);}}),router[a0_0x414c64(0xa2)](a0_0x414c64(0xb6),auth,async(_0x1d72e0,_0x1cb1c4)=>{var _0x420811=a0_0x414c64;try{const _0x404c2f=_0x1d72e0[_0x420811(0xc1)]['id'];console['log'](_0x404c2f);const _0x17e1a2=await master_shop[_0x420811(0xb2)]();console[_0x420811(0x95)](_0x420811(0x93),_0x17e1a2);const _0x1a7af6=await product[_0x420811(0xae)]({'name':_0x404c2f});console[_0x420811(0x95)](_0x420811(0x92),_0x1a7af6);const _0x149aec=await warehouse[_0x420811(0xad)]([{'$unwind':_0x420811(0xac)},{'$match':{'product_details.product_name':_0x404c2f}},{'$project':{'name':0x1,'product_name':_0x420811(0xc5),'product_stock':_0x420811(0xa6)}}]);console[_0x420811(0x95)]('warehouse_data',_0x149aec);if(_0x17e1a2[0x0][_0x420811(0xa4)]==_0x420811(0xb0)){var _0x57e6c1=users[_0x420811(0xb3)];console[_0x420811(0x95)](_0x57e6c1);}else{if(_0x17e1a2[0x0][_0x420811(0xa4)]=='Hindi')var _0x57e6c1=users['Hindi'];else{if(_0x17e1a2[0x0][_0x420811(0xa4)]==_0x420811(0x96))var _0x57e6c1=users['German'];else{if(_0x17e1a2[0x0][_0x420811(0xa4)]=='Spanish')var _0x57e6c1=users['Spanish'];else{if(_0x17e1a2[0x0]['language']==_0x420811(0xc6))var _0x57e6c1=users[_0x420811(0xc6)];else{if(_0x17e1a2[0x0][_0x420811(0xa4)]==_0x420811(0xbb))var _0x57e6c1=users[_0x420811(0x91)];else{if(_0x17e1a2[0x0][_0x420811(0xa4)]==_0x420811(0x8e))var _0x57e6c1=users[_0x420811(0x8e)];else{if(_0x17e1a2[0x0]['language']==_0x420811(0xab))var _0x57e6c1=users['Arabic'];}}}}}}}_0x1cb1c4[_0x420811(0xb7)](0xc8)['json']({'product_data':_0x1a7af6,'warehouse_data':_0x149aec,'language':_0x57e6c1});}catch(_0x238509){console[_0x420811(0x95)](_0x238509);}}),router[a0_0x414c64(0xc2)](a0_0x414c64(0xb4),async(_0x382876,_0x56de53)=>{var _0x397d5c=a0_0x414c64;const {warehouseNew:_0x195e9e,rooms:_0x21c7ff}=_0x382876[_0x397d5c(0x8c)];let _0xbb7a89;_0x21c7ff=='All'?_0xbb7a89=await warehouse['aggregate']([{'$match':{'name':_0x195e9e}},{'$unwind':_0x397d5c(0xac)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0xbb7a89=await warehouse[_0x397d5c(0xad)]([{'$match':{'name':_0x195e9e,'room':_0x21c7ff}},{'$unwind':_0x397d5c(0xac)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x56de53[_0x397d5c(0x9a)](_0xbb7a89);}),router['post']('/Reports_product',async(_0x43dd9b,_0x5dc2b0)=>{var _0x1d750d=a0_0x414c64;const {warehouseNew:_0x2492d4,rooms:_0x53fbe9,Type:_0x5d6d3c,process_cat:_0x5ceeb3,room_cat:_0x467803}=_0x43dd9b[_0x1d750d(0x8c)],_0x5616d2=await product[_0x1d750d(0xb2)]();_0x5dc2b0[_0x1d750d(0x9a)](_0x5616d2);}),module[a0_0x414c64(0xbf)]=router;