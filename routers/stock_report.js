var a0_0x43a9a1=a0_0x1947;(function(_0x3b8caa,_0x3b4a65){var _0x42472c=a0_0x1947,_0x23f81d=_0x3b8caa();while(!![]){try{var _0x4cf4cb=-parseInt(_0x42472c(0x117))/0x1+-parseInt(_0x42472c(0x12c))/0x2*(parseInt(_0x42472c(0xef))/0x3)+-parseInt(_0x42472c(0xf8))/0x4*(parseInt(_0x42472c(0x107))/0x5)+parseInt(_0x42472c(0x11c))/0x6*(parseInt(_0x42472c(0x11d))/0x7)+parseInt(_0x42472c(0x118))/0x8*(-parseInt(_0x42472c(0xfb))/0x9)+-parseInt(_0x42472c(0xfe))/0xa*(-parseInt(_0x42472c(0x116))/0xb)+-parseInt(_0x42472c(0xf9))/0xc*(-parseInt(_0x42472c(0x10e))/0xd);if(_0x4cf4cb===_0x3b4a65)break;else _0x23f81d['push'](_0x23f81d['shift']());}catch(_0x32afe6){_0x23f81d['push'](_0x23f81d['shift']());}}}(a0_0x4836,0x5889a));const express=require(a0_0x43a9a1(0x11e)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x43a9a1(0x113)),auth=require(a0_0x43a9a1(0x130)),users=require('../public/language/languages.json');function a0_0x1947(_0xa2eb6a,_0x21ed2b){var _0x4836f6=a0_0x4836();return a0_0x1947=function(_0x194794,_0xd7ad4f){_0x194794=_0x194794-0xed;var _0x4bc431=_0x4836f6[_0x194794];return _0x4bc431;},a0_0x1947(_0xa2eb6a,_0x21ed2b);}router[a0_0x43a9a1(0x100)]('/view',auth,async(_0x5be41f,_0x960b06)=>{var _0x4ad283=a0_0x43a9a1;try{const _0x57eaad=_0x5be41f[_0x4ad283(0x11f)];console['log'](_0x4ad283(0x10f),_0x5be41f[_0x4ad283(0x11f)]);const _0x214718=await profile['findOne']({'email':_0x57eaad[_0x4ad283(0x110)]}),_0x54009c=await master_shop['find']();console['log']('master',_0x54009c);const _0x12b54a=await warehouse[_0x4ad283(0xf0)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x4ad283(0xf2),'name':{'$first':_0x4ad283(0xf2)}}}]),_0x4cfca4=await product[_0x4ad283(0x103)]({});if(_0x54009c[0x0]['language']==_0x4ad283(0x106)){var _0x369a31=users['English'];console['log'](_0x369a31);}else{if(_0x54009c[0x0][_0x4ad283(0x111)]==_0x4ad283(0x104))var _0x369a31=users[_0x4ad283(0x104)];else{if(_0x54009c[0x0]['language']=='German')var _0x369a31=users['German'];else{if(_0x54009c[0x0][_0x4ad283(0x111)]=='Spanish')var _0x369a31=users[_0x4ad283(0x102)];else{if(_0x54009c[0x0]['language']=='French')var _0x369a31=users[_0x4ad283(0x109)];else{if(_0x54009c[0x0][_0x4ad283(0x111)]==_0x4ad283(0x124))var _0x369a31=users['Portuguese'];else{if(_0x54009c[0x0][_0x4ad283(0x111)]==_0x4ad283(0xf7))var _0x369a31=users[_0x4ad283(0xf7)];else{if(_0x54009c[0x0][_0x4ad283(0x111)]==_0x4ad283(0x12d))var _0x369a31=users[_0x4ad283(0xf1)];}}}}}}}_0x960b06['render'](_0x4ad283(0x108),{'success':_0x5be41f[_0x4ad283(0x10c)](_0x4ad283(0x12a)),'errors':_0x5be41f[_0x4ad283(0x10c)](_0x4ad283(0xf3)),'role':_0x57eaad,'profile':_0x214718,'master_shop':_0x54009c,'warehouse':_0x12b54a,'product':_0x4cfca4,'warehouse_doc':[],'product_doc':[],'language':_0x369a31});}catch(_0x4f24df){console[_0x4ad283(0x11b)](_0x4f24df);}}),router[a0_0x43a9a1(0x100)](a0_0x43a9a1(0x10b),auth,async(_0x2e202a,_0x206023)=>{var _0x5025f4=a0_0x43a9a1;try{const _0x2c94a4=await master_shop[_0x5025f4(0x103)]();console[_0x5025f4(0x11b)](_0x5025f4(0x12f),_0x2c94a4);if(_0x2e202a[_0x5025f4(0x114)]['id']==_0x5025f4(0xee)){const _0x169512=await warehouse[_0x5025f4(0x103)]();console[_0x5025f4(0x11b)](_0x169512);if(_0x2c94a4[0x0]['language']==_0x5025f4(0x106)){var _0x5c5c91=users[_0x5025f4(0xfc)];console['log'](_0x5c5c91);}else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x104))var _0x5c5c91=users['Hindi'];else{if(_0x2c94a4[0x0]['language']==_0x5025f4(0x112))var _0x5c5c91=users[_0x5025f4(0x112)];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x102))var _0x5c5c91=users['Spanish'];else{if(_0x2c94a4[0x0]['language']==_0x5025f4(0x109))var _0x5c5c91=users['French'];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x124))var _0x5c5c91=users[_0x5025f4(0x10a)];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0xf7))var _0x5c5c91=users[_0x5025f4(0xf7)];else{if(_0x2c94a4[0x0]['language']==_0x5025f4(0x12d))var _0x5c5c91=users['Arabic'];}}}}}}}_0x206023[_0x5025f4(0x129)](0xc8)[_0x5025f4(0x126)]({'data':_0x169512,'language':_0x5c5c91[_0x5025f4(0xee)]});}else{const _0x1a2bce=await product['find']();console[_0x5025f4(0x11b)](_0x5025f4(0xf4),_0x1a2bce);if(_0x2c94a4[0x0][_0x5025f4(0x111)]=='English\x20(US)'){var _0x5c5c91=users[_0x5025f4(0xfc)];console['log'](_0x5c5c91);}else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x104))var _0x5c5c91=users['Hindi'];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x112))var _0x5c5c91=users['German'];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]=='Spanish')var _0x5c5c91=users[_0x5025f4(0x102)];else{if(_0x2c94a4[0x0]['language']==_0x5025f4(0x109))var _0x5c5c91=users[_0x5025f4(0x109)];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x124))var _0x5c5c91=users['Portuguese'];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0xf7))var _0x5c5c91=users['Chinese'];else{if(_0x2c94a4[0x0][_0x5025f4(0x111)]==_0x5025f4(0x12d))var _0x5c5c91=users[_0x5025f4(0xf1)];}}}}}}}_0x206023['status'](0xc8)['json']({'data':_0x1a2bce,'language':_0x5c5c91['products']});}}catch(_0xd242c4){console[_0x5025f4(0x11b)](_0xd242c4);}}),router[a0_0x43a9a1(0x100)](a0_0x43a9a1(0x11a),auth,async(_0x49f445,_0x271cc0)=>{var _0x5f3b9a=a0_0x43a9a1;try{const _0x180b79=_0x49f445['params']['id'];console[_0x5f3b9a(0x11b)](_0x180b79);const _0x4e75ef=await master_shop['find']();console[_0x5f3b9a(0x11b)](_0x5f3b9a(0x12f),_0x4e75ef);const _0x5ac372=await warehouse['aggregate']([{'$match':{'name':_0x180b79}},{'$unwind':_0x5f3b9a(0x119)},{'$lookup':{'from':'products','localField':_0x5f3b9a(0x105),'foreignField':_0x5f3b9a(0x123),'as':_0x5f3b9a(0xfd)}},{'$unwind':_0x5f3b9a(0x101)},{'$project':{'name':0x1,'product_name':_0x5f3b9a(0x12e),'product_stock':'$product_details.product_stock','category':_0x5f3b9a(0xf5),'brand':_0x5f3b9a(0x122),'sku':_0x5f3b9a(0xfa),'unit':'$product_docs.unit','rak':_0x5f3b9a(0x128),'bin':'product_details.bin_name'}}]);console['log'](_0x5ac372);if(_0x4e75ef[0x0][_0x5f3b9a(0x111)]==_0x5f3b9a(0x106)){var _0x156962=users[_0x5f3b9a(0xfc)];console['log'](_0x156962);}else{if(_0x4e75ef[0x0]['language']==_0x5f3b9a(0x104))var _0x156962=users[_0x5f3b9a(0x104)];else{if(_0x4e75ef[0x0][_0x5f3b9a(0x111)]==_0x5f3b9a(0x112))var _0x156962=users[_0x5f3b9a(0x112)];else{if(_0x4e75ef[0x0][_0x5f3b9a(0x111)]==_0x5f3b9a(0x102))var _0x156962=users[_0x5f3b9a(0x102)];else{if(_0x4e75ef[0x0][_0x5f3b9a(0x111)]==_0x5f3b9a(0x109))var _0x156962=users['French'];else{if(_0x4e75ef[0x0][_0x5f3b9a(0x111)]==_0x5f3b9a(0x124))var _0x156962=users[_0x5f3b9a(0x10a)];else{if(_0x4e75ef[0x0]['language']=='Chinese')var _0x156962=users['Chinese'];else{if(_0x4e75ef[0x0]['language']==_0x5f3b9a(0x12d))var _0x156962=users['Arabic'];}}}}}}}_0x271cc0[_0x5f3b9a(0x129)](0xc8)[_0x5f3b9a(0x126)]({'data':_0x5ac372,'language':_0x156962});}catch(_0x4d285d){console['log'](_0x4d285d);}}),router[a0_0x43a9a1(0x100)](a0_0x43a9a1(0x125),auth,async(_0x5d5bb1,_0x376716)=>{var _0x15a455=a0_0x43a9a1;try{const _0x55bc15=_0x5d5bb1[_0x15a455(0x114)]['id'];console['log'](_0x55bc15);const _0x1779df=await master_shop[_0x15a455(0x103)]();console['log'](_0x15a455(0x12f),_0x1779df);const _0x4d8afe=await product[_0x15a455(0x127)]({'name':_0x55bc15});console[_0x15a455(0x11b)](_0x15a455(0xff),_0x4d8afe);const _0x5dcb5a=await warehouse[_0x15a455(0xf0)]([{'$unwind':_0x15a455(0x119)},{'$match':{'product_details.product_name':_0x55bc15}},{'$project':{'name':0x1,'product_name':_0x15a455(0x12e),'product_stock':_0x15a455(0x12b)}}]);console['log'](_0x15a455(0x120),_0x5dcb5a);if(_0x1779df[0x0][_0x15a455(0x111)]==_0x15a455(0x106)){var _0x1a35e2=users[_0x15a455(0xfc)];console[_0x15a455(0x11b)](_0x1a35e2);}else{if(_0x1779df[0x0][_0x15a455(0x111)]=='Hindi')var _0x1a35e2=users['Hindi'];else{if(_0x1779df[0x0][_0x15a455(0x111)]=='German')var _0x1a35e2=users[_0x15a455(0x112)];else{if(_0x1779df[0x0][_0x15a455(0x111)]==_0x15a455(0x102))var _0x1a35e2=users[_0x15a455(0x102)];else{if(_0x1779df[0x0][_0x15a455(0x111)]=='French')var _0x1a35e2=users[_0x15a455(0x109)];else{if(_0x1779df[0x0][_0x15a455(0x111)]=='Portuguese\x20(BR)')var _0x1a35e2=users['Portuguese'];else{if(_0x1779df[0x0][_0x15a455(0x111)]=='Chinese')var _0x1a35e2=users[_0x15a455(0xf7)];else{if(_0x1779df[0x0]['language']==_0x15a455(0x12d))var _0x1a35e2=users[_0x15a455(0xf1)];}}}}}}}_0x376716[_0x15a455(0x129)](0xc8)[_0x15a455(0x126)]({'product_data':_0x4d8afe,'warehouse_data':_0x5dcb5a,'language':_0x1a35e2});}catch(_0x54fd96){console[_0x15a455(0x11b)](_0x54fd96);}}),router['post'](a0_0x43a9a1(0x10d),async(_0x49d17a,_0x2a131f)=>{var _0x269a68=a0_0x43a9a1;const {warehouseNew:_0x7f148f,rooms:_0x40e81a}=_0x49d17a[_0x269a68(0xf6)];let _0x2b27d8;_0x40e81a==_0x269a68(0x131)?_0x2b27d8=await warehouse[_0x269a68(0xf0)]([{'$match':{'name':_0x7f148f}},{'$unwind':_0x269a68(0x119)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x2b27d8=await warehouse[_0x269a68(0xf0)]([{'$match':{'name':_0x7f148f,'room':_0x40e81a}},{'$unwind':_0x269a68(0x119)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x2a131f[_0x269a68(0x126)](_0x2b27d8);}),router[a0_0x43a9a1(0x115)](a0_0x43a9a1(0x121),async(_0x38277e,_0x3faa51)=>{var _0x4625ec=a0_0x43a9a1;const {warehouseNew:_0x2d6f9b,rooms:_0x27535f,Type:_0x12044f,process_cat:_0xc68a58,room_cat:_0x1e0449}=_0x38277e['body'],_0x4f7f07=await product[_0x4625ec(0x103)]();_0x3faa51[_0x4625ec(0x126)](_0x4f7f07);}),module[a0_0x43a9a1(0xed)]=router;function a0_0x4836(){var _0xce1fc0=['1324OLgmaj','348ADnMsh','$product_docs.sku','18abVYso','English','product_docs','140BQHbAY','product_data','get','$product_docs','Spanish','find','Hindi','product_details.product_name','English\x20(US)','5615zpzlTp','stock_report','French','Portuguese','/view/:id','flash','/Reports','857857pXtoyQ','role_data','email','language','German','../models/all_models','params','post','208527zfsSRt','648517aIwNWN','1980968yhQxac','$product_details','/view/warehouse/:id','log','23658wpYMwy','371IXdYih','express','user','warehouse_data','/Reports_product','$product_docs.brand','name','Portuguese\x20(BR)','/view/product/:id','json','findOne','product_details.rak_name','status','success','$product_details.product_stock','8792FIeVis','Arabic\x20(ae)','$product_details.product_name','master','../middleware/auth','All','exports','warehouse','348lBQvWr','aggregate','Arabic','$name','errors','111','$product_docs.category','body','Chinese'];a0_0x4836=function(){return _0xce1fc0;};return a0_0x4836();}