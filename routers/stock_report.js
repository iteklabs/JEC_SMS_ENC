var a0_0xdf438b=a0_0x418b;function a0_0x418b(_0x18bcd2,_0x1f9c2e){var _0x4023d6=a0_0x4023();return a0_0x418b=function(_0x418ba9,_0x3936e2){_0x418ba9=_0x418ba9-0xdd;var _0x1e6bec=_0x4023d6[_0x418ba9];return _0x1e6bec;},a0_0x418b(_0x18bcd2,_0x1f9c2e);}(function(_0x1bd14c,_0xf4ab8b){var _0x13f085=a0_0x418b,_0x2ffde5=_0x1bd14c();while(!![]){try{var _0x1212a1=-parseInt(_0x13f085(0xee))/0x1+-parseInt(_0x13f085(0x108))/0x2+-parseInt(_0x13f085(0xe7))/0x3+parseInt(_0x13f085(0xfc))/0x4+parseInt(_0x13f085(0xef))/0x5+parseInt(_0x13f085(0xdd))/0x6+parseInt(_0x13f085(0xe8))/0x7;if(_0x1212a1===_0xf4ab8b)break;else _0x2ffde5['push'](_0x2ffde5['shift']());}catch(_0xff1653){_0x2ffde5['push'](_0x2ffde5['shift']());}}}(a0_0x4023,0xc52b8));const express=require(a0_0xdf438b(0x105)),app=express(),router=express[a0_0xdf438b(0x116)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0xdf438b(0x112)),auth=require(a0_0xdf438b(0xde)),users=require(a0_0xdf438b(0xe6));router[a0_0xdf438b(0x11a)](a0_0xdf438b(0xea),auth,async(_0x411407,_0x591348)=>{var _0x513a21=a0_0xdf438b;try{const _0x34812a=_0x411407[_0x513a21(0xe3)];console[_0x513a21(0xfd)](_0x513a21(0x114),_0x411407[_0x513a21(0xe3)]);const _0x2498a6=await profile['findOne']({'email':_0x34812a[_0x513a21(0x100)]}),_0x5f03d3=await master_shop[_0x513a21(0x10e)]();console['log'](_0x513a21(0x103),_0x5f03d3);const _0x394ec7=await warehouse[_0x513a21(0x104)]([{'$match':{'status':_0x513a21(0xf5)}},{'$group':{'_id':_0x513a21(0xfa),'name':{'$first':_0x513a21(0xfa)}}}]),_0x1384b0=await product[_0x513a21(0x10e)]({});if(_0x5f03d3[0x0]['language']==_0x513a21(0xf0)){var _0x27496a=users[_0x513a21(0xe1)];console[_0x513a21(0xfd)](_0x27496a);}else{if(_0x5f03d3[0x0]['language']==_0x513a21(0x113))var _0x27496a=users[_0x513a21(0x113)];else{if(_0x5f03d3[0x0][_0x513a21(0xe0)]=='German')var _0x27496a=users[_0x513a21(0xe2)];else{if(_0x5f03d3[0x0][_0x513a21(0xe0)]==_0x513a21(0xe4))var _0x27496a=users[_0x513a21(0xe4)];else{if(_0x5f03d3[0x0][_0x513a21(0xe0)]=='French')var _0x27496a=users[_0x513a21(0xf3)];else{if(_0x5f03d3[0x0]['language']==_0x513a21(0x102))var _0x27496a=users[_0x513a21(0x10a)];else{if(_0x5f03d3[0x0][_0x513a21(0xe0)]==_0x513a21(0xf4))var _0x27496a=users['Chinese'];else{if(_0x5f03d3[0x0][_0x513a21(0xe0)]==_0x513a21(0x10f))var _0x27496a=users[_0x513a21(0xfe)];}}}}}}}_0x591348[_0x513a21(0x110)](_0x513a21(0xed),{'success':_0x411407[_0x513a21(0xfb)]('success'),'errors':_0x411407[_0x513a21(0xfb)](_0x513a21(0xf1)),'role':_0x34812a,'profile':_0x2498a6,'master_shop':_0x5f03d3,'warehouse':_0x394ec7,'product':_0x1384b0,'warehouse_doc':[],'product_doc':[],'language':_0x27496a});}catch(_0x4dbcf7){console[_0x513a21(0xfd)](_0x4dbcf7);}}),router[a0_0xdf438b(0x11a)](a0_0xdf438b(0xe5),auth,async(_0x85833e,_0x1f30c4)=>{var _0x2d8491=a0_0xdf438b;try{const _0x481f0e=await master_shop[_0x2d8491(0x10e)]();console[_0x2d8491(0xfd)](_0x2d8491(0x103),_0x481f0e);if(_0x85833e[_0x2d8491(0x118)]['id']==_0x2d8491(0x119)){const _0x41f08a=await warehouse[_0x2d8491(0x10e)]();console['log'](_0x41f08a);if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xf0)){var _0x3029d4=users['English'];console['log'](_0x3029d4);}else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0x113))var _0x3029d4=users['Hindi'];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xe2))var _0x3029d4=users[_0x2d8491(0xe2)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xe4))var _0x3029d4=users[_0x2d8491(0xe4)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xf3))var _0x3029d4=users[_0x2d8491(0xf3)];else{if(_0x481f0e[0x0]['language']==_0x2d8491(0x102))var _0x3029d4=users[_0x2d8491(0x10a)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xf4))var _0x3029d4=users[_0x2d8491(0xf4)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0x10f))var _0x3029d4=users['Arabic'];}}}}}}}_0x1f30c4[_0x2d8491(0xf2)](0xc8)['json']({'data':_0x41f08a,'language':_0x3029d4[_0x2d8491(0x119)]});}else{const _0x3bf1c7=await product['find']();console['log']('111',_0x3bf1c7);if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xf0)){var _0x3029d4=users[_0x2d8491(0xe1)];console[_0x2d8491(0xfd)](_0x3029d4);}else{if(_0x481f0e[0x0]['language']==_0x2d8491(0x113))var _0x3029d4=users[_0x2d8491(0x113)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xe2))var _0x3029d4=users[_0x2d8491(0xe2)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]==_0x2d8491(0xe4))var _0x3029d4=users[_0x2d8491(0xe4)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]=='French')var _0x3029d4=users[_0x2d8491(0xf3)];else{if(_0x481f0e[0x0]['language']=='Portuguese\x20(BR)')var _0x3029d4=users[_0x2d8491(0x10a)];else{if(_0x481f0e[0x0]['language']==_0x2d8491(0xf4))var _0x3029d4=users[_0x2d8491(0xf4)];else{if(_0x481f0e[0x0][_0x2d8491(0xe0)]=='Arabic\x20(ae)')var _0x3029d4=users[_0x2d8491(0xfe)];}}}}}}}_0x1f30c4[_0x2d8491(0xf2)](0xc8)[_0x2d8491(0xeb)]({'data':_0x3bf1c7,'language':_0x3029d4[_0x2d8491(0x111)]});}}catch(_0x3d4058){console[_0x2d8491(0xfd)](_0x3d4058);}}),router[a0_0xdf438b(0x11a)](a0_0xdf438b(0xf9),auth,async(_0x3578a2,_0x1e9d28)=>{var _0x22cf1e=a0_0xdf438b;try{const _0x40cfca=_0x3578a2[_0x22cf1e(0x118)]['id'];console[_0x22cf1e(0xfd)](_0x40cfca);const _0x25ac31=await master_shop[_0x22cf1e(0x10e)]();console[_0x22cf1e(0xfd)]('master',_0x25ac31);const _0x249839=await warehouse['aggregate']([{'$match':{'name':_0x40cfca}},{'$unwind':_0x22cf1e(0x106)},{'$lookup':{'from':'products','localField':_0x22cf1e(0xf6),'foreignField':'name','as':_0x22cf1e(0x115)}},{'$unwind':_0x22cf1e(0xdf)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x22cf1e(0x10d),'category':'$product_docs.category','brand':_0x22cf1e(0x10b),'sku':_0x22cf1e(0xf8),'unit':_0x22cf1e(0xe9),'rak':_0x22cf1e(0xf7),'bin':_0x22cf1e(0x107)}}]);console['log'](_0x249839);if(_0x25ac31[0x0]['language']==_0x22cf1e(0xf0)){var _0x213642=users[_0x22cf1e(0xe1)];console[_0x22cf1e(0xfd)](_0x213642);}else{if(_0x25ac31[0x0]['language']=='Hindi')var _0x213642=users[_0x22cf1e(0x113)];else{if(_0x25ac31[0x0][_0x22cf1e(0xe0)]==_0x22cf1e(0xe2))var _0x213642=users[_0x22cf1e(0xe2)];else{if(_0x25ac31[0x0][_0x22cf1e(0xe0)]==_0x22cf1e(0xe4))var _0x213642=users[_0x22cf1e(0xe4)];else{if(_0x25ac31[0x0]['language']==_0x22cf1e(0xf3))var _0x213642=users[_0x22cf1e(0xf3)];else{if(_0x25ac31[0x0]['language']==_0x22cf1e(0x102))var _0x213642=users[_0x22cf1e(0x10a)];else{if(_0x25ac31[0x0][_0x22cf1e(0xe0)]==_0x22cf1e(0xf4))var _0x213642=users['Chinese'];else{if(_0x25ac31[0x0][_0x22cf1e(0xe0)]==_0x22cf1e(0x10f))var _0x213642=users[_0x22cf1e(0xfe)];}}}}}}}_0x1e9d28[_0x22cf1e(0xf2)](0xc8)[_0x22cf1e(0xeb)]({'data':_0x249839,'language':_0x213642});}catch(_0x595edc){console[_0x22cf1e(0xfd)](_0x595edc);}}),router[a0_0xdf438b(0x11a)]('/view/product/:id',auth,async(_0x566727,_0x2f6eef)=>{var _0x22fec1=a0_0xdf438b;try{const _0x40ec99=_0x566727[_0x22fec1(0x118)]['id'];console['log'](_0x40ec99);const _0x11c0a6=await master_shop['find']();console[_0x22fec1(0xfd)](_0x22fec1(0x103),_0x11c0a6);const _0xcff3e8=await product[_0x22fec1(0x10c)]({'name':_0x40ec99});console[_0x22fec1(0xfd)](_0x22fec1(0x101),_0xcff3e8);const _0x39629b=await warehouse[_0x22fec1(0x104)]([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x40ec99}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':'$product_details.product_stock'}}]);console[_0x22fec1(0xfd)]('warehouse_data',_0x39629b);if(_0x11c0a6[0x0]['language']==_0x22fec1(0xf0)){var _0x22f46f=users[_0x22fec1(0xe1)];console[_0x22fec1(0xfd)](_0x22f46f);}else{if(_0x11c0a6[0x0][_0x22fec1(0xe0)]==_0x22fec1(0x113))var _0x22f46f=users[_0x22fec1(0x113)];else{if(_0x11c0a6[0x0]['language']=='German')var _0x22f46f=users[_0x22fec1(0xe2)];else{if(_0x11c0a6[0x0][_0x22fec1(0xe0)]==_0x22fec1(0xe4))var _0x22f46f=users[_0x22fec1(0xe4)];else{if(_0x11c0a6[0x0][_0x22fec1(0xe0)]=='French')var _0x22f46f=users[_0x22fec1(0xf3)];else{if(_0x11c0a6[0x0]['language']==_0x22fec1(0x102))var _0x22f46f=users[_0x22fec1(0x10a)];else{if(_0x11c0a6[0x0][_0x22fec1(0xe0)]=='Chinese')var _0x22f46f=users[_0x22fec1(0xf4)];else{if(_0x11c0a6[0x0][_0x22fec1(0xe0)]=='Arabic\x20(ae)')var _0x22f46f=users['Arabic'];}}}}}}}_0x2f6eef[_0x22fec1(0xf2)](0xc8)[_0x22fec1(0xeb)]({'product_data':_0xcff3e8,'warehouse_data':_0x39629b,'language':_0x22f46f});}catch(_0x2ad4de){console['log'](_0x2ad4de);}}),router[a0_0xdf438b(0xff)]('/Reports',async(_0x24fc14,_0x13ad93)=>{var _0x148b8d=a0_0xdf438b;const {warehouseNew:_0x53d2a8,rooms:_0x486603}=_0x24fc14['body'];let _0xd4b696;_0x486603==_0x148b8d(0x117)?_0xd4b696=await warehouse[_0x148b8d(0x104)]([{'$match':{'name':_0x53d2a8}},{'$unwind':_0x148b8d(0x106)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0xd4b696=await warehouse['aggregate']([{'$match':{'name':_0x53d2a8,'room':_0x486603}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x13ad93['json'](_0xd4b696);}),router['post']('/Reports_product',async(_0x289e1b,_0x49a0bf)=>{var _0x598b3c=a0_0xdf438b;const {warehouseNew:_0x4c3596,rooms:_0x14f4e7,Type:_0x76e0cd,process_cat:_0x1d56f3,room_cat:_0xf00f00}=_0x289e1b[_0x598b3c(0x109)],_0x5001d4=await product[_0x598b3c(0x10e)]();_0x49a0bf[_0x598b3c(0xeb)](_0x5001d4);}),module[a0_0xdf438b(0xec)]=router;function a0_0x4023(){var _0x29adeb=['exports','stock_report','1448129vtDngw','4664465SQxzdy','English\x20(US)','errors','status','French','Chinese','Enabled','product_details.product_name','product_details.rak_name','$product_docs.sku','/view/warehouse/:id','$name','flash','1736192InQXKw','log','Arabic','post','email','product_data','Portuguese\x20(BR)','master','aggregate','express','$product_details','product_details.bin_name','1174070tqojQk','body','Portuguese','$product_docs.brand','findOne','$product_details.product_stock','find','Arabic\x20(ae)','render','products','../models/all_models','Hindi','role_data','product_docs','Router','All','params','warehouse','get','9545700HdsTPt','../middleware/auth','$product_docs','language','English','German','user','Spanish','/view/:id','../public/language/languages.json','1105494ieyvex','1773653yMIWNW','$product_docs.unit','/view','json'];a0_0x4023=function(){return _0x29adeb;};return a0_0x4023();}