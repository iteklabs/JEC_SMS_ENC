var a0_0x5e4d9f=a0_0x35dc;(function(_0x40a92a,_0x82b490){var _0x379897=a0_0x35dc,_0x134687=_0x40a92a();while(!![]){try{var _0x311241=-parseInt(_0x379897(0x151))/0x1*(-parseInt(_0x379897(0x15b))/0x2)+-parseInt(_0x379897(0x14a))/0x3*(parseInt(_0x379897(0x161))/0x4)+-parseInt(_0x379897(0x13d))/0x5+-parseInt(_0x379897(0x153))/0x6+-parseInt(_0x379897(0x166))/0x7+parseInt(_0x379897(0x130))/0x8+parseInt(_0x379897(0x14f))/0x9;if(_0x311241===_0x82b490)break;else _0x134687['push'](_0x134687['shift']());}catch(_0x26f979){_0x134687['push'](_0x134687['shift']());}}}(a0_0x47d1,0x4c964));const express=require(a0_0x5e4d9f(0x12b)),app=express(),router=express[a0_0x5e4d9f(0x167)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x5e4d9f(0x12d));function a0_0x35dc(_0x1fd011,_0x307f17){var _0x47d17d=a0_0x47d1();return a0_0x35dc=function(_0x35dc2a,_0x57c1c2){_0x35dc2a=_0x35dc2a-0x129;var _0x2545b0=_0x47d17d[_0x35dc2a];return _0x2545b0;},a0_0x35dc(_0x1fd011,_0x307f17);}router['get'](a0_0x5e4d9f(0x131),auth,async(_0x2b2311,_0x3106b0)=>{var _0x195d1=a0_0x5e4d9f;try{const _0x2bcdb5=_0x2b2311[_0x195d1(0x158)];console['log']('role_data',_0x2b2311['user']);const _0x1c5574=await profile['findOne']({'email':_0x2bcdb5[_0x195d1(0x13f)]}),_0x42e13e=await master_shop[_0x195d1(0x14d)]();console[_0x195d1(0x147)](_0x195d1(0x13e),_0x42e13e);const _0x3065ce=await warehouse['aggregate']([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x195d1(0x133),'name':{'$first':_0x195d1(0x133)}}}]),_0x310341=await product[_0x195d1(0x14d)]({});if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x134)){var _0x316eb1=users[_0x195d1(0x145)];console[_0x195d1(0x147)](_0x316eb1);}else{if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x129))var _0x316eb1=users['Hindi'];else{if(_0x42e13e[0x0][_0x195d1(0x132)]=='German')var _0x316eb1=users['German'];else{if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x163))var _0x316eb1=users[_0x195d1(0x163)];else{if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x137))var _0x316eb1=users[_0x195d1(0x137)];else{if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x165))var _0x316eb1=users[_0x195d1(0x157)];else{if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x13c))var _0x316eb1=users[_0x195d1(0x13c)];else{if(_0x42e13e[0x0][_0x195d1(0x132)]==_0x195d1(0x13b))var _0x316eb1=users[_0x195d1(0x140)];}}}}}}}_0x3106b0[_0x195d1(0x15d)]('stock_report',{'success':_0x2b2311[_0x195d1(0x14c)](_0x195d1(0x160)),'errors':_0x2b2311[_0x195d1(0x14c)]('errors'),'role':_0x2bcdb5,'profile':_0x1c5574,'master_shop':_0x42e13e,'warehouse':_0x3065ce,'product':_0x310341,'warehouse_doc':[],'product_doc':[],'language':_0x316eb1});}catch(_0x6d3507){console[_0x195d1(0x147)](_0x6d3507);}}),router[a0_0x5e4d9f(0x156)](a0_0x5e4d9f(0x149),auth,async(_0x5ed7d6,_0x1ef591)=>{var _0xb09739=a0_0x5e4d9f;try{const _0x43210a=await master_shop[_0xb09739(0x14d)]();console[_0xb09739(0x147)]('master',_0x43210a);if(_0x5ed7d6[_0xb09739(0x15c)]['id']==_0xb09739(0x154)){const _0x587ab5=await warehouse['find']();console[_0xb09739(0x147)](_0x587ab5);if(_0x43210a[0x0][_0xb09739(0x132)]==_0xb09739(0x134)){var _0x2e121f=users[_0xb09739(0x145)];console[_0xb09739(0x147)](_0x2e121f);}else{if(_0x43210a[0x0]['language']==_0xb09739(0x129))var _0x2e121f=users[_0xb09739(0x129)];else{if(_0x43210a[0x0][_0xb09739(0x132)]==_0xb09739(0x168))var _0x2e121f=users[_0xb09739(0x168)];else{if(_0x43210a[0x0][_0xb09739(0x132)]==_0xb09739(0x163))var _0x2e121f=users[_0xb09739(0x163)];else{if(_0x43210a[0x0][_0xb09739(0x132)]==_0xb09739(0x137))var _0x2e121f=users[_0xb09739(0x137)];else{if(_0x43210a[0x0]['language']==_0xb09739(0x165))var _0x2e121f=users[_0xb09739(0x157)];else{if(_0x43210a[0x0]['language']==_0xb09739(0x13c))var _0x2e121f=users[_0xb09739(0x13c)];else{if(_0x43210a[0x0][_0xb09739(0x132)]=='Arabic\x20(ae)')var _0x2e121f=users[_0xb09739(0x140)];}}}}}}}_0x1ef591['status'](0xc8)[_0xb09739(0x15f)]({'data':_0x587ab5,'language':_0x2e121f[_0xb09739(0x154)]});}else{const _0x16d757=await product[_0xb09739(0x14d)]();console['log'](_0xb09739(0x143),_0x16d757);if(_0x43210a[0x0][_0xb09739(0x132)]=='English\x20(US)'){var _0x2e121f=users[_0xb09739(0x145)];console[_0xb09739(0x147)](_0x2e121f);}else{if(_0x43210a[0x0]['language']=='Hindi')var _0x2e121f=users[_0xb09739(0x129)];else{if(_0x43210a[0x0]['language']==_0xb09739(0x168))var _0x2e121f=users[_0xb09739(0x168)];else{if(_0x43210a[0x0][_0xb09739(0x132)]==_0xb09739(0x163))var _0x2e121f=users[_0xb09739(0x163)];else{if(_0x43210a[0x0]['language']=='French')var _0x2e121f=users['French'];else{if(_0x43210a[0x0]['language']==_0xb09739(0x165))var _0x2e121f=users[_0xb09739(0x157)];else{if(_0x43210a[0x0][_0xb09739(0x132)]==_0xb09739(0x13c))var _0x2e121f=users[_0xb09739(0x13c)];else{if(_0x43210a[0x0][_0xb09739(0x132)]=='Arabic\x20(ae)')var _0x2e121f=users[_0xb09739(0x140)];}}}}}}}_0x1ef591[_0xb09739(0x12f)](0xc8)[_0xb09739(0x15f)]({'data':_0x16d757,'language':_0x2e121f[_0xb09739(0x152)]});}}catch(_0x1fa8b8){console[_0xb09739(0x147)](_0x1fa8b8);}}),router[a0_0x5e4d9f(0x156)](a0_0x5e4d9f(0x159),auth,async(_0x206791,_0x1a7cc7)=>{var _0x4ef2b4=a0_0x5e4d9f;try{const _0x5456af=_0x206791[_0x4ef2b4(0x15c)]['id'];console[_0x4ef2b4(0x147)](_0x5456af);const _0x3b5a4b=await master_shop[_0x4ef2b4(0x14d)]();console[_0x4ef2b4(0x147)](_0x4ef2b4(0x13e),_0x3b5a4b);const _0x4dd52d=await warehouse[_0x4ef2b4(0x14b)]([{'$match':{'name':_0x5456af}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x4ef2b4(0x152),'localField':_0x4ef2b4(0x15e),'foreignField':_0x4ef2b4(0x150),'as':_0x4ef2b4(0x135)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':'$product_details.product_stock','category':_0x4ef2b4(0x15a),'brand':_0x4ef2b4(0x141),'sku':_0x4ef2b4(0x162),'unit':_0x4ef2b4(0x12e),'rak':'product_details.rak_name','bin':_0x4ef2b4(0x164)}}]);console[_0x4ef2b4(0x147)](_0x4dd52d);if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]==_0x4ef2b4(0x134)){var _0x652676=users[_0x4ef2b4(0x145)];console[_0x4ef2b4(0x147)](_0x652676);}else{if(_0x3b5a4b[0x0]['language']==_0x4ef2b4(0x129))var _0x652676=users['Hindi'];else{if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]==_0x4ef2b4(0x168))var _0x652676=users[_0x4ef2b4(0x168)];else{if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]=='Spanish')var _0x652676=users[_0x4ef2b4(0x163)];else{if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]==_0x4ef2b4(0x137))var _0x652676=users[_0x4ef2b4(0x137)];else{if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]==_0x4ef2b4(0x165))var _0x652676=users['Portuguese'];else{if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]=='Chinese')var _0x652676=users[_0x4ef2b4(0x13c)];else{if(_0x3b5a4b[0x0][_0x4ef2b4(0x132)]=='Arabic\x20(ae)')var _0x652676=users[_0x4ef2b4(0x140)];}}}}}}}_0x1a7cc7[_0x4ef2b4(0x12f)](0xc8)[_0x4ef2b4(0x15f)]({'data':_0x4dd52d,'language':_0x652676});}catch(_0x2c47e8){console['log'](_0x2c47e8);}}),router[a0_0x5e4d9f(0x156)](a0_0x5e4d9f(0x139),auth,async(_0x4c69c4,_0x44bca9)=>{var _0x112460=a0_0x5e4d9f;try{const _0x5b202b=_0x4c69c4[_0x112460(0x15c)]['id'];console[_0x112460(0x147)](_0x5b202b);const _0x5e30ec=await master_shop[_0x112460(0x14d)]();console[_0x112460(0x147)](_0x112460(0x13e),_0x5e30ec);const _0x3f65d8=await product[_0x112460(0x142)]({'name':_0x5b202b});console[_0x112460(0x147)](_0x112460(0x14e),_0x3f65d8);const _0x188ce7=await warehouse[_0x112460(0x14b)]([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x5b202b}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x112460(0x136)}}]);console['log'](_0x112460(0x138),_0x188ce7);if(_0x5e30ec[0x0]['language']==_0x112460(0x134)){var _0x5aac7b=users['English'];console[_0x112460(0x147)](_0x5aac7b);}else{if(_0x5e30ec[0x0][_0x112460(0x132)]==_0x112460(0x129))var _0x5aac7b=users[_0x112460(0x129)];else{if(_0x5e30ec[0x0][_0x112460(0x132)]==_0x112460(0x168))var _0x5aac7b=users['German'];else{if(_0x5e30ec[0x0]['language']==_0x112460(0x163))var _0x5aac7b=users[_0x112460(0x163)];else{if(_0x5e30ec[0x0][_0x112460(0x132)]==_0x112460(0x137))var _0x5aac7b=users[_0x112460(0x137)];else{if(_0x5e30ec[0x0][_0x112460(0x132)]==_0x112460(0x165))var _0x5aac7b=users[_0x112460(0x157)];else{if(_0x5e30ec[0x0][_0x112460(0x132)]==_0x112460(0x13c))var _0x5aac7b=users['Chinese'];else{if(_0x5e30ec[0x0][_0x112460(0x132)]==_0x112460(0x13b))var _0x5aac7b=users['Arabic'];}}}}}}}_0x44bca9[_0x112460(0x12f)](0xc8)[_0x112460(0x15f)]({'product_data':_0x3f65d8,'warehouse_data':_0x188ce7,'language':_0x5aac7b});}catch(_0x11b22c){console[_0x112460(0x147)](_0x11b22c);}}),router[a0_0x5e4d9f(0x13a)](a0_0x5e4d9f(0x155),async(_0x16a6ad,_0x4cbbd8)=>{var _0xae831d=a0_0x5e4d9f;const {warehouseNew:_0x12b4e7,rooms:_0x5c0296}=_0x16a6ad[_0xae831d(0x144)];let _0x172bf8;_0x5c0296==_0xae831d(0x146)?_0x172bf8=await warehouse[_0xae831d(0x14b)]([{'$match':{'name':_0x12b4e7}},{'$unwind':_0xae831d(0x12c)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x172bf8=await warehouse[_0xae831d(0x14b)]([{'$match':{'name':_0x12b4e7,'room':_0x5c0296}},{'$unwind':_0xae831d(0x12c)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x4cbbd8[_0xae831d(0x15f)](_0x172bf8);}),router[a0_0x5e4d9f(0x13a)](a0_0x5e4d9f(0x148),async(_0x3a6670,_0xac93fc)=>{var _0x2e5f5f=a0_0x5e4d9f;const {warehouseNew:_0x4e8308,rooms:_0x411b7b,Type:_0x755be2,process_cat:_0x5444a3,room_cat:_0x346a58}=_0x3a6670['body'],_0x1a8419=await product[_0x2e5f5f(0x14d)]();_0xac93fc['json'](_0x1a8419);}),module[a0_0x5e4d9f(0x12a)]=router;function a0_0x47d1(){var _0x247f8d=['exports','express','$product_details','../public/language/languages.json','$product_docs.unit','status','270688avzDSo','/view','language','$name','English\x20(US)','product_docs','$product_details.product_stock','French','warehouse_data','/view/product/:id','post','Arabic\x20(ae)','Chinese','2905540KYtnQt','master','email','Arabic','$product_docs.brand','findOne','111','body','English','All','log','/Reports_product','/view/:id','3wtrwlA','aggregate','flash','find','product_data','11361969qMCnnJ','name','20147JbMxfj','products','2102898qxxndA','warehouse','/Reports','get','Portuguese','user','/view/warehouse/:id','$product_docs.category','18ZDqqZD','params','render','product_details.product_name','json','success','176600relrYj','$product_docs.sku','Spanish','product_details.bin_name','Portuguese\x20(BR)','1317113xEEMFz','Router','German','Hindi'];a0_0x47d1=function(){return _0x247f8d;};return a0_0x47d1();}