var a0_0x38b279=a0_0x5e5a;function a0_0x5e5a(_0x298acc,_0x5daf92){var _0x36ae6d=a0_0x36ae();return a0_0x5e5a=function(_0x5e5a87,_0x404fbc){_0x5e5a87=_0x5e5a87-0xad;var _0x22fa76=_0x36ae6d[_0x5e5a87];return _0x22fa76;},a0_0x5e5a(_0x298acc,_0x5daf92);}(function(_0x3038eb,_0x3e70f7){var _0x339822=a0_0x5e5a,_0x5afabf=_0x3038eb();while(!![]){try{var _0x1f56ef=-parseInt(_0x339822(0xc2))/0x1*(parseInt(_0x339822(0xd7))/0x2)+-parseInt(_0x339822(0xeb))/0x3+parseInt(_0x339822(0xb5))/0x4+-parseInt(_0x339822(0xb4))/0x5*(-parseInt(_0x339822(0xd4))/0x6)+parseInt(_0x339822(0xc6))/0x7+parseInt(_0x339822(0xb2))/0x8*(parseInt(_0x339822(0xe7))/0x9)+-parseInt(_0x339822(0xea))/0xa;if(_0x1f56ef===_0x3e70f7)break;else _0x5afabf['push'](_0x5afabf['shift']());}catch(_0x3b3eee){_0x5afabf['push'](_0x5afabf['shift']());}}}(a0_0x36ae,0xad25f));const express=require(a0_0x38b279(0xe3)),app=express(),router=express[a0_0x38b279(0xbb)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x38b279(0xe0)),auth=require(a0_0x38b279(0xdc)),users=require(a0_0x38b279(0xb3));function a0_0x36ae(){var _0x1a6b2a=['French','get','product_data','$product_docs','aggregate','warehouse','German','$product_details','5421712kewuSl','../public/language/languages.json','15SZmpRj','1103168FxDtSn','master','post','product_docs','/view/product/:id','stock_report','Router','body','/view/:id','status','Hindi','exports','log','155vOYXhR','role_data','$product_docs.sku','Chinese','4298413kOVnzv','/Reports','$name','render','Arabic\x20(ae)','user','$product_docs.brand','$product_details.product_stock','flash','/view/warehouse/:id','All','Spanish','find','email','1448526ZIDswO','json','success','13318PBdzwI','English','English\x20(US)','/view','Portuguese','../middleware/auth','params','name','findOne','../models/all_models','errors','Portuguese\x20(BR)','express','$product_docs.unit','language','$product_details.product_name','9YzAXnR','Enabled','111','2205350ixapdW','989799PoviFC','Arabic','products'];a0_0x36ae=function(){return _0x1a6b2a;};return a0_0x36ae();}router[a0_0x38b279(0xef)](a0_0x38b279(0xda),auth,async(_0x1f107e,_0x201077)=>{var _0x3cc741=a0_0x38b279;try{const _0x5978bb=_0x1f107e[_0x3cc741(0xcb)];console[_0x3cc741(0xc1)](_0x3cc741(0xc3),_0x1f107e[_0x3cc741(0xcb)]);const _0x2cb9d0=await profile[_0x3cc741(0xdf)]({'email':_0x5978bb[_0x3cc741(0xd3)]}),_0x1fd4d5=await master_shop[_0x3cc741(0xd2)]();console[_0x3cc741(0xc1)](_0x3cc741(0xb6),_0x1fd4d5);const _0x4d1727=await warehouse['aggregate']([{'$match':{'status':_0x3cc741(0xe8)}},{'$group':{'_id':_0x3cc741(0xc8),'name':{'$first':_0x3cc741(0xc8)}}}]),_0x400c1b=await product[_0x3cc741(0xd2)]({});if(_0x1fd4d5[0x0][_0x3cc741(0xe5)]==_0x3cc741(0xd9)){var _0x4af35c=users[_0x3cc741(0xd8)];console[_0x3cc741(0xc1)](_0x4af35c);}else{if(_0x1fd4d5[0x0]['language']=='Hindi')var _0x4af35c=users['Hindi'];else{if(_0x1fd4d5[0x0][_0x3cc741(0xe5)]==_0x3cc741(0xb0))var _0x4af35c=users[_0x3cc741(0xb0)];else{if(_0x1fd4d5[0x0][_0x3cc741(0xe5)]==_0x3cc741(0xd1))var _0x4af35c=users[_0x3cc741(0xd1)];else{if(_0x1fd4d5[0x0][_0x3cc741(0xe5)]=='French')var _0x4af35c=users[_0x3cc741(0xee)];else{if(_0x1fd4d5[0x0][_0x3cc741(0xe5)]==_0x3cc741(0xe2))var _0x4af35c=users[_0x3cc741(0xdb)];else{if(_0x1fd4d5[0x0]['language']==_0x3cc741(0xc5))var _0x4af35c=users[_0x3cc741(0xc5)];else{if(_0x1fd4d5[0x0][_0x3cc741(0xe5)]==_0x3cc741(0xca))var _0x4af35c=users[_0x3cc741(0xec)];}}}}}}}_0x201077[_0x3cc741(0xc9)](_0x3cc741(0xba),{'success':_0x1f107e[_0x3cc741(0xce)](_0x3cc741(0xd6)),'errors':_0x1f107e[_0x3cc741(0xce)](_0x3cc741(0xe1)),'role':_0x5978bb,'profile':_0x2cb9d0,'master_shop':_0x1fd4d5,'warehouse':_0x4d1727,'product':_0x400c1b,'warehouse_doc':[],'product_doc':[],'language':_0x4af35c});}catch(_0x4d4604){console[_0x3cc741(0xc1)](_0x4d4604);}}),router['get'](a0_0x38b279(0xbd),auth,async(_0x185b59,_0x4427da)=>{var _0x1b49a8=a0_0x38b279;try{const _0x4f6706=await master_shop[_0x1b49a8(0xd2)]();console[_0x1b49a8(0xc1)]('master',_0x4f6706);if(_0x185b59[_0x1b49a8(0xdd)]['id']=='warehouse'){const _0x3db0e9=await warehouse[_0x1b49a8(0xd2)]();console[_0x1b49a8(0xc1)](_0x3db0e9);if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xd9)){var _0xaf51d3=users[_0x1b49a8(0xd8)];console['log'](_0xaf51d3);}else{if(_0x4f6706[0x0]['language']==_0x1b49a8(0xbf))var _0xaf51d3=users[_0x1b49a8(0xbf)];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xb0))var _0xaf51d3=users[_0x1b49a8(0xb0)];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xd1))var _0xaf51d3=users[_0x1b49a8(0xd1)];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xee))var _0xaf51d3=users[_0x1b49a8(0xee)];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xe2))var _0xaf51d3=users[_0x1b49a8(0xdb)];else{if(_0x4f6706[0x0]['language']==_0x1b49a8(0xc5))var _0xaf51d3=users[_0x1b49a8(0xc5)];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xca))var _0xaf51d3=users[_0x1b49a8(0xec)];}}}}}}}_0x4427da[_0x1b49a8(0xbe)](0xc8)[_0x1b49a8(0xd5)]({'data':_0x3db0e9,'language':_0xaf51d3[_0x1b49a8(0xaf)]});}else{const _0x385e67=await product[_0x1b49a8(0xd2)]();console[_0x1b49a8(0xc1)](_0x1b49a8(0xe9),_0x385e67);if(_0x4f6706[0x0][_0x1b49a8(0xe5)]=='English\x20(US)'){var _0xaf51d3=users['English'];console['log'](_0xaf51d3);}else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]=='Hindi')var _0xaf51d3=users[_0x1b49a8(0xbf)];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]=='German')var _0xaf51d3=users['German'];else{if(_0x4f6706[0x0][_0x1b49a8(0xe5)]==_0x1b49a8(0xd1))var _0xaf51d3=users['Spanish'];else{if(_0x4f6706[0x0]['language']==_0x1b49a8(0xee))var _0xaf51d3=users['French'];else{if(_0x4f6706[0x0]['language']==_0x1b49a8(0xe2))var _0xaf51d3=users[_0x1b49a8(0xdb)];else{if(_0x4f6706[0x0]['language']==_0x1b49a8(0xc5))var _0xaf51d3=users[_0x1b49a8(0xc5)];else{if(_0x4f6706[0x0]['language']==_0x1b49a8(0xca))var _0xaf51d3=users[_0x1b49a8(0xec)];}}}}}}}_0x4427da[_0x1b49a8(0xbe)](0xc8)[_0x1b49a8(0xd5)]({'data':_0x385e67,'language':_0xaf51d3['products']});}}catch(_0x1e5e0d){console[_0x1b49a8(0xc1)](_0x1e5e0d);}}),router['get'](a0_0x38b279(0xcf),auth,async(_0x1ba5a4,_0x372e18)=>{var _0x2c34a6=a0_0x38b279;try{const _0x40cd8b=_0x1ba5a4[_0x2c34a6(0xdd)]['id'];console[_0x2c34a6(0xc1)](_0x40cd8b);const _0x3d8ed2=await master_shop[_0x2c34a6(0xd2)]();console['log']('master',_0x3d8ed2);const _0x854fde=await warehouse['aggregate']([{'$match':{'name':_0x40cd8b}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x2c34a6(0xed),'localField':'product_details.product_name','foreignField':_0x2c34a6(0xde),'as':_0x2c34a6(0xb8)}},{'$unwind':_0x2c34a6(0xad)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x2c34a6(0xcd),'category':'$product_docs.category','brand':_0x2c34a6(0xcc),'sku':_0x2c34a6(0xc4),'unit':_0x2c34a6(0xe4),'rak':'product_details.rak_name','bin':'product_details.bin_name'}}]);console['log'](_0x854fde);if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]==_0x2c34a6(0xd9)){var _0x2d92ed=users[_0x2c34a6(0xd8)];console['log'](_0x2d92ed);}else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]=='Hindi')var _0x2d92ed=users['Hindi'];else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]==_0x2c34a6(0xb0))var _0x2d92ed=users['German'];else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]==_0x2c34a6(0xd1))var _0x2d92ed=users[_0x2c34a6(0xd1)];else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]==_0x2c34a6(0xee))var _0x2d92ed=users['French'];else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]=='Portuguese\x20(BR)')var _0x2d92ed=users[_0x2c34a6(0xdb)];else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]=='Chinese')var _0x2d92ed=users['Chinese'];else{if(_0x3d8ed2[0x0][_0x2c34a6(0xe5)]==_0x2c34a6(0xca))var _0x2d92ed=users[_0x2c34a6(0xec)];}}}}}}}_0x372e18[_0x2c34a6(0xbe)](0xc8)[_0x2c34a6(0xd5)]({'data':_0x854fde,'language':_0x2d92ed});}catch(_0x4ff00d){console['log'](_0x4ff00d);}}),router['get'](a0_0x38b279(0xb9),auth,async(_0x56cc7b,_0x52d4f4)=>{var _0xf683ad=a0_0x38b279;try{const _0x550af0=_0x56cc7b['params']['id'];console['log'](_0x550af0);const _0x49cdec=await master_shop[_0xf683ad(0xd2)]();console['log'](_0xf683ad(0xb6),_0x49cdec);const _0x55adec=await product['findOne']({'name':_0x550af0});console[_0xf683ad(0xc1)](_0xf683ad(0xf0),_0x55adec);const _0x2eeea5=await warehouse[_0xf683ad(0xae)]([{'$unwind':_0xf683ad(0xb1)},{'$match':{'product_details.product_name':_0x550af0}},{'$project':{'name':0x1,'product_name':_0xf683ad(0xe6),'product_stock':_0xf683ad(0xcd)}}]);console[_0xf683ad(0xc1)]('warehouse_data',_0x2eeea5);if(_0x49cdec[0x0][_0xf683ad(0xe5)]==_0xf683ad(0xd9)){var _0xe7d100=users[_0xf683ad(0xd8)];console['log'](_0xe7d100);}else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]==_0xf683ad(0xbf))var _0xe7d100=users['Hindi'];else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]==_0xf683ad(0xb0))var _0xe7d100=users[_0xf683ad(0xb0)];else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]=='Spanish')var _0xe7d100=users[_0xf683ad(0xd1)];else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]==_0xf683ad(0xee))var _0xe7d100=users[_0xf683ad(0xee)];else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]==_0xf683ad(0xe2))var _0xe7d100=users[_0xf683ad(0xdb)];else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]==_0xf683ad(0xc5))var _0xe7d100=users[_0xf683ad(0xc5)];else{if(_0x49cdec[0x0][_0xf683ad(0xe5)]=='Arabic\x20(ae)')var _0xe7d100=users[_0xf683ad(0xec)];}}}}}}}_0x52d4f4[_0xf683ad(0xbe)](0xc8)[_0xf683ad(0xd5)]({'product_data':_0x55adec,'warehouse_data':_0x2eeea5,'language':_0xe7d100});}catch(_0x40fa8d){console[_0xf683ad(0xc1)](_0x40fa8d);}}),router[a0_0x38b279(0xb7)](a0_0x38b279(0xc7),async(_0x4b268c,_0x3126ae)=>{var _0x1fc554=a0_0x38b279;const {warehouseNew:_0x299a57,rooms:_0x2b4a9d}=_0x4b268c[_0x1fc554(0xbc)];let _0x529b30;_0x2b4a9d==_0x1fc554(0xd0)?_0x529b30=await warehouse['aggregate']([{'$match':{'name':_0x299a57}},{'$unwind':_0x1fc554(0xb1)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x529b30=await warehouse[_0x1fc554(0xae)]([{'$match':{'name':_0x299a57,'room':_0x2b4a9d}},{'$unwind':_0x1fc554(0xb1)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x3126ae['json'](_0x529b30);}),router['post']('/Reports_product',async(_0x1a248f,_0x37e0b7)=>{const {warehouseNew:_0x3603f0,rooms:_0x35cdcb,Type:_0x34a909,process_cat:_0x4b9f4f,room_cat:_0x460b11}=_0x1a248f['body'],_0x3c2b54=await product['find']();_0x37e0b7['json'](_0x3c2b54);}),module[a0_0x38b279(0xc0)]=router;