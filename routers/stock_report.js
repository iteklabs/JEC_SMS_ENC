var a0_0x500dd0=a0_0x13c2;(function(_0x876bba,_0x3dbf37){var _0x5b7540=a0_0x13c2,_0x3bc2ed=_0x876bba();while(!![]){try{var _0x45b870=-parseInt(_0x5b7540(0x14d))/0x1*(-parseInt(_0x5b7540(0x149))/0x2)+parseInt(_0x5b7540(0x128))/0x3*(-parseInt(_0x5b7540(0x15a))/0x4)+parseInt(_0x5b7540(0x143))/0x5+parseInt(_0x5b7540(0x154))/0x6+-parseInt(_0x5b7540(0x127))/0x7*(parseInt(_0x5b7540(0x153))/0x8)+-parseInt(_0x5b7540(0x121))/0x9*(parseInt(_0x5b7540(0x146))/0xa)+parseInt(_0x5b7540(0x13e))/0xb;if(_0x45b870===_0x3dbf37)break;else _0x3bc2ed['push'](_0x3bc2ed['shift']());}catch(_0x393e1b){_0x3bc2ed['push'](_0x3bc2ed['shift']());}}}(a0_0x2143,0xdebb6));const express=require(a0_0x500dd0(0x15e)),app=express(),router=express[a0_0x500dd0(0x13d)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x500dd0(0x13b));function a0_0x13c2(_0x5d607d,_0x4e07d2){var _0x214358=a0_0x2143();return a0_0x13c2=function(_0x13c22,_0x2cc7db){_0x13c22=_0x13c22-0x121;var _0x4516d2=_0x214358[_0x13c22];return _0x4516d2;},a0_0x13c2(_0x5d607d,_0x4e07d2);}function a0_0x2143(){var _0x3da359=['post','language','$product_docs.category','status','Arabic','4456yEJFVb','9034050cMZbRg','111','email','$product_docs','products','product_docs','24CWtEQd','exports','$name','warehouse','express','product_details.bin_name','Portuguese\x20(BR)','warehouse_data','9WfEIqT','$product_docs.brand','/view','master','/view/product/:id','$product_details','13111UrHICF','800967PniCGV','product_details.product_name','find','errors','user','English\x20(US)','$product_details.product_name','product_details.rak_name','$product_docs.sku','body','Spanish','json','get','German','aggregate','Arabic\x20(ae)','render','log','Portuguese','../public/language/languages.json','English','Router','16226826wWNsfT','All','findOne','/view/warehouse/:id','params','7226120kqvxOX','Chinese','product_data','13111660iWxhzj','Hindi','/Reports_product','4nnQRme','French','Enabled','flash','221303zUWJaS'];a0_0x2143=function(){return _0x3da359;};return a0_0x2143();}router[a0_0x500dd0(0x134)](a0_0x500dd0(0x123),auth,async(_0x59d9da,_0x3b2fb6)=>{var _0x48e23a=a0_0x500dd0;try{const _0x2bd46e=_0x59d9da[_0x48e23a(0x12c)];console['log']('role_data',_0x59d9da['user']);const _0x236e30=await profile[_0x48e23a(0x140)]({'email':_0x2bd46e[_0x48e23a(0x156)]}),_0x2ae725=await master_shop[_0x48e23a(0x12a)]();console['log']('master',_0x2ae725);const _0x1bf3f1=await warehouse[_0x48e23a(0x136)]([{'$match':{'status':_0x48e23a(0x14b)}},{'$group':{'_id':_0x48e23a(0x15c),'name':{'$first':_0x48e23a(0x15c)}}}]),_0x3f496e=await product['find']({});if(_0x2ae725[0x0][_0x48e23a(0x14f)]==_0x48e23a(0x12d)){var _0x56ed38=users['English'];console[_0x48e23a(0x139)](_0x56ed38);}else{if(_0x2ae725[0x0][_0x48e23a(0x14f)]==_0x48e23a(0x147))var _0x56ed38=users[_0x48e23a(0x147)];else{if(_0x2ae725[0x0][_0x48e23a(0x14f)]==_0x48e23a(0x135))var _0x56ed38=users['German'];else{if(_0x2ae725[0x0][_0x48e23a(0x14f)]==_0x48e23a(0x132))var _0x56ed38=users[_0x48e23a(0x132)];else{if(_0x2ae725[0x0][_0x48e23a(0x14f)]=='French')var _0x56ed38=users[_0x48e23a(0x14a)];else{if(_0x2ae725[0x0]['language']==_0x48e23a(0x160))var _0x56ed38=users['Portuguese'];else{if(_0x2ae725[0x0][_0x48e23a(0x14f)]==_0x48e23a(0x144))var _0x56ed38=users['Chinese'];else{if(_0x2ae725[0x0][_0x48e23a(0x14f)]==_0x48e23a(0x137))var _0x56ed38=users[_0x48e23a(0x152)];}}}}}}}_0x3b2fb6[_0x48e23a(0x138)]('stock_report',{'success':_0x59d9da[_0x48e23a(0x14c)]('success'),'errors':_0x59d9da[_0x48e23a(0x14c)](_0x48e23a(0x12b)),'role':_0x2bd46e,'profile':_0x236e30,'master_shop':_0x2ae725,'warehouse':_0x1bf3f1,'product':_0x3f496e,'warehouse_doc':[],'product_doc':[],'language':_0x56ed38});}catch(_0x214fc0){console[_0x48e23a(0x139)](_0x214fc0);}}),router['get']('/view/:id',auth,async(_0x290b14,_0x678167)=>{var _0x253eb0=a0_0x500dd0;try{const _0x5017c8=await master_shop[_0x253eb0(0x12a)]();console[_0x253eb0(0x139)](_0x253eb0(0x124),_0x5017c8);if(_0x290b14[_0x253eb0(0x142)]['id']==_0x253eb0(0x15d)){const _0x23becd=await warehouse[_0x253eb0(0x12a)]();console[_0x253eb0(0x139)](_0x23becd);if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x12d)){var _0x500de0=users[_0x253eb0(0x13c)];console['log'](_0x500de0);}else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x147))var _0x500de0=users[_0x253eb0(0x147)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x135))var _0x500de0=users[_0x253eb0(0x135)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]=='Spanish')var _0x500de0=users[_0x253eb0(0x132)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x14a))var _0x500de0=users[_0x253eb0(0x14a)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x160))var _0x500de0=users[_0x253eb0(0x13a)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x144))var _0x500de0=users[_0x253eb0(0x144)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x137))var _0x500de0=users[_0x253eb0(0x152)];}}}}}}}_0x678167[_0x253eb0(0x151)](0xc8)[_0x253eb0(0x133)]({'data':_0x23becd,'language':_0x500de0['warehouse']});}else{const _0x2d5c54=await product[_0x253eb0(0x12a)]();console[_0x253eb0(0x139)](_0x253eb0(0x155),_0x2d5c54);if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x12d)){var _0x500de0=users[_0x253eb0(0x13c)];console['log'](_0x500de0);}else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x147))var _0x500de0=users[_0x253eb0(0x147)];else{if(_0x5017c8[0x0]['language']==_0x253eb0(0x135))var _0x500de0=users['German'];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x132))var _0x500de0=users['Spanish'];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x14a))var _0x500de0=users[_0x253eb0(0x14a)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x160))var _0x500de0=users[_0x253eb0(0x13a)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]==_0x253eb0(0x144))var _0x500de0=users[_0x253eb0(0x144)];else{if(_0x5017c8[0x0][_0x253eb0(0x14f)]=='Arabic\x20(ae)')var _0x500de0=users['Arabic'];}}}}}}}_0x678167['status'](0xc8)[_0x253eb0(0x133)]({'data':_0x2d5c54,'language':_0x500de0[_0x253eb0(0x158)]});}}catch(_0x10831d){console[_0x253eb0(0x139)](_0x10831d);}}),router[a0_0x500dd0(0x134)](a0_0x500dd0(0x141),auth,async(_0x58088e,_0x226aa9)=>{var _0x187ab6=a0_0x500dd0;try{const _0x4284ef=_0x58088e[_0x187ab6(0x142)]['id'];console['log'](_0x4284ef);const _0x21d119=await master_shop['find']();console[_0x187ab6(0x139)](_0x187ab6(0x124),_0x21d119);const _0x48d174=await warehouse[_0x187ab6(0x136)]([{'$match':{'name':_0x4284ef}},{'$unwind':_0x187ab6(0x126)},{'$lookup':{'from':_0x187ab6(0x158),'localField':_0x187ab6(0x129),'foreignField':'name','as':_0x187ab6(0x159)}},{'$unwind':_0x187ab6(0x157)},{'$project':{'name':0x1,'product_name':_0x187ab6(0x12e),'product_stock':'$product_details.product_stock','category':_0x187ab6(0x150),'brand':_0x187ab6(0x122),'sku':_0x187ab6(0x130),'unit':'$product_docs.unit','rak':_0x187ab6(0x12f),'bin':_0x187ab6(0x15f)}}]);console[_0x187ab6(0x139)](_0x48d174);if(_0x21d119[0x0][_0x187ab6(0x14f)]==_0x187ab6(0x12d)){var _0x216fc1=users[_0x187ab6(0x13c)];console[_0x187ab6(0x139)](_0x216fc1);}else{if(_0x21d119[0x0]['language']==_0x187ab6(0x147))var _0x216fc1=users['Hindi'];else{if(_0x21d119[0x0]['language']==_0x187ab6(0x135))var _0x216fc1=users[_0x187ab6(0x135)];else{if(_0x21d119[0x0][_0x187ab6(0x14f)]==_0x187ab6(0x132))var _0x216fc1=users['Spanish'];else{if(_0x21d119[0x0][_0x187ab6(0x14f)]==_0x187ab6(0x14a))var _0x216fc1=users[_0x187ab6(0x14a)];else{if(_0x21d119[0x0][_0x187ab6(0x14f)]==_0x187ab6(0x160))var _0x216fc1=users[_0x187ab6(0x13a)];else{if(_0x21d119[0x0][_0x187ab6(0x14f)]==_0x187ab6(0x144))var _0x216fc1=users['Chinese'];else{if(_0x21d119[0x0][_0x187ab6(0x14f)]=='Arabic\x20(ae)')var _0x216fc1=users[_0x187ab6(0x152)];}}}}}}}_0x226aa9['status'](0xc8)[_0x187ab6(0x133)]({'data':_0x48d174,'language':_0x216fc1});}catch(_0x33df72){console[_0x187ab6(0x139)](_0x33df72);}}),router['get'](a0_0x500dd0(0x125),auth,async(_0x206355,_0x5a45e6)=>{var _0x2c776a=a0_0x500dd0;try{const _0x285513=_0x206355['params']['id'];console[_0x2c776a(0x139)](_0x285513);const _0xf1eca0=await master_shop[_0x2c776a(0x12a)]();console[_0x2c776a(0x139)](_0x2c776a(0x124),_0xf1eca0);const _0x32e562=await product['findOne']({'name':_0x285513});console[_0x2c776a(0x139)](_0x2c776a(0x145),_0x32e562);const _0x129677=await warehouse[_0x2c776a(0x136)]([{'$unwind':_0x2c776a(0x126)},{'$match':{'product_details.product_name':_0x285513}},{'$project':{'name':0x1,'product_name':_0x2c776a(0x12e),'product_stock':'$product_details.product_stock'}}]);console[_0x2c776a(0x139)](_0x2c776a(0x161),_0x129677);if(_0xf1eca0[0x0]['language']==_0x2c776a(0x12d)){var _0x14ae4e=users[_0x2c776a(0x13c)];console[_0x2c776a(0x139)](_0x14ae4e);}else{if(_0xf1eca0[0x0][_0x2c776a(0x14f)]==_0x2c776a(0x147))var _0x14ae4e=users['Hindi'];else{if(_0xf1eca0[0x0]['language']==_0x2c776a(0x135))var _0x14ae4e=users[_0x2c776a(0x135)];else{if(_0xf1eca0[0x0][_0x2c776a(0x14f)]==_0x2c776a(0x132))var _0x14ae4e=users[_0x2c776a(0x132)];else{if(_0xf1eca0[0x0][_0x2c776a(0x14f)]==_0x2c776a(0x14a))var _0x14ae4e=users['French'];else{if(_0xf1eca0[0x0][_0x2c776a(0x14f)]=='Portuguese\x20(BR)')var _0x14ae4e=users['Portuguese'];else{if(_0xf1eca0[0x0][_0x2c776a(0x14f)]==_0x2c776a(0x144))var _0x14ae4e=users[_0x2c776a(0x144)];else{if(_0xf1eca0[0x0][_0x2c776a(0x14f)]==_0x2c776a(0x137))var _0x14ae4e=users['Arabic'];}}}}}}}_0x5a45e6[_0x2c776a(0x151)](0xc8)[_0x2c776a(0x133)]({'product_data':_0x32e562,'warehouse_data':_0x129677,'language':_0x14ae4e});}catch(_0xc209a7){console[_0x2c776a(0x139)](_0xc209a7);}}),router[a0_0x500dd0(0x14e)]('/Reports',async(_0x404cf0,_0x4c6a77)=>{var _0x44dc81=a0_0x500dd0;const {warehouseNew:_0x2c7367,rooms:_0x5bba4a}=_0x404cf0[_0x44dc81(0x131)];let _0x13b012;_0x5bba4a==_0x44dc81(0x13f)?_0x13b012=await warehouse[_0x44dc81(0x136)]([{'$match':{'name':_0x2c7367}},{'$unwind':_0x44dc81(0x126)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x13b012=await warehouse[_0x44dc81(0x136)]([{'$match':{'name':_0x2c7367,'room':_0x5bba4a}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x4c6a77[_0x44dc81(0x133)](_0x13b012);}),router[a0_0x500dd0(0x14e)](a0_0x500dd0(0x148),async(_0x34b9fd,_0x236742)=>{var _0x322b5b=a0_0x500dd0;const {warehouseNew:_0x3c6380,rooms:_0x41225e,Type:_0x2c1e99,process_cat:_0x4b7ac6,room_cat:_0x39b8c4}=_0x34b9fd[_0x322b5b(0x131)],_0x5e3dc1=await product[_0x322b5b(0x12a)]();_0x236742['json'](_0x5e3dc1);}),module[a0_0x500dd0(0x15b)]=router;