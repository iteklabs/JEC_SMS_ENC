var a0_0x5a4424=a0_0x40d4;function a0_0x1daf(){var _0x52a2e6=['get','master','/view','1281565UYHMIJ','product_data','282686KNhOXK','$product_docs.sku','$product_details.product_stock','/Reports','exports','success','$product_details.product_name','product_details.rak_name','body','product_docs','1047024OZmLrd','12519Qlbqlm','status','../public/language/languages.json','products','All','warehouse_data','/view/product/:id','name','English\x20(US)','Portuguese','$product_docs.unit','/view/warehouse/:id','findOne','email','English','$product_docs','Spanish','$name','Enabled','1051890PeMxRC','log','warehouse','$product_docs.category','flash','$product_details','user','express','3WWeoHq','language','Arabic\x20(ae)','post','find','Chinese','Hindi','Portuguese\x20(BR)','4971064lNnLtN','../middleware/auth','/view/:id','render','../models/all_models','German','French','199326lQUAUo','json','params','Arabic','aggregate'];a0_0x1daf=function(){return _0x52a2e6;};return a0_0x1daf();}(function(_0x597465,_0x12ebcf){var _0x2faf90=a0_0x40d4,_0x777a45=_0x597465();while(!![]){try{var _0x1d34d7=-parseInt(_0x2faf90(0xd8))/0x1+parseInt(_0x2faf90(0xcd))/0x2*(parseInt(_0x2faf90(0xb4))/0x3)+parseInt(_0x2faf90(0xd7))/0x4+parseInt(_0x2faf90(0xcb))/0x5+-parseInt(_0x2faf90(0xc3))/0x6+parseInt(_0x2faf90(0xac))/0x7+-parseInt(_0x2faf90(0xbc))/0x8;if(_0x1d34d7===_0x12ebcf)break;else _0x777a45['push'](_0x777a45['shift']());}catch(_0x470f3f){_0x777a45['push'](_0x777a45['shift']());}}}(a0_0x1daf,0x22cdf));const express=require(a0_0x5a4424(0xb3)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x5a4424(0xc0)),auth=require(a0_0x5a4424(0xbd)),users=require(a0_0x5a4424(0xda));function a0_0x40d4(_0x58a601,_0x17e76b){var _0x1daffb=a0_0x1daf();return a0_0x40d4=function(_0x40d4e1,_0x2d407d){_0x40d4e1=_0x40d4e1-0x9d;var _0x461a0a=_0x1daffb[_0x40d4e1];return _0x461a0a;},a0_0x40d4(_0x58a601,_0x17e76b);}router[a0_0x5a4424(0xc8)](a0_0x5a4424(0xca),auth,async(_0x3cf50c,_0x31b874)=>{var _0x48d7fe=a0_0x5a4424;try{const _0x4c1bd5=_0x3cf50c[_0x48d7fe(0xb2)];console[_0x48d7fe(0xad)]('role_data',_0x3cf50c[_0x48d7fe(0xb2)]);const _0xbc0392=await profile[_0x48d7fe(0xa5)]({'email':_0x4c1bd5[_0x48d7fe(0xa6)]}),_0x2eda85=await master_shop[_0x48d7fe(0xb8)]();console[_0x48d7fe(0xad)]('master',_0x2eda85);const _0x384af3=await warehouse[_0x48d7fe(0xc7)]([{'$match':{'status':_0x48d7fe(0xab)}},{'$group':{'_id':_0x48d7fe(0xaa),'name':{'$first':'$name'}}}]),_0x34474e=await product[_0x48d7fe(0xb8)]({});if(_0x2eda85[0x0][_0x48d7fe(0xb5)]==_0x48d7fe(0xa1)){var _0x222b6c=users[_0x48d7fe(0xa7)];console[_0x48d7fe(0xad)](_0x222b6c);}else{if(_0x2eda85[0x0]['language']=='Hindi')var _0x222b6c=users[_0x48d7fe(0xba)];else{if(_0x2eda85[0x0][_0x48d7fe(0xb5)]==_0x48d7fe(0xc1))var _0x222b6c=users[_0x48d7fe(0xc1)];else{if(_0x2eda85[0x0][_0x48d7fe(0xb5)]==_0x48d7fe(0xa9))var _0x222b6c=users[_0x48d7fe(0xa9)];else{if(_0x2eda85[0x0][_0x48d7fe(0xb5)]==_0x48d7fe(0xc2))var _0x222b6c=users[_0x48d7fe(0xc2)];else{if(_0x2eda85[0x0]['language']==_0x48d7fe(0xbb))var _0x222b6c=users[_0x48d7fe(0xa2)];else{if(_0x2eda85[0x0][_0x48d7fe(0xb5)]==_0x48d7fe(0xb9))var _0x222b6c=users[_0x48d7fe(0xb9)];else{if(_0x2eda85[0x0][_0x48d7fe(0xb5)]=='Arabic\x20(ae)')var _0x222b6c=users[_0x48d7fe(0xc6)];}}}}}}}_0x31b874[_0x48d7fe(0xbf)]('stock_report',{'success':_0x3cf50c['flash'](_0x48d7fe(0xd2)),'errors':_0x3cf50c[_0x48d7fe(0xb0)]('errors'),'role':_0x4c1bd5,'profile':_0xbc0392,'master_shop':_0x2eda85,'warehouse':_0x384af3,'product':_0x34474e,'warehouse_doc':[],'product_doc':[],'language':_0x222b6c});}catch(_0x11c170){console[_0x48d7fe(0xad)](_0x11c170);}}),router[a0_0x5a4424(0xc8)](a0_0x5a4424(0xbe),auth,async(_0x42f09a,_0x4dd5bb)=>{var _0x3804ca=a0_0x5a4424;try{const _0x45f6ca=await master_shop['find']();console[_0x3804ca(0xad)](_0x3804ca(0xc9),_0x45f6ca);if(_0x42f09a['params']['id']==_0x3804ca(0xae)){const _0xada944=await warehouse[_0x3804ca(0xb8)]();console['log'](_0xada944);if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xa1)){var _0x3320ab=users['English'];console[_0x3804ca(0xad)](_0x3320ab);}else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]=='Hindi')var _0x3320ab=users['Hindi'];else{if(_0x45f6ca[0x0]['language']==_0x3804ca(0xc1))var _0x3320ab=users[_0x3804ca(0xc1)];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xa9))var _0x3320ab=users['Spanish'];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xc2))var _0x3320ab=users[_0x3804ca(0xc2)];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xbb))var _0x3320ab=users[_0x3804ca(0xa2)];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xb9))var _0x3320ab=users[_0x3804ca(0xb9)];else{if(_0x45f6ca[0x0]['language']==_0x3804ca(0xb6))var _0x3320ab=users[_0x3804ca(0xc6)];}}}}}}}_0x4dd5bb[_0x3804ca(0xd9)](0xc8)[_0x3804ca(0xc4)]({'data':_0xada944,'language':_0x3320ab['warehouse']});}else{const _0x563eb4=await product[_0x3804ca(0xb8)]();console[_0x3804ca(0xad)]('111',_0x563eb4);if(_0x45f6ca[0x0][_0x3804ca(0xb5)]=='English\x20(US)'){var _0x3320ab=users[_0x3804ca(0xa7)];console[_0x3804ca(0xad)](_0x3320ab);}else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xba))var _0x3320ab=users[_0x3804ca(0xba)];else{if(_0x45f6ca[0x0]['language']=='German')var _0x3320ab=users[_0x3804ca(0xc1)];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xa9))var _0x3320ab=users['Spanish'];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]=='French')var _0x3320ab=users['French'];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]=='Portuguese\x20(BR)')var _0x3320ab=users['Portuguese'];else{if(_0x45f6ca[0x0]['language']==_0x3804ca(0xb9))var _0x3320ab=users[_0x3804ca(0xb9)];else{if(_0x45f6ca[0x0][_0x3804ca(0xb5)]==_0x3804ca(0xb6))var _0x3320ab=users[_0x3804ca(0xc6)];}}}}}}}_0x4dd5bb[_0x3804ca(0xd9)](0xc8)['json']({'data':_0x563eb4,'language':_0x3320ab[_0x3804ca(0xdb)]});}}catch(_0x10c2a3){console[_0x3804ca(0xad)](_0x10c2a3);}}),router[a0_0x5a4424(0xc8)](a0_0x5a4424(0xa4),auth,async(_0x1d7229,_0x2e0c37)=>{var _0x1360bd=a0_0x5a4424;try{const _0x4844db=_0x1d7229[_0x1360bd(0xc5)]['id'];console['log'](_0x4844db);const _0x26cd04=await master_shop[_0x1360bd(0xb8)]();console[_0x1360bd(0xad)](_0x1360bd(0xc9),_0x26cd04);const _0x2bda1e=await warehouse[_0x1360bd(0xc7)]([{'$match':{'name':_0x4844db}},{'$unwind':_0x1360bd(0xb1)},{'$lookup':{'from':_0x1360bd(0xdb),'localField':'product_details.product_name','foreignField':_0x1360bd(0xa0),'as':_0x1360bd(0xd6)}},{'$unwind':_0x1360bd(0xa8)},{'$project':{'name':0x1,'product_name':_0x1360bd(0xd3),'product_stock':_0x1360bd(0xcf),'category':_0x1360bd(0xaf),'brand':'$product_docs.brand','sku':_0x1360bd(0xce),'unit':_0x1360bd(0xa3),'rak':_0x1360bd(0xd4),'bin':'product_details.bin_name'}}]);console[_0x1360bd(0xad)](_0x2bda1e);if(_0x26cd04[0x0][_0x1360bd(0xb5)]==_0x1360bd(0xa1)){var _0x5c46bd=users[_0x1360bd(0xa7)];console['log'](_0x5c46bd);}else{if(_0x26cd04[0x0]['language']==_0x1360bd(0xba))var _0x5c46bd=users[_0x1360bd(0xba)];else{if(_0x26cd04[0x0][_0x1360bd(0xb5)]==_0x1360bd(0xc1))var _0x5c46bd=users['German'];else{if(_0x26cd04[0x0][_0x1360bd(0xb5)]==_0x1360bd(0xa9))var _0x5c46bd=users['Spanish'];else{if(_0x26cd04[0x0][_0x1360bd(0xb5)]=='French')var _0x5c46bd=users[_0x1360bd(0xc2)];else{if(_0x26cd04[0x0][_0x1360bd(0xb5)]==_0x1360bd(0xbb))var _0x5c46bd=users[_0x1360bd(0xa2)];else{if(_0x26cd04[0x0]['language']==_0x1360bd(0xb9))var _0x5c46bd=users[_0x1360bd(0xb9)];else{if(_0x26cd04[0x0][_0x1360bd(0xb5)]==_0x1360bd(0xb6))var _0x5c46bd=users['Arabic'];}}}}}}}_0x2e0c37[_0x1360bd(0xd9)](0xc8)[_0x1360bd(0xc4)]({'data':_0x2bda1e,'language':_0x5c46bd});}catch(_0x40f91c){console[_0x1360bd(0xad)](_0x40f91c);}}),router[a0_0x5a4424(0xc8)](a0_0x5a4424(0x9f),auth,async(_0x323d8e,_0x5619c0)=>{var _0x302681=a0_0x5a4424;try{const _0x52e3c4=_0x323d8e[_0x302681(0xc5)]['id'];console[_0x302681(0xad)](_0x52e3c4);const _0x473ea5=await master_shop[_0x302681(0xb8)]();console[_0x302681(0xad)]('master',_0x473ea5);const _0x5c3db3=await product[_0x302681(0xa5)]({'name':_0x52e3c4});console[_0x302681(0xad)](_0x302681(0xcc),_0x5c3db3);const _0x327493=await warehouse[_0x302681(0xc7)]([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x52e3c4}},{'$project':{'name':0x1,'product_name':_0x302681(0xd3),'product_stock':'$product_details.product_stock'}}]);console[_0x302681(0xad)](_0x302681(0x9e),_0x327493);if(_0x473ea5[0x0][_0x302681(0xb5)]=='English\x20(US)'){var _0x2b7094=users['English'];console[_0x302681(0xad)](_0x2b7094);}else{if(_0x473ea5[0x0]['language']==_0x302681(0xba))var _0x2b7094=users[_0x302681(0xba)];else{if(_0x473ea5[0x0][_0x302681(0xb5)]==_0x302681(0xc1))var _0x2b7094=users[_0x302681(0xc1)];else{if(_0x473ea5[0x0][_0x302681(0xb5)]==_0x302681(0xa9))var _0x2b7094=users[_0x302681(0xa9)];else{if(_0x473ea5[0x0][_0x302681(0xb5)]=='French')var _0x2b7094=users[_0x302681(0xc2)];else{if(_0x473ea5[0x0]['language']==_0x302681(0xbb))var _0x2b7094=users[_0x302681(0xa2)];else{if(_0x473ea5[0x0][_0x302681(0xb5)]==_0x302681(0xb9))var _0x2b7094=users[_0x302681(0xb9)];else{if(_0x473ea5[0x0][_0x302681(0xb5)]==_0x302681(0xb6))var _0x2b7094=users[_0x302681(0xc6)];}}}}}}}_0x5619c0['status'](0xc8)[_0x302681(0xc4)]({'product_data':_0x5c3db3,'warehouse_data':_0x327493,'language':_0x2b7094});}catch(_0xdd5dda){console[_0x302681(0xad)](_0xdd5dda);}}),router[a0_0x5a4424(0xb7)](a0_0x5a4424(0xd0),async(_0xad86f4,_0x461cb4)=>{var _0x28142a=a0_0x5a4424;const {warehouseNew:_0x589390,rooms:_0x34c683}=_0xad86f4[_0x28142a(0xd5)];let _0x391939;_0x34c683==_0x28142a(0x9d)?_0x391939=await warehouse[_0x28142a(0xc7)]([{'$match':{'name':_0x589390}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x391939=await warehouse[_0x28142a(0xc7)]([{'$match':{'name':_0x589390,'room':_0x34c683}},{'$unwind':_0x28142a(0xb1)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x461cb4[_0x28142a(0xc4)](_0x391939);}),router[a0_0x5a4424(0xb7)]('/Reports_product',async(_0xc67cc0,_0x1db6d9)=>{var _0x1d4b13=a0_0x5a4424;const {warehouseNew:_0xd7449f,rooms:_0x50ae3d,Type:_0x53555f,process_cat:_0x45fbf1,room_cat:_0x1bd1f3}=_0xc67cc0[_0x1d4b13(0xd5)],_0x533078=await product[_0x1d4b13(0xb8)]();_0x1db6d9[_0x1d4b13(0xc4)](_0x533078);}),module[a0_0x5a4424(0xd1)]=router;