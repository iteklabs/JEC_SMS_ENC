var a0_0x2b9a5e=a0_0x4beb;(function(_0x365db8,_0x58cb75){var _0x22e822=a0_0x4beb,_0x2fb164=_0x365db8();while(!![]){try{var _0x2b1b05=parseInt(_0x22e822(0x89))/0x1*(parseInt(_0x22e822(0x68))/0x2)+-parseInt(_0x22e822(0x87))/0x3*(-parseInt(_0x22e822(0x8d))/0x4)+-parseInt(_0x22e822(0x76))/0x5+-parseInt(_0x22e822(0x8f))/0x6*(parseInt(_0x22e822(0x85))/0x7)+-parseInt(_0x22e822(0x92))/0x8+parseInt(_0x22e822(0x9b))/0x9+parseInt(_0x22e822(0x9e))/0xa;if(_0x2b1b05===_0x58cb75)break;else _0x2fb164['push'](_0x2fb164['shift']());}catch(_0x5393d0){_0x2fb164['push'](_0x2fb164['shift']());}}}(a0_0x4e97,0x6f5eb));function a0_0x4beb(_0x16eab0,_0x13e38c){var _0x4e97ac=a0_0x4e97();return a0_0x4beb=function(_0x4beb78,_0x377986){_0x4beb78=_0x4beb78-0x66;var _0x32a5a3=_0x4e97ac[_0x4beb78];return _0x32a5a3;},a0_0x4beb(_0x16eab0,_0x13e38c);}const express=require('express'),app=express(),router=express[a0_0x2b9a5e(0xa5)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x2b9a5e(0x7c)),auth=require('../middleware/auth'),users=require(a0_0x2b9a5e(0x9d));router[a0_0x2b9a5e(0x7e)](a0_0x2b9a5e(0x77),auth,async(_0x30eed0,_0x4e3947)=>{var _0x509e1e=a0_0x2b9a5e;try{const _0x106030=_0x30eed0[_0x509e1e(0x6b)];console[_0x509e1e(0x94)](_0x509e1e(0xa1),_0x30eed0[_0x509e1e(0x6b)]);const _0x50c2a7=await profile['findOne']({'email':_0x106030[_0x509e1e(0x75)]}),_0x15076e=await master_shop['find']();console[_0x509e1e(0x94)](_0x509e1e(0xa0),_0x15076e);const _0x39ad89=await warehouse[_0x509e1e(0x69)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x509e1e(0x91),'name':{'$first':_0x509e1e(0x91)}}}]),_0x3e26d1=await product['find']({});if(_0x15076e[0x0][_0x509e1e(0x70)]==_0x509e1e(0x96)){var _0x19f5f3=users[_0x509e1e(0x80)];console['log'](_0x19f5f3);}else{if(_0x15076e[0x0][_0x509e1e(0x70)]==_0x509e1e(0x82))var _0x19f5f3=users[_0x509e1e(0x82)];else{if(_0x15076e[0x0][_0x509e1e(0x70)]==_0x509e1e(0x8c))var _0x19f5f3=users[_0x509e1e(0x8c)];else{if(_0x15076e[0x0]['language']==_0x509e1e(0x6f))var _0x19f5f3=users[_0x509e1e(0x6f)];else{if(_0x15076e[0x0][_0x509e1e(0x70)]==_0x509e1e(0x97))var _0x19f5f3=users[_0x509e1e(0x97)];else{if(_0x15076e[0x0][_0x509e1e(0x70)]==_0x509e1e(0x90))var _0x19f5f3=users[_0x509e1e(0xa4)];else{if(_0x15076e[0x0][_0x509e1e(0x70)]==_0x509e1e(0x81))var _0x19f5f3=users[_0x509e1e(0x81)];else{if(_0x15076e[0x0]['language']==_0x509e1e(0x9a))var _0x19f5f3=users[_0x509e1e(0x86)];}}}}}}}_0x4e3947[_0x509e1e(0x6c)](_0x509e1e(0xa3),{'success':_0x30eed0[_0x509e1e(0x95)](_0x509e1e(0x99)),'errors':_0x30eed0[_0x509e1e(0x95)]('errors'),'role':_0x106030,'profile':_0x50c2a7,'master_shop':_0x15076e,'warehouse':_0x39ad89,'product':_0x3e26d1,'warehouse_doc':[],'product_doc':[],'language':_0x19f5f3});}catch(_0x4d2379){console['log'](_0x4d2379);}}),router[a0_0x2b9a5e(0x7e)](a0_0x2b9a5e(0x93),auth,async(_0x2d2bb4,_0x43a0f7)=>{var _0x34908f=a0_0x2b9a5e;try{const _0x5a75fd=await master_shop[_0x34908f(0x84)]();console[_0x34908f(0x94)](_0x34908f(0xa0),_0x5a75fd);if(_0x2d2bb4['params']['id']==_0x34908f(0xa2)){const _0x47ff48=await warehouse[_0x34908f(0x84)]();console[_0x34908f(0x94)](_0x47ff48);if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x96)){var _0x35f4e6=users[_0x34908f(0x80)];console[_0x34908f(0x94)](_0x35f4e6);}else{if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x82))var _0x35f4e6=users['Hindi'];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]=='German')var _0x35f4e6=users[_0x34908f(0x8c)];else{if(_0x5a75fd[0x0]['language']==_0x34908f(0x6f))var _0x35f4e6=users[_0x34908f(0x6f)];else{if(_0x5a75fd[0x0]['language']=='French')var _0x35f4e6=users[_0x34908f(0x97)];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x90))var _0x35f4e6=users[_0x34908f(0xa4)];else{if(_0x5a75fd[0x0]['language']==_0x34908f(0x81))var _0x35f4e6=users[_0x34908f(0x81)];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]=='Arabic\x20(ae)')var _0x35f4e6=users[_0x34908f(0x86)];}}}}}}}_0x43a0f7[_0x34908f(0x78)](0xc8)[_0x34908f(0x7f)]({'data':_0x47ff48,'language':_0x35f4e6[_0x34908f(0xa2)]});}else{const _0x44250a=await product['find']();console['log'](_0x34908f(0x6e),_0x44250a);if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x96)){var _0x35f4e6=users[_0x34908f(0x80)];console[_0x34908f(0x94)](_0x35f4e6);}else{if(_0x5a75fd[0x0]['language']==_0x34908f(0x82))var _0x35f4e6=users[_0x34908f(0x82)];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x8c))var _0x35f4e6=users['German'];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]=='Spanish')var _0x35f4e6=users['Spanish'];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x97))var _0x35f4e6=users['French'];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]==_0x34908f(0x90))var _0x35f4e6=users[_0x34908f(0xa4)];else{if(_0x5a75fd[0x0][_0x34908f(0x70)]=='Chinese')var _0x35f4e6=users['Chinese'];else{if(_0x5a75fd[0x0]['language']==_0x34908f(0x9a))var _0x35f4e6=users[_0x34908f(0x86)];}}}}}}}_0x43a0f7[_0x34908f(0x78)](0xc8)['json']({'data':_0x44250a,'language':_0x35f4e6[_0x34908f(0x73)]});}}catch(_0x1f5abe){console[_0x34908f(0x94)](_0x1f5abe);}}),router['get'](a0_0x2b9a5e(0x66),auth,async(_0x1595a7,_0xe36ddd)=>{var _0x31c25b=a0_0x2b9a5e;try{const _0x558be3=_0x1595a7[_0x31c25b(0x8b)]['id'];console[_0x31c25b(0x94)](_0x558be3);const _0x55817b=await master_shop[_0x31c25b(0x84)]();console['log'](_0x31c25b(0xa0),_0x55817b);const _0x17809b=await warehouse[_0x31c25b(0x69)]([{'$match':{'name':_0x558be3}},{'$unwind':_0x31c25b(0x83)},{'$lookup':{'from':_0x31c25b(0x73),'localField':_0x31c25b(0x7a),'foreignField':'name','as':_0x31c25b(0x7b)}},{'$unwind':_0x31c25b(0x98)},{'$project':{'name':0x1,'product_name':_0x31c25b(0x88),'product_stock':'$product_details.product_stock','category':_0x31c25b(0x8a),'brand':_0x31c25b(0x74),'sku':'$product_docs.sku','unit':'$product_docs.unit','rak':_0x31c25b(0x9f),'bin':'product_details.bin_name'}}]);console[_0x31c25b(0x94)](_0x17809b);if(_0x55817b[0x0][_0x31c25b(0x70)]==_0x31c25b(0x96)){var _0x9873ae=users[_0x31c25b(0x80)];console['log'](_0x9873ae);}else{if(_0x55817b[0x0][_0x31c25b(0x70)]==_0x31c25b(0x82))var _0x9873ae=users[_0x31c25b(0x82)];else{if(_0x55817b[0x0]['language']==_0x31c25b(0x8c))var _0x9873ae=users[_0x31c25b(0x8c)];else{if(_0x55817b[0x0][_0x31c25b(0x70)]=='Spanish')var _0x9873ae=users['Spanish'];else{if(_0x55817b[0x0][_0x31c25b(0x70)]==_0x31c25b(0x97))var _0x9873ae=users[_0x31c25b(0x97)];else{if(_0x55817b[0x0][_0x31c25b(0x70)]==_0x31c25b(0x90))var _0x9873ae=users['Portuguese'];else{if(_0x55817b[0x0][_0x31c25b(0x70)]==_0x31c25b(0x81))var _0x9873ae=users[_0x31c25b(0x81)];else{if(_0x55817b[0x0]['language']=='Arabic\x20(ae)')var _0x9873ae=users['Arabic'];}}}}}}}_0xe36ddd[_0x31c25b(0x78)](0xc8)[_0x31c25b(0x7f)]({'data':_0x17809b,'language':_0x9873ae});}catch(_0x28811a){console['log'](_0x28811a);}}),router[a0_0x2b9a5e(0x7e)](a0_0x2b9a5e(0x67),auth,async(_0x21130a,_0x19cb2a)=>{var _0x4ea949=a0_0x2b9a5e;try{const _0x35064a=_0x21130a[_0x4ea949(0x8b)]['id'];console[_0x4ea949(0x94)](_0x35064a);const _0x1a60c5=await master_shop[_0x4ea949(0x84)]();console[_0x4ea949(0x94)](_0x4ea949(0xa0),_0x1a60c5);const _0x15b634=await product[_0x4ea949(0x9c)]({'name':_0x35064a});console[_0x4ea949(0x94)]('product_data',_0x15b634);const _0x1c6516=await warehouse[_0x4ea949(0x69)]([{'$unwind':_0x4ea949(0x83)},{'$match':{'product_details.product_name':_0x35064a}},{'$project':{'name':0x1,'product_name':_0x4ea949(0x88),'product_stock':_0x4ea949(0x8e)}}]);console[_0x4ea949(0x94)](_0x4ea949(0x79),_0x1c6516);if(_0x1a60c5[0x0][_0x4ea949(0x70)]=='English\x20(US)'){var _0x26fb1e=users[_0x4ea949(0x80)];console[_0x4ea949(0x94)](_0x26fb1e);}else{if(_0x1a60c5[0x0][_0x4ea949(0x70)]=='Hindi')var _0x26fb1e=users[_0x4ea949(0x82)];else{if(_0x1a60c5[0x0][_0x4ea949(0x70)]==_0x4ea949(0x8c))var _0x26fb1e=users[_0x4ea949(0x8c)];else{if(_0x1a60c5[0x0][_0x4ea949(0x70)]==_0x4ea949(0x6f))var _0x26fb1e=users[_0x4ea949(0x6f)];else{if(_0x1a60c5[0x0][_0x4ea949(0x70)]==_0x4ea949(0x97))var _0x26fb1e=users[_0x4ea949(0x97)];else{if(_0x1a60c5[0x0][_0x4ea949(0x70)]=='Portuguese\x20(BR)')var _0x26fb1e=users[_0x4ea949(0xa4)];else{if(_0x1a60c5[0x0][_0x4ea949(0x70)]=='Chinese')var _0x26fb1e=users[_0x4ea949(0x81)];else{if(_0x1a60c5[0x0]['language']=='Arabic\x20(ae)')var _0x26fb1e=users[_0x4ea949(0x86)];}}}}}}}_0x19cb2a[_0x4ea949(0x78)](0xc8)['json']({'product_data':_0x15b634,'warehouse_data':_0x1c6516,'language':_0x26fb1e});}catch(_0x200f09){console[_0x4ea949(0x94)](_0x200f09);}}),router['post'](a0_0x2b9a5e(0x71),async(_0x36c7e1,_0x397696)=>{var _0x5c30ec=a0_0x2b9a5e;const {warehouseNew:_0x21f6b4,rooms:_0x2dd8e4}=_0x36c7e1[_0x5c30ec(0x6a)];let _0x5b5fa9;_0x2dd8e4==_0x5c30ec(0x72)?_0x5b5fa9=await warehouse[_0x5c30ec(0x69)]([{'$match':{'name':_0x21f6b4}},{'$unwind':_0x5c30ec(0x83)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5b5fa9=await warehouse[_0x5c30ec(0x69)]([{'$match':{'name':_0x21f6b4,'room':_0x2dd8e4}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]),_0x397696[_0x5c30ec(0x7f)](_0x5b5fa9);}),router[a0_0x2b9a5e(0xa6)](a0_0x2b9a5e(0x7d),async(_0x4f741b,_0x143a8e)=>{var _0x3c2b46=a0_0x2b9a5e;const {warehouseNew:_0x964c78,rooms:_0x514875,Type:_0x5992c0,process_cat:_0x461263,room_cat:_0x3c5be8}=_0x4f741b[_0x3c2b46(0x6a)],_0x22385c=await product['find']();_0x143a8e[_0x3c2b46(0x7f)](_0x22385c);}),module[a0_0x2b9a5e(0x6d)]=router;function a0_0x4e97(){var _0x5a9ca2=['render','exports','111','Spanish','language','/Reports','All','products','$product_docs.brand','email','2635060FFVTga','/view','status','warehouse_data','product_details.product_name','product_docs','../models/all_models','/Reports_product','get','json','English','Chinese','Hindi','$product_details','find','25508cEflSP','Arabic','594kOAWTM','$product_details.product_name','48502SqRdGY','$product_docs.category','params','German','12080OUWiyY','$product_details.product_stock','222VmANwO','Portuguese\x20(BR)','$name','5368960GaNemu','/view/:id','log','flash','English\x20(US)','French','$product_docs','success','Arabic\x20(ae)','6008418fNZPaO','findOne','../public/language/languages.json','2810590SFopMB','product_details.rak_name','master','role_data','warehouse','stock_report','Portuguese','Router','post','/view/warehouse/:id','/view/product/:id','10uKVwlZ','aggregate','body','user'];a0_0x4e97=function(){return _0x5a9ca2;};return a0_0x4e97();}