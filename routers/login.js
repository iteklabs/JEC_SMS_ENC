function a0_0x521a(_0x5cbac0,_0x5942da){const _0x33b3ce=a0_0x33b3();return a0_0x521a=function(_0x521a14,_0x4dfdc3){_0x521a14=_0x521a14-0x17b;let _0x3ce4b6=_0x33b3ce[_0x521a14];return _0x3ce4b6;},a0_0x521a(_0x5cbac0,_0x5942da);}const a0_0x58e54b=a0_0x521a;(function(_0x4c2fa5,_0x776e9c){const _0x395c23=a0_0x521a,_0x1746d6=_0x4c2fa5();while(!![]){try{const _0x3051d4=-parseInt(_0x395c23(0x18e))/0x1+parseInt(_0x395c23(0x1a1))/0x2*(parseInt(_0x395c23(0x17e))/0x3)+parseInt(_0x395c23(0x183))/0x4+parseInt(_0x395c23(0x1ac))/0x5*(parseInt(_0x395c23(0x19b))/0x6)+parseInt(_0x395c23(0x181))/0x7+parseInt(_0x395c23(0x1b4))/0x8+-parseInt(_0x395c23(0x1ae))/0x9;if(_0x3051d4===_0x776e9c)break;else _0x1746d6['push'](_0x1746d6['shift']());}catch(_0x8e5f10){_0x1746d6['push'](_0x1746d6['shift']());}}}(a0_0x33b3,0xb61dd));function a0_0x33b3(){const _0x5e02ce=['type_of_acc_cat','your\x20email\x20is\x20not\x20register','../models/all_models','exports','1934016fqiHXi','account_category','get','login\x20master','password','express','2yLYuYy','email','flash','body','login\x20successfully','findOne','status','find','cookie','clearCookie','role','10ERdOMr','post','30757122uRGyWm','errors','../middleware/auth','/index','login\x20staff','your\x20password\x20is\x20wrong','9818432qgocuv','findById','_id','/validate','jsonwebtoken','4276725IJIPNK','render','redirect','5264280PyAnrL','jwt','5571116BADMJg','sign','Router','success','login','env','staff','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','secret_key','log','/staff/:id','1278963vSbpyX','bcryptjs','warehouse','/login','validate','username','Disabled','/staff/view','compare'];a0_0x33b3=function(){return _0x5e02ce;};return a0_0x33b3();}const express=require(a0_0x58e54b(0x1a0)),app=express(),router=express[a0_0x58e54b(0x185)](),{sing_up,staff,profile,master_shop}=require(a0_0x58e54b(0x199)),bcrypt=require(a0_0x58e54b(0x18f)),jwt=require(a0_0x58e54b(0x17d)),auth=require(a0_0x58e54b(0x1b0));router[a0_0x58e54b(0x19d)]('/',async(_0x868365,_0x21323b)=>{const _0x3ae805=a0_0x58e54b;try{const _0x442f3b=await master_shop[_0x3ae805(0x1a8)]();_0x21323b['render'](_0x3ae805(0x187),{'success':_0x868365[_0x3ae805(0x1a3)]('success'),'errors':_0x868365[_0x3ae805(0x1a3)](_0x3ae805(0x1af)),'master_shop':_0x442f3b});}catch(_0x3750e){console[_0x3ae805(0x18c)](_0x3750e);}}),router[a0_0x58e54b(0x19d)](a0_0x58e54b(0x17c),async(_0x5be12f,_0x25238a)=>{const _0x1eaab6=a0_0x58e54b;try{const _0x1de520=await master_shop[_0x1eaab6(0x1a8)]();_0x25238a[_0x1eaab6(0x17f)](_0x1eaab6(0x192),{'success':_0x5be12f['flash'](_0x1eaab6(0x186)),'errors':_0x5be12f[_0x1eaab6(0x1a3)](_0x1eaab6(0x1af)),'master_shop':_0x1de520});}catch(_0x588af5){console['log'](_0x588af5);}}),router[a0_0x58e54b(0x19d)](a0_0x58e54b(0x191),async(_0x1be165,_0x2d101c)=>{const _0x4e2216=a0_0x58e54b;try{const _0x1182b1=await master_shop[_0x4e2216(0x1a8)]();console[_0x4e2216(0x18c)](_0x4e2216(0x19e),_0x1182b1),_0x2d101c[_0x4e2216(0x17f)](_0x4e2216(0x187),{'success':_0x1be165['flash'](_0x4e2216(0x186)),'errors':_0x1be165[_0x4e2216(0x1a3)](_0x4e2216(0x1af)),'master_shop':_0x1182b1});}catch(_0x22bd6a){console['log'](_0x22bd6a);}}),router[a0_0x58e54b(0x1ad)](a0_0x58e54b(0x191),async(_0x1e3f0b,_0x25d412)=>{const _0x28c75f=a0_0x58e54b;try{const _0x3b13ba=_0x1e3f0b[_0x28c75f(0x1a4)][_0x28c75f(0x1a2)],_0x1b42a5=await sing_up[_0x28c75f(0x1a6)]({'email':_0x3b13ba});if(!_0x1b42a5)return _0x1e3f0b['flash']('errors',_0x28c75f(0x198)),_0x25d412[_0x28c75f(0x180)](_0x28c75f(0x191));const _0x2adff1=await staff[_0x28c75f(0x1a6)]({'email':_0x1b42a5[_0x28c75f(0x1a2)]});var _0x159b8f=_0x2adff1['account_category'],_0x5e56e8=_0x2adff1[_0x28c75f(0x197)],_0xa6a2c7=_0x2adff1['_id'],_0x4dde53=_0x2adff1[_0x28c75f(0x190)];if(_0x1b42a5['role']==_0x28c75f(0x189)){const _0x2a5a90=await staff['findOne']({'email':_0x1b42a5['email']});if(_0x2a5a90['status']==_0x28c75f(0x194))return _0x1e3f0b['flash'](_0x28c75f(0x1af),_0x28c75f(0x18a)),_0x25d412['redirect'](_0x28c75f(0x191));_0x159b8f=_0x2a5a90['account_category'],_0x5e56e8=_0x2a5a90[_0x28c75f(0x197)],_0xa6a2c7=_0x2a5a90[_0x28c75f(0x17b)],_0x4dde53=_0x2a5a90[_0x28c75f(0x190)];}const _0x1b967f=_0x1e3f0b['body'][_0x28c75f(0x19f)],_0x2a33ab=await bcrypt[_0x28c75f(0x196)](_0x1b967f,_0x1b42a5[_0x28c75f(0x19f)]);if(_0x2a33ab==![])return _0x1e3f0b[_0x28c75f(0x1a3)](_0x28c75f(0x1af),_0x28c75f(0x1b3)),_0x25d412[_0x28c75f(0x180)]('/login');const _0x23f02e=jwt[_0x28c75f(0x184)]({'username':_0x1b42a5[_0x28c75f(0x193)],'email':_0x1b42a5[_0x28c75f(0x1a2)],'role':_0x1b42a5['role'],'account_category':_0x159b8f,'sales_category':_0x5e56e8,'sttaff_id':_0xa6a2c7,'warehouse':_0x4dde53},process[_0x28c75f(0x188)][_0x28c75f(0x18b)]);_0x25d412[_0x28c75f(0x1a9)](_0x28c75f(0x182),_0x23f02e,{'expires':new Date(0xe677d213a700)}),_0x1e3f0b[_0x28c75f(0x1a3)](_0x28c75f(0x186),_0x28c75f(0x1a5)),_0x25d412['redirect'](_0x28c75f(0x1b1));}catch(_0x4f5e0d){console[_0x28c75f(0x18c)](_0x4f5e0d);}}),router[a0_0x58e54b(0x19d)](a0_0x58e54b(0x18d),async(_0x49af54,_0x2858b1)=>{const _0x219421=a0_0x58e54b;try{const _0x1921d2=_0x49af54['params']['id'],_0x32074a=await staff[_0x219421(0x1b5)]({'_id':_0x1921d2});console[_0x219421(0x18c)](_0x219421(0x1b2),_0x32074a);const _0xdc556=await staff[_0x219421(0x1a6)]({'email':_0x32074a['email']}),_0x314d2f=await sing_up[_0x219421(0x1a6)]({'email':_0x32074a[_0x219421(0x1a2)]});var _0x3b09a0=_0xdc556[_0x219421(0x19c)],_0x5726c2=_0xdc556['type_of_acc_cat'],_0x12f20c=_0xdc556[_0x219421(0x17b)],_0x59d871=_0xdc556[_0x219421(0x190)];if(_0x314d2f[_0x219421(0x1ab)]==_0x219421(0x189)){const _0x40f610=await staff[_0x219421(0x1a6)]({'email':_0x314d2f[_0x219421(0x1a2)]});if(_0x40f610[_0x219421(0x1a7)]==_0x219421(0x194))return _0x49af54[_0x219421(0x1a3)](_0x219421(0x1af),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x2858b1['redirect'](_0x219421(0x195));_0x3b09a0=_0x40f610[_0x219421(0x19c)],_0x5726c2=_0x40f610[_0x219421(0x197)],_0x12f20c=_0x40f610[_0x219421(0x17b)],_0x59d871=_0x40f610[_0x219421(0x190)];}const _0x5c10f1=jwt[_0x219421(0x184)]({'username':_0x314d2f[_0x219421(0x193)],'email':_0x314d2f[_0x219421(0x1a2)],'role':_0x314d2f[_0x219421(0x1ab)],'account_category':_0x3b09a0,'sales_category':_0x5726c2,'sttaff_id':_0x12f20c,'warehouse':_0x59d871},process['env'][_0x219421(0x18b)]);_0x2858b1[_0x219421(0x1a9)]('jwt',_0x5c10f1,{'expires':new Date(0xe677d213a700)}),_0x49af54[_0x219421(0x1a3)]('success',_0x219421(0x1a5)),_0x2858b1[_0x219421(0x180)]('/index');}catch(_0x59c898){console['log'](_0x59c898);}}),router[a0_0x58e54b(0x19d)]('/logout',(_0x583ef5,_0xeaa234)=>{const _0x34c8be=a0_0x58e54b;_0xeaa234[_0x34c8be(0x1aa)](_0x34c8be(0x182)),_0xeaa234['redirect'](_0x34c8be(0x191));}),module[a0_0x58e54b(0x19a)]=router;