const a0_0x16961d=a0_0x50da;(function(_0x2d94b0,_0xb05dcf){const _0x2235ac=a0_0x50da,_0x1f5e4a=_0x2d94b0();while(!![]){try{const _0x47a316=-parseInt(_0x2235ac(0xaf))/0x1*(parseInt(_0x2235ac(0xcc))/0x2)+parseInt(_0x2235ac(0xaa))/0x3+parseInt(_0x2235ac(0xc4))/0x4*(-parseInt(_0x2235ac(0xc7))/0x5)+parseInt(_0x2235ac(0xb6))/0x6*(parseInt(_0x2235ac(0xd1))/0x7)+parseInt(_0x2235ac(0xbb))/0x8+-parseInt(_0x2235ac(0xb1))/0x9*(parseInt(_0x2235ac(0x9d))/0xa)+parseInt(_0x2235ac(0xce))/0xb;if(_0x47a316===_0xb05dcf)break;else _0x1f5e4a['push'](_0x1f5e4a['shift']());}catch(_0x5cd292){_0x1f5e4a['push'](_0x1f5e4a['shift']());}}}(a0_0x39f1,0x83cb0));const express=require(a0_0x16961d(0x9b)),app=express(),router=express[a0_0x16961d(0xb9)](),{sing_up,staff,profile,master_shop}=require(a0_0x16961d(0xa2)),bcrypt=require(a0_0x16961d(0xbc)),jwt=require('jsonwebtoken'),auth=require('../middleware/auth');function a0_0x50da(_0x3b34a1,_0x2dd2d4){const _0x39f1b3=a0_0x39f1();return a0_0x50da=function(_0x50da4b,_0x159e50){_0x50da4b=_0x50da4b-0x98;let _0x596fdc=_0x39f1b3[_0x50da4b];return _0x596fdc;},a0_0x50da(_0x3b34a1,_0x2dd2d4);}router[a0_0x16961d(0xae)]('/',async(_0xba13c0,_0x1d5d04)=>{const _0x910d69=a0_0x16961d;try{const _0x523350=await master_shop[_0x910d69(0xcb)]();_0x1d5d04[_0x910d69(0xb3)]('login',{'success':_0xba13c0[_0x910d69(0xc1)]('success'),'errors':_0xba13c0[_0x910d69(0xc1)](_0x910d69(0x9f)),'master_shop':_0x523350});}catch(_0x1a1fee){console[_0x910d69(0xb4)](_0x1a1fee);}}),router[a0_0x16961d(0xae)]('/validate',async(_0x5bd043,_0xa71119)=>{const _0x19b2b3=a0_0x16961d;try{const _0x5052ee=await master_shop[_0x19b2b3(0xcb)]();_0xa71119[_0x19b2b3(0xb3)](_0x19b2b3(0xc3),{'success':_0x5bd043[_0x19b2b3(0xc1)](_0x19b2b3(0xd2)),'errors':_0x5bd043[_0x19b2b3(0xc1)](_0x19b2b3(0x9f)),'master_shop':_0x5052ee});}catch(_0x2eb704){console[_0x19b2b3(0xb4)](_0x2eb704);}}),router['get'](a0_0x16961d(0xbe),async(_0x1e0bbe,_0x3b32c9)=>{const _0x2812b7=a0_0x16961d;try{const _0xdc16f2=await master_shop[_0x2812b7(0xcb)]();console[_0x2812b7(0xb4)](_0x2812b7(0x9a),_0xdc16f2),_0x3b32c9[_0x2812b7(0xb3)]('login',{'success':_0x1e0bbe[_0x2812b7(0xc1)](_0x2812b7(0xd2)),'errors':_0x1e0bbe[_0x2812b7(0xc1)](_0x2812b7(0x9f)),'master_shop':_0xdc16f2});}catch(_0x5eb953){console[_0x2812b7(0xb4)](_0x5eb953);}}),router[a0_0x16961d(0xa3)](a0_0x16961d(0xbe),async(_0x25f287,_0x288d4f)=>{const _0x33844b=a0_0x16961d;try{const _0x33ead5=_0x25f287[_0x33844b(0xc5)][_0x33844b(0xc8)],_0x5416d6=await sing_up[_0x33844b(0xc9)]({'email':_0x33ead5});if(!_0x5416d6)return _0x25f287[_0x33844b(0xc1)](_0x33844b(0x9f),_0x33844b(0xa5)),_0x288d4f[_0x33844b(0x99)](_0x33844b(0xbe));const _0x533360=await staff[_0x33844b(0xc9)]({'email':_0x5416d6['email']});var _0x16ec38=_0x533360[_0x33844b(0x9c)],_0x432d62=_0x533360[_0x33844b(0xc6)],_0x26d4b8=_0x533360[_0x33844b(0xba)],_0x14534c=_0x533360[_0x33844b(0xab)];if(_0x5416d6[_0x33844b(0xbf)]==_0x33844b(0xcd)){const _0x72a6bf=await staff['findOne']({'email':_0x5416d6[_0x33844b(0xc8)]});if(_0x72a6bf[_0x33844b(0xa9)]=='Disabled')return _0x25f287[_0x33844b(0xc1)](_0x33844b(0x9f),_0x33844b(0xc0)),_0x288d4f['redirect'](_0x33844b(0xbe));_0x16ec38=_0x72a6bf[_0x33844b(0x9c)],_0x432d62=_0x72a6bf[_0x33844b(0xc6)],_0x26d4b8=_0x72a6bf[_0x33844b(0xba)],_0x14534c=_0x72a6bf[_0x33844b(0xab)];}const _0x3e0c10=_0x25f287[_0x33844b(0xc5)][_0x33844b(0xac)],_0x595eaa=await bcrypt[_0x33844b(0xb2)](_0x3e0c10,_0x5416d6['password']);if(_0x595eaa==![])return _0x25f287[_0x33844b(0xc1)](_0x33844b(0x9f),_0x33844b(0xa8)),_0x288d4f[_0x33844b(0x99)](_0x33844b(0xbe));const _0x523366=jwt[_0x33844b(0xc2)]({'username':_0x5416d6[_0x33844b(0xbd)],'email':_0x5416d6[_0x33844b(0xc8)],'role':_0x5416d6[_0x33844b(0xbf)],'account_category':_0x16ec38,'sales_category':_0x432d62,'sttaff_id':_0x26d4b8,'warehouse':_0x14534c},process[_0x33844b(0xb7)]['secret_key']);_0x288d4f[_0x33844b(0xa6)](_0x33844b(0xcf),_0x523366,{'expires':new Date(0xe677d213a700)}),_0x25f287[_0x33844b(0xc1)](_0x33844b(0xd2),_0x33844b(0xb0)),_0x288d4f['redirect'](_0x33844b(0xa1));}catch(_0x397569){console[_0x33844b(0xb4)](_0x397569);}}),router['get'](a0_0x16961d(0xd0),async(_0x2607ef,_0x274261)=>{const _0x3e7482=a0_0x16961d;try{const _0x6fa744=_0x2607ef[_0x3e7482(0xa0)]['id'],_0x31df71=await staff[_0x3e7482(0xb5)]({'_id':_0x6fa744});console['log'](_0x3e7482(0xa7),_0x31df71);const _0x455aec=await staff['findOne']({'email':_0x31df71[_0x3e7482(0xc8)]}),_0xdd9475=await sing_up[_0x3e7482(0xc9)]({'email':_0x31df71['email']});var _0x5ed189=_0x455aec['account_category'],_0x264ffa=_0x455aec[_0x3e7482(0xc6)],_0x57ae53=_0x455aec[_0x3e7482(0xba)],_0x5756fb=_0x455aec['warehouse'];if(_0xdd9475[_0x3e7482(0xbf)]==_0x3e7482(0xcd)){const _0x40d86a=await staff[_0x3e7482(0xc9)]({'email':_0xdd9475['email']});if(_0x40d86a[_0x3e7482(0xa9)]==_0x3e7482(0x9e))return _0x2607ef[_0x3e7482(0xc1)]('errors',_0x3e7482(0xc0)),_0x274261[_0x3e7482(0x99)](_0x3e7482(0xad));_0x5ed189=_0x40d86a[_0x3e7482(0x9c)],_0x264ffa=_0x40d86a[_0x3e7482(0xc6)],_0x57ae53=_0x40d86a[_0x3e7482(0xba)],_0x5756fb=_0x40d86a[_0x3e7482(0xab)];}const _0x3d6e55=jwt[_0x3e7482(0xc2)]({'username':_0xdd9475[_0x3e7482(0xbd)],'email':_0xdd9475[_0x3e7482(0xc8)],'role':_0xdd9475[_0x3e7482(0xbf)],'account_category':_0x5ed189,'sales_category':_0x264ffa,'sttaff_id':_0x57ae53,'warehouse':_0x5756fb},process['env'][_0x3e7482(0xa4)]);_0x274261[_0x3e7482(0xa6)](_0x3e7482(0xcf),_0x3d6e55,{'expires':new Date(0xe677d213a700)}),_0x2607ef[_0x3e7482(0xc1)]('success',_0x3e7482(0xb0)),_0x274261[_0x3e7482(0x99)]('/index');}catch(_0x275034){console[_0x3e7482(0xb4)](_0x275034);}}),router['get'](a0_0x16961d(0xca),(_0x2c1278,_0xd2e5fe)=>{const _0x188a8e=a0_0x16961d;_0xd2e5fe[_0x188a8e(0xb8)](_0x188a8e(0xcf)),_0xd2e5fe[_0x188a8e(0x99)]('/login');}),module[a0_0x16961d(0x98)]=router;function a0_0x39f1(){const _0xf38cb2=['find','606434MvYlgm','staff','4972649jlFpvu','jwt','/staff/:id','532Yovhgo','success','exports','redirect','login\x20master','express','account_category','10oLjWtG','Disabled','errors','params','/index','../models/all_models','post','secret_key','your\x20email\x20is\x20not\x20register','cookie','login\x20staff','your\x20password\x20is\x20wrong','status','1386288sSXIWn','warehouse','password','/staff/view','get','2eUUwdJ','login\x20successfully','33651EpOyvP','compare','render','log','findById','24330DDNGRO','env','clearCookie','Router','_id','74712mkASnE','bcryptjs','username','/login','role','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','flash','sign','validate','326708EjqQuE','body','type_of_acc_cat','5GqBnyd','email','findOne','/logout'];a0_0x39f1=function(){return _0xf38cb2;};return a0_0x39f1();}