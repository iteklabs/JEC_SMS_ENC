function a0_0x3075(_0x3ac342,_0x509c3d){const _0x55f31b=a0_0x55f3();return a0_0x3075=function(_0x3075c7,_0x514b8a){_0x3075c7=_0x3075c7-0x11e;let _0x33d07b=_0x55f31b[_0x3075c7];return _0x33d07b;},a0_0x3075(_0x3ac342,_0x509c3d);}const a0_0x213d06=a0_0x3075;(function(_0xe70c8d,_0x2099ff){const _0x33308e=a0_0x3075,_0x10e791=_0xe70c8d();while(!![]){try{const _0x5b5421=parseInt(_0x33308e(0x147))/0x1*(-parseInt(_0x33308e(0x13f))/0x2)+parseInt(_0x33308e(0x13a))/0x3+-parseInt(_0x33308e(0x142))/0x4*(parseInt(_0x33308e(0x120))/0x5)+-parseInt(_0x33308e(0x12f))/0x6*(-parseInt(_0x33308e(0x131))/0x7)+parseInt(_0x33308e(0x136))/0x8*(parseInt(_0x33308e(0x139))/0x9)+parseInt(_0x33308e(0x13b))/0xa+parseInt(_0x33308e(0x140))/0xb*(-parseInt(_0x33308e(0x144))/0xc);if(_0x5b5421===_0x2099ff)break;else _0x10e791['push'](_0x10e791['shift']());}catch(_0x3766ff){_0x10e791['push'](_0x10e791['shift']());}}}(a0_0x55f3,0x2af5f));const express=require(a0_0x213d06(0x138)),app=express(),router=express[a0_0x213d06(0x145)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require('bcryptjs'),jwt=require(a0_0x213d06(0x14f)),auth=require(a0_0x213d06(0x123));router[a0_0x213d06(0x11f)]('/',async(_0x18a81d,_0x3e2439)=>{const _0x10c2f1=a0_0x213d06;try{const _0x5b3097=await master_shop[_0x10c2f1(0x122)]();_0x3e2439[_0x10c2f1(0x151)]('login',{'success':_0x18a81d[_0x10c2f1(0x14a)](_0x10c2f1(0x126)),'errors':_0x18a81d[_0x10c2f1(0x14a)](_0x10c2f1(0x125)),'master_shop':_0x5b3097});}catch(_0x474e35){console[_0x10c2f1(0x133)](_0x474e35);}}),router[a0_0x213d06(0x11f)]('/validate',async(_0x1475cb,_0x2fc0e6)=>{const _0x11721d=a0_0x213d06;try{const _0x12910b=await master_shop['find']();_0x2fc0e6[_0x11721d(0x151)](_0x11721d(0x141),{'success':_0x1475cb[_0x11721d(0x14a)](_0x11721d(0x126)),'errors':_0x1475cb[_0x11721d(0x14a)](_0x11721d(0x125)),'master_shop':_0x12910b});}catch(_0x247789){console[_0x11721d(0x133)](_0x247789);}}),router[a0_0x213d06(0x11f)]('/login',async(_0x595d79,_0x44bc5a)=>{const _0x8cc623=a0_0x213d06;try{const _0x1e218d=await master_shop[_0x8cc623(0x122)]();console[_0x8cc623(0x133)]('login\x20master',_0x1e218d),_0x44bc5a[_0x8cc623(0x151)](_0x8cc623(0x14c),{'success':_0x595d79[_0x8cc623(0x14a)]('success'),'errors':_0x595d79['flash'](_0x8cc623(0x125)),'master_shop':_0x1e218d});}catch(_0x3c8bf1){console['log'](_0x3c8bf1);}}),router['post'](a0_0x213d06(0x129),async(_0x163d27,_0x37bd85)=>{const _0x4a189d=a0_0x213d06;try{const _0x406b35=_0x163d27[_0x4a189d(0x152)][_0x4a189d(0x11e)],_0x1256a0=await sing_up[_0x4a189d(0x132)]({'email':_0x406b35});if(!_0x1256a0)return _0x163d27['flash']('errors','your\x20email\x20is\x20not\x20register'),_0x37bd85[_0x4a189d(0x130)](_0x4a189d(0x129));const _0x5bf9ee=await staff[_0x4a189d(0x132)]({'email':_0x1256a0[_0x4a189d(0x11e)]});var _0x3fc435=_0x5bf9ee[_0x4a189d(0x134)],_0x7f20c9=_0x5bf9ee[_0x4a189d(0x12b)],_0x468072=_0x5bf9ee['_id'],_0x40d767=_0x5bf9ee['warehouse'];if(_0x1256a0['role']==_0x4a189d(0x148)){const _0x21f8c1=await staff['findOne']({'email':_0x1256a0[_0x4a189d(0x11e)]});if(_0x21f8c1[_0x4a189d(0x13c)]==_0x4a189d(0x12d))return _0x163d27[_0x4a189d(0x14a)]('errors',_0x4a189d(0x150)),_0x37bd85[_0x4a189d(0x130)]('/login');_0x3fc435=_0x21f8c1[_0x4a189d(0x134)],_0x7f20c9=_0x21f8c1['type_of_acc_cat'],_0x468072=_0x21f8c1[_0x4a189d(0x12e)],_0x40d767=_0x21f8c1['warehouse'];}const _0x16ae64=_0x163d27[_0x4a189d(0x152)][_0x4a189d(0x121)],_0x21e6a6=await bcrypt[_0x4a189d(0x12c)](_0x16ae64,_0x1256a0[_0x4a189d(0x121)]);if(_0x21e6a6==![])return _0x163d27[_0x4a189d(0x14a)](_0x4a189d(0x125),_0x4a189d(0x137)),_0x37bd85[_0x4a189d(0x130)](_0x4a189d(0x129));const _0x269022=jwt[_0x4a189d(0x146)]({'username':_0x1256a0[_0x4a189d(0x143)],'email':_0x1256a0[_0x4a189d(0x11e)],'role':_0x1256a0[_0x4a189d(0x14b)],'account_category':_0x3fc435,'sales_category':_0x7f20c9,'sttaff_id':_0x468072,'warehouse':_0x40d767},process[_0x4a189d(0x13e)]['secret_key']);_0x37bd85[_0x4a189d(0x14d)](_0x4a189d(0x13d),_0x269022,{'expires':new Date(0xe677d213a700)}),_0x163d27['flash'](_0x4a189d(0x126),'login\x20successfully'),_0x37bd85[_0x4a189d(0x130)](_0x4a189d(0x135));}catch(_0x2edb80){console[_0x4a189d(0x133)](_0x2edb80);}}),router['get']('/staff/:id',async(_0x1deebc,_0x30e074)=>{const _0x3522fa=a0_0x213d06;try{const _0x52749f=_0x1deebc[_0x3522fa(0x128)]['id'],_0x1642fe=await staff['findById']({'_id':_0x52749f});_0x1642fe[_0x3522fa(0x13c)]==_0x3522fa(0x12d)&&(_0x1deebc[_0x3522fa(0x14a)]('errors',_0x3522fa(0x150)),_0x30e074[_0x3522fa(0x130)]('/staff/view'));const _0x47879c=await sing_up[_0x3522fa(0x132)]({'email':_0x1642fe[_0x3522fa(0x11e)]});var _0x3072b7=_0x1642fe['warehouse_category'];if(_0x47879c[_0x3522fa(0x14b)]=='staff'){const _0x1a13cc=await staff[_0x3522fa(0x132)]({'name':_0x47879c['name']});_0x3072b7=_0x1a13cc[_0x3522fa(0x127)];}const _0x5bd7fe=jwt[_0x3522fa(0x146)]({'username':_0x47879c[_0x3522fa(0x143)],'email':_0x47879c[_0x3522fa(0x11e)],'role':_0x47879c[_0x3522fa(0x14b)],'warehouse_category':_0x3072b7},process['env'][_0x3522fa(0x12a)]);_0x30e074['cookie'](_0x3522fa(0x13d),_0x5bd7fe,{'expires':new Date(0xe677d213a700)}),_0x1deebc['flash'](_0x3522fa(0x126),_0x3522fa(0x124)),_0x30e074[_0x3522fa(0x130)](_0x3522fa(0x135));}catch(_0xd4d86c){console[_0x3522fa(0x133)](_0xd4d86c);}}),router['get']('/logout',(_0x165ac6,_0x5f0b65)=>{const _0x1e9d30=a0_0x213d06;_0x5f0b65[_0x1e9d30(0x149)](_0x1e9d30(0x13d)),_0x5f0b65[_0x1e9d30(0x130)](_0x1e9d30(0x129));}),module[a0_0x213d06(0x14e)]=router;function a0_0x55f3(){const _0x37b923=['jwt','env','2ObLbJj','33ZRdeVg','validate','31364sWLwXS','username','776808wDVoiF','Router','sign','256357FDPqVP','staff','clearCookie','flash','role','login','cookie','exports','jsonwebtoken','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','render','body','email','get','115OTMBhO','password','find','../middleware/auth','login\x20successfully','errors','success','warehouse_category','params','/login','secret_key','type_of_acc_cat','compare','Disabled','_id','18oyFlZd','redirect','603078arxpDk','findOne','log','account_category','/index','392wnwkyU','your\x20password\x20is\x20wrong','express','61389fuafys','277014gilKqD','1218400Ufmzhv','status'];a0_0x55f3=function(){return _0x37b923;};return a0_0x55f3();}