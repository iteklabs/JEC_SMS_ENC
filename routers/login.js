const a0_0x1a2699=a0_0x3f22;(function(_0x28434f,_0x237bca){const _0xfbddd1=a0_0x3f22,_0x25d00c=_0x28434f();while(!![]){try{const _0x1756ad=-parseInt(_0xfbddd1(0x1e2))/0x1+parseInt(_0xfbddd1(0x20b))/0x2+-parseInt(_0xfbddd1(0x205))/0x3*(parseInt(_0xfbddd1(0x1ef))/0x4)+parseInt(_0xfbddd1(0x1e6))/0x5*(-parseInt(_0xfbddd1(0x1fe))/0x6)+parseInt(_0xfbddd1(0x207))/0x7*(-parseInt(_0xfbddd1(0x201))/0x8)+parseInt(_0xfbddd1(0x20f))/0x9*(parseInt(_0xfbddd1(0x217))/0xa)+parseInt(_0xfbddd1(0x213))/0xb;if(_0x1756ad===_0x237bca)break;else _0x25d00c['push'](_0x25d00c['shift']());}catch(_0x3ced6f){_0x25d00c['push'](_0x25d00c['shift']());}}}(a0_0x5e60,0x8a01f));function a0_0x5e60(){const _0x51d37c=['/index','your\x20email\x20is\x20not\x20register','18291548kCGATJ','login\x20master','flash','sign','10ZkpMcM','findOne','secret_key','validate','444613vjXecz','login\x20successfully','type_of_acc_cat','/logout','38095cykABm','jsonwebtoken','exports','warehouse','log','env','post','status','Disabled','317420ncjBYF','body','/staff/view','../models/all_models','bcryptjs','account_category','/staff/:id','login\x20staff','staff','get','cookie','login','success','email','redirect','300FMqhYi','../middleware/auth','/login','16504wYtjYs','username','_id','find','36mJozkI','errors','2226ZABeIA','your\x20password\x20is\x20wrong','/validate','jwt','1461744PoPXtG','role','password','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','5448564UodERH','render'];a0_0x5e60=function(){return _0x51d37c;};return a0_0x5e60();}function a0_0x3f22(_0x3f5d2e,_0x34caf2){const _0x5e6025=a0_0x5e60();return a0_0x3f22=function(_0x3f2207,_0x44116c){_0x3f2207=_0x3f2207-0x1df;let _0x5d5479=_0x5e6025[_0x3f2207];return _0x5d5479;},a0_0x3f22(_0x3f5d2e,_0x34caf2);}const express=require('express'),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require(a0_0x1a2699(0x1f2)),bcrypt=require(a0_0x1a2699(0x1f3)),jwt=require(a0_0x1a2699(0x1e7)),auth=require(a0_0x1a2699(0x1ff));router['get']('/',async(_0x5b33ea,_0x15fe25)=>{const _0x3fbde9=a0_0x1a2699;try{const _0x2a85cb=await master_shop[_0x3fbde9(0x204)]();_0x15fe25['render'](_0x3fbde9(0x1fa),{'success':_0x5b33ea[_0x3fbde9(0x215)](_0x3fbde9(0x1fb)),'errors':_0x5b33ea[_0x3fbde9(0x215)](_0x3fbde9(0x206)),'master_shop':_0x2a85cb});}catch(_0x2611b2){console[_0x3fbde9(0x1ea)](_0x2611b2);}}),router[a0_0x1a2699(0x1f8)](a0_0x1a2699(0x209),async(_0x4345ac,_0x4ea136)=>{const _0x189417=a0_0x1a2699;try{const _0x28a71=await master_shop[_0x189417(0x204)]();_0x4ea136[_0x189417(0x210)](_0x189417(0x1e1),{'success':_0x4345ac[_0x189417(0x215)](_0x189417(0x1fb)),'errors':_0x4345ac[_0x189417(0x215)](_0x189417(0x206)),'master_shop':_0x28a71});}catch(_0x2d150c){console[_0x189417(0x1ea)](_0x2d150c);}}),router[a0_0x1a2699(0x1f8)](a0_0x1a2699(0x200),async(_0x40fb61,_0xfe06c1)=>{const _0xd4a669=a0_0x1a2699;try{const _0x35cb6f=await master_shop[_0xd4a669(0x204)]();console['log'](_0xd4a669(0x214),_0x35cb6f),_0xfe06c1['render'](_0xd4a669(0x1fa),{'success':_0x40fb61[_0xd4a669(0x215)](_0xd4a669(0x1fb)),'errors':_0x40fb61[_0xd4a669(0x215)]('errors'),'master_shop':_0x35cb6f});}catch(_0x35c561){console[_0xd4a669(0x1ea)](_0x35c561);}}),router[a0_0x1a2699(0x1ec)](a0_0x1a2699(0x200),async(_0x4cfd12,_0x4b122d)=>{const _0x3816fd=a0_0x1a2699;try{const _0x2895ea=_0x4cfd12[_0x3816fd(0x1f0)][_0x3816fd(0x1fc)],_0x42f05e=await sing_up[_0x3816fd(0x1df)]({'email':_0x2895ea});if(!_0x42f05e)return _0x4cfd12[_0x3816fd(0x215)](_0x3816fd(0x206),_0x3816fd(0x212)),_0x4b122d['redirect'](_0x3816fd(0x200));const _0x4e687a=await staff[_0x3816fd(0x1df)]({'email':_0x42f05e[_0x3816fd(0x1fc)]});var _0x4d62d1=_0x4e687a['account_category'],_0x1d5643=_0x4e687a[_0x3816fd(0x1e4)],_0x54b539=_0x4e687a[_0x3816fd(0x203)],_0x4d3a13=_0x4e687a[_0x3816fd(0x1e9)];if(_0x42f05e[_0x3816fd(0x20c)]==_0x3816fd(0x1f7)){const _0x3cd646=await staff[_0x3816fd(0x1df)]({'email':_0x42f05e['email']});if(_0x3cd646[_0x3816fd(0x1ed)]==_0x3816fd(0x1ee))return _0x4cfd12[_0x3816fd(0x215)](_0x3816fd(0x206),_0x3816fd(0x20e)),_0x4b122d[_0x3816fd(0x1fd)](_0x3816fd(0x200));_0x4d62d1=_0x3cd646[_0x3816fd(0x1f4)],_0x1d5643=_0x3cd646[_0x3816fd(0x1e4)],_0x54b539=_0x3cd646[_0x3816fd(0x203)],_0x4d3a13=_0x3cd646[_0x3816fd(0x1e9)];}const _0x6a079d=_0x4cfd12[_0x3816fd(0x1f0)][_0x3816fd(0x20d)],_0x3dd842=await bcrypt['compare'](_0x6a079d,_0x42f05e[_0x3816fd(0x20d)]);if(_0x3dd842==![])return _0x4cfd12[_0x3816fd(0x215)](_0x3816fd(0x206),_0x3816fd(0x208)),_0x4b122d[_0x3816fd(0x1fd)](_0x3816fd(0x200));const _0x5b61ac=jwt['sign']({'username':_0x42f05e[_0x3816fd(0x202)],'email':_0x42f05e['email'],'role':_0x42f05e['role'],'account_category':_0x4d62d1,'sales_category':_0x1d5643,'sttaff_id':_0x54b539,'warehouse':_0x4d3a13},process[_0x3816fd(0x1eb)]['secret_key']);_0x4b122d[_0x3816fd(0x1f9)](_0x3816fd(0x20a),_0x5b61ac,{'expires':new Date(0xe677d213a700)}),_0x4cfd12[_0x3816fd(0x215)](_0x3816fd(0x1fb),_0x3816fd(0x1e3)),_0x4b122d[_0x3816fd(0x1fd)](_0x3816fd(0x211));}catch(_0x3d81d9){console[_0x3816fd(0x1ea)](_0x3d81d9);}}),router['get'](a0_0x1a2699(0x1f5),async(_0x479114,_0x310949)=>{const _0x248d66=a0_0x1a2699;try{const _0x4e8f8c=_0x479114['params']['id'],_0x4a92c0=await staff['findById']({'_id':_0x4e8f8c});console[_0x248d66(0x1ea)](_0x248d66(0x1f6),_0x4a92c0);const _0x37732f=await staff[_0x248d66(0x1df)]({'email':_0x4a92c0[_0x248d66(0x1fc)]}),_0x577493=await sing_up[_0x248d66(0x1df)]({'email':_0x4a92c0[_0x248d66(0x1fc)]});var _0x276e5a=_0x37732f[_0x248d66(0x1f4)],_0x598747=_0x37732f[_0x248d66(0x1e4)],_0x52d749=_0x37732f['_id'],_0x50bd60=_0x37732f[_0x248d66(0x1e9)];if(_0x577493[_0x248d66(0x20c)]==_0x248d66(0x1f7)){const _0x2479d2=await staff[_0x248d66(0x1df)]({'email':_0x577493['email']});if(_0x2479d2[_0x248d66(0x1ed)]==_0x248d66(0x1ee))return _0x479114[_0x248d66(0x215)](_0x248d66(0x206),_0x248d66(0x20e)),_0x310949[_0x248d66(0x1fd)](_0x248d66(0x1f1));_0x276e5a=_0x2479d2[_0x248d66(0x1f4)],_0x598747=_0x2479d2[_0x248d66(0x1e4)],_0x52d749=_0x2479d2[_0x248d66(0x203)],_0x50bd60=_0x2479d2[_0x248d66(0x1e9)];}const _0x2993ac=jwt[_0x248d66(0x216)]({'username':_0x577493['username'],'email':_0x577493[_0x248d66(0x1fc)],'role':_0x577493[_0x248d66(0x20c)],'account_category':_0x276e5a,'sales_category':_0x598747,'sttaff_id':_0x52d749,'warehouse':_0x50bd60},process[_0x248d66(0x1eb)][_0x248d66(0x1e0)]);_0x310949[_0x248d66(0x1f9)]('jwt',_0x2993ac,{'expires':new Date(0xe677d213a700)}),_0x479114[_0x248d66(0x215)](_0x248d66(0x1fb),_0x248d66(0x1e3)),_0x310949[_0x248d66(0x1fd)](_0x248d66(0x211));}catch(_0x325f6a){console['log'](_0x325f6a);}}),router[a0_0x1a2699(0x1f8)](a0_0x1a2699(0x1e5),(_0x1f4b59,_0xef7e11)=>{const _0xad01d8=a0_0x1a2699;_0xef7e11['clearCookie'](_0xad01d8(0x20a)),_0xef7e11[_0xad01d8(0x1fd)](_0xad01d8(0x200));}),module[a0_0x1a2699(0x1e8)]=router;