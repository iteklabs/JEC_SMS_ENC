function a0_0x392b(_0x1e56d1,_0x53f497){const _0x12d928=a0_0x12d9();return a0_0x392b=function(_0x392b60,_0xae3ec5){_0x392b60=_0x392b60-0x88;let _0x23b2d2=_0x12d928[_0x392b60];return _0x23b2d2;},a0_0x392b(_0x1e56d1,_0x53f497);}const a0_0x11579c=a0_0x392b;(function(_0x46c476,_0x1c943b){const _0x363f06=a0_0x392b,_0x555aac=_0x46c476();while(!![]){try{const _0x34521b=-parseInt(_0x363f06(0xb8))/0x1+parseInt(_0x363f06(0x95))/0x2+parseInt(_0x363f06(0xa8))/0x3+parseInt(_0x363f06(0xba))/0x4+-parseInt(_0x363f06(0xa2))/0x5+-parseInt(_0x363f06(0x9d))/0x6+parseInt(_0x363f06(0xb0))/0x7*(-parseInt(_0x363f06(0x90))/0x8);if(_0x34521b===_0x1c943b)break;else _0x555aac['push'](_0x555aac['shift']());}catch(_0xe41e08){_0x555aac['push'](_0x555aac['shift']());}}}(a0_0x12d9,0x9c84a));function a0_0x12d9(){const _0x32e0dd=['body','password','2268296XLTqcy','email','username','warehouse_category','findOne','your\x20password\x20is\x20wrong','../models/all_models','params','2972112JxPcrA','env','log','/staff/view','errors','5490925JWHVkZ','compare','/staff/:id','find','validate','/logout','3601629tbQdYL','staff','login\x20successfully','type_of_acc_cat','status','Disabled','jsonwebtoken','secret_key','413MkbKjb','exports','/login','express','login\x20master','sign','account_category','warehouse','744242kRDPjT','login','4414004oVNQmQ','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','get','cookie','your\x20email\x20is\x20not\x20register','render','bcryptjs','Router','jwt','flash','/index','findById','_id','role','success','62280ZmmMOp','clearCookie','redirect'];a0_0x12d9=function(){return _0x32e0dd;};return a0_0x12d9();}const express=require(a0_0x11579c(0xb3)),app=express(),router=express[a0_0x11579c(0x88)](),{sing_up,staff,profile,master_shop}=require(a0_0x11579c(0x9b)),bcrypt=require(a0_0x11579c(0xc0)),jwt=require(a0_0x11579c(0xae)),auth=require('../middleware/auth');router[a0_0x11579c(0xbc)]('/',async(_0x433f9b,_0x1b7f7e)=>{const _0xdf4991=a0_0x11579c;try{const _0x54a3cd=await master_shop[_0xdf4991(0xa5)]();_0x1b7f7e[_0xdf4991(0xbf)](_0xdf4991(0xb9),{'success':_0x433f9b[_0xdf4991(0x8a)](_0xdf4991(0x8f)),'errors':_0x433f9b[_0xdf4991(0x8a)](_0xdf4991(0xa1)),'master_shop':_0x54a3cd});}catch(_0x52d27c){console[_0xdf4991(0x9f)](_0x52d27c);}}),router[a0_0x11579c(0xbc)]('/validate',async(_0x1b025a,_0x5a5756)=>{const _0x1f89be=a0_0x11579c;try{const _0x215d8c=await master_shop['find']();_0x5a5756[_0x1f89be(0xbf)](_0x1f89be(0xa6),{'success':_0x1b025a[_0x1f89be(0x8a)](_0x1f89be(0x8f)),'errors':_0x1b025a[_0x1f89be(0x8a)](_0x1f89be(0xa1)),'master_shop':_0x215d8c});}catch(_0x33bdb9){console['log'](_0x33bdb9);}}),router['get'](a0_0x11579c(0xb2),async(_0x5dd195,_0x4945fc)=>{const _0x1aa0b7=a0_0x11579c;try{const _0x12f775=await master_shop['find']();console[_0x1aa0b7(0x9f)](_0x1aa0b7(0xb4),_0x12f775),_0x4945fc['render'](_0x1aa0b7(0xb9),{'success':_0x5dd195[_0x1aa0b7(0x8a)](_0x1aa0b7(0x8f)),'errors':_0x5dd195[_0x1aa0b7(0x8a)](_0x1aa0b7(0xa1)),'master_shop':_0x12f775});}catch(_0x5a74f9){console['log'](_0x5a74f9);}}),router['post'](a0_0x11579c(0xb2),async(_0x5ec26c,_0x2d255b)=>{const _0x8b2f83=a0_0x11579c;try{const _0x415842=_0x5ec26c['body'][_0x8b2f83(0x96)],_0x281fd0=await sing_up[_0x8b2f83(0x99)]({'email':_0x415842});if(!_0x281fd0)return _0x5ec26c[_0x8b2f83(0x8a)](_0x8b2f83(0xa1),_0x8b2f83(0xbe)),_0x2d255b[_0x8b2f83(0x92)](_0x8b2f83(0xb2));const _0x3cd8db=await staff[_0x8b2f83(0x99)]({'email':_0x281fd0[_0x8b2f83(0x96)]});var _0x2011ff=_0x3cd8db[_0x8b2f83(0xb6)],_0x3a8b57=_0x3cd8db['type_of_acc_cat'],_0x52d93c=_0x3cd8db[_0x8b2f83(0x8d)],_0x2e8695=_0x3cd8db['warehouse'];if(_0x281fd0[_0x8b2f83(0x8e)]==_0x8b2f83(0xa9)){const _0x2d0274=await staff[_0x8b2f83(0x99)]({'email':_0x281fd0[_0x8b2f83(0x96)]});if(_0x2d0274['status']=='Disabled')return _0x5ec26c[_0x8b2f83(0x8a)]('errors',_0x8b2f83(0xbb)),_0x2d255b[_0x8b2f83(0x92)](_0x8b2f83(0xb2));_0x2011ff=_0x2d0274[_0x8b2f83(0xb6)],_0x3a8b57=_0x2d0274[_0x8b2f83(0xab)],_0x52d93c=_0x2d0274[_0x8b2f83(0x8d)],_0x2e8695=_0x2d0274[_0x8b2f83(0xb7)];}const _0x475118=_0x5ec26c[_0x8b2f83(0x93)][_0x8b2f83(0x94)],_0x292de3=await bcrypt[_0x8b2f83(0xa3)](_0x475118,_0x281fd0[_0x8b2f83(0x94)]);if(_0x292de3==![])return _0x5ec26c[_0x8b2f83(0x8a)](_0x8b2f83(0xa1),_0x8b2f83(0x9a)),_0x2d255b[_0x8b2f83(0x92)](_0x8b2f83(0xb2));const _0x954966=jwt[_0x8b2f83(0xb5)]({'username':_0x281fd0[_0x8b2f83(0x97)],'email':_0x281fd0[_0x8b2f83(0x96)],'role':_0x281fd0[_0x8b2f83(0x8e)],'account_category':_0x2011ff,'sales_category':_0x3a8b57,'sttaff_id':_0x52d93c,'warehouse':_0x2e8695},process[_0x8b2f83(0x9e)][_0x8b2f83(0xaf)]);_0x2d255b[_0x8b2f83(0xbd)]('jwt',_0x954966,{'expires':new Date(0xe677d213a700)}),_0x5ec26c[_0x8b2f83(0x8a)](_0x8b2f83(0x8f),'login\x20successfully'),_0x2d255b[_0x8b2f83(0x92)](_0x8b2f83(0x8b));}catch(_0x4d971b){console[_0x8b2f83(0x9f)](_0x4d971b);}}),router[a0_0x11579c(0xbc)](a0_0x11579c(0xa4),async(_0x5533aa,_0x446230)=>{const _0x36dcb3=a0_0x11579c;try{const _0x54c1e3=_0x5533aa[_0x36dcb3(0x9c)]['id'],_0x12f333=await staff[_0x36dcb3(0x8c)]({'_id':_0x54c1e3});_0x12f333[_0x36dcb3(0xac)]==_0x36dcb3(0xad)&&(_0x5533aa[_0x36dcb3(0x8a)](_0x36dcb3(0xa1),_0x36dcb3(0xbb)),_0x446230[_0x36dcb3(0x92)](_0x36dcb3(0xa0)));const _0x53197e=await sing_up[_0x36dcb3(0x99)]({'email':_0x12f333[_0x36dcb3(0x96)]});var _0x2d991a=_0x12f333[_0x36dcb3(0x98)];if(_0x53197e[_0x36dcb3(0x8e)]=='staff'){const _0x541d4a=await staff['findOne']({'name':_0x53197e['name']});_0x2d991a=_0x541d4a['warehouse_category'];}const _0x2f3efc=jwt[_0x36dcb3(0xb5)]({'username':_0x53197e[_0x36dcb3(0x97)],'email':_0x53197e[_0x36dcb3(0x96)],'role':_0x53197e[_0x36dcb3(0x8e)],'warehouse_category':_0x2d991a},process['env']['secret_key']);_0x446230[_0x36dcb3(0xbd)](_0x36dcb3(0x89),_0x2f3efc,{'expires':new Date(0xe677d213a700)}),_0x5533aa['flash']('success',_0x36dcb3(0xaa)),_0x446230[_0x36dcb3(0x92)](_0x36dcb3(0x8b));}catch(_0xfeba92){console[_0x36dcb3(0x9f)](_0xfeba92);}}),router['get'](a0_0x11579c(0xa7),(_0x6d493,_0x94f235)=>{const _0x2b36a0=a0_0x11579c;_0x94f235[_0x2b36a0(0x91)](_0x2b36a0(0x89)),_0x94f235['redirect'](_0x2b36a0(0xb2));}),module[a0_0x11579c(0xb1)]=router;