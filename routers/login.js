function a0_0x3309(_0x142a58,_0x53e05a){const _0x50c395=a0_0x50c3();return a0_0x3309=function(_0x3309a3,_0x53b924){_0x3309a3=_0x3309a3-0xd4;let _0x4aa14c=_0x50c395[_0x3309a3];return _0x4aa14c;},a0_0x3309(_0x142a58,_0x53e05a);}const a0_0x222140=a0_0x3309;(function(_0x350d97,_0x47adf0){const _0x214fb4=a0_0x3309,_0x4f9d14=_0x350d97();while(!![]){try{const _0x775cca=parseInt(_0x214fb4(0xff))/0x1*(parseInt(_0x214fb4(0x104))/0x2)+parseInt(_0x214fb4(0xf6))/0x3*(parseInt(_0x214fb4(0x105))/0x4)+-parseInt(_0x214fb4(0xe3))/0x5*(-parseInt(_0x214fb4(0xeb))/0x6)+parseInt(_0x214fb4(0xec))/0x7+-parseInt(_0x214fb4(0xe8))/0x8*(parseInt(_0x214fb4(0xf0))/0x9)+-parseInt(_0x214fb4(0xfa))/0xa+parseInt(_0x214fb4(0xdd))/0xb*(-parseInt(_0x214fb4(0x10c))/0xc);if(_0x775cca===_0x47adf0)break;else _0x4f9d14['push'](_0x4f9d14['shift']());}catch(_0x466db6){_0x4f9d14['push'](_0x4f9d14['shift']());}}}(a0_0x50c3,0x6c5c9));function a0_0x50c3(){const _0x215d33=['success','status','account_category','get','render','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','1179336ancWuV','post','staff','name','sign','env','findOne','jsonwebtoken','redirect','type_of_acc_cat','cookie','22YOIrtx','username','../middleware/auth','secret_key','log','exports','3745135QEqbqv','login\x20successfully','jwt','your\x20password\x20is\x20wrong','findById','24PqrYEX','/validate','password','6ZAFEHe','4650037aqaPMF','login\x20master','/index','params','2303523XGSrse','validate','/logout','../models/all_models','warehouse_category','/staff/:id','874536JhfWaO','clearCookie','compare','errors','7552750vGUGaz','email','flash','find','warehouse','1nlSaHd','_id','role','Disabled','/login','334358bjOpBO','8xhiZRe'];a0_0x50c3=function(){return _0x215d33;};return a0_0x50c3();}const express=require('express'),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require(a0_0x222140(0xf3)),bcrypt=require('bcryptjs'),jwt=require(a0_0x222140(0xd9)),auth=require(a0_0x222140(0xdf));router[a0_0x222140(0x109)]('/',async(_0x3c2961,_0x21ce4d)=>{const _0x236247=a0_0x222140;try{const _0x1914e6=await master_shop[_0x236247(0xfd)]();_0x21ce4d[_0x236247(0x10a)]('login',{'success':_0x3c2961[_0x236247(0xfc)]('success'),'errors':_0x3c2961[_0x236247(0xfc)](_0x236247(0xf9)),'master_shop':_0x1914e6});}catch(_0x1f456a){console[_0x236247(0xe1)](_0x1f456a);}}),router['get'](a0_0x222140(0xe9),async(_0xf3b89f,_0x1d653d)=>{const _0xb7ec9f=a0_0x222140;try{const _0x2af159=await master_shop[_0xb7ec9f(0xfd)]();_0x1d653d[_0xb7ec9f(0x10a)](_0xb7ec9f(0xf1),{'success':_0xf3b89f['flash']('success'),'errors':_0xf3b89f[_0xb7ec9f(0xfc)](_0xb7ec9f(0xf9)),'master_shop':_0x2af159});}catch(_0x3a0ba1){console[_0xb7ec9f(0xe1)](_0x3a0ba1);}}),router[a0_0x222140(0x109)](a0_0x222140(0x103),async(_0xe1d9e7,_0x5b394c)=>{const _0x1a6b04=a0_0x222140;try{const _0x34f12d=await master_shop[_0x1a6b04(0xfd)]();console['log'](_0x1a6b04(0xed),_0x34f12d),_0x5b394c[_0x1a6b04(0x10a)]('login',{'success':_0xe1d9e7[_0x1a6b04(0xfc)]('success'),'errors':_0xe1d9e7['flash'](_0x1a6b04(0xf9)),'master_shop':_0x34f12d});}catch(_0x2d8750){console[_0x1a6b04(0xe1)](_0x2d8750);}}),router[a0_0x222140(0x10d)](a0_0x222140(0x103),async(_0x1f5f50,_0x204176)=>{const _0x27f7f4=a0_0x222140;try{const _0x3d4ec4=_0x1f5f50['body'][_0x27f7f4(0xfb)],_0x48645d=await sing_up[_0x27f7f4(0xd8)]({'email':_0x3d4ec4});if(!_0x48645d)return _0x1f5f50[_0x27f7f4(0xfc)](_0x27f7f4(0xf9),'your\x20email\x20is\x20not\x20register'),_0x204176['redirect']('/login');const _0x5e12df=await staff['findOne']({'email':_0x48645d[_0x27f7f4(0xfb)]});var _0x2423c1=_0x5e12df[_0x27f7f4(0x108)],_0x4b2098=_0x5e12df['type_of_acc_cat'],_0x1e7173=_0x5e12df[_0x27f7f4(0x100)],_0x553b82=_0x5e12df['warehouse'];if(_0x48645d[_0x27f7f4(0x101)]==_0x27f7f4(0xd4)){const _0x1e4401=await staff[_0x27f7f4(0xd8)]({'email':_0x48645d[_0x27f7f4(0xfb)]});if(_0x1e4401['status']=='Disabled')return _0x1f5f50[_0x27f7f4(0xfc)](_0x27f7f4(0xf9),_0x27f7f4(0x10b)),_0x204176[_0x27f7f4(0xda)](_0x27f7f4(0x103));_0x2423c1=_0x1e4401[_0x27f7f4(0x108)],_0x4b2098=_0x1e4401[_0x27f7f4(0xdb)],_0x1e7173=_0x1e4401['_id'],_0x553b82=_0x1e4401[_0x27f7f4(0xfe)];}const _0x54e34a=_0x1f5f50['body'][_0x27f7f4(0xea)],_0x29327e=await bcrypt[_0x27f7f4(0xf8)](_0x54e34a,_0x48645d[_0x27f7f4(0xea)]);if(_0x29327e==![])return _0x1f5f50[_0x27f7f4(0xfc)](_0x27f7f4(0xf9),_0x27f7f4(0xe6)),_0x204176[_0x27f7f4(0xda)](_0x27f7f4(0x103));const _0x4ecb24=jwt[_0x27f7f4(0xd6)]({'username':_0x48645d[_0x27f7f4(0xde)],'email':_0x48645d[_0x27f7f4(0xfb)],'role':_0x48645d['role'],'account_category':_0x2423c1,'sales_category':_0x4b2098,'sttaff_id':_0x1e7173,'warehouse':_0x553b82},process['env'][_0x27f7f4(0xe0)]);_0x204176[_0x27f7f4(0xdc)](_0x27f7f4(0xe5),_0x4ecb24,{'expires':new Date(0xe677d213a700)}),_0x1f5f50[_0x27f7f4(0xfc)]('success','login\x20successfully'),_0x204176[_0x27f7f4(0xda)](_0x27f7f4(0xee));}catch(_0x567194){console[_0x27f7f4(0xe1)](_0x567194);}}),router['get'](a0_0x222140(0xf5),async(_0x563412,_0x31d123)=>{const _0x2e51ec=a0_0x222140;try{const _0x399732=_0x563412[_0x2e51ec(0xef)]['id'],_0xd5d476=await staff[_0x2e51ec(0xe7)]({'_id':_0x399732});_0xd5d476[_0x2e51ec(0x107)]==_0x2e51ec(0x102)&&(_0x563412[_0x2e51ec(0xfc)](_0x2e51ec(0xf9),_0x2e51ec(0x10b)),_0x31d123[_0x2e51ec(0xda)]('/staff/view'));const _0x3e86d7=await sing_up['findOne']({'email':_0xd5d476['email']});var _0x2034d2=_0xd5d476[_0x2e51ec(0xf4)];if(_0x3e86d7[_0x2e51ec(0x101)]==_0x2e51ec(0xd4)){const _0x3be351=await staff[_0x2e51ec(0xd8)]({'name':_0x3e86d7[_0x2e51ec(0xd5)]});_0x2034d2=_0x3be351[_0x2e51ec(0xf4)];}const _0xbabc5e=jwt[_0x2e51ec(0xd6)]({'username':_0x3e86d7['username'],'email':_0x3e86d7[_0x2e51ec(0xfb)],'role':_0x3e86d7['role'],'warehouse_category':_0x2034d2},process[_0x2e51ec(0xd7)][_0x2e51ec(0xe0)]);_0x31d123['cookie']('jwt',_0xbabc5e,{'expires':new Date(0xe677d213a700)}),_0x563412[_0x2e51ec(0xfc)](_0x2e51ec(0x106),_0x2e51ec(0xe4)),_0x31d123[_0x2e51ec(0xda)](_0x2e51ec(0xee));}catch(_0x3dd3ea){console['log'](_0x3dd3ea);}}),router[a0_0x222140(0x109)](a0_0x222140(0xf2),(_0x48e8d7,_0x2d1c4d)=>{const _0x471979=a0_0x222140;_0x2d1c4d[_0x471979(0xf7)]('jwt'),_0x2d1c4d[_0x471979(0xda)](_0x471979(0x103));}),module[a0_0x222140(0xe2)]=router;