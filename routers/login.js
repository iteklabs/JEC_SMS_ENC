function a0_0x24b2(_0x17470c,_0x252416){const _0x220b09=a0_0x220b();return a0_0x24b2=function(_0x24b2a1,_0x58bc19){_0x24b2a1=_0x24b2a1-0x158;let _0x5abb1c=_0x220b09[_0x24b2a1];return _0x5abb1c;},a0_0x24b2(_0x17470c,_0x252416);}const a0_0x30f9aa=a0_0x24b2;function a0_0x220b(){const _0xd48b14=['4654237wlxVrI','flash','_id','redirect','log','your\x20password\x20is\x20wrong','/staff/view','1559364YjKECA','jwt','email','sign','14370130TomzfA','env','clearCookie','35166EcwWuC','warehouse','/index','compare','secret_key','login\x20staff','Disabled','express','bcryptjs','role','account_category','5462270ClPKWI','get','exports','render','login\x20successfully','body','findOne','cookie','errors','225INCYNk','type_of_acc_cat','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','1SmSkxo','/login','../middleware/auth','findById','password','/logout','find','Router','username','staff','jsonwebtoken','success','10328GbfxNh','2149824GJOnjk','6WDHsme','post'];a0_0x220b=function(){return _0xd48b14;};return a0_0x220b();}(function(_0x455bc9,_0x5ef41f){const _0x29d9c1=a0_0x24b2,_0xe09883=_0x455bc9();while(!![]){try{const _0xeb1278=parseInt(_0x29d9c1(0x15c))/0x1*(parseInt(_0x29d9c1(0x17a))/0x2)+parseInt(_0x29d9c1(0x16a))/0x3*(parseInt(_0x29d9c1(0x173))/0x4)+parseInt(_0x29d9c1(0x185))/0x5+-parseInt(_0x29d9c1(0x169))/0x6+parseInt(_0x29d9c1(0x16c))/0x7+parseInt(_0x29d9c1(0x168))/0x8*(parseInt(_0x29d9c1(0x159))/0x9)+-parseInt(_0x29d9c1(0x177))/0xa;if(_0xeb1278===_0x5ef41f)break;else _0xe09883['push'](_0xe09883['shift']());}catch(_0x167254){_0xe09883['push'](_0xe09883['shift']());}}}(a0_0x220b,0xc1410));const express=require(a0_0x30f9aa(0x181)),app=express(),router=express[a0_0x30f9aa(0x163)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x30f9aa(0x182)),jwt=require(a0_0x30f9aa(0x166)),auth=require(a0_0x30f9aa(0x15e));router['get']('/',async(_0x1fed91,_0x208316)=>{const _0x1e3ab7=a0_0x30f9aa;try{const _0x34caf3=await master_shop[_0x1e3ab7(0x162)]();_0x208316['render']('login',{'success':_0x1fed91[_0x1e3ab7(0x16d)]('success'),'errors':_0x1fed91[_0x1e3ab7(0x16d)](_0x1e3ab7(0x158)),'master_shop':_0x34caf3});}catch(_0x1bfa1e){console[_0x1e3ab7(0x170)](_0x1bfa1e);}}),router[a0_0x30f9aa(0x186)]('/validate',async(_0xa0fbf2,_0x434256)=>{const _0x5f504f=a0_0x30f9aa;try{const _0x55a139=await master_shop[_0x5f504f(0x162)]();_0x434256[_0x5f504f(0x188)]('validate',{'success':_0xa0fbf2[_0x5f504f(0x16d)](_0x5f504f(0x167)),'errors':_0xa0fbf2['flash'](_0x5f504f(0x158)),'master_shop':_0x55a139});}catch(_0x462d20){console[_0x5f504f(0x170)](_0x462d20);}}),router[a0_0x30f9aa(0x186)](a0_0x30f9aa(0x15d),async(_0x47309d,_0x815bdf)=>{const _0x514b44=a0_0x30f9aa;try{const _0x11452a=await master_shop['find']();console[_0x514b44(0x170)]('login\x20master',_0x11452a),_0x815bdf[_0x514b44(0x188)]('login',{'success':_0x47309d[_0x514b44(0x16d)](_0x514b44(0x167)),'errors':_0x47309d[_0x514b44(0x16d)](_0x514b44(0x158)),'master_shop':_0x11452a});}catch(_0x584832){console[_0x514b44(0x170)](_0x584832);}}),router[a0_0x30f9aa(0x16b)](a0_0x30f9aa(0x15d),async(_0x15ca9f,_0x38e608)=>{const _0x391614=a0_0x30f9aa;try{const _0x340a45=_0x15ca9f[_0x391614(0x18a)][_0x391614(0x175)],_0x2a7ef0=await sing_up[_0x391614(0x18b)]({'email':_0x340a45});if(!_0x2a7ef0)return _0x15ca9f[_0x391614(0x16d)]('errors','your\x20email\x20is\x20not\x20register'),_0x38e608[_0x391614(0x16f)]('/login');const _0xc9a5be=await staff['findOne']({'email':_0x2a7ef0[_0x391614(0x175)]});var _0x5c98d1=_0xc9a5be[_0x391614(0x184)],_0x561e6=_0xc9a5be[_0x391614(0x15a)],_0x338426=_0xc9a5be[_0x391614(0x16e)],_0x556174=_0xc9a5be[_0x391614(0x17b)];if(_0x2a7ef0[_0x391614(0x183)]==_0x391614(0x165)){const _0x30db35=await staff[_0x391614(0x18b)]({'email':_0x2a7ef0[_0x391614(0x175)]});if(_0x30db35['status']==_0x391614(0x180))return _0x15ca9f[_0x391614(0x16d)]('errors',_0x391614(0x15b)),_0x38e608['redirect']('/login');_0x5c98d1=_0x30db35[_0x391614(0x184)],_0x561e6=_0x30db35[_0x391614(0x15a)],_0x338426=_0x30db35[_0x391614(0x16e)],_0x556174=_0x30db35[_0x391614(0x17b)];}const _0x5d42c6=_0x15ca9f[_0x391614(0x18a)][_0x391614(0x160)],_0x38e43f=await bcrypt[_0x391614(0x17d)](_0x5d42c6,_0x2a7ef0[_0x391614(0x160)]);if(_0x38e43f==![])return _0x15ca9f['flash']('errors',_0x391614(0x171)),_0x38e608['redirect'](_0x391614(0x15d));const _0x291b9f=jwt[_0x391614(0x176)]({'username':_0x2a7ef0[_0x391614(0x164)],'email':_0x2a7ef0[_0x391614(0x175)],'role':_0x2a7ef0[_0x391614(0x183)],'account_category':_0x5c98d1,'sales_category':_0x561e6,'sttaff_id':_0x338426,'warehouse':_0x556174},process[_0x391614(0x178)]['secret_key']);_0x38e608['cookie'](_0x391614(0x174),_0x291b9f,{'expires':new Date(0xe677d213a700)}),_0x15ca9f['flash'](_0x391614(0x167),'login\x20successfully'),_0x38e608[_0x391614(0x16f)](_0x391614(0x17c));}catch(_0x4465ac){console[_0x391614(0x170)](_0x4465ac);}}),router['get']('/staff/:id',async(_0x563ec9,_0x3aadd8)=>{const _0x3207be=a0_0x30f9aa;try{const _0x5984b2=_0x563ec9['params']['id'],_0x22420d=await staff[_0x3207be(0x15f)]({'_id':_0x5984b2});console['log'](_0x3207be(0x17f),_0x22420d);const _0x5d26fd=await staff['findOne']({'email':_0x22420d[_0x3207be(0x175)]}),_0x361914=await sing_up[_0x3207be(0x18b)]({'email':_0x22420d['email']});var _0x1d526c=_0x5d26fd['account_category'],_0x3a249e=_0x5d26fd[_0x3207be(0x15a)],_0x13e682=_0x5d26fd['_id'],_0x5b0ae7=_0x5d26fd[_0x3207be(0x17b)];if(_0x361914[_0x3207be(0x183)]=='staff'){const _0x398f2c=await staff[_0x3207be(0x18b)]({'email':_0x361914[_0x3207be(0x175)]});if(_0x398f2c['status']==_0x3207be(0x180))return _0x563ec9[_0x3207be(0x16d)](_0x3207be(0x158),_0x3207be(0x15b)),_0x3aadd8[_0x3207be(0x16f)](_0x3207be(0x172));_0x1d526c=_0x398f2c[_0x3207be(0x184)],_0x3a249e=_0x398f2c[_0x3207be(0x15a)],_0x13e682=_0x398f2c[_0x3207be(0x16e)],_0x5b0ae7=_0x398f2c[_0x3207be(0x17b)];}const _0x188dc1=jwt[_0x3207be(0x176)]({'username':_0x361914[_0x3207be(0x164)],'email':_0x361914[_0x3207be(0x175)],'role':_0x361914[_0x3207be(0x183)],'account_category':_0x1d526c,'sales_category':_0x3a249e,'sttaff_id':_0x13e682,'warehouse':_0x5b0ae7},process[_0x3207be(0x178)][_0x3207be(0x17e)]);_0x3aadd8[_0x3207be(0x18c)](_0x3207be(0x174),_0x188dc1,{'expires':new Date(0xe677d213a700)}),_0x563ec9[_0x3207be(0x16d)]('success',_0x3207be(0x189)),_0x3aadd8[_0x3207be(0x16f)]('/index');}catch(_0x5029c4){console[_0x3207be(0x170)](_0x5029c4);}}),router[a0_0x30f9aa(0x186)](a0_0x30f9aa(0x161),(_0xe775f7,_0x357266)=>{const _0x564265=a0_0x30f9aa;_0x357266[_0x564265(0x179)](_0x564265(0x174)),_0x357266[_0x564265(0x16f)](_0x564265(0x15d));}),module[a0_0x30f9aa(0x187)]=router;