const a0_0x3f0118=a0_0x4867;(function(_0x529899,_0x272b61){const _0x5003a3=a0_0x4867,_0x144412=_0x529899();while(!![]){try{const _0x4873c7=parseInt(_0x5003a3(0x1fb))/0x1+-parseInt(_0x5003a3(0x1d3))/0x2*(parseInt(_0x5003a3(0x1db))/0x3)+-parseInt(_0x5003a3(0x1f2))/0x4+-parseInt(_0x5003a3(0x1ec))/0x5+parseInt(_0x5003a3(0x1eb))/0x6*(-parseInt(_0x5003a3(0x1c8))/0x7)+-parseInt(_0x5003a3(0x1e1))/0x8+parseInt(_0x5003a3(0x1f3))/0x9*(parseInt(_0x5003a3(0x1f1))/0xa);if(_0x4873c7===_0x272b61)break;else _0x144412['push'](_0x144412['shift']());}catch(_0x136261){_0x144412['push'](_0x144412['shift']());}}}(a0_0x1009,0x68bd4));function a0_0x4867(_0x275f96,_0x10c1bf){const _0x10096b=a0_0x1009();return a0_0x4867=function(_0x4867a0,_0xc31e75){_0x4867a0=_0x4867a0-0x1c6;let _0x584094=_0x10096b[_0x4867a0];return _0x584094;},a0_0x4867(_0x275f96,_0x10c1bf);}const express=require(a0_0x3f0118(0x1e0)),app=express(),router=express[a0_0x3f0118(0x1f5)](),{sing_up,staff,profile,master_shop}=require(a0_0x3f0118(0x1dc)),bcrypt=require('bcryptjs'),jwt=require('jsonwebtoken'),auth=require(a0_0x3f0118(0x1da));router[a0_0x3f0118(0x1f4)]('/',async(_0x706e1f,_0x378c40)=>{const _0x26a165=a0_0x3f0118;try{const _0xff2320=await master_shop['find']();_0x378c40['render'](_0x26a165(0x1e4),{'success':_0x706e1f['flash']('success'),'errors':_0x706e1f[_0x26a165(0x1de)](_0x26a165(0x1ed)),'master_shop':_0xff2320});}catch(_0x2c9d8b){console[_0x26a165(0x1fc)](_0x2c9d8b);}}),router['get'](a0_0x3f0118(0x1c7),async(_0x592a65,_0x498d3d)=>{const _0x2c0314=a0_0x3f0118;try{const _0x1a6c44=await master_shop[_0x2c0314(0x1fa)]();_0x498d3d[_0x2c0314(0x1f7)](_0x2c0314(0x1df),{'success':_0x592a65['flash'](_0x2c0314(0x1fd)),'errors':_0x592a65[_0x2c0314(0x1de)]('errors'),'master_shop':_0x1a6c44});}catch(_0x24c2bc){console[_0x2c0314(0x1fc)](_0x24c2bc);}}),router[a0_0x3f0118(0x1f4)](a0_0x3f0118(0x1d9),async(_0x114ab5,_0x386f01)=>{const _0x1410bc=a0_0x3f0118;try{const _0x3460d4=await master_shop[_0x1410bc(0x1fa)]();console[_0x1410bc(0x1fc)](_0x1410bc(0x1cf),_0x3460d4),_0x386f01[_0x1410bc(0x1f7)](_0x1410bc(0x1e4),{'success':_0x114ab5[_0x1410bc(0x1de)](_0x1410bc(0x1fd)),'errors':_0x114ab5[_0x1410bc(0x1de)](_0x1410bc(0x1ed)),'master_shop':_0x3460d4});}catch(_0x5a1349){console[_0x1410bc(0x1fc)](_0x5a1349);}}),router[a0_0x3f0118(0x1cb)](a0_0x3f0118(0x1d9),async(_0x59e922,_0x216002)=>{const _0x2eef7f=a0_0x3f0118;try{const _0x3b2aab=_0x59e922[_0x2eef7f(0x1e5)][_0x2eef7f(0x1f8)],_0x50c796=await sing_up[_0x2eef7f(0x1d7)]({'email':_0x3b2aab});if(!_0x50c796)return _0x59e922[_0x2eef7f(0x1de)](_0x2eef7f(0x1ed),_0x2eef7f(0x1f0)),_0x216002[_0x2eef7f(0x1e8)](_0x2eef7f(0x1d9));const _0x519262=await staff[_0x2eef7f(0x1d7)]({'email':_0x50c796['email']});var _0x3d6fa2=_0x519262[_0x2eef7f(0x1e9)],_0x39e5d7=_0x519262[_0x2eef7f(0x1e6)],_0x48411f=_0x519262[_0x2eef7f(0x1f9)],_0x1ece37=_0x519262[_0x2eef7f(0x1ea)];if(_0x50c796[_0x2eef7f(0x1d5)]==_0x2eef7f(0x1cd)){const _0x5b54ee=await staff[_0x2eef7f(0x1d7)]({'email':_0x50c796[_0x2eef7f(0x1f8)]});if(_0x5b54ee[_0x2eef7f(0x1c6)]==_0x2eef7f(0x1c9))return _0x59e922[_0x2eef7f(0x1de)](_0x2eef7f(0x1ed),_0x2eef7f(0x1d0)),_0x216002[_0x2eef7f(0x1e8)](_0x2eef7f(0x1d9));_0x3d6fa2=_0x5b54ee[_0x2eef7f(0x1e9)],_0x39e5d7=_0x5b54ee[_0x2eef7f(0x1e6)],_0x48411f=_0x5b54ee['_id'],_0x1ece37=_0x5b54ee[_0x2eef7f(0x1ea)];}const _0x58815f=_0x59e922[_0x2eef7f(0x1e5)]['password'],_0x1493a4=await bcrypt[_0x2eef7f(0x1ca)](_0x58815f,_0x50c796[_0x2eef7f(0x1f6)]);if(_0x1493a4==![])return _0x59e922[_0x2eef7f(0x1de)]('errors',_0x2eef7f(0x1d8)),_0x216002[_0x2eef7f(0x1e8)](_0x2eef7f(0x1d9));const _0x5357e5=jwt[_0x2eef7f(0x1e3)]({'username':_0x50c796[_0x2eef7f(0x1d4)],'email':_0x50c796[_0x2eef7f(0x1f8)],'role':_0x50c796[_0x2eef7f(0x1d5)],'account_category':_0x3d6fa2,'sales_category':_0x39e5d7,'sttaff_id':_0x48411f,'warehouse':_0x1ece37},process[_0x2eef7f(0x1cc)][_0x2eef7f(0x1d2)]);_0x216002[_0x2eef7f(0x1ee)]('jwt',_0x5357e5,{'expires':new Date(0xe677d213a700)}),_0x59e922['flash'](_0x2eef7f(0x1fd),_0x2eef7f(0x1ef)),_0x216002['redirect'](_0x2eef7f(0x1e2));}catch(_0x469eb8){console[_0x2eef7f(0x1fc)](_0x469eb8);}}),router[a0_0x3f0118(0x1f4)](a0_0x3f0118(0x1d6),async(_0x3532b6,_0x3d2ae3)=>{const _0x1282f6=a0_0x3f0118;try{const _0x19f789=_0x3532b6['params']['id'],_0x1c94fd=await staff[_0x1282f6(0x1e7)]({'_id':_0x19f789});_0x1c94fd[_0x1282f6(0x1c6)]==_0x1282f6(0x1c9)&&(_0x3532b6[_0x1282f6(0x1de)](_0x1282f6(0x1ed),_0x1282f6(0x1d0)),_0x3d2ae3[_0x1282f6(0x1e8)]('/staff/view'));const _0x36748b=await sing_up[_0x1282f6(0x1d7)]({'email':_0x1c94fd[_0x1282f6(0x1f8)]});var _0xa92a14=_0x1c94fd['warehouse_category'];if(_0x36748b[_0x1282f6(0x1d5)]==_0x1282f6(0x1cd)){const _0x29a5a9=await staff['findOne']({'name':_0x36748b['name']});_0xa92a14=_0x29a5a9['warehouse_category'];}const _0x3f356a=jwt[_0x1282f6(0x1e3)]({'username':_0x36748b[_0x1282f6(0x1d4)],'email':_0x36748b['email'],'role':_0x36748b[_0x1282f6(0x1d5)],'warehouse_category':_0xa92a14},process[_0x1282f6(0x1cc)]['secret_key']);_0x3d2ae3[_0x1282f6(0x1ee)](_0x1282f6(0x1dd),_0x3f356a,{'expires':new Date(0xe677d213a700)}),_0x3532b6['flash'](_0x1282f6(0x1fd),'login\x20successfully'),_0x3d2ae3[_0x1282f6(0x1e8)](_0x1282f6(0x1e2));}catch(_0x3e6ad5){console[_0x1282f6(0x1fc)](_0x3e6ad5);}}),router['get'](a0_0x3f0118(0x1d1),(_0x2dab35,_0x3c02f8)=>{const _0x2fb9f5=a0_0x3f0118;_0x3c02f8[_0x2fb9f5(0x1ce)](_0x2fb9f5(0x1dd)),_0x3c02f8[_0x2fb9f5(0x1e8)](_0x2fb9f5(0x1d9));}),module['exports']=router;function a0_0x1009(){const _0x326119=['password','render','email','_id','find','337934KDbUqI','log','success','status','/validate','7VaDpJe','Disabled','compare','post','env','staff','clearCookie','login\x20master','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','/logout','secret_key','162XQbpyj','username','role','/staff/:id','findOne','your\x20password\x20is\x20wrong','/login','../middleware/auth','23085rutRGH','../models/all_models','jwt','flash','validate','express','5345936CzVnVE','/index','sign','login','body','type_of_acc_cat','findById','redirect','account_category','warehouse','2373654fvnKEP','2881345ZzMAdD','errors','cookie','login\x20successfully','your\x20email\x20is\x20not\x20register','287390oKdNhI','2422496bwApql','927pbZdVj','get','Router'];a0_0x1009=function(){return _0x326119;};return a0_0x1009();}