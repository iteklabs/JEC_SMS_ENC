const a0_0x9ebc57=a0_0x1ec6;(function(_0x2b18e4,_0x26b8a0){const _0x1f04b7=a0_0x1ec6,_0x4da6a3=_0x2b18e4();while(!![]){try{const _0x33b5d6=-parseInt(_0x1f04b7(0xe6))/0x1+parseInt(_0x1f04b7(0xa8))/0x2+-parseInt(_0x1f04b7(0x94))/0x3+parseInt(_0x1f04b7(0xe8))/0x4*(-parseInt(_0x1f04b7(0xb2))/0x5)+-parseInt(_0x1f04b7(0xcb))/0x6+parseInt(_0x1f04b7(0xbd))/0x7+parseInt(_0x1f04b7(0xb4))/0x8;if(_0x33b5d6===_0x26b8a0)break;else _0x4da6a3['push'](_0x4da6a3['shift']());}catch(_0x3cb732){_0x4da6a3['push'](_0x4da6a3['shift']());}}}(a0_0x43b7,0xc2bc1));const express=require('express'),app=express(),router=express['Router'](),multer=require(a0_0x9ebc57(0x7e)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db,warehouse_validation_setup,warehouse,product}=require('../models/all_models'),auth=require(a0_0x9ebc57(0xa3));var timezones=require(a0_0x9ebc57(0xe0));function a0_0x1ec6(_0x352873,_0x275914){const _0x43b74d=a0_0x43b7();return a0_0x1ec6=function(_0x1ec6f2,_0x6f84e3){_0x1ec6f2=_0x1ec6f2-0x7a;let _0x1011ea=_0x43b74d[_0x1ec6f2];return _0x1011ea;},a0_0x1ec6(_0x352873,_0x275914);}const users=require(a0_0x9ebc57(0x7d)),mongoose=require(a0_0x9ebc57(0xa0)),PDFDocument=require(a0_0x9ebc57(0x97)),{Canvas}=require(a0_0x9ebc57(0x8c)),JsBarcode=require(a0_0x9ebc57(0xc6)),storage=multer[a0_0x9ebc57(0xe7)]({'destination':(_0xa3247c,_0x43a93e,_0x195c95)=>{_0x195c95(null,'./public/upload');},'filename':(_0x1d869e,_0x9b7c0e,_0x348d95)=>{const _0x50f184=a0_0x9ebc57;_0x348d95(null,Date[_0x50f184(0xfe)]()+_0x9b7c0e[_0x50f184(0xd8)]);}}),upload=multer({'storage':storage});function a0_0x43b7(){const _0x46ac45=['push','originalname','2nd\x20master_shop_data','volume_discount','findById','warehouse_name','max_car','French','redirect','timezones-list','Portuguese','$warehouse_id','/view_data/edit/:id','max_data','Arabic\x20(ae)','1594665mCRRKs','diskStorage','21180KPBwgN','string','prod_code','user','/product_list','Chinese','$room','host','map','supervisor_settings','English\x20(US)','shop\x20setting\x20edit\x20successfully','setup_warehouse_bin_add','image','Spanish','Arabic','English','/view','/view/email','CODE128','hidden','toString','now','RMSName','email_settings','errors','params','min','master','single','../public/language/languages.json','multer','email','exports','product_data','timezone','prod_name','match','max_car_edit','/master_shop/view','room','/view_data/edit_volume_set','$_id','discount_price','/view/supervisors','canvas','bind','Types','warehouse_id','post','German','length','Portuguese\x20(BR)','4747707wvhksK','discount_price_edit','base64','pdfkit-table','Bin\x20validation\x20success','/view_data/print','/master_shop/view/email','setup_volume_discount','/room_edit','ObjectId','product_id','toBuffer','mongoose','$name','/get_product','../middleware/auth','master_shop_data','split','log','bay','2406038CFUdCT','/master_shop/view_data/volume_set','/master_shop/view_data/edit/','filename','site_title','findOne','FGSnumber','_id','port','body','60mXrQWW','find','28431760MGSuVd','Volume\x20Discount\x20modified\x20successfully','currency_placement','addPage','get','end','forEach','json','bin','1167208TgenFp','Enabled','aggregate','/view/email/edit_settings','language','/view_data/volume_set','FGSEmail','flash','/view_data/warehouse_valid/add','jsbarcode','/view/edit_settings','/view_data/warehouse_valid','width','min_data','5311956dgeOzF','master_settings','render','height','toLocaleString','min_car_edit','en-US','/master_shop/view/supervisors','Bin\x20Location\x20Validation\x20update\x20successfully','Hindi','save','success'];a0_0x43b7=function(){return _0x46ac45;};return a0_0x43b7();}router[a0_0x9ebc57(0xb8)](a0_0x9ebc57(0xf9),auth,async(_0x76e1a8,_0x474cda)=>{const _0x34b642=a0_0x9ebc57;try{const {username:_0x54324f,email:_0x3edc50,role:_0x3f53d6}=_0x76e1a8[_0x34b642(0xeb)],_0x1d1526=_0x76e1a8[_0x34b642(0xeb)],_0x368fa1=await profile[_0x34b642(0xad)]({'email':_0x1d1526[_0x34b642(0x7f)]}),_0x276221=await master_shop['find']();console[_0x34b642(0xa6)](_0x34b642(0x7b),_0x276221);const _0x15486e=new Date()['toLocaleString'](_0x34b642(0xd1),{'timeZone':_0x276221[0x0]['timezone']});console[_0x34b642(0xa6)]('timezone',_0x15486e);if(_0x276221[0x0]['language']=='English\x20(US)'){var _0x34227a=users[_0x34b642(0xf8)];console[_0x34b642(0xa6)](_0x34227a);}else{if(_0x276221[0x0][_0x34b642(0xc1)]==_0x34b642(0xd4))var _0x34227a=users[_0x34b642(0xd4)];else{if(_0x276221[0x0]['language']==_0x34b642(0x91))var _0x34227a=users[_0x34b642(0x91)];else{if(_0x276221[0x0]['language']==_0x34b642(0xf6))var _0x34227a=users['Spanish'];else{if(_0x276221[0x0]['language']==_0x34b642(0xde))var _0x34227a=users['French'];else{if(_0x276221[0x0][_0x34b642(0xc1)]==_0x34b642(0x93))var _0x34227a=users[_0x34b642(0xe1)];else{if(_0x276221[0x0][_0x34b642(0xc1)]==_0x34b642(0xed))var _0x34227a=users[_0x34b642(0xed)];else{if(_0x276221[0x0][_0x34b642(0xc1)]==_0x34b642(0xe5))var _0x34227a=users[_0x34b642(0xf7)];}}}}}}}_0x474cda['render'](_0x34b642(0xcc),{'success':_0x76e1a8[_0x34b642(0xc4)](_0x34b642(0xd6)),'errors':_0x76e1a8['flash'](_0x34b642(0x101)),'role':_0x1d1526,'profile':_0x368fa1,'master_shop':_0x276221,'timezones':timezones,'language':_0x34227a});}catch(_0x489469){console[_0x34b642(0xa6)](_0x489469);}}),router['get']('/:id',auth,async(_0x24887e,_0x54ae53)=>{const _0x4b64e0=a0_0x9ebc57;try{console[_0x4b64e0(0xa6)]('language'),console['log'](_0x24887e[_0x4b64e0(0x102)]['id']);const _0x516729=await master_shop['findOne']();_0x516729['language']=_0x24887e[_0x4b64e0(0x102)]['id'],await _0x516729[_0x4b64e0(0xd5)](),console[_0x4b64e0(0xa6)](_0x4b64e0(0x7b),_0x516729);}catch(_0x4c47d6){console[_0x4b64e0(0xa6)](_0x4c47d6);}}),router['post'](a0_0x9ebc57(0xc7),auth,upload[a0_0x9ebc57(0x7c)](a0_0x9ebc57(0xf5)),async(_0xa72f21,_0x1a83b3)=>{const _0x184666=a0_0x9ebc57;try{const {site_title:_0xdf48bf,currency:_0x121912,currency_placement:_0x36ee5e,timezone:_0x3c2234}=_0xa72f21[_0x184666(0xb1)];if(_0xa72f21[_0x184666(0xb1)][_0x184666(0xfc)]==0x0){const _0x411897=await master_shop['findOne']();console[_0x184666(0xa6)](_0x184666(0xa4),_0x411897);if(_0x411897==''){const _0xb97983=new master_shop({'site_title':_0xdf48bf,'image':image,'currency':_0x121912,'currency_placement':_0x36ee5e,'timezone':_0x3c2234}),_0x35d48b=await _0xb97983[_0x184666(0xd5)]();}else _0x411897['site_title']=_0xdf48bf,_0x411897['currency']=_0x121912,_0x411897[_0x184666(0xb6)]=_0x36ee5e,_0x411897[_0x184666(0x82)]=_0x3c2234,await _0x411897[_0x184666(0xd5)]();}else{const _0x280bb3=_0xa72f21['file'][_0x184666(0xab)],_0x5021e5=await master_shop[_0x184666(0xad)]();console['log'](_0x184666(0xd9),_0x5021e5);if(_0x5021e5==null){console[_0x184666(0xa6)]('1',_0xdf48bf);const _0x41de6f=new master_shop({'site_title':_0xdf48bf,'image':_0x280bb3,'currency':_0x121912,'currency_placement':_0x36ee5e,'timezone':_0x3c2234}),_0x5538b1=await _0x41de6f[_0x184666(0xd5)]();}else console['log']('2',_0xdf48bf),_0x5021e5[_0x184666(0xac)]=_0xdf48bf,_0x5021e5[_0x184666(0xf5)]=_0x280bb3,_0x5021e5['currency']=_0x121912,_0x5021e5[_0x184666(0xb6)]=_0x36ee5e,_0x5021e5[_0x184666(0x82)]=_0x3c2234,await _0x5021e5[_0x184666(0xd5)]();}_0xa72f21[_0x184666(0xc4)](_0x184666(0xd6),_0x184666(0xf3)),_0x1a83b3[_0x184666(0xdf)](_0x184666(0x86));}catch(_0x1682ee){console['log'](_0x1682ee);}}),router['get'](a0_0x9ebc57(0xfa),auth,async(_0xff665d,_0x352fab)=>{const _0x4a0591=a0_0x9ebc57;try{const {username:_0x42dd6b,email:_0x341b1a,role:_0x2b5691}=_0xff665d[_0x4a0591(0xeb)],_0x55fe99=_0xff665d[_0x4a0591(0xeb)],_0x3c75a5=await profile[_0x4a0591(0xad)]({'email':_0x55fe99[_0x4a0591(0x7f)]}),_0x11fe28=await master_shop[_0x4a0591(0xb3)]();console['log'](_0x4a0591(0x7b),_0x11fe28);const _0x947fd=await email_settings[_0x4a0591(0xad)]();console['log']('master\x20settings\x20email_data',_0x947fd);if(_0x11fe28[0x0][_0x4a0591(0xc1)]==_0x4a0591(0xf2)){var _0x55eb9a=users['English'];console['log'](_0x55eb9a);}else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]==_0x4a0591(0xd4))var _0x55eb9a=users['Hindi'];else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]==_0x4a0591(0x91))var _0x55eb9a=users['German'];else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]=='Spanish')var _0x55eb9a=users[_0x4a0591(0xf6)];else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]=='French')var _0x55eb9a=users[_0x4a0591(0xde)];else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]==_0x4a0591(0x93))var _0x55eb9a=users['Portuguese'];else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]=='Chinese')var _0x55eb9a=users[_0x4a0591(0xed)];else{if(_0x11fe28[0x0][_0x4a0591(0xc1)]==_0x4a0591(0xe5))var _0x55eb9a=users[_0x4a0591(0xf7)];}}}}}}}_0x352fab['render'](_0x4a0591(0x100),{'success':_0xff665d[_0x4a0591(0xc4)](_0x4a0591(0xd6)),'errors':_0xff665d['flash'](_0x4a0591(0x101)),'role':_0x55fe99,'profile':_0x3c75a5,'master_shop':_0x11fe28,'email':_0x947fd,'language':_0x55eb9a});}catch(_0x2a9cb1){console[_0x4a0591(0xa6)](_0x2a9cb1);}}),router[a0_0x9ebc57(0x90)](a0_0x9ebc57(0xc0),auth,async(_0x2cb442,_0x2dd32d)=>{const _0x268a80=a0_0x9ebc57;try{const {host:_0x3d23b1,port:_0x131190,email:_0x1461fc,password:_0x1d3ec3}=_0x2cb442[_0x268a80(0xb1)],_0xbe4d9b=await email_settings[_0x268a80(0xad)]();if(_0xbe4d9b==null){const _0x1301c5=new email_settings({'host':_0x3d23b1,'port':_0x131190,'email':_0x1461fc,'password':_0x1d3ec3});await _0x1301c5[_0x268a80(0xd5)]();}else _0xbe4d9b[_0x268a80(0xef)]=_0x3d23b1,_0xbe4d9b[_0x268a80(0xb0)]=_0x131190,_0xbe4d9b[_0x268a80(0x7f)]=_0x1461fc,_0xbe4d9b['password']=_0x1d3ec3,await _0xbe4d9b['save']();_0x2cb442[_0x268a80(0xc4)]('success','shop\x20setting\x20edit\x20successfully'),_0x2dd32d[_0x268a80(0xdf)](_0x268a80(0x9a));}catch(_0x2fa2ed){console[_0x268a80(0xa6)](_0x2fa2ed);}}),router[a0_0x9ebc57(0xb8)](a0_0x9ebc57(0x8b),auth,async(_0x570ddc,_0x3070b1)=>{const _0x1ddfe2=a0_0x9ebc57;try{const {username:_0x452a86,email:_0x5d5d41,role:_0x3213b3}=_0x570ddc[_0x1ddfe2(0xeb)],_0x413880=_0x570ddc[_0x1ddfe2(0xeb)],_0x14b909=await supervisor_settings[_0x1ddfe2(0xb3)](),_0x7dfc89=await profile['findOne']({'email':_0x413880[_0x1ddfe2(0x7f)]}),_0x32b668=await master_shop['find'](),_0x400d1c=new Date()[_0x1ddfe2(0xcf)](_0x1ddfe2(0xd1),{'timeZone':_0x32b668[0x0]['timezone']});if(_0x32b668[0x0][_0x1ddfe2(0xc1)]==_0x1ddfe2(0xf2)){var _0x2fd805=users[_0x1ddfe2(0xf8)];console[_0x1ddfe2(0xa6)](_0x2fd805);}else{if(_0x32b668[0x0][_0x1ddfe2(0xc1)]==_0x1ddfe2(0xd4))var _0x2fd805=users[_0x1ddfe2(0xd4)];else{if(_0x32b668[0x0][_0x1ddfe2(0xc1)]==_0x1ddfe2(0x91))var _0x2fd805=users[_0x1ddfe2(0x91)];else{if(_0x32b668[0x0][_0x1ddfe2(0xc1)]==_0x1ddfe2(0xf6))var _0x2fd805=users[_0x1ddfe2(0xf6)];else{if(_0x32b668[0x0][_0x1ddfe2(0xc1)]=='French')var _0x2fd805=users[_0x1ddfe2(0xde)];else{if(_0x32b668[0x0][_0x1ddfe2(0xc1)]==_0x1ddfe2(0x93))var _0x2fd805=users[_0x1ddfe2(0xe1)];else{if(_0x32b668[0x0][_0x1ddfe2(0xc1)]=='Chinese')var _0x2fd805=users['Chinese'];else{if(_0x32b668[0x0]['language']==_0x1ddfe2(0xe5))var _0x2fd805=users[_0x1ddfe2(0xf7)];}}}}}}}_0x3070b1[_0x1ddfe2(0xcd)](_0x1ddfe2(0xf1),{'success':_0x570ddc[_0x1ddfe2(0xc4)](_0x1ddfe2(0xd6)),'errors':_0x570ddc[_0x1ddfe2(0xc4)](_0x1ddfe2(0x101)),'role':_0x413880,'profile':_0x7dfc89,'master_shop':_0x32b668,'supervisor_data':_0x14b909[0x0],'timezones':timezones,'language':_0x2fd805});}catch(_0x4d7cef){console[_0x1ddfe2(0xa6)](_0x4d7cef);}}),router[a0_0x9ebc57(0x90)](a0_0x9ebc57(0x8b),auth,async(_0x4b0c8e,_0x167b3a)=>{const _0x53982e=a0_0x9ebc57;try{const {rm_name:_0x72a994,fg_name:_0x2ce74a,rm_email:_0x454085,fg_email:_0x1dd131,rm_mobilenum:_0x2decfe,fg_number:_0x75cbb4}=_0x4b0c8e[_0x53982e(0xb1)],_0x1cbbc8=await supervisor_settings[_0x53982e(0xad)]();if(_0x1cbbc8==null){const _0x2a331a=new supervisor_settings({'RMSName':_0x72a994,'RMSEmail':_0x454085,'RMSnumber':_0x2decfe,'FGSName':_0x2ce74a,'FGSEmail':_0x1dd131,'FGSnumber':_0x75cbb4});await _0x2a331a[_0x53982e(0xd5)]();}else _0x1cbbc8[_0x53982e(0xff)]=_0x72a994,_0x1cbbc8['RMSEmail']=_0x454085,_0x1cbbc8['RMSnumber']=_0x2decfe,_0x1cbbc8['FGSName']=_0x2ce74a,_0x1cbbc8[_0x53982e(0xc3)]=_0x1dd131,_0x1cbbc8[_0x53982e(0xae)]=_0x75cbb4,await _0x1cbbc8[_0x53982e(0xd5)]();_0x4b0c8e[_0x53982e(0xc4)]('success',_0x53982e(0xf3)),_0x167b3a[_0x53982e(0xdf)](_0x53982e(0xd2));}catch(_0x57f8a4){console['log'](_0x57f8a4);}}),router[a0_0x9ebc57(0xb8)](a0_0x9ebc57(0xc2),auth,async(_0x5b5c70,_0x1f9fc9)=>{const _0x30ad41=a0_0x9ebc57;try{const _0x46d8b9=_0x5b5c70['user'],_0xe1a072=await supervisor_settings[_0x30ad41(0xb3)](),_0x3677cb=await profile[_0x30ad41(0xad)]({'email':_0x46d8b9['email']}),_0x17e263=await master_shop[_0x30ad41(0xb3)](),_0x172c3c=await discount_volume_db[_0x30ad41(0xad)]();if(_0x17e263[0x0]['language']==_0x30ad41(0xf2)){var _0x10cb90=users[_0x30ad41(0xf8)];console[_0x30ad41(0xa6)](_0x10cb90);}else{if(_0x17e263[0x0][_0x30ad41(0xc1)]==_0x30ad41(0xd4))var _0x10cb90=users[_0x30ad41(0xd4)];else{if(_0x17e263[0x0][_0x30ad41(0xc1)]==_0x30ad41(0x91))var _0x10cb90=users[_0x30ad41(0x91)];else{if(_0x17e263[0x0]['language']==_0x30ad41(0xf6))var _0x10cb90=users[_0x30ad41(0xf6)];else{if(_0x17e263[0x0][_0x30ad41(0xc1)]==_0x30ad41(0xde))var _0x10cb90=users[_0x30ad41(0xde)];else{if(_0x17e263[0x0][_0x30ad41(0xc1)]==_0x30ad41(0x93))var _0x10cb90=users[_0x30ad41(0xe1)];else{if(_0x17e263[0x0][_0x30ad41(0xc1)]==_0x30ad41(0xed))var _0x10cb90=users[_0x30ad41(0xed)];else{if(_0x17e263[0x0][_0x30ad41(0xc1)]=='Arabic\x20(ae)')var _0x10cb90=users['Arabic'];}}}}}}}_0x1f9fc9[_0x30ad41(0xcd)](_0x30ad41(0x9b),{'success':_0x5b5c70[_0x30ad41(0xc4)](_0x30ad41(0xd6)),'errors':_0x5b5c70[_0x30ad41(0xc4)]('errors'),'role':_0x46d8b9,'profile':_0x3677cb,'master_shop':_0x17e263,'supervisor_data':_0xe1a072[0x0],'language':_0x10cb90,'data':_0x172c3c});}catch(_0x3f4b45){}}),router[a0_0x9ebc57(0x90)](a0_0x9ebc57(0x88),auth,async(_0x56cd7b,_0x3af4e7)=>{const _0x39bc7e=a0_0x9ebc57;try{const {min_car_edit:_0x42887b}=_0x56cd7b[_0x39bc7e(0xb1)],_0x31c3ed=await discount_volume_db[_0x39bc7e(0xad)]();if(typeof _0x42887b=='string')var _0x1236a7=[_0x56cd7b[_0x39bc7e(0xb1)]['min_car_edit']],_0x1aa296=[_0x56cd7b[_0x39bc7e(0xb1)][_0x39bc7e(0x85)]],_0x2becdc=[_0x56cd7b[_0x39bc7e(0xb1)][_0x39bc7e(0x95)]];else var _0x1236a7=[..._0x56cd7b[_0x39bc7e(0xb1)][_0x39bc7e(0xd0)]],_0x1aa296=[..._0x56cd7b[_0x39bc7e(0xb1)][_0x39bc7e(0x85)]],_0x2becdc=[..._0x56cd7b[_0x39bc7e(0xb1)][_0x39bc7e(0x95)]];const _0x118b1f=_0x1236a7[_0x39bc7e(0xf0)](_0x5031ca=>{return _0x5031ca={'min_car':_0x5031ca};});_0x1aa296['forEach']((_0x511a5c,_0x57f2c8)=>{const _0x5459f5=_0x39bc7e;_0x118b1f[_0x57f2c8][_0x5459f5(0xdd)]=_0x511a5c;}),_0x2becdc[_0x39bc7e(0xba)]((_0x529d08,_0xe4e713)=>{const _0x15d3ce=_0x39bc7e;_0x118b1f[_0xe4e713][_0x15d3ce(0x8a)]=_0x529d08;});if(_0x31c3ed==null){const _0x479db0=new discount_volume_db({'volume_discount':_0x118b1f});await _0x479db0[_0x39bc7e(0xd5)]();}else _0x31c3ed[_0x39bc7e(0xda)]=_0x118b1f,await _0x31c3ed['save']();_0x56cd7b[_0x39bc7e(0xc4)](_0x39bc7e(0xd6),_0x39bc7e(0xb5)),_0x3af4e7[_0x39bc7e(0xdf)](_0x39bc7e(0xa9));}catch(_0x29dfc6){}}),router['get'](a0_0x9ebc57(0xc8),auth,async(_0x12a84e,_0xd6166)=>{const _0x1674f7=a0_0x9ebc57;try{const _0x22adc6=_0x12a84e[_0x1674f7(0xeb)],_0x764db8=await supervisor_settings[_0x1674f7(0xb3)](),_0x212717=await profile[_0x1674f7(0xad)]({'email':_0x22adc6[_0x1674f7(0x7f)]}),_0x126300=await master_shop[_0x1674f7(0xb3)](),_0x2d8bbd=await warehouse_validation_setup[_0x1674f7(0xb3)]();if(_0x126300[0x0][_0x1674f7(0xc1)]==_0x1674f7(0xf2))var _0x1d3377=users[_0x1674f7(0xf8)];else{if(_0x126300[0x0][_0x1674f7(0xc1)]==_0x1674f7(0xd4))var _0x1d3377=users[_0x1674f7(0xd4)];else{if(_0x126300[0x0][_0x1674f7(0xc1)]=='German')var _0x1d3377=users[_0x1674f7(0x91)];else{if(_0x126300[0x0][_0x1674f7(0xc1)]==_0x1674f7(0xf6))var _0x1d3377=users['Spanish'];else{if(_0x126300[0x0]['language']==_0x1674f7(0xde))var _0x1d3377=users['French'];else{if(_0x126300[0x0][_0x1674f7(0xc1)]==_0x1674f7(0x93))var _0x1d3377=users[_0x1674f7(0xe1)];else{if(_0x126300[0x0][_0x1674f7(0xc1)]=='Chinese')var _0x1d3377=users[_0x1674f7(0xed)];else{if(_0x126300[0x0]['language']=='Arabic\x20(ae)')var _0x1d3377=users[_0x1674f7(0xf7)];}}}}}}}_0xd6166[_0x1674f7(0xcd)]('setup_warehouse_bin',{'success':_0x12a84e[_0x1674f7(0xc4)]('success'),'errors':_0x12a84e['flash'](_0x1674f7(0x101)),'role':_0x22adc6,'profile':_0x212717,'master_shop':_0x126300,'supervisor_data':_0x764db8[0x0],'language':_0x1d3377,'data':_0x2d8bbd});}catch(_0x46aaf1){}}),router[a0_0x9ebc57(0xb8)](a0_0x9ebc57(0xc5),auth,async(_0x1b35fd,_0x21b33b)=>{const _0x327453=a0_0x9ebc57;try{const _0x8c1d0e=_0x1b35fd[_0x327453(0xeb)],_0x5e1c88=await supervisor_settings['find'](),_0x1cb091=await profile[_0x327453(0xad)]({'email':_0x8c1d0e[_0x327453(0x7f)]}),_0x21ee82=await master_shop[_0x327453(0xb3)](),_0x39db0d=await warehouse_validation_setup[_0x327453(0xb3)](),_0x51e1c3=await warehouse['aggregate']([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x327453(0xa1),'name':{'$first':_0x327453(0xa1)}}},{'$sort':{'name':0x1}}]);if(_0x21ee82[0x0]['language']==_0x327453(0xf2))var _0x1147a2=users[_0x327453(0xf8)];else{if(_0x21ee82[0x0][_0x327453(0xc1)]==_0x327453(0xd4))var _0x1147a2=users[_0x327453(0xd4)];else{if(_0x21ee82[0x0]['language']==_0x327453(0x91))var _0x1147a2=users[_0x327453(0x91)];else{if(_0x21ee82[0x0][_0x327453(0xc1)]==_0x327453(0xf6))var _0x1147a2=users[_0x327453(0xf6)];else{if(_0x21ee82[0x0]['language']=='French')var _0x1147a2=users[_0x327453(0xde)];else{if(_0x21ee82[0x0]['language']==_0x327453(0x93))var _0x1147a2=users['Portuguese'];else{if(_0x21ee82[0x0][_0x327453(0xc1)]==_0x327453(0xed))var _0x1147a2=users['Chinese'];else{if(_0x21ee82[0x0][_0x327453(0xc1)]==_0x327453(0xe5))var _0x1147a2=users[_0x327453(0xf7)];}}}}}}}_0x21b33b[_0x327453(0xcd)](_0x327453(0xf4),{'success':_0x1b35fd['flash'](_0x327453(0xd6)),'errors':_0x1b35fd[_0x327453(0xc4)](_0x327453(0x101)),'role':_0x8c1d0e,'profile':_0x1cb091,'master_shop':_0x21ee82,'supervisor_data':_0x5e1c88[0x0],'language':_0x1147a2,'data':_0x39db0d,'warehouse':_0x51e1c3});}catch(_0x2b159e){}}),router[a0_0x9ebc57(0x90)](a0_0x9ebc57(0xc5),auth,async(_0x36512a,_0x297fbe)=>{const _0x56e64c=a0_0x9ebc57;try{const {warehouse_name:_0x5575d1,room_name:_0x31f526,prod_code:_0x1bdbe2}=_0x36512a['body'];var _0x1b2ca7=_0x31f526[_0x56e64c(0xa5)]('~'),_0x1a3c9a=_0x1b2ca7[0x0],_0x4dd0f1=_0x1b2ca7[0x1];if(typeof _0x1bdbe2==_0x56e64c(0xe9))var _0x1c9151=[_0x36512a[_0x56e64c(0xb1)]['prod_code']],_0x50e7df=[_0x36512a['body']['prod_name']],_0x5153ac=[_0x36512a['body'][_0x56e64c(0xa7)]],_0x121a5d=[_0x36512a[_0x56e64c(0xb1)][_0x56e64c(0xca)]],_0x9dc21b=[_0x36512a[_0x56e64c(0xb1)][_0x56e64c(0xe4)]],_0x117634=[_0x36512a[_0x56e64c(0xb1)][_0x56e64c(0x9e)]];else var _0x50e7df=[..._0x36512a[_0x56e64c(0xb1)][_0x56e64c(0x83)]],_0x1c9151=[..._0x36512a[_0x56e64c(0xb1)][_0x56e64c(0xea)]],_0x5153ac=[..._0x36512a[_0x56e64c(0xb1)]['bay']],_0x121a5d=[..._0x36512a[_0x56e64c(0xb1)][_0x56e64c(0xca)]],_0x9dc21b=[..._0x36512a[_0x56e64c(0xb1)]['max_data']],_0x117634=[..._0x36512a[_0x56e64c(0xb1)]['product_id']];const _0x1aba33=_0x1c9151[_0x56e64c(0xf0)](_0x9bdf95=>{return _0x9bdf95={'product_code':_0x9bdf95};});_0x50e7df['forEach']((_0x3e62e5,_0x589644)=>{_0x1aba33[_0x589644]['product_name']=_0x3e62e5;}),_0x5153ac[_0x56e64c(0xba)]((_0x76261d,_0x1791f8)=>{const _0xff96cb=_0x56e64c;var _0xa2e276=_0x76261d['match'](/[A-Za-z]+/)[0x0],_0x199f1e=parseInt(_0x76261d[_0xff96cb(0x84)](/\d+/)[0x0]);_0x1aba33[_0x1791f8]['bay']=_0xa2e276,_0x1aba33[_0x1791f8][_0xff96cb(0xbc)]=_0x199f1e;}),_0x121a5d['forEach']((_0x3ee14e,_0x47faa1)=>{const _0x19b682=_0x56e64c;_0x1aba33[_0x47faa1][_0x19b682(0x7a)]=_0x3ee14e;}),_0x9dc21b['forEach']((_0x43e0e0,_0x538392)=>{_0x1aba33[_0x538392]['max']=_0x43e0e0;}),_0x117634[_0x56e64c(0xba)]((_0x4a5ff5,_0x11a3d4)=>{const _0x5ee142=_0x56e64c;_0x1aba33[_0x11a3d4][_0x5ee142(0x9e)]=_0x4a5ff5;});const _0x25ad0f=new warehouse_validation_setup({'warehouse_id':_0x4dd0f1,'warehouse_name':_0x5575d1,'room':_0x1a3c9a,'product_data':_0x1aba33}),_0xddf9ec=await _0x25ad0f[_0x56e64c(0xd5)]();_0x36512a[_0x56e64c(0xc4)](_0x56e64c(0xd6),_0x56e64c(0x98)),_0x297fbe[_0x56e64c(0xdf)](_0x56e64c(0xaa)+_0xddf9ec[_0x56e64c(0xaf)]);}catch(_0x5de0cb){console[_0x56e64c(0xa6)](_0x5de0cb);}}),router[a0_0x9ebc57(0x90)]('/room',auth,async(_0x33b07d,_0x41947b)=>{const _0xcf96df=a0_0x9ebc57;try{const _0x37a875=mongoose[_0xcf96df(0x8e)][_0xcf96df(0x9d)],{warehouse_name:_0x1cb934}=_0x33b07d['body'],_0xeaf6a2=await warehouse_validation_setup[_0xcf96df(0xbf)]([{'$group':{'_id':_0xcf96df(0x89),'warehouse_id':{'$first':'$warehouse_id'}}}]);let _0x79964=[];for(let _0x2721e4=0x0;_0x2721e4<=_0xeaf6a2[_0xcf96df(0x92)]-0x1;_0x2721e4++){const _0x34a6ee=_0xeaf6a2[_0x2721e4];_0x79964['push'](_0x37a875(_0x34a6ee[_0xcf96df(0x8f)]));}const _0x5908ff=_0x79964,_0x92614a=await warehouse[_0xcf96df(0xbf)]([{'$match':{'name':_0x1cb934,'status':_0xcf96df(0xbe),'_id':{'$nin':_0x5908ff}}},{'$group':{'_id':_0xcf96df(0x89),'room_name':{'$first':_0xcf96df(0xee)}}},{'$sort':{'room_name':0x1}}]);_0x41947b[_0xcf96df(0xbb)](_0x92614a);}catch(_0x254afa){_0x41947b[_0xcf96df(0xbb)](_0x254afa);}}),router['post'](a0_0x9ebc57(0xec),auth,async(_0x2fdbb7,_0x412661)=>{const _0x44a42d=a0_0x9ebc57;try{const _0x406b17=await product[_0x44a42d(0xb3)]();_0x412661[_0x44a42d(0xbb)](_0x406b17);}catch(_0x2c41d4){_0x412661['json'](_0x2c41d4);}}),router['post'](a0_0x9ebc57(0xa2),auth,async(_0x3fe8a7,_0x49f271)=>{const _0x53a015=a0_0x9ebc57;try{const {product_id:_0x236dd1}=_0x3fe8a7[_0x53a015(0xb1)],_0x505a3a=await product['findById'](_0x236dd1);_0x49f271[_0x53a015(0xbb)](_0x505a3a);}catch(_0xfbe845){_0x49f271[_0x53a015(0xbb)](_0xfbe845);}}),router[a0_0x9ebc57(0xb8)]('/view_data/edit/:id',auth,async(_0x26a75f,_0x59f100)=>{const _0x52d5d2=a0_0x9ebc57;try{const _0x1cf7c7=_0x26a75f['user'],_0x21a523=await supervisor_settings[_0x52d5d2(0xb3)](),_0x4c3768=await profile[_0x52d5d2(0xad)]({'email':_0x1cf7c7[_0x52d5d2(0x7f)]}),_0x226fb3=await master_shop[_0x52d5d2(0xb3)](),_0x533e7a=_0x26a75f[_0x52d5d2(0x102)]['id'],_0x4ea0ac=await warehouse_validation_setup[_0x52d5d2(0xdb)](_0x533e7a),_0x4e0938=await warehouse[_0x52d5d2(0xbf)]([{'$match':{'status':_0x52d5d2(0xbe)}},{'$group':{'_id':'$name','name':{'$first':_0x52d5d2(0xa1)}}},{'$sort':{'name':0x1}}]);if(_0x226fb3[0x0][_0x52d5d2(0xc1)]=='English\x20(US)')var _0x5e56c3=users[_0x52d5d2(0xf8)];else{if(_0x226fb3[0x0][_0x52d5d2(0xc1)]=='Hindi')var _0x5e56c3=users[_0x52d5d2(0xd4)];else{if(_0x226fb3[0x0][_0x52d5d2(0xc1)]=='German')var _0x5e56c3=users[_0x52d5d2(0x91)];else{if(_0x226fb3[0x0]['language']==_0x52d5d2(0xf6))var _0x5e56c3=users[_0x52d5d2(0xf6)];else{if(_0x226fb3[0x0][_0x52d5d2(0xc1)]==_0x52d5d2(0xde))var _0x5e56c3=users[_0x52d5d2(0xde)];else{if(_0x226fb3[0x0][_0x52d5d2(0xc1)]==_0x52d5d2(0x93))var _0x5e56c3=users[_0x52d5d2(0xe1)];else{if(_0x226fb3[0x0][_0x52d5d2(0xc1)]=='Chinese')var _0x5e56c3=users[_0x52d5d2(0xed)];else{if(_0x226fb3[0x0][_0x52d5d2(0xc1)]==_0x52d5d2(0xe5))var _0x5e56c3=users[_0x52d5d2(0xf7)];}}}}}}}_0x59f100[_0x52d5d2(0xcd)]('setup_warehouse_bin_edit',{'success':_0x26a75f[_0x52d5d2(0xc4)](_0x52d5d2(0xd6)),'errors':_0x26a75f[_0x52d5d2(0xc4)](_0x52d5d2(0x101)),'role':_0x1cf7c7,'profile':_0x4c3768,'master_shop':_0x226fb3,'supervisor_data':_0x21a523[0x0],'language':_0x5e56c3,'data':_0x4ea0ac,'warehouse':_0x4e0938});}catch(_0x393ef1){}}),router[a0_0x9ebc57(0x90)](a0_0x9ebc57(0x9c),auth,async(_0x274633,_0x41c17c)=>{const _0xb05fbf=a0_0x9ebc57;try{const _0x4ff2cf=mongoose[_0xb05fbf(0x8e)][_0xb05fbf(0x9d)],{warehouse_name:_0x254ceb}=_0x274633[_0xb05fbf(0xb1)],_0x398dbb=await warehouse_validation_setup[_0xb05fbf(0xbf)]([{'$group':{'_id':_0xb05fbf(0x89),'warehouse_id':{'$first':_0xb05fbf(0xe2)}}}]);let _0x2d5996=[];for(let _0x2714e2=0x0;_0x2714e2<=_0x398dbb['length']-0x1;_0x2714e2++){const _0x175816=_0x398dbb[_0x2714e2];_0x2d5996['push'](_0x4ff2cf(_0x175816[_0xb05fbf(0x8f)]));}const _0x1c3ad6=_0x2d5996,_0x3b62a7=await warehouse[_0xb05fbf(0xbf)]([{'$match':{'name':_0x254ceb,'status':_0xb05fbf(0xbe)}},{'$group':{'_id':_0xb05fbf(0x89),'room_name':{'$first':_0xb05fbf(0xee)}}},{'$sort':{'room_name':0x1}}]);_0x41c17c['json'](_0x3b62a7);}catch(_0x5c53e5){_0x41c17c[_0xb05fbf(0xbb)](_0x5c53e5);}}),router['post'](a0_0x9ebc57(0xe3),auth,async(_0x13add4,_0x49c1d5)=>{const _0x1adf2a=a0_0x9ebc57;try{const {prod_code:_0x376b87}=_0x13add4[_0x1adf2a(0xb1)],_0x5890ce=_0x13add4['params']['id'],_0x392646=await warehouse_validation_setup[_0x1adf2a(0xdb)](_0x5890ce);if(typeof _0x376b87==_0x1adf2a(0xe9))var _0x573e66=[_0x13add4['body'][_0x1adf2a(0xea)]],_0x50fe7a=[_0x13add4[_0x1adf2a(0xb1)][_0x1adf2a(0x83)]],_0x3128b7=[_0x13add4[_0x1adf2a(0xb1)][_0x1adf2a(0xa7)]],_0x39d696=[_0x13add4[_0x1adf2a(0xb1)][_0x1adf2a(0xca)]],_0x1c285d=[_0x13add4[_0x1adf2a(0xb1)][_0x1adf2a(0xe4)]],_0x54ad83=[_0x13add4['body'][_0x1adf2a(0x9e)]];else var _0x50fe7a=[..._0x13add4[_0x1adf2a(0xb1)][_0x1adf2a(0x83)]],_0x573e66=[..._0x13add4['body'][_0x1adf2a(0xea)]],_0x3128b7=[..._0x13add4['body'][_0x1adf2a(0xa7)]],_0x39d696=[..._0x13add4[_0x1adf2a(0xb1)]['min_data']],_0x1c285d=[..._0x13add4[_0x1adf2a(0xb1)]['max_data']],_0x54ad83=[..._0x13add4[_0x1adf2a(0xb1)][_0x1adf2a(0x9e)]];const _0x5d4752=_0x573e66[_0x1adf2a(0xf0)](_0x4f1078=>{return _0x4f1078={'product_code':_0x4f1078};});_0x50fe7a['forEach']((_0x42ad0d,_0x14445d)=>{_0x5d4752[_0x14445d]['product_name']=_0x42ad0d;}),_0x3128b7[_0x1adf2a(0xba)]((_0xa4201c,_0x5a8530)=>{const _0x4384cc=_0x1adf2a;var _0x55b7c4=_0xa4201c[_0x4384cc(0x84)](/[A-Za-z]+/)[0x0],_0x3cbe6f=parseInt(_0xa4201c[_0x4384cc(0x84)](/\d+/)[0x0]);_0x5d4752[_0x5a8530]['bay']=_0x55b7c4,_0x5d4752[_0x5a8530][_0x4384cc(0xbc)]=_0x3cbe6f;}),_0x39d696[_0x1adf2a(0xba)]((_0x2db857,_0x24404a)=>{const _0x2a8abe=_0x1adf2a;_0x5d4752[_0x24404a][_0x2a8abe(0x7a)]=_0x2db857;}),_0x1c285d[_0x1adf2a(0xba)]((_0x5de920,_0x50633b)=>{_0x5d4752[_0x50633b]['max']=_0x5de920;}),_0x54ad83[_0x1adf2a(0xba)]((_0xa717c9,_0x16edf2)=>{const _0x3dde2d=_0x1adf2a;_0x5d4752[_0x16edf2][_0x3dde2d(0x9e)]=_0xa717c9;}),_0x392646[_0x1adf2a(0x81)]=_0x5d4752;const _0x4b6ffc=await _0x392646[_0x1adf2a(0xd5)]();_0x13add4[_0x1adf2a(0xc4)](_0x1adf2a(0xd6),_0x1adf2a(0xd3)),_0x49c1d5[_0x1adf2a(0xdf)](_0x1adf2a(0xaa)+_0x4b6ffc[_0x1adf2a(0xaf)]);}catch(_0x27ace4){_0x49c1d5['json'](_0x27ace4);}}),router[a0_0x9ebc57(0x90)](a0_0x9ebc57(0x99),auth,async(_0x2bb52f,_0x29bcb7)=>{const _0x4167d8=a0_0x9ebc57;try{const {warehouse_id:_0xe1c401}=_0x2bb52f[_0x4167d8(0xb1)],_0x216edc=await warehouse_validation_setup[_0x4167d8(0xdb)](_0xe1c401),_0x5a5e67=_0x2b4bee=>_0x2b4bee*0x48,_0x485cfc={'width':0x3,'height':0x1},_0x1be8e6=new PDFDocument({'margin':_0x5a5e67(0.75),'size':[_0x5a5e67(_0x485cfc[_0x4167d8(0xc9)]),_0x5a5e67(_0x485cfc[_0x4167d8(0xce)])],'bufferPages':!![]}),_0x43f802=_0x216edc['product_data'][_0x4167d8(0x92)];for(let _0x102e08=0x0;_0x102e08<=_0x43f802-0x1;_0x102e08++){var _0x47ee55=_0x216edc[_0x4167d8(0x81)][_0x102e08],_0x4b9259=_0x216edc[_0x4167d8(0xdc)]+'~'+_0x216edc[_0x4167d8(0x87)]+'~'+_0x47ee55[_0x4167d8(0xa7)]+'~'+_0x47ee55['bin'];const _0x5a8ed1={'width':0x190,'height':0x96},_0x40b30a={'width':_0x5a5e67(_0x485cfc[_0x4167d8(0xc9)]),'height':_0x5a5e67(_0x485cfc[_0x4167d8(0xce)])},_0x157ca4=new Canvas();JsBarcode(_0x157ca4,_0x4b9259,{'format':_0x4167d8(0xfb),'height':_0x5a8ed1[_0x4167d8(0xce)],'displayValue':!![],'text':_0x4b9259});const _0x4526f2=_0x157ca4[_0x4167d8(0x9f)](),_0x1c669a=_0x40b30a[_0x4167d8(0xc9)]/_0x5a8ed1['width'],_0x56d7cd=_0x40b30a[_0x4167d8(0xce)]/_0x5a8ed1[_0x4167d8(0xce)],_0x10c35f=Math['min'](_0x1c669a,_0x56d7cd),_0x5a5433=_0x5a8ed1[_0x4167d8(0xc9)]*_0x10c35f,_0x4910a2=_0x5a8ed1['height']*_0x10c35f,_0x2acee7=(_0x40b30a[_0x4167d8(0xc9)]-_0x5a5433)/0x2,_0x21319d=(_0x40b30a[_0x4167d8(0xce)]-_0x4910a2)/0x2;_0x1be8e6['image'](_0x4526f2,_0x2acee7,_0x21319d,{'width':_0x5a5433,'height':_0x4910a2}),_0x102e08!=_0x43f802&&_0x1be8e6[_0x4167d8(0xb7)](),console[_0x4167d8(0xa6)](_0x4b9259);}const _0x5dc89f=[];_0x1be8e6['on']('data',_0x5dc89f[_0x4167d8(0xd7)][_0x4167d8(0x8d)](_0x5dc89f)),_0x1be8e6['on']('end',()=>{const _0x2f3cbb=_0x4167d8,_0x2d076d=Buffer['concat'](_0x5dc89f),_0x318d09=_0x2d076d[_0x2f3cbb(0xfd)](_0x2f3cbb(0x96));_0x29bcb7[_0x2f3cbb(0xbb)]({'pdfContent':_0x318d09});}),_0x1be8e6[_0x4167d8(0xb9)]();}catch(_0x16e5c7){_0x29bcb7[_0x4167d8(0xbb)](_0x16e5c7);}}),module[a0_0x9ebc57(0x80)]=router;