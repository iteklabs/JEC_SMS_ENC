const a0_0x494878=a0_0x4cb1;(function(_0x283187,_0xf042b5){const _0x59ed0e=a0_0x4cb1,_0x38e64e=_0x283187();while(!![]){try{const _0x343dfe=-parseInt(_0x59ed0e(0x12d))/0x1+-parseInt(_0x59ed0e(0x146))/0x2+parseInt(_0x59ed0e(0x104))/0x3*(-parseInt(_0x59ed0e(0x111))/0x4)+parseInt(_0x59ed0e(0x118))/0x5*(parseInt(_0x59ed0e(0x14d))/0x6)+parseInt(_0x59ed0e(0x11b))/0x7+-parseInt(_0x59ed0e(0x105))/0x8+-parseInt(_0x59ed0e(0xf4))/0x9*(-parseInt(_0x59ed0e(0x13d))/0xa);if(_0x343dfe===_0xf042b5)break;else _0x38e64e['push'](_0x38e64e['shift']());}catch(_0x2b8359){_0x38e64e['push'](_0x38e64e['shift']());}}}(a0_0x56b4,0x1d3b6));const express=require(a0_0x494878(0x10a)),app=express(),router=express[a0_0x494878(0x136)](),multer=require(a0_0x494878(0x12e)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db}=require(a0_0x494878(0x13b)),auth=require(a0_0x494878(0x123));function a0_0x56b4(){const _0x3c43ba=['English\x20(US)','../middleware/auth','errors','German','master','toLocaleString','./public/upload','Hindi','forEach','/master_shop/view_data/volume_set','user','52427DZPsET','multer','French','FGSnumber','Arabic\x20(ae)','FGSName','language','get','/master_shop/view','Router','timezones-list','/view','timezone','success','../models/all_models','volume_discount','15090rSWFzv','currency','en-US','master_settings','Chinese','currency_placement','log','port','hidden','430790IyiEKU','body','max_car','English','FGSEmail','host','map','1016286BlUgPK','Portuguese\x20(BR)','image','find','Portuguese','discount_price','1422VJUXfr','RMSEmail','filename','min_car_edit','single','render','file','diskStorage','Volume\x20Discount\x20modified\x20successfully','2nd\x20master_shop_data','shop\x20setting\x20edit\x20successfully','Arabic','findOne','now','password','master_shop_data','6TrvOTS','1803424KchtCi','email_settings','Spanish','/:id','/master_shop/view/supervisors','express','master\x20settings\x20email_data','/view_data/volume_set','post','email','params','max_car_edit','3148uzlblU','RMSName','/view/email/edit_settings','supervisor_settings','../public/language/languages.json','originalname','/view/edit_settings','5HEWduE','flash','/view/supervisors','1447285Shojyr','discount_price_edit','redirect','setup_volume_discount','exports','save','site_title'];a0_0x56b4=function(){return _0x3c43ba;};return a0_0x56b4();}var timezones=require(a0_0x494878(0x137));function a0_0x4cb1(_0x125358,_0x1edde0){const _0x56b43f=a0_0x56b4();return a0_0x4cb1=function(_0x4cb160,_0x2b94f6){_0x4cb160=_0x4cb160-0xf0;let _0x3c6099=_0x56b43f[_0x4cb160];return _0x3c6099;},a0_0x4cb1(_0x125358,_0x1edde0);}const users=require(a0_0x494878(0x115)),storage=multer[a0_0x494878(0xfb)]({'destination':(_0x27b060,_0x54e85a,_0x1035e5)=>{const _0x3389cc=a0_0x494878;_0x1035e5(null,_0x3389cc(0x128));},'filename':(_0x58a747,_0x79c71e,_0x47e93a)=>{const _0x401253=a0_0x494878;_0x47e93a(null,Date[_0x401253(0x101)]()+_0x79c71e[_0x401253(0x116)]);}}),upload=multer({'storage':storage});router[a0_0x494878(0x134)](a0_0x494878(0x138),auth,async(_0x53a4a7,_0x300594)=>{const _0x41816a=a0_0x494878;try{const {username:_0x39e7d0,email:_0x116025,role:_0x8199ea}=_0x53a4a7[_0x41816a(0x12c)],_0x5a71bf=_0x53a4a7[_0x41816a(0x12c)],_0xd746ad=await profile['findOne']({'email':_0x5a71bf[_0x41816a(0x10e)]}),_0x1073d1=await master_shop[_0x41816a(0xf1)]();console[_0x41816a(0x143)](_0x41816a(0x126),_0x1073d1);const _0x438f4a=new Date()['toLocaleString'](_0x41816a(0x13f),{'timeZone':_0x1073d1[0x0][_0x41816a(0x139)]});console[_0x41816a(0x143)]('timezone',_0x438f4a);if(_0x1073d1[0x0]['language']==_0x41816a(0x122)){var _0x53583d=users['English'];console[_0x41816a(0x143)](_0x53583d);}else{if(_0x1073d1[0x0][_0x41816a(0x133)]==_0x41816a(0x129))var _0x53583d=users[_0x41816a(0x129)];else{if(_0x1073d1[0x0]['language']==_0x41816a(0x125))var _0x53583d=users[_0x41816a(0x125)];else{if(_0x1073d1[0x0][_0x41816a(0x133)]==_0x41816a(0x107))var _0x53583d=users[_0x41816a(0x107)];else{if(_0x1073d1[0x0][_0x41816a(0x133)]=='French')var _0x53583d=users[_0x41816a(0x12f)];else{if(_0x1073d1[0x0][_0x41816a(0x133)]==_0x41816a(0x14e))var _0x53583d=users[_0x41816a(0xf2)];else{if(_0x1073d1[0x0][_0x41816a(0x133)]=='Chinese')var _0x53583d=users[_0x41816a(0x141)];else{if(_0x1073d1[0x0]['language']==_0x41816a(0x131))var _0x53583d=users[_0x41816a(0xff)];}}}}}}}_0x300594[_0x41816a(0xf9)](_0x41816a(0x140),{'success':_0x53a4a7[_0x41816a(0x119)]('success'),'errors':_0x53a4a7[_0x41816a(0x119)]('errors'),'role':_0x5a71bf,'profile':_0xd746ad,'master_shop':_0x1073d1,'timezones':timezones,'language':_0x53583d});}catch(_0x92c07e){console[_0x41816a(0x143)](_0x92c07e);}}),router['get'](a0_0x494878(0x108),auth,async(_0x1eafbc,_0x1ea66a)=>{const _0x327a18=a0_0x494878;try{console[_0x327a18(0x143)](_0x327a18(0x133)),console['log'](_0x1eafbc[_0x327a18(0x10f)]['id']);const _0x2c68b2=await master_shop[_0x327a18(0x100)]();_0x2c68b2[_0x327a18(0x133)]=_0x1eafbc['params']['id'],await _0x2c68b2['save'](),console['log'](_0x327a18(0x126),_0x2c68b2);}catch(_0x4f639e){console['log'](_0x4f639e);}}),router[a0_0x494878(0x10d)](a0_0x494878(0x117),auth,upload[a0_0x494878(0xf8)]('image'),async(_0xd77fc8,_0x420fc5)=>{const _0x18859c=a0_0x494878;try{const {site_title:_0x37d188,currency:_0x1ce5cb,currency_placement:_0xb7e02f,timezone:_0x2d1f1e}=_0xd77fc8[_0x18859c(0x147)];if(_0xd77fc8[_0x18859c(0x147)][_0x18859c(0x145)]==0x0){const _0x3f1303=await master_shop['findOne']();console['log'](_0x18859c(0x103),_0x3f1303);if(_0x3f1303==''){const _0x4197c6=new master_shop({'site_title':_0x37d188,'image':image,'currency':_0x1ce5cb,'currency_placement':_0xb7e02f,'timezone':_0x2d1f1e}),_0x14f763=await _0x4197c6[_0x18859c(0x120)]();}else _0x3f1303[_0x18859c(0x121)]=_0x37d188,_0x3f1303[_0x18859c(0x13e)]=_0x1ce5cb,_0x3f1303[_0x18859c(0x142)]=_0xb7e02f,_0x3f1303[_0x18859c(0x139)]=_0x2d1f1e,await _0x3f1303[_0x18859c(0x120)]();}else{const _0x1ee612=_0xd77fc8[_0x18859c(0xfa)][_0x18859c(0xf6)],_0x335f45=await master_shop[_0x18859c(0x100)]();console[_0x18859c(0x143)](_0x18859c(0xfd),_0x335f45);if(_0x335f45==null){console[_0x18859c(0x143)]('1',_0x37d188);const _0x5e11ea=new master_shop({'site_title':_0x37d188,'image':_0x1ee612,'currency':_0x1ce5cb,'currency_placement':_0xb7e02f,'timezone':_0x2d1f1e}),_0x5e019a=await _0x5e11ea[_0x18859c(0x120)]();}else console['log']('2',_0x37d188),_0x335f45[_0x18859c(0x121)]=_0x37d188,_0x335f45[_0x18859c(0xf0)]=_0x1ee612,_0x335f45['currency']=_0x1ce5cb,_0x335f45['currency_placement']=_0xb7e02f,_0x335f45[_0x18859c(0x139)]=_0x2d1f1e,await _0x335f45[_0x18859c(0x120)]();}_0xd77fc8[_0x18859c(0x119)](_0x18859c(0x13a),_0x18859c(0xfe)),_0x420fc5[_0x18859c(0x11d)](_0x18859c(0x135));}catch(_0x286479){console[_0x18859c(0x143)](_0x286479);}}),router[a0_0x494878(0x134)]('/view/email',auth,async(_0x3cce8b,_0x26b984)=>{const _0x1a83c9=a0_0x494878;try{const {username:_0x864a58,email:_0x2149bd,role:_0x416b6d}=_0x3cce8b['user'],_0x111b6e=_0x3cce8b[_0x1a83c9(0x12c)],_0x17c8ac=await profile[_0x1a83c9(0x100)]({'email':_0x111b6e['email']}),_0x344277=await master_shop['find']();console[_0x1a83c9(0x143)](_0x1a83c9(0x126),_0x344277);const _0x2fae26=await email_settings['findOne']();console['log'](_0x1a83c9(0x10b),_0x2fae26);if(_0x344277[0x0]['language']=='English\x20(US)'){var _0x15bb8e=users['English'];console[_0x1a83c9(0x143)](_0x15bb8e);}else{if(_0x344277[0x0][_0x1a83c9(0x133)]==_0x1a83c9(0x129))var _0x15bb8e=users[_0x1a83c9(0x129)];else{if(_0x344277[0x0][_0x1a83c9(0x133)]==_0x1a83c9(0x125))var _0x15bb8e=users['German'];else{if(_0x344277[0x0]['language']==_0x1a83c9(0x107))var _0x15bb8e=users[_0x1a83c9(0x107)];else{if(_0x344277[0x0][_0x1a83c9(0x133)]==_0x1a83c9(0x12f))var _0x15bb8e=users['French'];else{if(_0x344277[0x0][_0x1a83c9(0x133)]==_0x1a83c9(0x14e))var _0x15bb8e=users[_0x1a83c9(0xf2)];else{if(_0x344277[0x0][_0x1a83c9(0x133)]==_0x1a83c9(0x141))var _0x15bb8e=users[_0x1a83c9(0x141)];else{if(_0x344277[0x0]['language']=='Arabic\x20(ae)')var _0x15bb8e=users[_0x1a83c9(0xff)];}}}}}}}_0x26b984['render'](_0x1a83c9(0x106),{'success':_0x3cce8b[_0x1a83c9(0x119)](_0x1a83c9(0x13a)),'errors':_0x3cce8b['flash'](_0x1a83c9(0x124)),'role':_0x111b6e,'profile':_0x17c8ac,'master_shop':_0x344277,'email':_0x2fae26,'language':_0x15bb8e});}catch(_0x2d1d3b){console[_0x1a83c9(0x143)](_0x2d1d3b);}}),router[a0_0x494878(0x10d)](a0_0x494878(0x113),auth,async(_0x3ff041,_0x44afb7)=>{const _0x33f424=a0_0x494878;try{const {host:_0x3866fe,port:_0xbabf77,email:_0x2806de,password:_0x125a07}=_0x3ff041[_0x33f424(0x147)],_0x4b7e25=await email_settings['findOne']();if(_0x4b7e25==null){const _0x3177cf=new email_settings({'host':_0x3866fe,'port':_0xbabf77,'email':_0x2806de,'password':_0x125a07});await _0x3177cf[_0x33f424(0x120)]();}else _0x4b7e25[_0x33f424(0x14b)]=_0x3866fe,_0x4b7e25[_0x33f424(0x144)]=_0xbabf77,_0x4b7e25[_0x33f424(0x10e)]=_0x2806de,_0x4b7e25[_0x33f424(0x102)]=_0x125a07,await _0x4b7e25['save']();_0x3ff041[_0x33f424(0x119)](_0x33f424(0x13a),_0x33f424(0xfe)),_0x44afb7[_0x33f424(0x11d)]('/master_shop/view/email');}catch(_0x78675d){console[_0x33f424(0x143)](_0x78675d);}}),router['get'](a0_0x494878(0x11a),auth,async(_0x192261,_0x2c551d)=>{const _0x8a611f=a0_0x494878;try{const {username:_0x5400c6,email:_0x5df6fe,role:_0xc0bfef}=_0x192261['user'],_0x2afe92=_0x192261[_0x8a611f(0x12c)],_0x42e09a=await supervisor_settings[_0x8a611f(0xf1)](),_0x3fe20d=await profile[_0x8a611f(0x100)]({'email':_0x2afe92[_0x8a611f(0x10e)]}),_0x2fde63=await master_shop[_0x8a611f(0xf1)](),_0x2a4235=new Date()[_0x8a611f(0x127)]('en-US',{'timeZone':_0x2fde63[0x0]['timezone']});if(_0x2fde63[0x0][_0x8a611f(0x133)]=='English\x20(US)'){var _0x1a4f39=users['English'];console['log'](_0x1a4f39);}else{if(_0x2fde63[0x0]['language']==_0x8a611f(0x129))var _0x1a4f39=users[_0x8a611f(0x129)];else{if(_0x2fde63[0x0]['language']==_0x8a611f(0x125))var _0x1a4f39=users['German'];else{if(_0x2fde63[0x0][_0x8a611f(0x133)]==_0x8a611f(0x107))var _0x1a4f39=users[_0x8a611f(0x107)];else{if(_0x2fde63[0x0]['language']==_0x8a611f(0x12f))var _0x1a4f39=users[_0x8a611f(0x12f)];else{if(_0x2fde63[0x0]['language']==_0x8a611f(0x14e))var _0x1a4f39=users[_0x8a611f(0xf2)];else{if(_0x2fde63[0x0][_0x8a611f(0x133)]==_0x8a611f(0x141))var _0x1a4f39=users['Chinese'];else{if(_0x2fde63[0x0][_0x8a611f(0x133)]==_0x8a611f(0x131))var _0x1a4f39=users['Arabic'];}}}}}}}_0x2c551d['render'](_0x8a611f(0x114),{'success':_0x192261['flash'](_0x8a611f(0x13a)),'errors':_0x192261['flash'](_0x8a611f(0x124)),'role':_0x2afe92,'profile':_0x3fe20d,'master_shop':_0x2fde63,'supervisor_data':_0x42e09a[0x0],'timezones':timezones,'language':_0x1a4f39});}catch(_0x5764aa){console['log'](_0x5764aa);}}),router[a0_0x494878(0x10d)]('/view/supervisors',auth,async(_0x5cff2b,_0x2b784a)=>{const _0x4df5bb=a0_0x494878;try{const {rm_name:_0x539a36,fg_name:_0x18a076,rm_email:_0x910f90,fg_email:_0x193ce7,rm_mobilenum:_0xbc842f,fg_number:_0x4477ac}=_0x5cff2b['body'],_0xac40f6=await supervisor_settings[_0x4df5bb(0x100)]();if(_0xac40f6==null){const _0x5a365a=new supervisor_settings({'RMSName':_0x539a36,'RMSEmail':_0x910f90,'RMSnumber':_0xbc842f,'FGSName':_0x18a076,'FGSEmail':_0x193ce7,'FGSnumber':_0x4477ac});await _0x5a365a[_0x4df5bb(0x120)]();}else _0xac40f6[_0x4df5bb(0x112)]=_0x539a36,_0xac40f6[_0x4df5bb(0xf5)]=_0x910f90,_0xac40f6['RMSnumber']=_0xbc842f,_0xac40f6[_0x4df5bb(0x132)]=_0x18a076,_0xac40f6[_0x4df5bb(0x14a)]=_0x193ce7,_0xac40f6[_0x4df5bb(0x130)]=_0x4477ac,await _0xac40f6[_0x4df5bb(0x120)]();_0x5cff2b[_0x4df5bb(0x119)](_0x4df5bb(0x13a),_0x4df5bb(0xfe)),_0x2b784a[_0x4df5bb(0x11d)](_0x4df5bb(0x109));}catch(_0x5cbe7a){console[_0x4df5bb(0x143)](_0x5cbe7a);}}),router[a0_0x494878(0x134)](a0_0x494878(0x10c),auth,async(_0x2413fe,_0x25dbb4)=>{const _0x5b2d53=a0_0x494878;try{const _0x24805c=_0x2413fe['user'],_0x2f6708=await supervisor_settings[_0x5b2d53(0xf1)](),_0x5d8521=await profile[_0x5b2d53(0x100)]({'email':_0x24805c['email']}),_0x5b2e01=await master_shop[_0x5b2d53(0xf1)](),_0x5bf2c8=await discount_volume_db[_0x5b2d53(0x100)]();if(_0x5b2e01[0x0][_0x5b2d53(0x133)]==_0x5b2d53(0x122)){var _0x1bc8f0=users[_0x5b2d53(0x149)];console[_0x5b2d53(0x143)](_0x1bc8f0);}else{if(_0x5b2e01[0x0][_0x5b2d53(0x133)]==_0x5b2d53(0x129))var _0x1bc8f0=users[_0x5b2d53(0x129)];else{if(_0x5b2e01[0x0][_0x5b2d53(0x133)]==_0x5b2d53(0x125))var _0x1bc8f0=users[_0x5b2d53(0x125)];else{if(_0x5b2e01[0x0][_0x5b2d53(0x133)]=='Spanish')var _0x1bc8f0=users['Spanish'];else{if(_0x5b2e01[0x0]['language']==_0x5b2d53(0x12f))var _0x1bc8f0=users['French'];else{if(_0x5b2e01[0x0][_0x5b2d53(0x133)]==_0x5b2d53(0x14e))var _0x1bc8f0=users[_0x5b2d53(0xf2)];else{if(_0x5b2e01[0x0]['language']==_0x5b2d53(0x141))var _0x1bc8f0=users[_0x5b2d53(0x141)];else{if(_0x5b2e01[0x0][_0x5b2d53(0x133)]==_0x5b2d53(0x131))var _0x1bc8f0=users['Arabic'];}}}}}}}_0x25dbb4[_0x5b2d53(0xf9)](_0x5b2d53(0x11e),{'success':_0x2413fe[_0x5b2d53(0x119)]('success'),'errors':_0x2413fe[_0x5b2d53(0x119)](_0x5b2d53(0x124)),'role':_0x24805c,'profile':_0x5d8521,'master_shop':_0x5b2e01,'supervisor_data':_0x2f6708[0x0],'language':_0x1bc8f0,'data':_0x5bf2c8});}catch(_0x49a13e){}}),router[a0_0x494878(0x10d)]('/view_data/edit_volume_set',auth,async(_0x14b8a2,_0xc3ff08)=>{const _0x6ee903=a0_0x494878;try{const {min_car_edit:_0x45caf7}=_0x14b8a2[_0x6ee903(0x147)],_0xe61fd2=await discount_volume_db[_0x6ee903(0x100)]();if(typeof _0x45caf7=='string')var _0x5e7768=[_0x14b8a2[_0x6ee903(0x147)][_0x6ee903(0xf7)]],_0x39a2c0=[_0x14b8a2['body']['max_car_edit']],_0x29e890=[_0x14b8a2['body'][_0x6ee903(0x11c)]];else var _0x5e7768=[..._0x14b8a2[_0x6ee903(0x147)][_0x6ee903(0xf7)]],_0x39a2c0=[..._0x14b8a2[_0x6ee903(0x147)][_0x6ee903(0x110)]],_0x29e890=[..._0x14b8a2[_0x6ee903(0x147)][_0x6ee903(0x11c)]];const _0x267156=_0x5e7768[_0x6ee903(0x14c)](_0x47c984=>{return _0x47c984={'min_car':_0x47c984};});_0x39a2c0[_0x6ee903(0x12a)]((_0x4bc673,_0x128e37)=>{const _0x5b6b3d=_0x6ee903;_0x267156[_0x128e37][_0x5b6b3d(0x148)]=_0x4bc673;}),_0x29e890[_0x6ee903(0x12a)]((_0x12296b,_0xa7570c)=>{const _0x22a46b=_0x6ee903;_0x267156[_0xa7570c][_0x22a46b(0xf3)]=_0x12296b;});if(_0xe61fd2==null){const _0x18b4ea=new discount_volume_db({'volume_discount':_0x267156});await _0x18b4ea['save']();}else _0xe61fd2[_0x6ee903(0x13c)]=_0x267156,await _0xe61fd2[_0x6ee903(0x120)]();_0x14b8a2['flash'](_0x6ee903(0x13a),_0x6ee903(0xfc)),_0xc3ff08[_0x6ee903(0x11d)](_0x6ee903(0x12b));}catch(_0x44b8f5){}}),module[a0_0x494878(0x11f)]=router;