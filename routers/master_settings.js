const a0_0x2c3955=a0_0x580d;(function(_0x1f7490,_0x5dfcd2){const _0x56ad21=a0_0x580d,_0xfe3ab6=_0x1f7490();while(!![]){try{const _0x2b765c=-parseInt(_0x56ad21(0x1df))/0x1+parseInt(_0x56ad21(0x1bc))/0x2*(parseInt(_0x56ad21(0x1c0))/0x3)+parseInt(_0x56ad21(0x1fd))/0x4*(-parseInt(_0x56ad21(0x1c1))/0x5)+-parseInt(_0x56ad21(0x1b3))/0x6+-parseInt(_0x56ad21(0x1cc))/0x7+parseInt(_0x56ad21(0x1cf))/0x8+parseInt(_0x56ad21(0x1ee))/0x9*(parseInt(_0x56ad21(0x1ec))/0xa);if(_0x2b765c===_0x5dfcd2)break;else _0xfe3ab6['push'](_0xfe3ab6['shift']());}catch(_0x3d5c68){_0xfe3ab6['push'](_0xfe3ab6['shift']());}}}(a0_0x2ef3,0x706b3));function a0_0x2ef3(){const _0x54f670=['master_settings','params','currency_placement','user','findOne','find','/view/email','RMSnumber','RMSName','redirect','459909sfPygi','Arabic','Hindi','French','English','shop\x20setting\x20edit\x20successfully','save','discount_price_edit','forEach','/view','FGSnumber','FGSEmail','master\x20settings\x20email_data','890gQeTKv','post','120357kNeZjX','language','max_car_edit','timezone','English\x20(US)','2nd\x20master_shop_data','min_car_edit','currency','file','hidden','string','/master_shop/view/email','FGSName','Arabic\x20(ae)','../middleware/auth','12MVZeZb','Router','Portuguese','/view/email/edit_settings','diskStorage','4598616oiFwoH','originalname','success','exports','discount_price','max_car','email','site_title','render','16106ItXHNH','Portuguese\x20(BR)','/view_data/edit_volume_set','Chinese','333PzQXzR','1293260xaDUNf','now','port','RMSEmail','en-US','German','master','/view/supervisors','body','/master_shop/view_data/volume_set','flash','3106628ttrGmA','master_shop_data','Spanish','6579936ZBCgrI','errors','/view/edit_settings','log','get','toLocaleString'];a0_0x2ef3=function(){return _0x54f670;};return a0_0x2ef3();}const express=require('express'),app=express(),router=express[a0_0x2c3955(0x1fe)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db}=require('../models/all_models'),auth=require(a0_0x2c3955(0x1fc));function a0_0x580d(_0x3b22d0,_0x5c2ec5){const _0x2ef3cf=a0_0x2ef3();return a0_0x580d=function(_0x580d9d,_0x40c7fe){_0x580d9d=_0x580d9d-0x1b3;let _0x4b0909=_0x2ef3cf[_0x580d9d];return _0x4b0909;},a0_0x580d(_0x3b22d0,_0x5c2ec5);}var timezones=require('timezones-list');const users=require('../public/language/languages.json'),storage=multer[a0_0x2c3955(0x201)]({'destination':(_0x4e9318,_0x32f821,_0x253994)=>{_0x253994(null,'./public/upload');},'filename':(_0x36697b,_0x286051,_0x2354df)=>{const _0xfce259=a0_0x2c3955;_0x2354df(null,Date[_0xfce259(0x1c2)]()+_0x286051[_0xfce259(0x1b4)]);}}),upload=multer({'storage':storage});router[a0_0x2c3955(0x1d3)](a0_0x2c3955(0x1e8),auth,async(_0x13f5b8,_0x4dc588)=>{const _0x1c5d08=a0_0x2c3955;try{const {username:_0x506289,email:_0x2b8285,role:_0x42fad7}=_0x13f5b8['user'],_0x4fe4e2=_0x13f5b8[_0x1c5d08(0x1d8)],_0x87a06=await profile[_0x1c5d08(0x1d9)]({'email':_0x4fe4e2[_0x1c5d08(0x1b9)]}),_0x420f12=await master_shop[_0x1c5d08(0x1da)]();console[_0x1c5d08(0x1d2)](_0x1c5d08(0x1c7),_0x420f12);const _0x4d6244=new Date()[_0x1c5d08(0x1d4)](_0x1c5d08(0x1c5),{'timeZone':_0x420f12[0x0][_0x1c5d08(0x1f1)]});console['log'](_0x1c5d08(0x1f1),_0x4d6244);if(_0x420f12[0x0][_0x1c5d08(0x1ef)]==_0x1c5d08(0x1f2)){var _0x3ecd8a=users[_0x1c5d08(0x1e3)];console[_0x1c5d08(0x1d2)](_0x3ecd8a);}else{if(_0x420f12[0x0]['language']=='Hindi')var _0x3ecd8a=users['Hindi'];else{if(_0x420f12[0x0][_0x1c5d08(0x1ef)]==_0x1c5d08(0x1c6))var _0x3ecd8a=users[_0x1c5d08(0x1c6)];else{if(_0x420f12[0x0]['language']==_0x1c5d08(0x1ce))var _0x3ecd8a=users[_0x1c5d08(0x1ce)];else{if(_0x420f12[0x0][_0x1c5d08(0x1ef)]==_0x1c5d08(0x1e2))var _0x3ecd8a=users[_0x1c5d08(0x1e2)];else{if(_0x420f12[0x0][_0x1c5d08(0x1ef)]==_0x1c5d08(0x1bd))var _0x3ecd8a=users[_0x1c5d08(0x1ff)];else{if(_0x420f12[0x0][_0x1c5d08(0x1ef)]==_0x1c5d08(0x1bf))var _0x3ecd8a=users[_0x1c5d08(0x1bf)];else{if(_0x420f12[0x0][_0x1c5d08(0x1ef)]==_0x1c5d08(0x1fb))var _0x3ecd8a=users['Arabic'];}}}}}}}_0x4dc588[_0x1c5d08(0x1bb)](_0x1c5d08(0x1d5),{'success':_0x13f5b8[_0x1c5d08(0x1cb)](_0x1c5d08(0x1b5)),'errors':_0x13f5b8['flash'](_0x1c5d08(0x1d0)),'role':_0x4fe4e2,'profile':_0x87a06,'master_shop':_0x420f12,'timezones':timezones,'language':_0x3ecd8a});}catch(_0x4a4a7a){console[_0x1c5d08(0x1d2)](_0x4a4a7a);}}),router[a0_0x2c3955(0x1d3)]('/:id',auth,async(_0x28bc02,_0x439b0e)=>{const _0x151fac=a0_0x2c3955;try{console[_0x151fac(0x1d2)](_0x151fac(0x1ef)),console[_0x151fac(0x1d2)](_0x28bc02[_0x151fac(0x1d6)]['id']);const _0x488e3b=await master_shop['findOne']();_0x488e3b['language']=_0x28bc02[_0x151fac(0x1d6)]['id'],await _0x488e3b['save'](),console[_0x151fac(0x1d2)](_0x151fac(0x1c7),_0x488e3b);}catch(_0x3b1e53){console[_0x151fac(0x1d2)](_0x3b1e53);}}),router[a0_0x2c3955(0x1ed)](a0_0x2c3955(0x1d1),auth,upload['single']('image'),async(_0x4ec416,_0x4150c7)=>{const _0xb8fa28=a0_0x2c3955;try{const {site_title:_0x35ba7b,currency:_0x4d319f,currency_placement:_0x4518f6,timezone:_0x3bb25f}=_0x4ec416[_0xb8fa28(0x1c9)];if(_0x4ec416['body'][_0xb8fa28(0x1f7)]==0x0){const _0x5db5ca=await master_shop[_0xb8fa28(0x1d9)]();console[_0xb8fa28(0x1d2)](_0xb8fa28(0x1cd),_0x5db5ca);if(_0x5db5ca==''){const _0x339018=new master_shop({'site_title':_0x35ba7b,'image':image,'currency':_0x4d319f,'currency_placement':_0x4518f6,'timezone':_0x3bb25f}),_0x3ca949=await _0x339018['save']();}else _0x5db5ca['site_title']=_0x35ba7b,_0x5db5ca['currency']=_0x4d319f,_0x5db5ca[_0xb8fa28(0x1d7)]=_0x4518f6,_0x5db5ca['timezone']=_0x3bb25f,await _0x5db5ca[_0xb8fa28(0x1e5)]();}else{const _0x2c6f56=_0x4ec416[_0xb8fa28(0x1f6)]['filename'],_0x2cdc75=await master_shop[_0xb8fa28(0x1d9)]();console[_0xb8fa28(0x1d2)](_0xb8fa28(0x1f3),_0x2cdc75);if(_0x2cdc75==null){console[_0xb8fa28(0x1d2)]('1',_0x35ba7b);const _0x23799e=new master_shop({'site_title':_0x35ba7b,'image':_0x2c6f56,'currency':_0x4d319f,'currency_placement':_0x4518f6,'timezone':_0x3bb25f}),_0xf7f7ef=await _0x23799e['save']();}else console[_0xb8fa28(0x1d2)]('2',_0x35ba7b),_0x2cdc75[_0xb8fa28(0x1ba)]=_0x35ba7b,_0x2cdc75['image']=_0x2c6f56,_0x2cdc75[_0xb8fa28(0x1f5)]=_0x4d319f,_0x2cdc75[_0xb8fa28(0x1d7)]=_0x4518f6,_0x2cdc75[_0xb8fa28(0x1f1)]=_0x3bb25f,await _0x2cdc75[_0xb8fa28(0x1e5)]();}_0x4ec416[_0xb8fa28(0x1cb)](_0xb8fa28(0x1b5),_0xb8fa28(0x1e4)),_0x4150c7[_0xb8fa28(0x1de)]('/master_shop/view');}catch(_0xd67a97){console[_0xb8fa28(0x1d2)](_0xd67a97);}}),router[a0_0x2c3955(0x1d3)](a0_0x2c3955(0x1db),auth,async(_0x1f2ce7,_0x257841)=>{const _0x1d7d0e=a0_0x2c3955;try{const {username:_0x482d9e,email:_0x5584b8,role:_0x1cebb9}=_0x1f2ce7[_0x1d7d0e(0x1d8)],_0x1ed8f1=_0x1f2ce7[_0x1d7d0e(0x1d8)],_0x3fd15a=await profile[_0x1d7d0e(0x1d9)]({'email':_0x1ed8f1[_0x1d7d0e(0x1b9)]}),_0x16e4df=await master_shop[_0x1d7d0e(0x1da)]();console[_0x1d7d0e(0x1d2)]('master',_0x16e4df);const _0x3ed53a=await email_settings['findOne']();console['log'](_0x1d7d0e(0x1eb),_0x3ed53a);if(_0x16e4df[0x0]['language']==_0x1d7d0e(0x1f2)){var _0x2b2134=users['English'];console[_0x1d7d0e(0x1d2)](_0x2b2134);}else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]==_0x1d7d0e(0x1e1))var _0x2b2134=users[_0x1d7d0e(0x1e1)];else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]=='German')var _0x2b2134=users['German'];else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]==_0x1d7d0e(0x1ce))var _0x2b2134=users[_0x1d7d0e(0x1ce)];else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]==_0x1d7d0e(0x1e2))var _0x2b2134=users[_0x1d7d0e(0x1e2)];else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]==_0x1d7d0e(0x1bd))var _0x2b2134=users['Portuguese'];else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]=='Chinese')var _0x2b2134=users[_0x1d7d0e(0x1bf)];else{if(_0x16e4df[0x0][_0x1d7d0e(0x1ef)]==_0x1d7d0e(0x1fb))var _0x2b2134=users[_0x1d7d0e(0x1e0)];}}}}}}}_0x257841[_0x1d7d0e(0x1bb)]('email_settings',{'success':_0x1f2ce7['flash'](_0x1d7d0e(0x1b5)),'errors':_0x1f2ce7[_0x1d7d0e(0x1cb)](_0x1d7d0e(0x1d0)),'role':_0x1ed8f1,'profile':_0x3fd15a,'master_shop':_0x16e4df,'email':_0x3ed53a,'language':_0x2b2134});}catch(_0x3a354f){console[_0x1d7d0e(0x1d2)](_0x3a354f);}}),router[a0_0x2c3955(0x1ed)](a0_0x2c3955(0x200),auth,async(_0x27957f,_0x448ec8)=>{const _0x3ab3a2=a0_0x2c3955;try{const {host:_0x5291f0,port:_0x31e71a,email:_0x454288,password:_0x222e75}=_0x27957f[_0x3ab3a2(0x1c9)],_0x5d5fd7=await email_settings['findOne']();if(_0x5d5fd7==null){const _0x376abd=new email_settings({'host':_0x5291f0,'port':_0x31e71a,'email':_0x454288,'password':_0x222e75});await _0x376abd['save']();}else _0x5d5fd7['host']=_0x5291f0,_0x5d5fd7[_0x3ab3a2(0x1c3)]=_0x31e71a,_0x5d5fd7[_0x3ab3a2(0x1b9)]=_0x454288,_0x5d5fd7['password']=_0x222e75,await _0x5d5fd7[_0x3ab3a2(0x1e5)]();_0x27957f[_0x3ab3a2(0x1cb)](_0x3ab3a2(0x1b5),'shop\x20setting\x20edit\x20successfully'),_0x448ec8[_0x3ab3a2(0x1de)](_0x3ab3a2(0x1f9));}catch(_0x21a982){console['log'](_0x21a982);}}),router[a0_0x2c3955(0x1d3)](a0_0x2c3955(0x1c8),auth,async(_0xf0f0fa,_0x13d65d)=>{const _0x3c8f9b=a0_0x2c3955;try{const {username:_0x45e090,email:_0x570b88,role:_0x14c798}=_0xf0f0fa[_0x3c8f9b(0x1d8)],_0x3cf6a9=_0xf0f0fa[_0x3c8f9b(0x1d8)],_0x12ddf2=await supervisor_settings[_0x3c8f9b(0x1da)](),_0x375536=await profile[_0x3c8f9b(0x1d9)]({'email':_0x3cf6a9[_0x3c8f9b(0x1b9)]}),_0x2fbbaf=await master_shop['find'](),_0x2d8788=new Date()[_0x3c8f9b(0x1d4)](_0x3c8f9b(0x1c5),{'timeZone':_0x2fbbaf[0x0][_0x3c8f9b(0x1f1)]});if(_0x2fbbaf[0x0][_0x3c8f9b(0x1ef)]=='English\x20(US)'){var _0x10cedd=users[_0x3c8f9b(0x1e3)];console[_0x3c8f9b(0x1d2)](_0x10cedd);}else{if(_0x2fbbaf[0x0][_0x3c8f9b(0x1ef)]==_0x3c8f9b(0x1e1))var _0x10cedd=users['Hindi'];else{if(_0x2fbbaf[0x0][_0x3c8f9b(0x1ef)]==_0x3c8f9b(0x1c6))var _0x10cedd=users[_0x3c8f9b(0x1c6)];else{if(_0x2fbbaf[0x0]['language']==_0x3c8f9b(0x1ce))var _0x10cedd=users['Spanish'];else{if(_0x2fbbaf[0x0][_0x3c8f9b(0x1ef)]==_0x3c8f9b(0x1e2))var _0x10cedd=users[_0x3c8f9b(0x1e2)];else{if(_0x2fbbaf[0x0]['language']=='Portuguese\x20(BR)')var _0x10cedd=users[_0x3c8f9b(0x1ff)];else{if(_0x2fbbaf[0x0][_0x3c8f9b(0x1ef)]=='Chinese')var _0x10cedd=users[_0x3c8f9b(0x1bf)];else{if(_0x2fbbaf[0x0][_0x3c8f9b(0x1ef)]=='Arabic\x20(ae)')var _0x10cedd=users[_0x3c8f9b(0x1e0)];}}}}}}}_0x13d65d[_0x3c8f9b(0x1bb)]('supervisor_settings',{'success':_0xf0f0fa['flash'](_0x3c8f9b(0x1b5)),'errors':_0xf0f0fa[_0x3c8f9b(0x1cb)](_0x3c8f9b(0x1d0)),'role':_0x3cf6a9,'profile':_0x375536,'master_shop':_0x2fbbaf,'supervisor_data':_0x12ddf2[0x0],'timezones':timezones,'language':_0x10cedd});}catch(_0x2ef1da){console[_0x3c8f9b(0x1d2)](_0x2ef1da);}}),router[a0_0x2c3955(0x1ed)](a0_0x2c3955(0x1c8),auth,async(_0x4704f6,_0x1481ab)=>{const _0x2d532a=a0_0x2c3955;try{const {rm_name:_0x3af7f9,fg_name:_0x192f0a,rm_email:_0x4a36bd,fg_email:_0x66e55e,rm_mobilenum:_0x4f20bf,fg_number:_0x215eb7}=_0x4704f6['body'],_0xb0281b=await supervisor_settings[_0x2d532a(0x1d9)]();if(_0xb0281b==null){const _0x577a28=new supervisor_settings({'RMSName':_0x3af7f9,'RMSEmail':_0x4a36bd,'RMSnumber':_0x4f20bf,'FGSName':_0x192f0a,'FGSEmail':_0x66e55e,'FGSnumber':_0x215eb7});await _0x577a28[_0x2d532a(0x1e5)]();}else _0xb0281b[_0x2d532a(0x1dd)]=_0x3af7f9,_0xb0281b[_0x2d532a(0x1c4)]=_0x4a36bd,_0xb0281b[_0x2d532a(0x1dc)]=_0x4f20bf,_0xb0281b[_0x2d532a(0x1fa)]=_0x192f0a,_0xb0281b[_0x2d532a(0x1ea)]=_0x66e55e,_0xb0281b[_0x2d532a(0x1e9)]=_0x215eb7,await _0xb0281b[_0x2d532a(0x1e5)]();_0x4704f6[_0x2d532a(0x1cb)](_0x2d532a(0x1b5),_0x2d532a(0x1e4)),_0x1481ab[_0x2d532a(0x1de)]('/master_shop/view/supervisors');}catch(_0x1a05f2){console[_0x2d532a(0x1d2)](_0x1a05f2);}}),router[a0_0x2c3955(0x1d3)]('/view_data/volume_set',auth,async(_0x298271,_0x49b355)=>{const _0x25092d=a0_0x2c3955;try{const _0x2c361f=_0x298271[_0x25092d(0x1d8)],_0x37b06d=await supervisor_settings['find'](),_0x5ba685=await profile[_0x25092d(0x1d9)]({'email':_0x2c361f[_0x25092d(0x1b9)]}),_0x3df887=await master_shop[_0x25092d(0x1da)](),_0x2e6f34=await discount_volume_db[_0x25092d(0x1d9)]();if(_0x3df887[0x0][_0x25092d(0x1ef)]=='English\x20(US)'){var _0x3e5e75=users[_0x25092d(0x1e3)];console[_0x25092d(0x1d2)](_0x3e5e75);}else{if(_0x3df887[0x0][_0x25092d(0x1ef)]=='Hindi')var _0x3e5e75=users[_0x25092d(0x1e1)];else{if(_0x3df887[0x0][_0x25092d(0x1ef)]=='German')var _0x3e5e75=users[_0x25092d(0x1c6)];else{if(_0x3df887[0x0]['language']==_0x25092d(0x1ce))var _0x3e5e75=users[_0x25092d(0x1ce)];else{if(_0x3df887[0x0]['language']==_0x25092d(0x1e2))var _0x3e5e75=users[_0x25092d(0x1e2)];else{if(_0x3df887[0x0][_0x25092d(0x1ef)]==_0x25092d(0x1bd))var _0x3e5e75=users[_0x25092d(0x1ff)];else{if(_0x3df887[0x0][_0x25092d(0x1ef)]==_0x25092d(0x1bf))var _0x3e5e75=users[_0x25092d(0x1bf)];else{if(_0x3df887[0x0][_0x25092d(0x1ef)]==_0x25092d(0x1fb))var _0x3e5e75=users['Arabic'];}}}}}}}_0x49b355[_0x25092d(0x1bb)]('setup_volume_discount',{'success':_0x298271[_0x25092d(0x1cb)](_0x25092d(0x1b5)),'errors':_0x298271['flash'](_0x25092d(0x1d0)),'role':_0x2c361f,'profile':_0x5ba685,'master_shop':_0x3df887,'supervisor_data':_0x37b06d[0x0],'language':_0x3e5e75,'data':_0x2e6f34});}catch(_0x5f01a1){}}),router[a0_0x2c3955(0x1ed)](a0_0x2c3955(0x1be),auth,async(_0xdcfd0c,_0x4c92b1)=>{const _0x123c0e=a0_0x2c3955;try{const {min_car_edit:_0x174244}=_0xdcfd0c[_0x123c0e(0x1c9)],_0x2da8bd=await discount_volume_db[_0x123c0e(0x1d9)]();if(typeof _0x174244==_0x123c0e(0x1f8))var _0x33d4ac=[_0xdcfd0c[_0x123c0e(0x1c9)][_0x123c0e(0x1f4)]],_0x19a334=[_0xdcfd0c[_0x123c0e(0x1c9)][_0x123c0e(0x1f0)]],_0x45a87d=[_0xdcfd0c[_0x123c0e(0x1c9)]['discount_price_edit']];else var _0x33d4ac=[..._0xdcfd0c['body'][_0x123c0e(0x1f4)]],_0x19a334=[..._0xdcfd0c[_0x123c0e(0x1c9)]['max_car_edit']],_0x45a87d=[..._0xdcfd0c[_0x123c0e(0x1c9)][_0x123c0e(0x1e6)]];const _0xdd5e27=_0x33d4ac['map'](_0x24ff0e=>{return _0x24ff0e={'min_car':_0x24ff0e};});_0x19a334['forEach']((_0x3e5022,_0x492b71)=>{const _0x1212cc=_0x123c0e;_0xdd5e27[_0x492b71][_0x1212cc(0x1b8)]=_0x3e5022;}),_0x45a87d[_0x123c0e(0x1e7)]((_0x5a5753,_0x5f0f52)=>{const _0x4f3910=_0x123c0e;_0xdd5e27[_0x5f0f52][_0x4f3910(0x1b7)]=_0x5a5753;});if(_0x2da8bd==null){const _0x5dc4ae=new discount_volume_db({'volume_discount':_0xdd5e27});await _0x5dc4ae[_0x123c0e(0x1e5)]();}else _0x2da8bd['volume_discount']=_0xdd5e27,await _0x2da8bd[_0x123c0e(0x1e5)]();_0xdcfd0c[_0x123c0e(0x1cb)](_0x123c0e(0x1b5),'Volume\x20Discount\x20modified\x20successfully'),_0x4c92b1[_0x123c0e(0x1de)](_0x123c0e(0x1ca));}catch(_0x46b987){}}),module[a0_0x2c3955(0x1b6)]=router;