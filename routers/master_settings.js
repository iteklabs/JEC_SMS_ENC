const a0_0x210d9b=a0_0x2d7c;(function(_0x181af4,_0x537cdf){const _0x4d50ee=a0_0x2d7c,_0x224041=_0x181af4();while(!![]){try{const _0x3b9532=parseInt(_0x4d50ee(0x155))/0x1+parseInt(_0x4d50ee(0x16e))/0x2*(parseInt(_0x4d50ee(0x127))/0x3)+parseInt(_0x4d50ee(0x131))/0x4+-parseInt(_0x4d50ee(0x136))/0x5*(parseInt(_0x4d50ee(0x11d))/0x6)+-parseInt(_0x4d50ee(0x179))/0x7*(parseInt(_0x4d50ee(0x124))/0x8)+-parseInt(_0x4d50ee(0x13a))/0x9+-parseInt(_0x4d50ee(0x130))/0xa*(-parseInt(_0x4d50ee(0x15d))/0xb);if(_0x3b9532===_0x537cdf)break;else _0x224041['push'](_0x224041['shift']());}catch(_0x213371){_0x224041['push'](_0x224041['shift']());}}}(a0_0x432e,0xe8653));const express=require('express'),app=express(),router=express[a0_0x210d9b(0x100)](),multer=require(a0_0x210d9b(0x16a)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db,warehouse_validation_setup,warehouse,product}=require(a0_0x210d9b(0x128)),auth=require(a0_0x210d9b(0x175));var timezones=require(a0_0x210d9b(0x161));function a0_0x432e(){const _0x36c707=['log','Bin\x20Location\x20Validation\x20update\x20successfully','RMSName','bind','FGSEmail','email_settings','split','prod_code','currency','Portuguese','addPage','file','/master_shop/view_data/edit/','Types','image','post','findById','language','$name','Chinese','RMSnumber','/master_shop/view/supervisors','site_title','max_data','/master_shop/view_data/volume_set','ObjectId','Hindi','138fpOONT','canvas','match','filename','Arabic','currency_placement','product_name','12671192aJqjiC','string','host','4011Wpujjr','../models/all_models','timezone','single','min_data','email','/view/email/edit_settings','CODE128','prod_name','40990grhREn','3150916MeXaXr','/view_data/volume_set','bay','setup_warehouse_bin_add','supervisor_settings','195015cdgNIe','find','/room','body','12740841NywEYo','get','French','/view/edit_settings','product_id','/view_data/warehouse_valid/add','map','now','/get_product','user','RMSEmail','setup_warehouse_bin_edit','English','Bin\x20validation\x20success','/view_data/edit/:id','findOne','shop\x20setting\x20edit\x20successfully','redirect','./public/upload','forEach','discount_price','min','port','originalname','max_car','push','render','1192061MdWSCR','flash','width','save','params','../public/language/languages.json','/master_shop/view','hidden','7293KTiHgo','$room','warehouse_id','toString','timezones-list','product_data','height','json','concat','bin','jsbarcode','Portuguese\x20(BR)','aggregate','multer','errors','data','/view_data/print','226gyQnAu','/view/email','/view/supervisors','warehouse_name','base64','max_car_edit','diskStorage','../middleware/auth','setup_warehouse_bin','_id','success','7weMEoy','end','Spanish','Volume\x20Discount\x20modified\x20successfully','master_settings','min_car_edit','length','/view','$_id','Arabic\x20(ae)','max','German','en-US','Enabled','discount_price_edit','toLocaleString','master','room','2nd\x20master_shop_data','$warehouse_id','English\x20(US)','/view_data/warehouse_valid','Router','/room_edit'];a0_0x432e=function(){return _0x36c707;};return a0_0x432e();}function a0_0x2d7c(_0x4a0628,_0x593e2f){const _0x432e8f=a0_0x432e();return a0_0x2d7c=function(_0x2d7c70,_0xd305e7){_0x2d7c70=_0x2d7c70-0xfb;let _0x11c960=_0x432e8f[_0x2d7c70];return _0x11c960;},a0_0x2d7c(_0x4a0628,_0x593e2f);}const users=require(a0_0x210d9b(0x15a)),mongoose=require('mongoose'),PDFDocument=require('pdfkit-table'),{Canvas}=require(a0_0x210d9b(0x11e)),JsBarcode=require(a0_0x210d9b(0x167)),storage=multer[a0_0x210d9b(0x174)]({'destination':(_0x217b77,_0x590041,_0x12770e)=>{const _0x569849=a0_0x210d9b;_0x12770e(null,_0x569849(0x14c));},'filename':(_0xed1abc,_0x3763a9,_0x223383)=>{const _0x183513=a0_0x210d9b;_0x223383(null,Date[_0x183513(0x141)]()+_0x3763a9[_0x183513(0x151)]);}}),upload=multer({'storage':storage});router[a0_0x210d9b(0x13b)](a0_0x210d9b(0x180),auth,async(_0x15c8b8,_0xe0a5e7)=>{const _0x3a34f8=a0_0x210d9b;try{const {username:_0x3a9a13,email:_0x51670f,role:_0x1d9d73}=_0x15c8b8['user'],_0x57d543=_0x15c8b8[_0x3a34f8(0x143)],_0x10557e=await profile[_0x3a34f8(0x149)]({'email':_0x57d543[_0x3a34f8(0x12c)]}),_0x21f1f4=await master_shop[_0x3a34f8(0x137)]();console[_0x3a34f8(0x102)](_0x3a34f8(0x189),_0x21f1f4);const _0x6ce07=new Date()['toLocaleString'](_0x3a34f8(0x185),{'timeZone':_0x21f1f4[0x0][_0x3a34f8(0x129)]});console['log'](_0x3a34f8(0x129),_0x6ce07);if(_0x21f1f4[0x0][_0x3a34f8(0x113)]==_0x3a34f8(0xfe)){var _0x144ffc=users[_0x3a34f8(0x146)];console[_0x3a34f8(0x102)](_0x144ffc);}else{if(_0x21f1f4[0x0]['language']==_0x3a34f8(0x11c))var _0x144ffc=users[_0x3a34f8(0x11c)];else{if(_0x21f1f4[0x0][_0x3a34f8(0x113)]==_0x3a34f8(0x184))var _0x144ffc=users[_0x3a34f8(0x184)];else{if(_0x21f1f4[0x0][_0x3a34f8(0x113)]==_0x3a34f8(0x17b))var _0x144ffc=users[_0x3a34f8(0x17b)];else{if(_0x21f1f4[0x0][_0x3a34f8(0x113)]==_0x3a34f8(0x13c))var _0x144ffc=users[_0x3a34f8(0x13c)];else{if(_0x21f1f4[0x0][_0x3a34f8(0x113)]=='Portuguese\x20(BR)')var _0x144ffc=users[_0x3a34f8(0x10b)];else{if(_0x21f1f4[0x0]['language']==_0x3a34f8(0x115))var _0x144ffc=users[_0x3a34f8(0x115)];else{if(_0x21f1f4[0x0]['language']==_0x3a34f8(0x182))var _0x144ffc=users[_0x3a34f8(0x121)];}}}}}}}_0xe0a5e7[_0x3a34f8(0x154)](_0x3a34f8(0x17d),{'success':_0x15c8b8[_0x3a34f8(0x156)](_0x3a34f8(0x178)),'errors':_0x15c8b8['flash'](_0x3a34f8(0x16b)),'role':_0x57d543,'profile':_0x10557e,'master_shop':_0x21f1f4,'timezones':timezones,'language':_0x144ffc});}catch(_0x5b1abe){console[_0x3a34f8(0x102)](_0x5b1abe);}}),router[a0_0x210d9b(0x13b)]('/:id',auth,async(_0x422789,_0x22beda)=>{const _0x51e4af=a0_0x210d9b;try{console[_0x51e4af(0x102)](_0x51e4af(0x113)),console[_0x51e4af(0x102)](_0x422789[_0x51e4af(0x159)]['id']);const _0x35e3c5=await master_shop[_0x51e4af(0x149)]();_0x35e3c5[_0x51e4af(0x113)]=_0x422789[_0x51e4af(0x159)]['id'],await _0x35e3c5[_0x51e4af(0x158)](),console[_0x51e4af(0x102)](_0x51e4af(0x189),_0x35e3c5);}catch(_0x3c3aca){console[_0x51e4af(0x102)](_0x3c3aca);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x13d),auth,upload[a0_0x210d9b(0x12a)]('image'),async(_0xb1005d,_0x45b31f)=>{const _0x28de7b=a0_0x210d9b;try{const {site_title:_0xa881d2,currency:_0x4db91e,currency_placement:_0x5b80e9,timezone:_0x109a3e}=_0xb1005d[_0x28de7b(0x139)];if(_0xb1005d[_0x28de7b(0x139)][_0x28de7b(0x15c)]==0x0){const _0x2bf863=await master_shop[_0x28de7b(0x149)]();console[_0x28de7b(0x102)]('master_shop_data',_0x2bf863);if(_0x2bf863==''){const _0x35f9c5=new master_shop({'site_title':_0xa881d2,'image':image,'currency':_0x4db91e,'currency_placement':_0x5b80e9,'timezone':_0x109a3e}),_0x34b481=await _0x35f9c5['save']();}else _0x2bf863[_0x28de7b(0x118)]=_0xa881d2,_0x2bf863[_0x28de7b(0x10a)]=_0x4db91e,_0x2bf863[_0x28de7b(0x122)]=_0x5b80e9,_0x2bf863[_0x28de7b(0x129)]=_0x109a3e,await _0x2bf863[_0x28de7b(0x158)]();}else{const _0x293f15=_0xb1005d[_0x28de7b(0x10d)][_0x28de7b(0x120)],_0x1e7c7b=await master_shop[_0x28de7b(0x149)]();console[_0x28de7b(0x102)](_0x28de7b(0xfc),_0x1e7c7b);if(_0x1e7c7b==null){console[_0x28de7b(0x102)]('1',_0xa881d2);const _0x25d28a=new master_shop({'site_title':_0xa881d2,'image':_0x293f15,'currency':_0x4db91e,'currency_placement':_0x5b80e9,'timezone':_0x109a3e}),_0x5899a3=await _0x25d28a[_0x28de7b(0x158)]();}else console['log']('2',_0xa881d2),_0x1e7c7b[_0x28de7b(0x118)]=_0xa881d2,_0x1e7c7b[_0x28de7b(0x110)]=_0x293f15,_0x1e7c7b[_0x28de7b(0x10a)]=_0x4db91e,_0x1e7c7b[_0x28de7b(0x122)]=_0x5b80e9,_0x1e7c7b[_0x28de7b(0x129)]=_0x109a3e,await _0x1e7c7b[_0x28de7b(0x158)]();}_0xb1005d[_0x28de7b(0x156)]('success',_0x28de7b(0x14a)),_0x45b31f[_0x28de7b(0x14b)](_0x28de7b(0x15b));}catch(_0x5ab9aa){console[_0x28de7b(0x102)](_0x5ab9aa);}}),router[a0_0x210d9b(0x13b)](a0_0x210d9b(0x16f),auth,async(_0x19ecd6,_0x270a74)=>{const _0x522f82=a0_0x210d9b;try{const {username:_0x1afc62,email:_0x3f277f,role:_0x963ceb}=_0x19ecd6[_0x522f82(0x143)],_0x10da2c=_0x19ecd6[_0x522f82(0x143)],_0x15f923=await profile[_0x522f82(0x149)]({'email':_0x10da2c[_0x522f82(0x12c)]}),_0x8c8f5a=await master_shop['find']();console[_0x522f82(0x102)](_0x522f82(0x189),_0x8c8f5a);const _0x121c21=await email_settings['findOne']();console[_0x522f82(0x102)]('master\x20settings\x20email_data',_0x121c21);if(_0x8c8f5a[0x0][_0x522f82(0x113)]==_0x522f82(0xfe)){var _0xc13c76=users[_0x522f82(0x146)];console[_0x522f82(0x102)](_0xc13c76);}else{if(_0x8c8f5a[0x0][_0x522f82(0x113)]==_0x522f82(0x11c))var _0xc13c76=users[_0x522f82(0x11c)];else{if(_0x8c8f5a[0x0]['language']==_0x522f82(0x184))var _0xc13c76=users[_0x522f82(0x184)];else{if(_0x8c8f5a[0x0][_0x522f82(0x113)]==_0x522f82(0x17b))var _0xc13c76=users['Spanish'];else{if(_0x8c8f5a[0x0][_0x522f82(0x113)]==_0x522f82(0x13c))var _0xc13c76=users['French'];else{if(_0x8c8f5a[0x0][_0x522f82(0x113)]==_0x522f82(0x168))var _0xc13c76=users[_0x522f82(0x10b)];else{if(_0x8c8f5a[0x0][_0x522f82(0x113)]=='Chinese')var _0xc13c76=users[_0x522f82(0x115)];else{if(_0x8c8f5a[0x0][_0x522f82(0x113)]==_0x522f82(0x182))var _0xc13c76=users[_0x522f82(0x121)];}}}}}}}_0x270a74[_0x522f82(0x154)](_0x522f82(0x107),{'success':_0x19ecd6[_0x522f82(0x156)](_0x522f82(0x178)),'errors':_0x19ecd6[_0x522f82(0x156)]('errors'),'role':_0x10da2c,'profile':_0x15f923,'master_shop':_0x8c8f5a,'email':_0x121c21,'language':_0xc13c76});}catch(_0x205832){console['log'](_0x205832);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x12d),auth,async(_0x55dc84,_0x30417e)=>{const _0x21544e=a0_0x210d9b;try{const {host:_0x389eb3,port:_0x55c414,email:_0x9e5bb1,password:_0x5a0e2c}=_0x55dc84[_0x21544e(0x139)],_0x180e50=await email_settings[_0x21544e(0x149)]();if(_0x180e50==null){const _0x52167c=new email_settings({'host':_0x389eb3,'port':_0x55c414,'email':_0x9e5bb1,'password':_0x5a0e2c});await _0x52167c[_0x21544e(0x158)]();}else _0x180e50[_0x21544e(0x126)]=_0x389eb3,_0x180e50[_0x21544e(0x150)]=_0x55c414,_0x180e50[_0x21544e(0x12c)]=_0x9e5bb1,_0x180e50['password']=_0x5a0e2c,await _0x180e50['save']();_0x55dc84['flash']('success',_0x21544e(0x14a)),_0x30417e[_0x21544e(0x14b)]('/master_shop/view/email');}catch(_0x4c0a1e){console[_0x21544e(0x102)](_0x4c0a1e);}}),router[a0_0x210d9b(0x13b)](a0_0x210d9b(0x170),auth,async(_0x1b1f97,_0x15363e)=>{const _0x5d44dd=a0_0x210d9b;try{const {username:_0x4be654,email:_0x51dca2,role:_0x420c4e}=_0x1b1f97[_0x5d44dd(0x143)],_0x443fef=_0x1b1f97['user'],_0x26378e=await supervisor_settings[_0x5d44dd(0x137)](),_0x5a1469=await profile[_0x5d44dd(0x149)]({'email':_0x443fef[_0x5d44dd(0x12c)]}),_0x5e3872=await master_shop['find'](),_0x410456=new Date()[_0x5d44dd(0x188)](_0x5d44dd(0x185),{'timeZone':_0x5e3872[0x0][_0x5d44dd(0x129)]});if(_0x5e3872[0x0]['language']==_0x5d44dd(0xfe)){var _0x206093=users[_0x5d44dd(0x146)];console[_0x5d44dd(0x102)](_0x206093);}else{if(_0x5e3872[0x0][_0x5d44dd(0x113)]==_0x5d44dd(0x11c))var _0x206093=users[_0x5d44dd(0x11c)];else{if(_0x5e3872[0x0][_0x5d44dd(0x113)]==_0x5d44dd(0x184))var _0x206093=users['German'];else{if(_0x5e3872[0x0][_0x5d44dd(0x113)]=='Spanish')var _0x206093=users[_0x5d44dd(0x17b)];else{if(_0x5e3872[0x0][_0x5d44dd(0x113)]=='French')var _0x206093=users[_0x5d44dd(0x13c)];else{if(_0x5e3872[0x0]['language']==_0x5d44dd(0x168))var _0x206093=users[_0x5d44dd(0x10b)];else{if(_0x5e3872[0x0]['language']=='Chinese')var _0x206093=users['Chinese'];else{if(_0x5e3872[0x0][_0x5d44dd(0x113)]=='Arabic\x20(ae)')var _0x206093=users['Arabic'];}}}}}}}_0x15363e[_0x5d44dd(0x154)](_0x5d44dd(0x135),{'success':_0x1b1f97[_0x5d44dd(0x156)](_0x5d44dd(0x178)),'errors':_0x1b1f97[_0x5d44dd(0x156)](_0x5d44dd(0x16b)),'role':_0x443fef,'profile':_0x5a1469,'master_shop':_0x5e3872,'supervisor_data':_0x26378e[0x0],'timezones':timezones,'language':_0x206093});}catch(_0x18b1bc){console[_0x5d44dd(0x102)](_0x18b1bc);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x170),auth,async(_0x38fcd9,_0x5d0350)=>{const _0x164765=a0_0x210d9b;try{const {rm_name:_0x2e7bdc,fg_name:_0x2d04e7,rm_email:_0x1bcfd4,fg_email:_0x2e34c4,rm_mobilenum:_0x261918,fg_number:_0x472212}=_0x38fcd9[_0x164765(0x139)],_0x26c1fe=await supervisor_settings['findOne']();if(_0x26c1fe==null){const _0x133e86=new supervisor_settings({'RMSName':_0x2e7bdc,'RMSEmail':_0x1bcfd4,'RMSnumber':_0x261918,'FGSName':_0x2d04e7,'FGSEmail':_0x2e34c4,'FGSnumber':_0x472212});await _0x133e86[_0x164765(0x158)]();}else _0x26c1fe[_0x164765(0x104)]=_0x2e7bdc,_0x26c1fe[_0x164765(0x144)]=_0x1bcfd4,_0x26c1fe[_0x164765(0x116)]=_0x261918,_0x26c1fe['FGSName']=_0x2d04e7,_0x26c1fe[_0x164765(0x106)]=_0x2e34c4,_0x26c1fe['FGSnumber']=_0x472212,await _0x26c1fe['save']();_0x38fcd9[_0x164765(0x156)]('success',_0x164765(0x14a)),_0x5d0350[_0x164765(0x14b)](_0x164765(0x117));}catch(_0x1d4a0e){console[_0x164765(0x102)](_0x1d4a0e);}}),router[a0_0x210d9b(0x13b)](a0_0x210d9b(0x132),auth,async(_0x36ec34,_0x45bcf6)=>{const _0x12b371=a0_0x210d9b;try{const _0x320483=_0x36ec34['user'],_0x3093ce=await supervisor_settings[_0x12b371(0x137)](),_0x47ab5c=await profile[_0x12b371(0x149)]({'email':_0x320483['email']}),_0x253e61=await master_shop[_0x12b371(0x137)](),_0x12d35a=await discount_volume_db[_0x12b371(0x149)]();if(_0x253e61[0x0][_0x12b371(0x113)]==_0x12b371(0xfe)){var _0x217639=users[_0x12b371(0x146)];console['log'](_0x217639);}else{if(_0x253e61[0x0][_0x12b371(0x113)]==_0x12b371(0x11c))var _0x217639=users[_0x12b371(0x11c)];else{if(_0x253e61[0x0][_0x12b371(0x113)]==_0x12b371(0x184))var _0x217639=users[_0x12b371(0x184)];else{if(_0x253e61[0x0][_0x12b371(0x113)]==_0x12b371(0x17b))var _0x217639=users[_0x12b371(0x17b)];else{if(_0x253e61[0x0][_0x12b371(0x113)]==_0x12b371(0x13c))var _0x217639=users['French'];else{if(_0x253e61[0x0]['language']==_0x12b371(0x168))var _0x217639=users[_0x12b371(0x10b)];else{if(_0x253e61[0x0]['language']==_0x12b371(0x115))var _0x217639=users[_0x12b371(0x115)];else{if(_0x253e61[0x0][_0x12b371(0x113)]=='Arabic\x20(ae)')var _0x217639=users[_0x12b371(0x121)];}}}}}}}_0x45bcf6['render']('setup_volume_discount',{'success':_0x36ec34[_0x12b371(0x156)](_0x12b371(0x178)),'errors':_0x36ec34[_0x12b371(0x156)](_0x12b371(0x16b)),'role':_0x320483,'profile':_0x47ab5c,'master_shop':_0x253e61,'supervisor_data':_0x3093ce[0x0],'language':_0x217639,'data':_0x12d35a});}catch(_0x1b1153){}}),router[a0_0x210d9b(0x111)]('/view_data/edit_volume_set',auth,async(_0x36943b,_0x2e19b6)=>{const _0xf0f19a=a0_0x210d9b;try{const {min_car_edit:_0x1a2ded}=_0x36943b['body'],_0x340c63=await discount_volume_db[_0xf0f19a(0x149)]();if(typeof _0x1a2ded==_0xf0f19a(0x125))var _0x33f1a9=[_0x36943b[_0xf0f19a(0x139)][_0xf0f19a(0x17e)]],_0x46cb2b=[_0x36943b[_0xf0f19a(0x139)][_0xf0f19a(0x173)]],_0x537012=[_0x36943b[_0xf0f19a(0x139)][_0xf0f19a(0x187)]];else var _0x33f1a9=[..._0x36943b[_0xf0f19a(0x139)][_0xf0f19a(0x17e)]],_0x46cb2b=[..._0x36943b['body']['max_car_edit']],_0x537012=[..._0x36943b[_0xf0f19a(0x139)][_0xf0f19a(0x187)]];const _0x36bec8=_0x33f1a9[_0xf0f19a(0x140)](_0x51f4b4=>{return _0x51f4b4={'min_car':_0x51f4b4};});_0x46cb2b[_0xf0f19a(0x14d)]((_0x277d95,_0x5a045b)=>{const _0xdbe31d=_0xf0f19a;_0x36bec8[_0x5a045b][_0xdbe31d(0x152)]=_0x277d95;}),_0x537012[_0xf0f19a(0x14d)]((_0x304d08,_0x4ae01d)=>{const _0x24df7b=_0xf0f19a;_0x36bec8[_0x4ae01d][_0x24df7b(0x14e)]=_0x304d08;});if(_0x340c63==null){const _0x119f62=new discount_volume_db({'volume_discount':_0x36bec8});await _0x119f62[_0xf0f19a(0x158)]();}else _0x340c63['volume_discount']=_0x36bec8,await _0x340c63['save']();_0x36943b[_0xf0f19a(0x156)]('success',_0xf0f19a(0x17c)),_0x2e19b6[_0xf0f19a(0x14b)](_0xf0f19a(0x11a));}catch(_0x5bd4b1){}}),router[a0_0x210d9b(0x13b)](a0_0x210d9b(0xff),auth,async(_0xb33bd5,_0x318c6b)=>{const _0x5b3025=a0_0x210d9b;try{const _0x45b67e=_0xb33bd5[_0x5b3025(0x143)],_0x157283=await supervisor_settings[_0x5b3025(0x137)](),_0x197f2a=await profile[_0x5b3025(0x149)]({'email':_0x45b67e['email']}),_0x228d53=await master_shop['find'](),_0x3bf7f6=await warehouse_validation_setup[_0x5b3025(0x137)]();if(_0x228d53[0x0][_0x5b3025(0x113)]==_0x5b3025(0xfe))var _0x2fe5d8=users['English'];else{if(_0x228d53[0x0][_0x5b3025(0x113)]==_0x5b3025(0x11c))var _0x2fe5d8=users[_0x5b3025(0x11c)];else{if(_0x228d53[0x0]['language']==_0x5b3025(0x184))var _0x2fe5d8=users[_0x5b3025(0x184)];else{if(_0x228d53[0x0][_0x5b3025(0x113)]=='Spanish')var _0x2fe5d8=users[_0x5b3025(0x17b)];else{if(_0x228d53[0x0][_0x5b3025(0x113)]==_0x5b3025(0x13c))var _0x2fe5d8=users['French'];else{if(_0x228d53[0x0][_0x5b3025(0x113)]==_0x5b3025(0x168))var _0x2fe5d8=users[_0x5b3025(0x10b)];else{if(_0x228d53[0x0]['language']==_0x5b3025(0x115))var _0x2fe5d8=users[_0x5b3025(0x115)];else{if(_0x228d53[0x0]['language']==_0x5b3025(0x182))var _0x2fe5d8=users['Arabic'];}}}}}}}_0x318c6b[_0x5b3025(0x154)](_0x5b3025(0x176),{'success':_0xb33bd5[_0x5b3025(0x156)](_0x5b3025(0x178)),'errors':_0xb33bd5[_0x5b3025(0x156)](_0x5b3025(0x16b)),'role':_0x45b67e,'profile':_0x197f2a,'master_shop':_0x228d53,'supervisor_data':_0x157283[0x0],'language':_0x2fe5d8,'data':_0x3bf7f6});}catch(_0x340d2a){}}),router[a0_0x210d9b(0x13b)]('/view_data/warehouse_valid/add',auth,async(_0xd93d11,_0x1b8735)=>{const _0x486db8=a0_0x210d9b;try{const _0x53bcd8=_0xd93d11[_0x486db8(0x143)],_0x2ceae7=await supervisor_settings[_0x486db8(0x137)](),_0x5b6282=await profile[_0x486db8(0x149)]({'email':_0x53bcd8[_0x486db8(0x12c)]}),_0x344524=await master_shop[_0x486db8(0x137)](),_0x11d442=await warehouse_validation_setup[_0x486db8(0x137)](),_0x30bc97=await warehouse[_0x486db8(0x169)]([{'$match':{'status':_0x486db8(0x186)}},{'$group':{'_id':_0x486db8(0x114),'name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]);if(_0x344524[0x0][_0x486db8(0x113)]==_0x486db8(0xfe))var _0x36244c=users[_0x486db8(0x146)];else{if(_0x344524[0x0]['language']==_0x486db8(0x11c))var _0x36244c=users['Hindi'];else{if(_0x344524[0x0]['language']==_0x486db8(0x184))var _0x36244c=users[_0x486db8(0x184)];else{if(_0x344524[0x0]['language']=='Spanish')var _0x36244c=users[_0x486db8(0x17b)];else{if(_0x344524[0x0][_0x486db8(0x113)]=='French')var _0x36244c=users[_0x486db8(0x13c)];else{if(_0x344524[0x0][_0x486db8(0x113)]==_0x486db8(0x168))var _0x36244c=users[_0x486db8(0x10b)];else{if(_0x344524[0x0][_0x486db8(0x113)]==_0x486db8(0x115))var _0x36244c=users['Chinese'];else{if(_0x344524[0x0][_0x486db8(0x113)]=='Arabic\x20(ae)')var _0x36244c=users[_0x486db8(0x121)];}}}}}}}_0x1b8735['render'](_0x486db8(0x134),{'success':_0xd93d11[_0x486db8(0x156)](_0x486db8(0x178)),'errors':_0xd93d11['flash'](_0x486db8(0x16b)),'role':_0x53bcd8,'profile':_0x5b6282,'master_shop':_0x344524,'supervisor_data':_0x2ceae7[0x0],'language':_0x36244c,'data':_0x11d442,'warehouse':_0x30bc97});}catch(_0x295570){}}),router['post'](a0_0x210d9b(0x13f),auth,async(_0x128073,_0x55ccaa)=>{const _0x536261=a0_0x210d9b;try{const {warehouse_name:_0x4605e4,room_name:_0x36acdc,prod_code:_0x3219c4}=_0x128073[_0x536261(0x139)];var _0x152f97=_0x36acdc[_0x536261(0x108)]('~'),_0x522376=_0x152f97[0x0],_0x3a17a4=_0x152f97[0x1];if(typeof _0x3219c4==_0x536261(0x125))var _0x4445a0=[_0x128073['body'][_0x536261(0x109)]],_0x509165=[_0x128073[_0x536261(0x139)]['prod_name']],_0x4fc208=[_0x128073[_0x536261(0x139)][_0x536261(0x133)]],_0x2ddc89=[_0x128073[_0x536261(0x139)]['min_data']],_0x43cd28=[_0x128073[_0x536261(0x139)][_0x536261(0x119)]],_0x4a98d3=[_0x128073[_0x536261(0x139)][_0x536261(0x13e)]];else var _0x509165=[..._0x128073[_0x536261(0x139)][_0x536261(0x12f)]],_0x4445a0=[..._0x128073[_0x536261(0x139)][_0x536261(0x109)]],_0x4fc208=[..._0x128073[_0x536261(0x139)]['bay']],_0x2ddc89=[..._0x128073[_0x536261(0x139)][_0x536261(0x12b)]],_0x43cd28=[..._0x128073['body']['max_data']],_0x4a98d3=[..._0x128073[_0x536261(0x139)]['product_id']];const _0x1e1960=_0x4445a0['map'](_0x41c861=>{return _0x41c861={'product_code':_0x41c861};});_0x509165['forEach']((_0x4897d3,_0xcef961)=>{_0x1e1960[_0xcef961]['product_name']=_0x4897d3;}),_0x4fc208[_0x536261(0x14d)]((_0x596eb3,_0x15b429)=>{const _0x1192b0=_0x536261;var _0x560534=_0x596eb3[_0x1192b0(0x11f)](/[A-Za-z]+/)[0x0],_0x442501=parseInt(_0x596eb3[_0x1192b0(0x11f)](/\d+/)[0x0]);_0x1e1960[_0x15b429][_0x1192b0(0x133)]=_0x560534,_0x1e1960[_0x15b429]['bin']=_0x442501;}),_0x2ddc89['forEach']((_0x10a5a0,_0x31c916)=>{_0x1e1960[_0x31c916]['min']=_0x10a5a0;}),_0x43cd28[_0x536261(0x14d)]((_0x1fcb5f,_0x39f6a0)=>{const _0x22232b=_0x536261;_0x1e1960[_0x39f6a0][_0x22232b(0x183)]=_0x1fcb5f;}),_0x4a98d3['forEach']((_0xe29f1c,_0x51d2f4)=>{const _0x207b1f=_0x536261;_0x1e1960[_0x51d2f4][_0x207b1f(0x13e)]=_0xe29f1c;});const _0x2b0374=new warehouse_validation_setup({'warehouse_id':_0x3a17a4,'warehouse_name':_0x4605e4,'room':_0x522376,'product_data':_0x1e1960}),_0x549d60=await _0x2b0374[_0x536261(0x158)]();_0x128073[_0x536261(0x156)]('success',_0x536261(0x147)),_0x55ccaa[_0x536261(0x14b)](_0x536261(0x10e)+_0x549d60['_id']);}catch(_0x2da0ca){console[_0x536261(0x102)](_0x2da0ca);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x138),auth,async(_0x14a5e4,_0x2bb5fc)=>{const _0x48f59c=a0_0x210d9b;try{const _0x31800d=mongoose['Types']['ObjectId'],{warehouse_name:_0x1e67e2}=_0x14a5e4[_0x48f59c(0x139)],_0x515044=await warehouse_validation_setup['aggregate']([{'$group':{'_id':'$_id','warehouse_id':{'$first':_0x48f59c(0xfd)}}}]);let _0x13bc17=[];for(let _0x40f84e=0x0;_0x40f84e<=_0x515044['length']-0x1;_0x40f84e++){const _0x522fce=_0x515044[_0x40f84e];_0x13bc17['push'](_0x31800d(_0x522fce[_0x48f59c(0x15f)]));}const _0x32e878=_0x13bc17,_0x661c74=await warehouse[_0x48f59c(0x169)]([{'$match':{'name':_0x1e67e2,'status':_0x48f59c(0x186),'_id':{'$nin':_0x32e878}}},{'$group':{'_id':_0x48f59c(0x181),'room_name':{'$first':_0x48f59c(0x15e)}}},{'$sort':{'room_name':0x1}}]);_0x2bb5fc[_0x48f59c(0x164)](_0x661c74);}catch(_0x5a4c46){_0x2bb5fc[_0x48f59c(0x164)](_0x5a4c46);}}),router['post']('/product_list',auth,async(_0x1261ec,_0x2a17ab)=>{const _0x59e777=a0_0x210d9b;try{const _0x3f0dec=await product[_0x59e777(0x137)]();_0x2a17ab[_0x59e777(0x164)](_0x3f0dec);}catch(_0x19b7dc){_0x2a17ab[_0x59e777(0x164)](_0x19b7dc);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x142),auth,async(_0x4193bb,_0x16f89b)=>{const _0x49cabd=a0_0x210d9b;try{const {product_id:_0x55df68}=_0x4193bb[_0x49cabd(0x139)],_0x58751d=await product[_0x49cabd(0x112)](_0x55df68);_0x16f89b[_0x49cabd(0x164)](_0x58751d);}catch(_0x4e2f96){_0x16f89b['json'](_0x4e2f96);}}),router[a0_0x210d9b(0x13b)](a0_0x210d9b(0x148),auth,async(_0x2956da,_0x23b23b)=>{const _0x6f3e90=a0_0x210d9b;try{const _0x14a6a1=_0x2956da[_0x6f3e90(0x143)],_0x8d69f2=await supervisor_settings[_0x6f3e90(0x137)](),_0x4aec39=await profile[_0x6f3e90(0x149)]({'email':_0x14a6a1[_0x6f3e90(0x12c)]}),_0x241e51=await master_shop[_0x6f3e90(0x137)](),_0x444c40=_0x2956da[_0x6f3e90(0x159)]['id'],_0x4c723c=await warehouse_validation_setup['findById'](_0x444c40),_0x834da3=await warehouse[_0x6f3e90(0x169)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x6f3e90(0x114),'name':{'$first':_0x6f3e90(0x114)}}},{'$sort':{'name':0x1}}]);if(_0x241e51[0x0]['language']=='English\x20(US)')var _0x5c0a50=users['English'];else{if(_0x241e51[0x0]['language']=='Hindi')var _0x5c0a50=users[_0x6f3e90(0x11c)];else{if(_0x241e51[0x0][_0x6f3e90(0x113)]==_0x6f3e90(0x184))var _0x5c0a50=users[_0x6f3e90(0x184)];else{if(_0x241e51[0x0][_0x6f3e90(0x113)]==_0x6f3e90(0x17b))var _0x5c0a50=users['Spanish'];else{if(_0x241e51[0x0][_0x6f3e90(0x113)]==_0x6f3e90(0x13c))var _0x5c0a50=users[_0x6f3e90(0x13c)];else{if(_0x241e51[0x0][_0x6f3e90(0x113)]=='Portuguese\x20(BR)')var _0x5c0a50=users[_0x6f3e90(0x10b)];else{if(_0x241e51[0x0][_0x6f3e90(0x113)]=='Chinese')var _0x5c0a50=users[_0x6f3e90(0x115)];else{if(_0x241e51[0x0]['language']==_0x6f3e90(0x182))var _0x5c0a50=users[_0x6f3e90(0x121)];}}}}}}}_0x23b23b['render'](_0x6f3e90(0x145),{'success':_0x2956da[_0x6f3e90(0x156)](_0x6f3e90(0x178)),'errors':_0x2956da[_0x6f3e90(0x156)](_0x6f3e90(0x16b)),'role':_0x14a6a1,'profile':_0x4aec39,'master_shop':_0x241e51,'supervisor_data':_0x8d69f2[0x0],'language':_0x5c0a50,'data':_0x4c723c,'warehouse':_0x834da3});}catch(_0x4fde3e){}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x101),auth,async(_0x3bda6a,_0x5e7f3c)=>{const _0x3ec297=a0_0x210d9b;try{const _0x2b8d98=mongoose[_0x3ec297(0x10f)][_0x3ec297(0x11b)],{warehouse_name:_0x2642a9}=_0x3bda6a[_0x3ec297(0x139)],_0x428fa4=await warehouse_validation_setup['aggregate']([{'$group':{'_id':'$_id','warehouse_id':{'$first':_0x3ec297(0xfd)}}}]);let _0x45347d=[];for(let _0x7b83b4=0x0;_0x7b83b4<=_0x428fa4[_0x3ec297(0x17f)]-0x1;_0x7b83b4++){const _0x4133ce=_0x428fa4[_0x7b83b4];_0x45347d['push'](_0x2b8d98(_0x4133ce[_0x3ec297(0x15f)]));}const _0x89bd65=_0x45347d,_0x187bfe=await warehouse['aggregate']([{'$match':{'name':_0x2642a9,'status':'Enabled'}},{'$group':{'_id':_0x3ec297(0x181),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]);_0x5e7f3c[_0x3ec297(0x164)](_0x187bfe);}catch(_0x2de0c1){_0x5e7f3c['json'](_0x2de0c1);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x148),auth,async(_0x54fd81,_0x438a78)=>{const _0x3e2bc0=a0_0x210d9b;try{const {prod_code:_0x127405}=_0x54fd81[_0x3e2bc0(0x139)],_0x2c8d3f=_0x54fd81[_0x3e2bc0(0x159)]['id'],_0x19e637=await warehouse_validation_setup[_0x3e2bc0(0x112)](_0x2c8d3f);if(typeof _0x127405==_0x3e2bc0(0x125))var _0x3cd6d9=[_0x54fd81[_0x3e2bc0(0x139)]['prod_code']],_0x33c4b8=[_0x54fd81['body'][_0x3e2bc0(0x12f)]],_0x2cc817=[_0x54fd81[_0x3e2bc0(0x139)][_0x3e2bc0(0x133)]],_0x1fdf07=[_0x54fd81[_0x3e2bc0(0x139)]['min_data']],_0x540a17=[_0x54fd81['body']['max_data']],_0x21deca=[_0x54fd81[_0x3e2bc0(0x139)]['product_id']];else var _0x33c4b8=[..._0x54fd81[_0x3e2bc0(0x139)]['prod_name']],_0x3cd6d9=[..._0x54fd81['body']['prod_code']],_0x2cc817=[..._0x54fd81['body'][_0x3e2bc0(0x133)]],_0x1fdf07=[..._0x54fd81['body'][_0x3e2bc0(0x12b)]],_0x540a17=[..._0x54fd81[_0x3e2bc0(0x139)][_0x3e2bc0(0x119)]],_0x21deca=[..._0x54fd81[_0x3e2bc0(0x139)][_0x3e2bc0(0x13e)]];const _0x8830e3=_0x3cd6d9[_0x3e2bc0(0x140)](_0x188ccc=>{return _0x188ccc={'product_code':_0x188ccc};});_0x33c4b8[_0x3e2bc0(0x14d)]((_0x2165dc,_0xbe0167)=>{const _0x16d2b9=_0x3e2bc0;_0x8830e3[_0xbe0167][_0x16d2b9(0x123)]=_0x2165dc;}),_0x2cc817[_0x3e2bc0(0x14d)]((_0x434b9e,_0x419d1d)=>{const _0xd8f462=_0x3e2bc0;var _0x14ec91=_0x434b9e[_0xd8f462(0x11f)](/[A-Za-z]+/)[0x0],_0x3fdc8d=parseInt(_0x434b9e[_0xd8f462(0x11f)](/\d+/)[0x0]);_0x8830e3[_0x419d1d]['bay']=_0x14ec91,_0x8830e3[_0x419d1d][_0xd8f462(0x166)]=_0x3fdc8d;}),_0x1fdf07['forEach']((_0x4b5ac7,_0x294f5a)=>{const _0x117a5c=_0x3e2bc0;_0x8830e3[_0x294f5a][_0x117a5c(0x14f)]=_0x4b5ac7;}),_0x540a17[_0x3e2bc0(0x14d)]((_0x321754,_0x5ccb04)=>{const _0x72997a=_0x3e2bc0;_0x8830e3[_0x5ccb04][_0x72997a(0x183)]=_0x321754;}),_0x21deca['forEach']((_0x13f56d,_0x48b1e9)=>{const _0x876f44=_0x3e2bc0;_0x8830e3[_0x48b1e9][_0x876f44(0x13e)]=_0x13f56d;}),_0x19e637[_0x3e2bc0(0x162)]=_0x8830e3;const _0x45011f=await _0x19e637[_0x3e2bc0(0x158)]();_0x54fd81[_0x3e2bc0(0x156)](_0x3e2bc0(0x178),_0x3e2bc0(0x103)),_0x438a78[_0x3e2bc0(0x14b)]('/master_shop/view_data/edit/'+_0x45011f[_0x3e2bc0(0x177)]);}catch(_0x39bc99){_0x438a78[_0x3e2bc0(0x164)](_0x39bc99);}}),router[a0_0x210d9b(0x111)](a0_0x210d9b(0x16d),auth,async(_0xa8d7ad,_0x1097d3)=>{const _0xbb8339=a0_0x210d9b;try{const {warehouse_id:_0x5d732a}=_0xa8d7ad[_0xbb8339(0x139)],_0x26f28a=await warehouse_validation_setup['findById'](_0x5d732a),_0xcab5b7=_0x17bdc6=>_0x17bdc6*0x48,_0x17b67d={'width':0x3,'height':0x1},_0x2056e0=new PDFDocument({'margin':_0xcab5b7(0.75),'size':[_0xcab5b7(_0x17b67d[_0xbb8339(0x157)]),_0xcab5b7(_0x17b67d['height'])],'bufferPages':!![]}),_0x288f4d=_0x26f28a[_0xbb8339(0x162)]['length'];for(let _0x4d0ca1=0x0;_0x4d0ca1<=_0x288f4d-0x1;_0x4d0ca1++){var _0x4b8dc6=_0x26f28a[_0xbb8339(0x162)][_0x4d0ca1],_0x51121e=_0x26f28a[_0xbb8339(0x171)]+'~'+_0x26f28a[_0xbb8339(0xfb)]+'~'+_0x4b8dc6[_0xbb8339(0x133)]+'~'+_0x4b8dc6[_0xbb8339(0x166)];const _0x2a1dc6={'width':0x190,'height':0x96},_0x15f8ca={'width':_0xcab5b7(_0x17b67d[_0xbb8339(0x157)]),'height':_0xcab5b7(_0x17b67d[_0xbb8339(0x163)])},_0x57f6af=new Canvas();JsBarcode(_0x57f6af,_0x51121e,{'format':_0xbb8339(0x12e),'height':_0x2a1dc6['height'],'displayValue':!![],'text':_0x51121e});const _0x30115b=_0x57f6af['toBuffer'](),_0x55b043=_0x15f8ca[_0xbb8339(0x157)]/_0x2a1dc6[_0xbb8339(0x157)],_0x25c2e8=_0x15f8ca['height']/_0x2a1dc6[_0xbb8339(0x163)],_0x4f786=Math[_0xbb8339(0x14f)](_0x55b043,_0x25c2e8),_0xccd561=_0x2a1dc6[_0xbb8339(0x157)]*_0x4f786,_0x1f72c7=_0x2a1dc6['height']*_0x4f786,_0x19eb1e=(_0x15f8ca[_0xbb8339(0x157)]-_0xccd561)/0x2,_0x370750=(_0x15f8ca[_0xbb8339(0x163)]-_0x1f72c7)/0x2;_0x2056e0[_0xbb8339(0x110)](_0x30115b,_0x19eb1e,_0x370750,{'width':_0xccd561,'height':_0x1f72c7}),_0x4d0ca1!=_0x288f4d&&_0x2056e0[_0xbb8339(0x10c)](),console['log'](_0x51121e);}const _0x33cac0=[];_0x2056e0['on'](_0xbb8339(0x16c),_0x33cac0[_0xbb8339(0x153)][_0xbb8339(0x105)](_0x33cac0)),_0x2056e0['on'](_0xbb8339(0x17a),()=>{const _0xa598ec=_0xbb8339,_0x359be6=Buffer[_0xa598ec(0x165)](_0x33cac0),_0xb58ae7=_0x359be6[_0xa598ec(0x160)](_0xa598ec(0x172));_0x1097d3['json']({'pdfContent':_0xb58ae7});}),_0x2056e0['end']();}catch(_0x21d712){_0x1097d3[_0xbb8339(0x164)](_0x21d712);}}),module['exports']=router;