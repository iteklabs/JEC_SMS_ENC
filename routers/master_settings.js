const a0_0x234906=a0_0x553d;function a0_0x1bf8(){const _0x3ed9fa=['volume_discount','2010799gLHTVD','findById','currency_placement','prod_code','max_car','multer','port','toBuffer','product_id','ObjectId','FGSEmail','timezone','../middleware/auth','setup_warehouse_bin_edit','prod_name','$room','product_data','Hindi','/get_product','width','/room_edit','user','min_data','file','/master_shop/view/supervisors','6mjxbws','originalname','image','Portuguese\x20(BR)','map','body','12862449akeswg','setup_volume_discount','French','min','../models/all_models','494259wObeHX','8pFQOCo','render','/master_shop/view','aggregate','email','max_car_edit','exports','English\x20(US)','addPage','post','supervisor_settings','/view_data/warehouse_valid/add','flash','end','password','German','params','RMSnumber','match','min_car_edit','json','/:id','get','RMSEmail','single','language','timezones-list','Bin\x20Location\x20Validation\x20update\x20successfully','/product_list','$name','shop\x20setting\x20edit\x20successfully','email_settings','/master_shop/view_data/edit/','warehouse_name','Portuguese','/view_data/edit/:id','1252716fAZaMV','/view/supervisors','master_shop_data','setup_warehouse_bin_add','find','Chinese','5450468oqRZGo','39404700uQjwGC','Router','RMSName','14hmDqkg','/view/edit_settings','/view/email/edit_settings','/view_data/edit_volume_set','Types','619350odlBoD','bay','_id','FGSnumber','discount_price','diskStorage','base64','setup_warehouse_bin','/view/email','site_title','string','redirect','forEach','Arabic\x20(ae)','success','$warehouse_id','$_id','max','hidden','split','master','toLocaleString','Arabic','errors','warehouse_id','product_name','height','log','length','/master_shop/view_data/volume_set','../public/language/languages.json','save','concat','push','en-US','CODE128','currency','/view_data/volume_set','Spanish','bind','Enabled','discount_price_edit','/view','English','bin','findOne','max_data','express','/view_data/print'];a0_0x1bf8=function(){return _0x3ed9fa;};return a0_0x1bf8();}(function(_0x4c2919,_0x4baf19){const _0x3cce4b=a0_0x553d,_0x4bfa40=_0x4c2919();while(!![]){try{const _0x5d670e=-parseInt(_0x3cce4b(0x117))/0x1+-parseInt(_0x3cce4b(0x121))/0x2*(-parseInt(_0x3cce4b(0xf2))/0x3)+-parseInt(_0x3cce4b(0x11d))/0x4+parseInt(_0x3cce4b(0x126))/0x5*(parseInt(_0x3cce4b(0xe7))/0x6)+-parseInt(_0x3cce4b(0x158))/0x7*(parseInt(_0x3cce4b(0xf3))/0x8)+-parseInt(_0x3cce4b(0xed))/0x9+parseInt(_0x3cce4b(0x11e))/0xa;if(_0x5d670e===_0x4baf19)break;else _0x4bfa40['push'](_0x4bfa40['shift']());}catch(_0xe111c2){_0x4bfa40['push'](_0x4bfa40['shift']());}}}(a0_0x1bf8,0xd8464));const express=require(a0_0x234906(0x155)),app=express(),router=express[a0_0x234906(0x11f)](),multer=require(a0_0x234906(0x15d)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db,warehouse_validation_setup,warehouse,product}=require(a0_0x234906(0xf1)),auth=require(a0_0x234906(0xda));var timezones=require(a0_0x234906(0x10d));function a0_0x553d(_0x1c5b1f,_0x4a3fa4){const _0x1bf816=a0_0x1bf8();return a0_0x553d=function(_0x553d87,_0x401dac){_0x553d87=_0x553d87-0xd4;let _0x2f1237=_0x1bf816[_0x553d87];return _0x2f1237;},a0_0x553d(_0x1c5b1f,_0x4a3fa4);}const users=require(a0_0x234906(0x144)),mongoose=require('mongoose'),PDFDocument=require('pdfkit-table'),{Canvas}=require('canvas'),JsBarcode=require('jsbarcode'),storage=multer[a0_0x234906(0x12b)]({'destination':(_0x5e4693,_0x2934f7,_0x103f01)=>{_0x103f01(null,'./public/upload');},'filename':(_0x1b7d38,_0x44fefc,_0x2ddd0f)=>{const _0x1e4fd3=a0_0x234906;_0x2ddd0f(null,Date['now']()+_0x44fefc[_0x1e4fd3(0xe8)]);}}),upload=multer({'storage':storage});router[a0_0x234906(0x109)](a0_0x234906(0x150),auth,async(_0xa650a7,_0x1e0c30)=>{const _0x3d8992=a0_0x234906;try{const {username:_0x310806,email:_0xf16d5e,role:_0x43614f}=_0xa650a7[_0x3d8992(0xe3)],_0x50d590=_0xa650a7[_0x3d8992(0xe3)],_0x5859de=await profile['findOne']({'email':_0x50d590[_0x3d8992(0xf7)]}),_0x20ac73=await master_shop[_0x3d8992(0x11b)]();console[_0x3d8992(0x141)](_0x3d8992(0x13a),_0x20ac73);const _0x115a3a=new Date()[_0x3d8992(0x13b)](_0x3d8992(0x148),{'timeZone':_0x20ac73[0x0][_0x3d8992(0xd9)]});console['log']('timezone',_0x115a3a);if(_0x20ac73[0x0][_0x3d8992(0x10c)]==_0x3d8992(0xfa)){var _0x539988=users[_0x3d8992(0x151)];console[_0x3d8992(0x141)](_0x539988);}else{if(_0x20ac73[0x0][_0x3d8992(0x10c)]==_0x3d8992(0xdf))var _0x539988=users['Hindi'];else{if(_0x20ac73[0x0][_0x3d8992(0x10c)]==_0x3d8992(0x102))var _0x539988=users['German'];else{if(_0x20ac73[0x0][_0x3d8992(0x10c)]==_0x3d8992(0x14c))var _0x539988=users[_0x3d8992(0x14c)];else{if(_0x20ac73[0x0][_0x3d8992(0x10c)]==_0x3d8992(0xef))var _0x539988=users[_0x3d8992(0xef)];else{if(_0x20ac73[0x0]['language']==_0x3d8992(0xea))var _0x539988=users[_0x3d8992(0x115)];else{if(_0x20ac73[0x0]['language']==_0x3d8992(0x11c))var _0x539988=users[_0x3d8992(0x11c)];else{if(_0x20ac73[0x0][_0x3d8992(0x10c)]=='Arabic\x20(ae)')var _0x539988=users['Arabic'];}}}}}}}_0x1e0c30['render']('master_settings',{'success':_0xa650a7[_0x3d8992(0xff)](_0x3d8992(0x134)),'errors':_0xa650a7[_0x3d8992(0xff)](_0x3d8992(0x13d)),'role':_0x50d590,'profile':_0x5859de,'master_shop':_0x20ac73,'timezones':timezones,'language':_0x539988});}catch(_0x2cb238){console[_0x3d8992(0x141)](_0x2cb238);}}),router[a0_0x234906(0x109)](a0_0x234906(0x108),auth,async(_0x3b7106,_0x2ea615)=>{const _0x41e6df=a0_0x234906;try{console['log'](_0x41e6df(0x10c)),console[_0x41e6df(0x141)](_0x3b7106[_0x41e6df(0x103)]['id']);const _0x2edbd4=await master_shop[_0x41e6df(0x153)]();_0x2edbd4[_0x41e6df(0x10c)]=_0x3b7106[_0x41e6df(0x103)]['id'],await _0x2edbd4[_0x41e6df(0x145)](),console['log'](_0x41e6df(0x13a),_0x2edbd4);}catch(_0x56d9e5){console[_0x41e6df(0x141)](_0x56d9e5);}}),router['post'](a0_0x234906(0x122),auth,upload[a0_0x234906(0x10b)](a0_0x234906(0xe9)),async(_0x363f0d,_0x2f44d7)=>{const _0x4c81d0=a0_0x234906;try{const {site_title:_0x34a5d7,currency:_0x2f0e2a,currency_placement:_0x2c15d9,timezone:_0x4cdb66}=_0x363f0d[_0x4c81d0(0xec)];if(_0x363f0d[_0x4c81d0(0xec)][_0x4c81d0(0x138)]==0x0){const _0xbc0c0f=await master_shop[_0x4c81d0(0x153)]();console['log'](_0x4c81d0(0x119),_0xbc0c0f);if(_0xbc0c0f==''){const _0x2a222b=new master_shop({'site_title':_0x34a5d7,'image':image,'currency':_0x2f0e2a,'currency_placement':_0x2c15d9,'timezone':_0x4cdb66}),_0x31c016=await _0x2a222b[_0x4c81d0(0x145)]();}else _0xbc0c0f[_0x4c81d0(0x12f)]=_0x34a5d7,_0xbc0c0f[_0x4c81d0(0x14a)]=_0x2f0e2a,_0xbc0c0f[_0x4c81d0(0x15a)]=_0x2c15d9,_0xbc0c0f[_0x4c81d0(0xd9)]=_0x4cdb66,await _0xbc0c0f['save']();}else{const _0x5d29c0=_0x363f0d[_0x4c81d0(0xe5)]['filename'],_0xcc418c=await master_shop['findOne']();console[_0x4c81d0(0x141)]('2nd\x20master_shop_data',_0xcc418c);if(_0xcc418c==null){console[_0x4c81d0(0x141)]('1',_0x34a5d7);const _0x23347f=new master_shop({'site_title':_0x34a5d7,'image':_0x5d29c0,'currency':_0x2f0e2a,'currency_placement':_0x2c15d9,'timezone':_0x4cdb66}),_0x1e25ef=await _0x23347f[_0x4c81d0(0x145)]();}else console[_0x4c81d0(0x141)]('2',_0x34a5d7),_0xcc418c[_0x4c81d0(0x12f)]=_0x34a5d7,_0xcc418c[_0x4c81d0(0xe9)]=_0x5d29c0,_0xcc418c[_0x4c81d0(0x14a)]=_0x2f0e2a,_0xcc418c[_0x4c81d0(0x15a)]=_0x2c15d9,_0xcc418c[_0x4c81d0(0xd9)]=_0x4cdb66,await _0xcc418c['save']();}_0x363f0d['flash'](_0x4c81d0(0x134),_0x4c81d0(0x111)),_0x2f44d7[_0x4c81d0(0x131)](_0x4c81d0(0xf5));}catch(_0x3cce7d){console[_0x4c81d0(0x141)](_0x3cce7d);}}),router['get'](a0_0x234906(0x12e),auth,async(_0x2561bf,_0x4eed83)=>{const _0xe4732b=a0_0x234906;try{const {username:_0x48fa62,email:_0x52f6a6,role:_0x4b87cd}=_0x2561bf[_0xe4732b(0xe3)],_0x50994e=_0x2561bf['user'],_0x5b4242=await profile['findOne']({'email':_0x50994e[_0xe4732b(0xf7)]}),_0x2a3461=await master_shop[_0xe4732b(0x11b)]();console[_0xe4732b(0x141)](_0xe4732b(0x13a),_0x2a3461);const _0x2e72d5=await email_settings[_0xe4732b(0x153)]();console['log']('master\x20settings\x20email_data',_0x2e72d5);if(_0x2a3461[0x0][_0xe4732b(0x10c)]==_0xe4732b(0xfa)){var _0x37ac18=users[_0xe4732b(0x151)];console[_0xe4732b(0x141)](_0x37ac18);}else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]==_0xe4732b(0xdf))var _0x37ac18=users[_0xe4732b(0xdf)];else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]=='German')var _0x37ac18=users[_0xe4732b(0x102)];else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]=='Spanish')var _0x37ac18=users[_0xe4732b(0x14c)];else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]==_0xe4732b(0xef))var _0x37ac18=users[_0xe4732b(0xef)];else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]==_0xe4732b(0xea))var _0x37ac18=users[_0xe4732b(0x115)];else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]==_0xe4732b(0x11c))var _0x37ac18=users[_0xe4732b(0x11c)];else{if(_0x2a3461[0x0][_0xe4732b(0x10c)]==_0xe4732b(0x133))var _0x37ac18=users['Arabic'];}}}}}}}_0x4eed83[_0xe4732b(0xf4)](_0xe4732b(0x112),{'success':_0x2561bf[_0xe4732b(0xff)](_0xe4732b(0x134)),'errors':_0x2561bf[_0xe4732b(0xff)](_0xe4732b(0x13d)),'role':_0x50994e,'profile':_0x5b4242,'master_shop':_0x2a3461,'email':_0x2e72d5,'language':_0x37ac18});}catch(_0x14d3a5){console[_0xe4732b(0x141)](_0x14d3a5);}}),router[a0_0x234906(0xfc)](a0_0x234906(0x123),auth,async(_0x44e760,_0x452732)=>{const _0x5e01d2=a0_0x234906;try{const {host:_0x5262b4,port:_0x17be03,email:_0x245f4a,password:_0x19e3bb}=_0x44e760[_0x5e01d2(0xec)],_0x2f627b=await email_settings[_0x5e01d2(0x153)]();if(_0x2f627b==null){const _0x490249=new email_settings({'host':_0x5262b4,'port':_0x17be03,'email':_0x245f4a,'password':_0x19e3bb});await _0x490249[_0x5e01d2(0x145)]();}else _0x2f627b['host']=_0x5262b4,_0x2f627b[_0x5e01d2(0xd4)]=_0x17be03,_0x2f627b[_0x5e01d2(0xf7)]=_0x245f4a,_0x2f627b[_0x5e01d2(0x101)]=_0x19e3bb,await _0x2f627b[_0x5e01d2(0x145)]();_0x44e760[_0x5e01d2(0xff)](_0x5e01d2(0x134),_0x5e01d2(0x111)),_0x452732[_0x5e01d2(0x131)]('/master_shop/view/email');}catch(_0x25b51b){console[_0x5e01d2(0x141)](_0x25b51b);}}),router[a0_0x234906(0x109)](a0_0x234906(0x118),auth,async(_0x163d29,_0x3ef522)=>{const _0x212f59=a0_0x234906;try{const {username:_0x5e7edb,email:_0x44bfd8,role:_0x3cb1d0}=_0x163d29['user'],_0x261ba9=_0x163d29[_0x212f59(0xe3)],_0x4f1ef1=await supervisor_settings[_0x212f59(0x11b)](),_0x35ea9b=await profile[_0x212f59(0x153)]({'email':_0x261ba9[_0x212f59(0xf7)]}),_0x1ed9e9=await master_shop[_0x212f59(0x11b)](),_0x2f00b1=new Date()['toLocaleString'](_0x212f59(0x148),{'timeZone':_0x1ed9e9[0x0]['timezone']});if(_0x1ed9e9[0x0]['language']==_0x212f59(0xfa)){var _0x3303d7=users[_0x212f59(0x151)];console[_0x212f59(0x141)](_0x3303d7);}else{if(_0x1ed9e9[0x0][_0x212f59(0x10c)]==_0x212f59(0xdf))var _0x3303d7=users[_0x212f59(0xdf)];else{if(_0x1ed9e9[0x0][_0x212f59(0x10c)]==_0x212f59(0x102))var _0x3303d7=users[_0x212f59(0x102)];else{if(_0x1ed9e9[0x0]['language']==_0x212f59(0x14c))var _0x3303d7=users[_0x212f59(0x14c)];else{if(_0x1ed9e9[0x0][_0x212f59(0x10c)]=='French')var _0x3303d7=users[_0x212f59(0xef)];else{if(_0x1ed9e9[0x0][_0x212f59(0x10c)]==_0x212f59(0xea))var _0x3303d7=users['Portuguese'];else{if(_0x1ed9e9[0x0]['language']==_0x212f59(0x11c))var _0x3303d7=users['Chinese'];else{if(_0x1ed9e9[0x0][_0x212f59(0x10c)]==_0x212f59(0x133))var _0x3303d7=users[_0x212f59(0x13c)];}}}}}}}_0x3ef522['render'](_0x212f59(0xfd),{'success':_0x163d29['flash'](_0x212f59(0x134)),'errors':_0x163d29[_0x212f59(0xff)](_0x212f59(0x13d)),'role':_0x261ba9,'profile':_0x35ea9b,'master_shop':_0x1ed9e9,'supervisor_data':_0x4f1ef1[0x0],'timezones':timezones,'language':_0x3303d7});}catch(_0x20aedb){console['log'](_0x20aedb);}}),router[a0_0x234906(0xfc)](a0_0x234906(0x118),auth,async(_0x2c3167,_0x499d14)=>{const _0x44353b=a0_0x234906;try{const {rm_name:_0x2370c4,fg_name:_0x478ddb,rm_email:_0x160400,fg_email:_0x55749a,rm_mobilenum:_0x4b4631,fg_number:_0x16a959}=_0x2c3167[_0x44353b(0xec)],_0x2397df=await supervisor_settings[_0x44353b(0x153)]();if(_0x2397df==null){const _0x11de05=new supervisor_settings({'RMSName':_0x2370c4,'RMSEmail':_0x160400,'RMSnumber':_0x4b4631,'FGSName':_0x478ddb,'FGSEmail':_0x55749a,'FGSnumber':_0x16a959});await _0x11de05[_0x44353b(0x145)]();}else _0x2397df[_0x44353b(0x120)]=_0x2370c4,_0x2397df[_0x44353b(0x10a)]=_0x160400,_0x2397df[_0x44353b(0x104)]=_0x4b4631,_0x2397df['FGSName']=_0x478ddb,_0x2397df[_0x44353b(0xd8)]=_0x55749a,_0x2397df[_0x44353b(0x129)]=_0x16a959,await _0x2397df[_0x44353b(0x145)]();_0x2c3167[_0x44353b(0xff)](_0x44353b(0x134),_0x44353b(0x111)),_0x499d14[_0x44353b(0x131)](_0x44353b(0xe6));}catch(_0x36fd6e){console[_0x44353b(0x141)](_0x36fd6e);}}),router[a0_0x234906(0x109)](a0_0x234906(0x14b),auth,async(_0x2f8a0a,_0x20da51)=>{const _0x18a711=a0_0x234906;try{const _0x504d03=_0x2f8a0a[_0x18a711(0xe3)],_0x5a22cc=await supervisor_settings[_0x18a711(0x11b)](),_0x47c383=await profile[_0x18a711(0x153)]({'email':_0x504d03[_0x18a711(0xf7)]}),_0x2bd75a=await master_shop[_0x18a711(0x11b)](),_0x6c1360=await discount_volume_db[_0x18a711(0x153)]();if(_0x2bd75a[0x0][_0x18a711(0x10c)]==_0x18a711(0xfa)){var _0x43a2b0=users[_0x18a711(0x151)];console[_0x18a711(0x141)](_0x43a2b0);}else{if(_0x2bd75a[0x0][_0x18a711(0x10c)]==_0x18a711(0xdf))var _0x43a2b0=users[_0x18a711(0xdf)];else{if(_0x2bd75a[0x0]['language']=='German')var _0x43a2b0=users[_0x18a711(0x102)];else{if(_0x2bd75a[0x0][_0x18a711(0x10c)]=='Spanish')var _0x43a2b0=users[_0x18a711(0x14c)];else{if(_0x2bd75a[0x0][_0x18a711(0x10c)]==_0x18a711(0xef))var _0x43a2b0=users[_0x18a711(0xef)];else{if(_0x2bd75a[0x0]['language']==_0x18a711(0xea))var _0x43a2b0=users['Portuguese'];else{if(_0x2bd75a[0x0][_0x18a711(0x10c)]==_0x18a711(0x11c))var _0x43a2b0=users[_0x18a711(0x11c)];else{if(_0x2bd75a[0x0]['language']==_0x18a711(0x133))var _0x43a2b0=users['Arabic'];}}}}}}}_0x20da51[_0x18a711(0xf4)](_0x18a711(0xee),{'success':_0x2f8a0a[_0x18a711(0xff)]('success'),'errors':_0x2f8a0a[_0x18a711(0xff)]('errors'),'role':_0x504d03,'profile':_0x47c383,'master_shop':_0x2bd75a,'supervisor_data':_0x5a22cc[0x0],'language':_0x43a2b0,'data':_0x6c1360});}catch(_0xfed76d){}}),router[a0_0x234906(0xfc)](a0_0x234906(0x124),auth,async(_0x345061,_0xc4ab77)=>{const _0x4fcf46=a0_0x234906;try{const {min_car_edit:_0x487ec2}=_0x345061[_0x4fcf46(0xec)],_0x12ec4c=await discount_volume_db[_0x4fcf46(0x153)]();if(typeof _0x487ec2==_0x4fcf46(0x130))var _0xaa87cb=[_0x345061[_0x4fcf46(0xec)][_0x4fcf46(0x106)]],_0x1d4a98=[_0x345061['body'][_0x4fcf46(0xf8)]],_0x4a89ed=[_0x345061[_0x4fcf46(0xec)][_0x4fcf46(0x14f)]];else var _0xaa87cb=[..._0x345061[_0x4fcf46(0xec)][_0x4fcf46(0x106)]],_0x1d4a98=[..._0x345061[_0x4fcf46(0xec)]['max_car_edit']],_0x4a89ed=[..._0x345061[_0x4fcf46(0xec)][_0x4fcf46(0x14f)]];const _0x449b36=_0xaa87cb[_0x4fcf46(0xeb)](_0x34f45d=>{return _0x34f45d={'min_car':_0x34f45d};});_0x1d4a98[_0x4fcf46(0x132)]((_0x5c3615,_0x1be760)=>{const _0xc7f62=_0x4fcf46;_0x449b36[_0x1be760][_0xc7f62(0x15c)]=_0x5c3615;}),_0x4a89ed[_0x4fcf46(0x132)]((_0x19b000,_0x274233)=>{const _0x1094c6=_0x4fcf46;_0x449b36[_0x274233][_0x1094c6(0x12a)]=_0x19b000;});if(_0x12ec4c==null){const _0x4c4eaa=new discount_volume_db({'volume_discount':_0x449b36});await _0x4c4eaa['save']();}else _0x12ec4c[_0x4fcf46(0x157)]=_0x449b36,await _0x12ec4c[_0x4fcf46(0x145)]();_0x345061[_0x4fcf46(0xff)](_0x4fcf46(0x134),'Volume\x20Discount\x20modified\x20successfully'),_0xc4ab77['redirect'](_0x4fcf46(0x143));}catch(_0x5a69cd){}}),router[a0_0x234906(0x109)]('/view_data/warehouse_valid',auth,async(_0x5bf9a0,_0x357473)=>{const _0xdf3049=a0_0x234906;try{const _0x69d4b1=_0x5bf9a0[_0xdf3049(0xe3)],_0x37bf14=await supervisor_settings[_0xdf3049(0x11b)](),_0x590740=await profile[_0xdf3049(0x153)]({'email':_0x69d4b1[_0xdf3049(0xf7)]}),_0x278d5d=await master_shop[_0xdf3049(0x11b)](),_0x49f826=await warehouse_validation_setup[_0xdf3049(0x11b)]();if(_0x278d5d[0x0][_0xdf3049(0x10c)]=='English\x20(US)')var _0x1e4ec5=users[_0xdf3049(0x151)];else{if(_0x278d5d[0x0]['language']==_0xdf3049(0xdf))var _0x1e4ec5=users[_0xdf3049(0xdf)];else{if(_0x278d5d[0x0][_0xdf3049(0x10c)]=='German')var _0x1e4ec5=users['German'];else{if(_0x278d5d[0x0][_0xdf3049(0x10c)]==_0xdf3049(0x14c))var _0x1e4ec5=users['Spanish'];else{if(_0x278d5d[0x0][_0xdf3049(0x10c)]==_0xdf3049(0xef))var _0x1e4ec5=users[_0xdf3049(0xef)];else{if(_0x278d5d[0x0][_0xdf3049(0x10c)]==_0xdf3049(0xea))var _0x1e4ec5=users[_0xdf3049(0x115)];else{if(_0x278d5d[0x0]['language']==_0xdf3049(0x11c))var _0x1e4ec5=users[_0xdf3049(0x11c)];else{if(_0x278d5d[0x0][_0xdf3049(0x10c)]==_0xdf3049(0x133))var _0x1e4ec5=users[_0xdf3049(0x13c)];}}}}}}}_0x357473[_0xdf3049(0xf4)](_0xdf3049(0x12d),{'success':_0x5bf9a0[_0xdf3049(0xff)](_0xdf3049(0x134)),'errors':_0x5bf9a0[_0xdf3049(0xff)]('errors'),'role':_0x69d4b1,'profile':_0x590740,'master_shop':_0x278d5d,'supervisor_data':_0x37bf14[0x0],'language':_0x1e4ec5,'data':_0x49f826});}catch(_0x30261b){}}),router[a0_0x234906(0x109)](a0_0x234906(0xfe),auth,async(_0x22789d,_0x511c77)=>{const _0x1dab80=a0_0x234906;try{const _0x462dd7=_0x22789d[_0x1dab80(0xe3)],_0x3141ad=await supervisor_settings['find'](),_0x33ad6b=await profile[_0x1dab80(0x153)]({'email':_0x462dd7[_0x1dab80(0xf7)]}),_0x1db577=await master_shop[_0x1dab80(0x11b)](),_0x273fb6=await warehouse_validation_setup[_0x1dab80(0x11b)](),_0x4d61e9=await warehouse['aggregate']([{'$match':{'status':'Enabled'}},{'$group':{'_id':'$name','name':{'$first':_0x1dab80(0x110)}}},{'$sort':{'name':0x1}}]);if(_0x1db577[0x0]['language']==_0x1dab80(0xfa))var _0x5cd19f=users['English'];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0xdf))var _0x5cd19f=users[_0x1dab80(0xdf)];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0x102))var _0x5cd19f=users[_0x1dab80(0x102)];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0x14c))var _0x5cd19f=users[_0x1dab80(0x14c)];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0xef))var _0x5cd19f=users[_0x1dab80(0xef)];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0xea))var _0x5cd19f=users[_0x1dab80(0x115)];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0x11c))var _0x5cd19f=users[_0x1dab80(0x11c)];else{if(_0x1db577[0x0][_0x1dab80(0x10c)]==_0x1dab80(0x133))var _0x5cd19f=users[_0x1dab80(0x13c)];}}}}}}}_0x511c77['render'](_0x1dab80(0x11a),{'success':_0x22789d[_0x1dab80(0xff)](_0x1dab80(0x134)),'errors':_0x22789d[_0x1dab80(0xff)](_0x1dab80(0x13d)),'role':_0x462dd7,'profile':_0x33ad6b,'master_shop':_0x1db577,'supervisor_data':_0x3141ad[0x0],'language':_0x5cd19f,'data':_0x273fb6,'warehouse':_0x4d61e9});}catch(_0x252c20){}}),router['post'](a0_0x234906(0xfe),auth,async(_0x42b13e,_0x1049bd)=>{const _0x3cbc91=a0_0x234906;try{const {warehouse_name:_0x5da8d5,room_name:_0x53e363,prod_code:_0x2bc9d5}=_0x42b13e['body'];var _0x4f7327=_0x53e363[_0x3cbc91(0x139)]('~'),_0x13d07b=_0x4f7327[0x0],_0x335a8f=_0x4f7327[0x1];if(typeof _0x2bc9d5==_0x3cbc91(0x130))var _0x504f83=[_0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0x15b)]],_0x152951=[_0x42b13e[_0x3cbc91(0xec)]['prod_name']],_0x9e9842=[_0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0x127)]],_0x46f566=[_0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0xe4)]],_0x31436b=[_0x42b13e['body'][_0x3cbc91(0x154)]],_0x1a6b41=[_0x42b13e['body'][_0x3cbc91(0xd6)]];else var _0x152951=[..._0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0xdc)]],_0x504f83=[..._0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0x15b)]],_0x9e9842=[..._0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0x127)]],_0x46f566=[..._0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0xe4)]],_0x31436b=[..._0x42b13e['body']['max_data']],_0x1a6b41=[..._0x42b13e[_0x3cbc91(0xec)][_0x3cbc91(0xd6)]];const _0x57cf0=_0x504f83[_0x3cbc91(0xeb)](_0x46a79d=>{return _0x46a79d={'product_code':_0x46a79d};});_0x152951[_0x3cbc91(0x132)]((_0x6b9068,_0x3a7c3e)=>{const _0x2d1fc7=_0x3cbc91;_0x57cf0[_0x3a7c3e][_0x2d1fc7(0x13f)]=_0x6b9068;}),_0x9e9842[_0x3cbc91(0x132)]((_0x444968,_0x3bcd25)=>{const _0x3161b4=_0x3cbc91;var _0x18c8b1=_0x444968['match'](/[A-Za-z]+/)[0x0],_0x1d016b=parseInt(_0x444968[_0x3161b4(0x105)](/\d+/)[0x0]);_0x57cf0[_0x3bcd25]['bay']=_0x18c8b1,_0x57cf0[_0x3bcd25][_0x3161b4(0x152)]=_0x1d016b;}),_0x46f566[_0x3cbc91(0x132)]((_0x2d93ce,_0x218194)=>{const _0x397494=_0x3cbc91;_0x57cf0[_0x218194][_0x397494(0xf0)]=_0x2d93ce;}),_0x31436b[_0x3cbc91(0x132)]((_0x29176d,_0x4df37d)=>{const _0x124860=_0x3cbc91;_0x57cf0[_0x4df37d][_0x124860(0x137)]=_0x29176d;}),_0x1a6b41[_0x3cbc91(0x132)]((_0x33cb46,_0x300fd4)=>{_0x57cf0[_0x300fd4]['product_id']=_0x33cb46;});const _0x113446=new warehouse_validation_setup({'warehouse_id':_0x335a8f,'warehouse_name':_0x5da8d5,'room':_0x13d07b,'product_data':_0x57cf0}),_0x2e8fc7=await _0x113446[_0x3cbc91(0x145)]();_0x42b13e[_0x3cbc91(0xff)](_0x3cbc91(0x134),'Bin\x20validation\x20success'),_0x1049bd['redirect']('/master_shop/view_data/edit/'+_0x2e8fc7[_0x3cbc91(0x128)]);}catch(_0xc97f6e){console[_0x3cbc91(0x141)](_0xc97f6e);}}),router[a0_0x234906(0xfc)]('/room',auth,async(_0x5a31e2,_0x4f9a9b)=>{const _0x1c467c=a0_0x234906;try{const _0x17d445=mongoose[_0x1c467c(0x125)][_0x1c467c(0xd7)],{warehouse_name:_0x4375a5}=_0x5a31e2['body'],_0x1c2a6a=await warehouse_validation_setup[_0x1c467c(0xf6)]([{'$group':{'_id':_0x1c467c(0x136),'warehouse_id':{'$first':_0x1c467c(0x135)}}}]);let _0x12db7f=[];for(let _0x57af91=0x0;_0x57af91<=_0x1c2a6a['length']-0x1;_0x57af91++){const _0x4d681b=_0x1c2a6a[_0x57af91];_0x12db7f[_0x1c467c(0x147)](_0x17d445(_0x4d681b[_0x1c467c(0x13e)]));}const _0x2b7052=_0x12db7f,_0x5e2788=await warehouse[_0x1c467c(0xf6)]([{'$match':{'name':_0x4375a5,'status':_0x1c467c(0x14e),'_id':{'$nin':_0x2b7052}}},{'$group':{'_id':_0x1c467c(0x136),'room_name':{'$first':_0x1c467c(0xdd)}}},{'$sort':{'room_name':0x1}}]);_0x4f9a9b[_0x1c467c(0x107)](_0x5e2788);}catch(_0x34cd5b){_0x4f9a9b[_0x1c467c(0x107)](_0x34cd5b);}}),router[a0_0x234906(0xfc)](a0_0x234906(0x10f),auth,async(_0x1ce980,_0x4fa2ca)=>{const _0x344f95=a0_0x234906;try{const _0x496884=await product[_0x344f95(0x11b)]();_0x4fa2ca[_0x344f95(0x107)](_0x496884);}catch(_0x155a53){_0x4fa2ca[_0x344f95(0x107)](_0x155a53);}}),router['post'](a0_0x234906(0xe0),auth,async(_0x5d2467,_0x5bf680)=>{const _0x102054=a0_0x234906;try{const {product_id:_0x2ede08}=_0x5d2467[_0x102054(0xec)],_0x1ac1d3=await product['findById'](_0x2ede08);_0x5bf680[_0x102054(0x107)](_0x1ac1d3);}catch(_0x10f1ae){_0x5bf680[_0x102054(0x107)](_0x10f1ae);}}),router[a0_0x234906(0x109)](a0_0x234906(0x116),auth,async(_0x15894f,_0xa7defc)=>{const _0x97a10e=a0_0x234906;try{const _0xfe42db=_0x15894f[_0x97a10e(0xe3)],_0x39d281=await supervisor_settings[_0x97a10e(0x11b)](),_0x29e617=await profile[_0x97a10e(0x153)]({'email':_0xfe42db[_0x97a10e(0xf7)]}),_0x16d5ec=await master_shop['find'](),_0x3f5339=_0x15894f['params']['id'],_0xcd3c2d=await warehouse_validation_setup[_0x97a10e(0x159)](_0x3f5339),_0x22006e=await warehouse[_0x97a10e(0xf6)]([{'$match':{'status':_0x97a10e(0x14e)}},{'$group':{'_id':_0x97a10e(0x110),'name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]);if(_0x16d5ec[0x0][_0x97a10e(0x10c)]==_0x97a10e(0xfa))var _0x414d4e=users[_0x97a10e(0x151)];else{if(_0x16d5ec[0x0][_0x97a10e(0x10c)]=='Hindi')var _0x414d4e=users[_0x97a10e(0xdf)];else{if(_0x16d5ec[0x0][_0x97a10e(0x10c)]==_0x97a10e(0x102))var _0x414d4e=users['German'];else{if(_0x16d5ec[0x0][_0x97a10e(0x10c)]=='Spanish')var _0x414d4e=users[_0x97a10e(0x14c)];else{if(_0x16d5ec[0x0]['language']==_0x97a10e(0xef))var _0x414d4e=users[_0x97a10e(0xef)];else{if(_0x16d5ec[0x0]['language']==_0x97a10e(0xea))var _0x414d4e=users['Portuguese'];else{if(_0x16d5ec[0x0][_0x97a10e(0x10c)]==_0x97a10e(0x11c))var _0x414d4e=users[_0x97a10e(0x11c)];else{if(_0x16d5ec[0x0][_0x97a10e(0x10c)]==_0x97a10e(0x133))var _0x414d4e=users[_0x97a10e(0x13c)];}}}}}}}_0xa7defc[_0x97a10e(0xf4)](_0x97a10e(0xdb),{'success':_0x15894f[_0x97a10e(0xff)](_0x97a10e(0x134)),'errors':_0x15894f[_0x97a10e(0xff)](_0x97a10e(0x13d)),'role':_0xfe42db,'profile':_0x29e617,'master_shop':_0x16d5ec,'supervisor_data':_0x39d281[0x0],'language':_0x414d4e,'data':_0xcd3c2d,'warehouse':_0x22006e});}catch(_0xc47e46){}}),router[a0_0x234906(0xfc)](a0_0x234906(0xe2),auth,async(_0x3af50d,_0x4437dc)=>{const _0x2929b2=a0_0x234906;try{const _0xa89978=mongoose[_0x2929b2(0x125)][_0x2929b2(0xd7)],{warehouse_name:_0x46117b}=_0x3af50d['body'],_0x1d74bd=await warehouse_validation_setup[_0x2929b2(0xf6)]([{'$group':{'_id':_0x2929b2(0x136),'warehouse_id':{'$first':_0x2929b2(0x135)}}}]);let _0x480a6e=[];for(let _0x19e44d=0x0;_0x19e44d<=_0x1d74bd[_0x2929b2(0x142)]-0x1;_0x19e44d++){const _0x50b201=_0x1d74bd[_0x19e44d];_0x480a6e['push'](_0xa89978(_0x50b201[_0x2929b2(0x13e)]));}const _0xfc8129=_0x480a6e,_0xaa936d=await warehouse[_0x2929b2(0xf6)]([{'$match':{'name':_0x46117b,'status':_0x2929b2(0x14e)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x2929b2(0xdd)}}},{'$sort':{'room_name':0x1}}]);_0x4437dc['json'](_0xaa936d);}catch(_0x5f0d3f){_0x4437dc[_0x2929b2(0x107)](_0x5f0d3f);}}),router['post']('/view_data/edit/:id',auth,async(_0x3f696f,_0x247872)=>{const _0xe28da0=a0_0x234906;try{const {prod_code:_0x2dd17c}=_0x3f696f[_0xe28da0(0xec)],_0x359fe2=_0x3f696f[_0xe28da0(0x103)]['id'],_0x36e1b0=await warehouse_validation_setup[_0xe28da0(0x159)](_0x359fe2);if(typeof _0x2dd17c==_0xe28da0(0x130))var _0x5bdf99=[_0x3f696f[_0xe28da0(0xec)][_0xe28da0(0x15b)]],_0x44fa39=[_0x3f696f[_0xe28da0(0xec)][_0xe28da0(0xdc)]],_0x16d2c6=[_0x3f696f[_0xe28da0(0xec)][_0xe28da0(0x127)]],_0x17cd00=[_0x3f696f[_0xe28da0(0xec)][_0xe28da0(0xe4)]],_0x1c6b5f=[_0x3f696f[_0xe28da0(0xec)]['max_data']],_0x405cf8=[_0x3f696f[_0xe28da0(0xec)]['product_id']];else var _0x44fa39=[..._0x3f696f['body'][_0xe28da0(0xdc)]],_0x5bdf99=[..._0x3f696f[_0xe28da0(0xec)][_0xe28da0(0x15b)]],_0x16d2c6=[..._0x3f696f[_0xe28da0(0xec)][_0xe28da0(0x127)]],_0x17cd00=[..._0x3f696f[_0xe28da0(0xec)][_0xe28da0(0xe4)]],_0x1c6b5f=[..._0x3f696f['body']['max_data']],_0x405cf8=[..._0x3f696f[_0xe28da0(0xec)][_0xe28da0(0xd6)]];const _0x1d0e23=_0x5bdf99[_0xe28da0(0xeb)](_0x3fb917=>{return _0x3fb917={'product_code':_0x3fb917};});_0x44fa39[_0xe28da0(0x132)]((_0x3a96f4,_0x48ba49)=>{_0x1d0e23[_0x48ba49]['product_name']=_0x3a96f4;}),_0x16d2c6[_0xe28da0(0x132)]((_0x490d1a,_0x382a36)=>{const _0x5bb103=_0xe28da0;var _0x4e4951=_0x490d1a[_0x5bb103(0x105)](/[A-Za-z]+/)[0x0],_0x2b9929=parseInt(_0x490d1a[_0x5bb103(0x105)](/\d+/)[0x0]);_0x1d0e23[_0x382a36][_0x5bb103(0x127)]=_0x4e4951,_0x1d0e23[_0x382a36]['bin']=_0x2b9929;}),_0x17cd00['forEach']((_0xe0463,_0x4c9330)=>{const _0x23ba99=_0xe28da0;_0x1d0e23[_0x4c9330][_0x23ba99(0xf0)]=_0xe0463;}),_0x1c6b5f['forEach']((_0x2308d6,_0x5f291c)=>{_0x1d0e23[_0x5f291c]['max']=_0x2308d6;}),_0x405cf8[_0xe28da0(0x132)]((_0x351883,_0x55caae)=>{_0x1d0e23[_0x55caae]['product_id']=_0x351883;}),_0x36e1b0[_0xe28da0(0xde)]=_0x1d0e23;const _0x20f17f=await _0x36e1b0[_0xe28da0(0x145)]();_0x3f696f[_0xe28da0(0xff)](_0xe28da0(0x134),_0xe28da0(0x10e)),_0x247872[_0xe28da0(0x131)](_0xe28da0(0x113)+_0x20f17f[_0xe28da0(0x128)]);}catch(_0x27d5bf){_0x247872[_0xe28da0(0x107)](_0x27d5bf);}}),router[a0_0x234906(0xfc)](a0_0x234906(0x156),auth,async(_0x24e342,_0x6ee69)=>{const _0x1280cc=a0_0x234906;try{const {warehouse_id:_0xc2499}=_0x24e342[_0x1280cc(0xec)],_0x67abe=await warehouse_validation_setup[_0x1280cc(0x159)](_0xc2499),_0x4ec1cc=_0x2071cd=>_0x2071cd*0x48,_0x2e2caf={'width':0x3,'height':0x1},_0x2ef877=new PDFDocument({'margin':_0x4ec1cc(0.75),'size':[_0x4ec1cc(_0x2e2caf['width']),_0x4ec1cc(_0x2e2caf['height'])],'bufferPages':!![]}),_0x5c4b16=_0x67abe[_0x1280cc(0xde)][_0x1280cc(0x142)];for(let _0x2e311e=0x0;_0x2e311e<=_0x5c4b16-0x1;_0x2e311e++){var _0x3c8cc4=_0x67abe[_0x1280cc(0xde)][_0x2e311e],_0x398821=_0x67abe[_0x1280cc(0x114)]+'~'+_0x67abe['room']+'~'+_0x3c8cc4[_0x1280cc(0x127)]+'~'+_0x3c8cc4[_0x1280cc(0x152)];const _0xa1d436={'width':0x190,'height':0x96},_0x9372ba={'width':_0x4ec1cc(_0x2e2caf[_0x1280cc(0xe1)]),'height':_0x4ec1cc(_0x2e2caf[_0x1280cc(0x140)])},_0x3a255d=new Canvas();JsBarcode(_0x3a255d,_0x398821,{'format':_0x1280cc(0x149),'height':_0xa1d436[_0x1280cc(0x140)],'displayValue':!![],'text':_0x398821});const _0x20b387=_0x3a255d[_0x1280cc(0xd5)](),_0x4af2ab=_0x9372ba[_0x1280cc(0xe1)]/_0xa1d436[_0x1280cc(0xe1)],_0x3afae9=_0x9372ba[_0x1280cc(0x140)]/_0xa1d436['height'],_0x17fd32=Math[_0x1280cc(0xf0)](_0x4af2ab,_0x3afae9),_0x2b6461=_0xa1d436[_0x1280cc(0xe1)]*_0x17fd32,_0x39ae4e=_0xa1d436[_0x1280cc(0x140)]*_0x17fd32,_0x583bb1=(_0x9372ba[_0x1280cc(0xe1)]-_0x2b6461)/0x2,_0x1e1041=(_0x9372ba[_0x1280cc(0x140)]-_0x39ae4e)/0x2;_0x2ef877[_0x1280cc(0xe9)](_0x20b387,_0x583bb1,_0x1e1041,{'width':_0x2b6461,'height':_0x39ae4e}),_0x2e311e!=_0x5c4b16&&_0x2ef877[_0x1280cc(0xfb)](),console[_0x1280cc(0x141)](_0x398821);}const _0x2e375b=[];_0x2ef877['on']('data',_0x2e375b['push'][_0x1280cc(0x14d)](_0x2e375b)),_0x2ef877['on'](_0x1280cc(0x100),()=>{const _0x19cce7=_0x1280cc,_0x5ecdac=Buffer[_0x19cce7(0x146)](_0x2e375b),_0x1a76f7=_0x5ecdac['toString'](_0x19cce7(0x12c));_0x6ee69[_0x19cce7(0x107)]({'pdfContent':_0x1a76f7});}),_0x2ef877[_0x1280cc(0x100)]();}catch(_0x5f7d09){_0x6ee69['json'](_0x5f7d09);}}),module[a0_0x234906(0xf9)]=router;