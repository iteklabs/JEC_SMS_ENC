const a0_0x370859=a0_0x4563;function a0_0x4563(_0x59e428,_0x40880c){const _0x40636d=a0_0x4063();return a0_0x4563=function(_0x456373,_0x47f15e){_0x456373=_0x456373-0xbb;let _0x11cbba=_0x40636d[_0x456373];return _0x11cbba;},a0_0x4563(_0x59e428,_0x40880c);}(function(_0x1395d8,_0x538380){const _0x1bf4b9=a0_0x4563,_0x35df33=_0x1395d8();while(!![]){try{const _0x10fdbd=parseInt(_0x1bf4b9(0xce))/0x1+-parseInt(_0x1bf4b9(0xc4))/0x2*(parseInt(_0x1bf4b9(0xd3))/0x3)+-parseInt(_0x1bf4b9(0x10c))/0x4*(-parseInt(_0x1bf4b9(0xde))/0x5)+parseInt(_0x1bf4b9(0xe5))/0x6*(parseInt(_0x1bf4b9(0x101))/0x7)+-parseInt(_0x1bf4b9(0xc3))/0x8*(parseInt(_0x1bf4b9(0xbf))/0x9)+parseInt(_0x1bf4b9(0xfd))/0xa+-parseInt(_0x1bf4b9(0x103))/0xb;if(_0x10fdbd===_0x538380)break;else _0x35df33['push'](_0x35df33['shift']());}catch(_0x4c8a1b){_0x35df33['push'](_0x35df33['shift']());}}}(a0_0x4063,0xb6244));const express=require(a0_0x370859(0x109)),app=express(),router=express[a0_0x370859(0xd7)](),multer=require(a0_0x370859(0xbc)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db}=require(a0_0x370859(0xbd)),auth=require(a0_0x370859(0xf8));var timezones=require(a0_0x370859(0xe0));function a0_0x4063(){const _0x38cbf7=['timezone','forEach','2807380bGAeeZ','German','filename','site_title','49XxmJaq','file','12385571EdriEp','master\x20settings\x20email_data','Hindi','/master_shop/view/supervisors','max_car_edit','post','express','Arabic','RMSName','2319788izfrKZ','success','FGSEmail','currency_placement','master_settings','password','exports','/view/supervisors','multer','../models/all_models','now','2453265KwbeOt','email','/:id','findOne','8wVPdIZ','8230TwpZjC','/view/email/edit_settings','host','/view/email','en-US','discount_price_edit','Volume\x20Discount\x20modified\x20successfully','render','/master_shop/view/email','toLocaleString','750873RTLUgf','English','save','master','user','411HuwRTE','string','Arabic\x20(ae)','supervisor_settings','Router','get','find','image','body','/view','originalname','5GClduB','shop\x20setting\x20edit\x20successfully','timezones-list','single','Spanish','master_shop_data','/master_shop/view','940110FLOFeu','min_car_edit','Chinese','volume_discount','/master_shop/view_data/volume_set','log','Portuguese','language','/view_data/volume_set','/view/edit_settings','errors','English\x20(US)','diskStorage','port','French','Portuguese\x20(BR)','RMSEmail','flash','redirect','../middleware/auth','discount_price','currency'];a0_0x4063=function(){return _0x38cbf7;};return a0_0x4063();}const users=require('../public/language/languages.json'),storage=multer[a0_0x370859(0xf1)]({'destination':(_0xabe281,_0x274636,_0x5776e3)=>{_0x5776e3(null,'./public/upload');},'filename':(_0x3c2720,_0x209067,_0xec3c35)=>{const _0x18dbca=a0_0x370859;_0xec3c35(null,Date[_0x18dbca(0xbe)]()+_0x209067[_0x18dbca(0xdd)]);}}),upload=multer({'storage':storage});router['get'](a0_0x370859(0xdc),auth,async(_0x496f66,_0x38dd5a)=>{const _0x152d7e=a0_0x370859;try{const {username:_0x222926,email:_0xccc085,role:_0x524c9a}=_0x496f66[_0x152d7e(0xd2)],_0x4a1c39=_0x496f66['user'],_0x381d48=await profile[_0x152d7e(0xc2)]({'email':_0x4a1c39['email']}),_0x2678fd=await master_shop['find']();console[_0x152d7e(0xea)](_0x152d7e(0xd1),_0x2678fd);const _0x27057f=new Date()[_0x152d7e(0xcd)](_0x152d7e(0xc8),{'timeZone':_0x2678fd[0x0]['timezone']});console[_0x152d7e(0xea)](_0x152d7e(0xfb),_0x27057f);if(_0x2678fd[0x0]['language']=='English\x20(US)'){var _0x2dc5c9=users[_0x152d7e(0xcf)];console[_0x152d7e(0xea)](_0x2dc5c9);}else{if(_0x2678fd[0x0][_0x152d7e(0xec)]==_0x152d7e(0x105))var _0x2dc5c9=users['Hindi'];else{if(_0x2678fd[0x0][_0x152d7e(0xec)]==_0x152d7e(0xfe))var _0x2dc5c9=users['German'];else{if(_0x2678fd[0x0][_0x152d7e(0xec)]=='Spanish')var _0x2dc5c9=users[_0x152d7e(0xe2)];else{if(_0x2678fd[0x0][_0x152d7e(0xec)]=='French')var _0x2dc5c9=users[_0x152d7e(0xf3)];else{if(_0x2678fd[0x0][_0x152d7e(0xec)]==_0x152d7e(0xf4))var _0x2dc5c9=users[_0x152d7e(0xeb)];else{if(_0x2678fd[0x0][_0x152d7e(0xec)]==_0x152d7e(0xe7))var _0x2dc5c9=users['Chinese'];else{if(_0x2678fd[0x0]['language']==_0x152d7e(0xd5))var _0x2dc5c9=users[_0x152d7e(0x10a)];}}}}}}}_0x38dd5a[_0x152d7e(0xcb)](_0x152d7e(0x110),{'success':_0x496f66[_0x152d7e(0xf6)]('success'),'errors':_0x496f66[_0x152d7e(0xf6)](_0x152d7e(0xef)),'role':_0x4a1c39,'profile':_0x381d48,'master_shop':_0x2678fd,'timezones':timezones,'language':_0x2dc5c9});}catch(_0x312f40){console[_0x152d7e(0xea)](_0x312f40);}}),router[a0_0x370859(0xd8)](a0_0x370859(0xc1),auth,async(_0x5adf17,_0x34ce46)=>{const _0x10b6f0=a0_0x370859;try{console[_0x10b6f0(0xea)](_0x10b6f0(0xec)),console[_0x10b6f0(0xea)](_0x5adf17['params']['id']);const _0xe89de2=await master_shop[_0x10b6f0(0xc2)]();_0xe89de2[_0x10b6f0(0xec)]=_0x5adf17['params']['id'],await _0xe89de2[_0x10b6f0(0xd0)](),console[_0x10b6f0(0xea)](_0x10b6f0(0xd1),_0xe89de2);}catch(_0x2223ad){console[_0x10b6f0(0xea)](_0x2223ad);}}),router[a0_0x370859(0x108)](a0_0x370859(0xee),auth,upload[a0_0x370859(0xe1)](a0_0x370859(0xda)),async(_0x32a202,_0x2d1982)=>{const _0x5db242=a0_0x370859;try{const {site_title:_0x3c074b,currency:_0x11c4b6,currency_placement:_0x228b6b,timezone:_0xc658cf}=_0x32a202['body'];if(_0x32a202[_0x5db242(0xdb)]['hidden']==0x0){const _0x5c2292=await master_shop[_0x5db242(0xc2)]();console[_0x5db242(0xea)](_0x5db242(0xe3),_0x5c2292);if(_0x5c2292==''){const _0x228a91=new master_shop({'site_title':_0x3c074b,'image':image,'currency':_0x11c4b6,'currency_placement':_0x228b6b,'timezone':_0xc658cf}),_0xb63258=await _0x228a91[_0x5db242(0xd0)]();}else _0x5c2292[_0x5db242(0x100)]=_0x3c074b,_0x5c2292['currency']=_0x11c4b6,_0x5c2292[_0x5db242(0x10f)]=_0x228b6b,_0x5c2292[_0x5db242(0xfb)]=_0xc658cf,await _0x5c2292[_0x5db242(0xd0)]();}else{const _0x53e7a8=_0x32a202[_0x5db242(0x102)][_0x5db242(0xff)],_0x39bf21=await master_shop[_0x5db242(0xc2)]();console[_0x5db242(0xea)]('2nd\x20master_shop_data',_0x39bf21);if(_0x39bf21==null){console['log']('1',_0x3c074b);const _0xab1008=new master_shop({'site_title':_0x3c074b,'image':_0x53e7a8,'currency':_0x11c4b6,'currency_placement':_0x228b6b,'timezone':_0xc658cf}),_0x1536f6=await _0xab1008[_0x5db242(0xd0)]();}else console['log']('2',_0x3c074b),_0x39bf21[_0x5db242(0x100)]=_0x3c074b,_0x39bf21[_0x5db242(0xda)]=_0x53e7a8,_0x39bf21[_0x5db242(0xfa)]=_0x11c4b6,_0x39bf21[_0x5db242(0x10f)]=_0x228b6b,_0x39bf21['timezone']=_0xc658cf,await _0x39bf21[_0x5db242(0xd0)]();}_0x32a202[_0x5db242(0xf6)](_0x5db242(0x10d),'shop\x20setting\x20edit\x20successfully'),_0x2d1982[_0x5db242(0xf7)](_0x5db242(0xe4));}catch(_0x356aa4){console[_0x5db242(0xea)](_0x356aa4);}}),router['get'](a0_0x370859(0xc7),auth,async(_0x405c0b,_0x317ed4)=>{const _0x1f723f=a0_0x370859;try{const {username:_0x54fbea,email:_0x4223f7,role:_0x10eaed}=_0x405c0b[_0x1f723f(0xd2)],_0x3c2eea=_0x405c0b[_0x1f723f(0xd2)],_0x18d71c=await profile[_0x1f723f(0xc2)]({'email':_0x3c2eea['email']}),_0x421c7a=await master_shop['find']();console[_0x1f723f(0xea)]('master',_0x421c7a);const _0x56e240=await email_settings['findOne']();console[_0x1f723f(0xea)](_0x1f723f(0x104),_0x56e240);if(_0x421c7a[0x0]['language']=='English\x20(US)'){var _0x293734=users[_0x1f723f(0xcf)];console[_0x1f723f(0xea)](_0x293734);}else{if(_0x421c7a[0x0][_0x1f723f(0xec)]==_0x1f723f(0x105))var _0x293734=users[_0x1f723f(0x105)];else{if(_0x421c7a[0x0][_0x1f723f(0xec)]=='German')var _0x293734=users[_0x1f723f(0xfe)];else{if(_0x421c7a[0x0]['language']==_0x1f723f(0xe2))var _0x293734=users[_0x1f723f(0xe2)];else{if(_0x421c7a[0x0][_0x1f723f(0xec)]==_0x1f723f(0xf3))var _0x293734=users[_0x1f723f(0xf3)];else{if(_0x421c7a[0x0][_0x1f723f(0xec)]=='Portuguese\x20(BR)')var _0x293734=users[_0x1f723f(0xeb)];else{if(_0x421c7a[0x0][_0x1f723f(0xec)]==_0x1f723f(0xe7))var _0x293734=users[_0x1f723f(0xe7)];else{if(_0x421c7a[0x0][_0x1f723f(0xec)]==_0x1f723f(0xd5))var _0x293734=users[_0x1f723f(0x10a)];}}}}}}}_0x317ed4[_0x1f723f(0xcb)]('email_settings',{'success':_0x405c0b[_0x1f723f(0xf6)](_0x1f723f(0x10d)),'errors':_0x405c0b[_0x1f723f(0xf6)](_0x1f723f(0xef)),'role':_0x3c2eea,'profile':_0x18d71c,'master_shop':_0x421c7a,'email':_0x56e240,'language':_0x293734});}catch(_0x425a87){console[_0x1f723f(0xea)](_0x425a87);}}),router[a0_0x370859(0x108)](a0_0x370859(0xc5),auth,async(_0x523f82,_0x3b4482)=>{const _0x4c2711=a0_0x370859;try{const {host:_0x837c20,port:_0x50ff84,email:_0x436353,password:_0x46d5aa}=_0x523f82['body'],_0x583bd3=await email_settings[_0x4c2711(0xc2)]();if(_0x583bd3==null){const _0x2eb339=new email_settings({'host':_0x837c20,'port':_0x50ff84,'email':_0x436353,'password':_0x46d5aa});await _0x2eb339[_0x4c2711(0xd0)]();}else _0x583bd3[_0x4c2711(0xc6)]=_0x837c20,_0x583bd3[_0x4c2711(0xf2)]=_0x50ff84,_0x583bd3[_0x4c2711(0xc0)]=_0x436353,_0x583bd3[_0x4c2711(0x111)]=_0x46d5aa,await _0x583bd3[_0x4c2711(0xd0)]();_0x523f82['flash'](_0x4c2711(0x10d),'shop\x20setting\x20edit\x20successfully'),_0x3b4482['redirect'](_0x4c2711(0xcc));}catch(_0x1e88c0){console[_0x4c2711(0xea)](_0x1e88c0);}}),router[a0_0x370859(0xd8)](a0_0x370859(0xbb),auth,async(_0x3fcd69,_0x266960)=>{const _0x119976=a0_0x370859;try{const {username:_0x268465,email:_0x29860d,role:_0x5c01df}=_0x3fcd69['user'],_0x76307a=_0x3fcd69['user'],_0x2ddd08=await supervisor_settings[_0x119976(0xd9)](),_0x35dcfb=await profile[_0x119976(0xc2)]({'email':_0x76307a[_0x119976(0xc0)]}),_0x39f546=await master_shop[_0x119976(0xd9)](),_0x507c5a=new Date()[_0x119976(0xcd)]('en-US',{'timeZone':_0x39f546[0x0][_0x119976(0xfb)]});if(_0x39f546[0x0][_0x119976(0xec)]==_0x119976(0xf0)){var _0x3ed233=users['English'];console[_0x119976(0xea)](_0x3ed233);}else{if(_0x39f546[0x0][_0x119976(0xec)]=='Hindi')var _0x3ed233=users['Hindi'];else{if(_0x39f546[0x0][_0x119976(0xec)]==_0x119976(0xfe))var _0x3ed233=users['German'];else{if(_0x39f546[0x0][_0x119976(0xec)]==_0x119976(0xe2))var _0x3ed233=users[_0x119976(0xe2)];else{if(_0x39f546[0x0]['language']==_0x119976(0xf3))var _0x3ed233=users['French'];else{if(_0x39f546[0x0][_0x119976(0xec)]==_0x119976(0xf4))var _0x3ed233=users['Portuguese'];else{if(_0x39f546[0x0][_0x119976(0xec)]=='Chinese')var _0x3ed233=users[_0x119976(0xe7)];else{if(_0x39f546[0x0][_0x119976(0xec)]==_0x119976(0xd5))var _0x3ed233=users[_0x119976(0x10a)];}}}}}}}_0x266960['render'](_0x119976(0xd6),{'success':_0x3fcd69['flash'](_0x119976(0x10d)),'errors':_0x3fcd69['flash'](_0x119976(0xef)),'role':_0x76307a,'profile':_0x35dcfb,'master_shop':_0x39f546,'supervisor_data':_0x2ddd08[0x0],'timezones':timezones,'language':_0x3ed233});}catch(_0x379993){console[_0x119976(0xea)](_0x379993);}}),router['post'](a0_0x370859(0xbb),auth,async(_0x3e8f06,_0x350e99)=>{const _0x276999=a0_0x370859;try{const {rm_name:_0x1819ea,fg_name:_0x588739,rm_email:_0x46d5c9,fg_email:_0x152972,rm_mobilenum:_0x399825,fg_number:_0x4571c7}=_0x3e8f06['body'],_0x35e66d=await supervisor_settings[_0x276999(0xc2)]();if(_0x35e66d==null){const _0x4d1dbd=new supervisor_settings({'RMSName':_0x1819ea,'RMSEmail':_0x46d5c9,'RMSnumber':_0x399825,'FGSName':_0x588739,'FGSEmail':_0x152972,'FGSnumber':_0x4571c7});await _0x4d1dbd[_0x276999(0xd0)]();}else _0x35e66d[_0x276999(0x10b)]=_0x1819ea,_0x35e66d[_0x276999(0xf5)]=_0x46d5c9,_0x35e66d['RMSnumber']=_0x399825,_0x35e66d['FGSName']=_0x588739,_0x35e66d[_0x276999(0x10e)]=_0x152972,_0x35e66d['FGSnumber']=_0x4571c7,await _0x35e66d[_0x276999(0xd0)]();_0x3e8f06[_0x276999(0xf6)](_0x276999(0x10d),_0x276999(0xdf)),_0x350e99[_0x276999(0xf7)](_0x276999(0x106));}catch(_0x2b213c){console['log'](_0x2b213c);}}),router['get'](a0_0x370859(0xed),auth,async(_0x4508b2,_0x5111be)=>{const _0x15b8ed=a0_0x370859;try{const _0x2f703f=_0x4508b2[_0x15b8ed(0xd2)],_0x315a9d=await supervisor_settings[_0x15b8ed(0xd9)](),_0x3af1df=await profile[_0x15b8ed(0xc2)]({'email':_0x2f703f[_0x15b8ed(0xc0)]}),_0x382640=await master_shop[_0x15b8ed(0xd9)](),_0x2bedfa=await discount_volume_db[_0x15b8ed(0xc2)]();if(_0x382640[0x0][_0x15b8ed(0xec)]=='English\x20(US)'){var _0x44bba6=users[_0x15b8ed(0xcf)];console['log'](_0x44bba6);}else{if(_0x382640[0x0]['language']==_0x15b8ed(0x105))var _0x44bba6=users[_0x15b8ed(0x105)];else{if(_0x382640[0x0][_0x15b8ed(0xec)]=='German')var _0x44bba6=users[_0x15b8ed(0xfe)];else{if(_0x382640[0x0][_0x15b8ed(0xec)]==_0x15b8ed(0xe2))var _0x44bba6=users['Spanish'];else{if(_0x382640[0x0][_0x15b8ed(0xec)]==_0x15b8ed(0xf3))var _0x44bba6=users[_0x15b8ed(0xf3)];else{if(_0x382640[0x0]['language']==_0x15b8ed(0xf4))var _0x44bba6=users[_0x15b8ed(0xeb)];else{if(_0x382640[0x0]['language']=='Chinese')var _0x44bba6=users[_0x15b8ed(0xe7)];else{if(_0x382640[0x0][_0x15b8ed(0xec)]==_0x15b8ed(0xd5))var _0x44bba6=users['Arabic'];}}}}}}}_0x5111be[_0x15b8ed(0xcb)]('setup_volume_discount',{'success':_0x4508b2[_0x15b8ed(0xf6)](_0x15b8ed(0x10d)),'errors':_0x4508b2[_0x15b8ed(0xf6)](_0x15b8ed(0xef)),'role':_0x2f703f,'profile':_0x3af1df,'master_shop':_0x382640,'supervisor_data':_0x315a9d[0x0],'language':_0x44bba6,'data':_0x2bedfa});}catch(_0x42096d){}}),router[a0_0x370859(0x108)]('/view_data/edit_volume_set',auth,async(_0x255495,_0x469c34)=>{const _0x1ad097=a0_0x370859;try{const {min_car_edit:_0x287869}=_0x255495[_0x1ad097(0xdb)],_0x15a2ec=await discount_volume_db['findOne']();if(typeof _0x287869==_0x1ad097(0xd4))var _0x4bffdd=[_0x255495[_0x1ad097(0xdb)]['min_car_edit']],_0x37cd16=[_0x255495[_0x1ad097(0xdb)][_0x1ad097(0x107)]],_0x553008=[_0x255495[_0x1ad097(0xdb)][_0x1ad097(0xc9)]];else var _0x4bffdd=[..._0x255495[_0x1ad097(0xdb)][_0x1ad097(0xe6)]],_0x37cd16=[..._0x255495[_0x1ad097(0xdb)][_0x1ad097(0x107)]],_0x553008=[..._0x255495['body'][_0x1ad097(0xc9)]];const _0x1a8a31=_0x4bffdd['map'](_0x588db4=>{return _0x588db4={'min_car':_0x588db4};});_0x37cd16[_0x1ad097(0xfc)]((_0x21bcd6,_0xc77b02)=>{_0x1a8a31[_0xc77b02]['max_car']=_0x21bcd6;}),_0x553008[_0x1ad097(0xfc)]((_0x489d40,_0xd354c6)=>{const _0xaa295c=_0x1ad097;_0x1a8a31[_0xd354c6][_0xaa295c(0xf9)]=_0x489d40;});if(_0x15a2ec==null){const _0x2218a1=new discount_volume_db({'volume_discount':_0x1a8a31});await _0x2218a1[_0x1ad097(0xd0)]();}else _0x15a2ec[_0x1ad097(0xe8)]=_0x1a8a31,await _0x15a2ec[_0x1ad097(0xd0)]();_0x255495[_0x1ad097(0xf6)](_0x1ad097(0x10d),_0x1ad097(0xca)),_0x469c34[_0x1ad097(0xf7)](_0x1ad097(0xe9));}catch(_0x40f412){}}),module[a0_0x370859(0x112)]=router;