const a0_0x3e2e44=a0_0x4ff0;(function(_0x4189e2,_0x49f583){const _0x43957d=a0_0x4ff0,_0x1fbd07=_0x4189e2();while(!![]){try{const _0x7c33ca=parseInt(_0x43957d(0x180))/0x1*(-parseInt(_0x43957d(0x1b5))/0x2)+parseInt(_0x43957d(0x1a5))/0x3*(parseInt(_0x43957d(0x1c6))/0x4)+parseInt(_0x43957d(0x1bf))/0x5*(parseInt(_0x43957d(0x18a))/0x6)+-parseInt(_0x43957d(0x1a9))/0x7+-parseInt(_0x43957d(0x1c2))/0x8+parseInt(_0x43957d(0x17b))/0x9*(parseInt(_0x43957d(0x1b7))/0xa)+parseInt(_0x43957d(0x18c))/0xb*(parseInt(_0x43957d(0x1b9))/0xc);if(_0x7c33ca===_0x49f583)break;else _0x1fbd07['push'](_0x1fbd07['shift']());}catch(_0x48e0a6){_0x1fbd07['push'](_0x1fbd07['shift']());}}}(a0_0x22d1,0xc6c74));const express=require(a0_0x3e2e44(0x1a0)),app=express(),router=express['Router'](),multer=require(a0_0x3e2e44(0x189)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db}=require(a0_0x3e2e44(0x1b8)),auth=require('../middleware/auth');var timezones=require(a0_0x3e2e44(0x19a));function a0_0x4ff0(_0x58a44a,_0xf1afc5){const _0x22d15c=a0_0x22d1();return a0_0x4ff0=function(_0x4ff0e9,_0x29e30a){_0x4ff0e9=_0x4ff0e9-0x175;let _0x1db3f4=_0x22d15c[_0x4ff0e9];return _0x1db3f4;},a0_0x4ff0(_0x58a44a,_0xf1afc5);}const users=require(a0_0x3e2e44(0x1c3)),storage=multer[a0_0x3e2e44(0x192)]({'destination':(_0x24785c,_0x231826,_0x2e8c7a)=>{const _0x1cded6=a0_0x3e2e44;_0x2e8c7a(null,_0x1cded6(0x19d));},'filename':(_0x586011,_0x513f70,_0x261f0d)=>{const _0x39eb06=a0_0x3e2e44;_0x261f0d(null,Date[_0x39eb06(0x1b1)]()+_0x513f70[_0x39eb06(0x184)]);}}),upload=multer({'storage':storage});function a0_0x22d1(){const _0x318959=['../public/language/languages.json','email_settings','currency','2364476wYhLDv','render','Volume\x20Discount\x20modified\x20successfully','English\x20(US)','currency_placement','language','toLocaleString','German','save','master_shop_data','Hindi','findOne','Spanish','26451NaiRhw','English','Portuguese\x20(BR)','setup_volume_discount','RMSEmail','8926CxJJoc','2nd\x20master_shop_data','/view','Arabic','originalname','min_car_edit','flash','exports','string','multer','804cQuBYw','/view/edit_settings','77hFNfKj','email','params','file','map','success','diskStorage','timezone','/view/email/edit_settings','discount_price_edit','master_settings','user','/:id','discount_price','timezones-list','find','FGSName','./public/upload','port','Portuguese','express','body','image','host','Chinese','3WjiKpK','get','supervisor_settings','max_car_edit','7998046xTxfVy','FGSnumber','/view_data/edit_volume_set','shop\x20setting\x20edit\x20successfully','/view/email','errors','/master_shop/view/supervisors','forEach','now','redirect','Arabic\x20(ae)','French','172UzoZPQ','FGSEmail','1510hopNks','../models/all_models','4012176gjYaZp','log','password','site_title','master','post','24495kQlfAL','volume_discount','master\x20settings\x20email_data','10459200MmtTBs'];a0_0x22d1=function(){return _0x318959;};return a0_0x22d1();}router[a0_0x3e2e44(0x1a6)](a0_0x3e2e44(0x182),auth,async(_0x1fde4d,_0x427f85)=>{const _0x4773a7=a0_0x3e2e44;try{const {username:_0x185e02,email:_0x28071f,role:_0x4a9caa}=_0x1fde4d[_0x4773a7(0x197)],_0x4f9047=_0x1fde4d[_0x4773a7(0x197)],_0x260efa=await profile[_0x4773a7(0x179)]({'email':_0x4f9047[_0x4773a7(0x18d)]}),_0x1f1ec4=await master_shop['find']();console[_0x4773a7(0x1ba)](_0x4773a7(0x1bd),_0x1f1ec4);const _0x3ba9ea=new Date()[_0x4773a7(0x1cc)]('en-US',{'timeZone':_0x1f1ec4[0x0][_0x4773a7(0x193)]});console[_0x4773a7(0x1ba)]('timezone',_0x3ba9ea);if(_0x1f1ec4[0x0][_0x4773a7(0x1cb)]==_0x4773a7(0x1c9)){var _0x514d02=users[_0x4773a7(0x17c)];console[_0x4773a7(0x1ba)](_0x514d02);}else{if(_0x1f1ec4[0x0][_0x4773a7(0x1cb)]==_0x4773a7(0x178))var _0x514d02=users['Hindi'];else{if(_0x1f1ec4[0x0]['language']==_0x4773a7(0x175))var _0x514d02=users[_0x4773a7(0x175)];else{if(_0x1f1ec4[0x0]['language']=='Spanish')var _0x514d02=users['Spanish'];else{if(_0x1f1ec4[0x0][_0x4773a7(0x1cb)]=='French')var _0x514d02=users[_0x4773a7(0x1b4)];else{if(_0x1f1ec4[0x0][_0x4773a7(0x1cb)]==_0x4773a7(0x17d))var _0x514d02=users[_0x4773a7(0x19f)];else{if(_0x1f1ec4[0x0][_0x4773a7(0x1cb)]==_0x4773a7(0x1a4))var _0x514d02=users[_0x4773a7(0x1a4)];else{if(_0x1f1ec4[0x0][_0x4773a7(0x1cb)]==_0x4773a7(0x1b3))var _0x514d02=users[_0x4773a7(0x183)];}}}}}}}_0x427f85[_0x4773a7(0x1c7)](_0x4773a7(0x196),{'success':_0x1fde4d[_0x4773a7(0x186)]('success'),'errors':_0x1fde4d[_0x4773a7(0x186)](_0x4773a7(0x1ae)),'role':_0x4f9047,'profile':_0x260efa,'master_shop':_0x1f1ec4,'timezones':timezones,'language':_0x514d02});}catch(_0x23f26f){console[_0x4773a7(0x1ba)](_0x23f26f);}}),router[a0_0x3e2e44(0x1a6)](a0_0x3e2e44(0x198),auth,async(_0x573af8,_0x47468d)=>{const _0xc77a21=a0_0x3e2e44;try{console[_0xc77a21(0x1ba)](_0xc77a21(0x1cb)),console['log'](_0x573af8['params']['id']);const _0x1249f2=await master_shop[_0xc77a21(0x179)]();_0x1249f2['language']=_0x573af8[_0xc77a21(0x18e)]['id'],await _0x1249f2[_0xc77a21(0x176)](),console[_0xc77a21(0x1ba)]('master',_0x1249f2);}catch(_0x42b7f4){console['log'](_0x42b7f4);}}),router[a0_0x3e2e44(0x1be)](a0_0x3e2e44(0x18b),auth,upload['single'](a0_0x3e2e44(0x1a2)),async(_0x531b02,_0x4ae3d1)=>{const _0x379a95=a0_0x3e2e44;try{const {site_title:_0x2432b1,currency:_0x10d699,currency_placement:_0x5c1af0,timezone:_0x46676a}=_0x531b02['body'];if(_0x531b02['body']['hidden']==0x0){const _0x3cb6d6=await master_shop[_0x379a95(0x179)]();console['log'](_0x379a95(0x177),_0x3cb6d6);if(_0x3cb6d6==''){const _0x3da255=new master_shop({'site_title':_0x2432b1,'image':image,'currency':_0x10d699,'currency_placement':_0x5c1af0,'timezone':_0x46676a}),_0x839545=await _0x3da255[_0x379a95(0x176)]();}else _0x3cb6d6[_0x379a95(0x1bc)]=_0x2432b1,_0x3cb6d6[_0x379a95(0x1c5)]=_0x10d699,_0x3cb6d6['currency_placement']=_0x5c1af0,_0x3cb6d6[_0x379a95(0x193)]=_0x46676a,await _0x3cb6d6[_0x379a95(0x176)]();}else{const _0x2561c1=_0x531b02[_0x379a95(0x18f)]['filename'],_0x30fa5a=await master_shop[_0x379a95(0x179)]();console[_0x379a95(0x1ba)](_0x379a95(0x181),_0x30fa5a);if(_0x30fa5a==null){console[_0x379a95(0x1ba)]('1',_0x2432b1);const _0x5e3db1=new master_shop({'site_title':_0x2432b1,'image':_0x2561c1,'currency':_0x10d699,'currency_placement':_0x5c1af0,'timezone':_0x46676a}),_0x1f805d=await _0x5e3db1[_0x379a95(0x176)]();}else console[_0x379a95(0x1ba)]('2',_0x2432b1),_0x30fa5a[_0x379a95(0x1bc)]=_0x2432b1,_0x30fa5a[_0x379a95(0x1a2)]=_0x2561c1,_0x30fa5a[_0x379a95(0x1c5)]=_0x10d699,_0x30fa5a[_0x379a95(0x1ca)]=_0x5c1af0,_0x30fa5a[_0x379a95(0x193)]=_0x46676a,await _0x30fa5a[_0x379a95(0x176)]();}_0x531b02[_0x379a95(0x186)]('success',_0x379a95(0x1ac)),_0x4ae3d1[_0x379a95(0x1b2)]('/master_shop/view');}catch(_0x288999){console['log'](_0x288999);}}),router[a0_0x3e2e44(0x1a6)](a0_0x3e2e44(0x1ad),auth,async(_0x4e0428,_0x2ff995)=>{const _0x595d70=a0_0x3e2e44;try{const {username:_0x27bd4f,email:_0x293aff,role:_0xc478b9}=_0x4e0428['user'],_0x281de8=_0x4e0428[_0x595d70(0x197)],_0x16e7fa=await profile['findOne']({'email':_0x281de8['email']}),_0x2647a4=await master_shop['find']();console[_0x595d70(0x1ba)]('master',_0x2647a4);const _0x2d3a7b=await email_settings[_0x595d70(0x179)]();console[_0x595d70(0x1ba)](_0x595d70(0x1c1),_0x2d3a7b);if(_0x2647a4[0x0][_0x595d70(0x1cb)]==_0x595d70(0x1c9)){var _0x1effbd=users[_0x595d70(0x17c)];console['log'](_0x1effbd);}else{if(_0x2647a4[0x0][_0x595d70(0x1cb)]=='Hindi')var _0x1effbd=users[_0x595d70(0x178)];else{if(_0x2647a4[0x0]['language']==_0x595d70(0x175))var _0x1effbd=users[_0x595d70(0x175)];else{if(_0x2647a4[0x0]['language']==_0x595d70(0x17a))var _0x1effbd=users[_0x595d70(0x17a)];else{if(_0x2647a4[0x0][_0x595d70(0x1cb)]==_0x595d70(0x1b4))var _0x1effbd=users[_0x595d70(0x1b4)];else{if(_0x2647a4[0x0]['language']=='Portuguese\x20(BR)')var _0x1effbd=users['Portuguese'];else{if(_0x2647a4[0x0][_0x595d70(0x1cb)]==_0x595d70(0x1a4))var _0x1effbd=users[_0x595d70(0x1a4)];else{if(_0x2647a4[0x0][_0x595d70(0x1cb)]==_0x595d70(0x1b3))var _0x1effbd=users['Arabic'];}}}}}}}_0x2ff995[_0x595d70(0x1c7)](_0x595d70(0x1c4),{'success':_0x4e0428[_0x595d70(0x186)]('success'),'errors':_0x4e0428['flash'](_0x595d70(0x1ae)),'role':_0x281de8,'profile':_0x16e7fa,'master_shop':_0x2647a4,'email':_0x2d3a7b,'language':_0x1effbd});}catch(_0x3e0d76){console[_0x595d70(0x1ba)](_0x3e0d76);}}),router[a0_0x3e2e44(0x1be)](a0_0x3e2e44(0x194),auth,async(_0x3302e2,_0x46cfef)=>{const _0x34ad5d=a0_0x3e2e44;try{const {host:_0x84d725,port:_0x14b00e,email:_0x115aac,password:_0x358f14}=_0x3302e2[_0x34ad5d(0x1a1)],_0x1f7425=await email_settings['findOne']();if(_0x1f7425==null){const _0x439fe7=new email_settings({'host':_0x84d725,'port':_0x14b00e,'email':_0x115aac,'password':_0x358f14});await _0x439fe7[_0x34ad5d(0x176)]();}else _0x1f7425[_0x34ad5d(0x1a3)]=_0x84d725,_0x1f7425[_0x34ad5d(0x19e)]=_0x14b00e,_0x1f7425[_0x34ad5d(0x18d)]=_0x115aac,_0x1f7425[_0x34ad5d(0x1bb)]=_0x358f14,await _0x1f7425[_0x34ad5d(0x176)]();_0x3302e2['flash']('success',_0x34ad5d(0x1ac)),_0x46cfef[_0x34ad5d(0x1b2)]('/master_shop/view/email');}catch(_0x419bf5){console[_0x34ad5d(0x1ba)](_0x419bf5);}}),router['get']('/view/supervisors',auth,async(_0x2534be,_0x1a623a)=>{const _0x2baf0e=a0_0x3e2e44;try{const {username:_0x461308,email:_0x2658d4,role:_0x220b52}=_0x2534be['user'],_0x1c2362=_0x2534be[_0x2baf0e(0x197)],_0x392028=await supervisor_settings[_0x2baf0e(0x19b)](),_0xa93a02=await profile['findOne']({'email':_0x1c2362['email']}),_0x400464=await master_shop[_0x2baf0e(0x19b)](),_0x41584c=new Date()[_0x2baf0e(0x1cc)]('en-US',{'timeZone':_0x400464[0x0]['timezone']});if(_0x400464[0x0][_0x2baf0e(0x1cb)]=='English\x20(US)'){var _0x15149c=users[_0x2baf0e(0x17c)];console[_0x2baf0e(0x1ba)](_0x15149c);}else{if(_0x400464[0x0]['language']==_0x2baf0e(0x178))var _0x15149c=users[_0x2baf0e(0x178)];else{if(_0x400464[0x0][_0x2baf0e(0x1cb)]==_0x2baf0e(0x175))var _0x15149c=users['German'];else{if(_0x400464[0x0][_0x2baf0e(0x1cb)]==_0x2baf0e(0x17a))var _0x15149c=users[_0x2baf0e(0x17a)];else{if(_0x400464[0x0][_0x2baf0e(0x1cb)]=='French')var _0x15149c=users[_0x2baf0e(0x1b4)];else{if(_0x400464[0x0]['language']=='Portuguese\x20(BR)')var _0x15149c=users[_0x2baf0e(0x19f)];else{if(_0x400464[0x0]['language']==_0x2baf0e(0x1a4))var _0x15149c=users['Chinese'];else{if(_0x400464[0x0]['language']=='Arabic\x20(ae)')var _0x15149c=users[_0x2baf0e(0x183)];}}}}}}}_0x1a623a[_0x2baf0e(0x1c7)](_0x2baf0e(0x1a7),{'success':_0x2534be[_0x2baf0e(0x186)](_0x2baf0e(0x191)),'errors':_0x2534be[_0x2baf0e(0x186)](_0x2baf0e(0x1ae)),'role':_0x1c2362,'profile':_0xa93a02,'master_shop':_0x400464,'supervisor_data':_0x392028[0x0],'timezones':timezones,'language':_0x15149c});}catch(_0x2d3274){console[_0x2baf0e(0x1ba)](_0x2d3274);}}),router['post']('/view/supervisors',auth,async(_0x5bfdfd,_0x57a61d)=>{const _0x2c3516=a0_0x3e2e44;try{const {rm_name:_0x4b4ece,fg_name:_0x3c85f6,rm_email:_0x35e212,fg_email:_0x3865b4,rm_mobilenum:_0x1004c4,fg_number:_0x30aba9}=_0x5bfdfd['body'],_0x2f69d6=await supervisor_settings['findOne']();if(_0x2f69d6==null){const _0x9764b4=new supervisor_settings({'RMSName':_0x4b4ece,'RMSEmail':_0x35e212,'RMSnumber':_0x1004c4,'FGSName':_0x3c85f6,'FGSEmail':_0x3865b4,'FGSnumber':_0x30aba9});await _0x9764b4[_0x2c3516(0x176)]();}else _0x2f69d6['RMSName']=_0x4b4ece,_0x2f69d6[_0x2c3516(0x17f)]=_0x35e212,_0x2f69d6['RMSnumber']=_0x1004c4,_0x2f69d6[_0x2c3516(0x19c)]=_0x3c85f6,_0x2f69d6[_0x2c3516(0x1b6)]=_0x3865b4,_0x2f69d6[_0x2c3516(0x1aa)]=_0x30aba9,await _0x2f69d6['save']();_0x5bfdfd['flash'](_0x2c3516(0x191),_0x2c3516(0x1ac)),_0x57a61d['redirect'](_0x2c3516(0x1af));}catch(_0x33b9cf){console[_0x2c3516(0x1ba)](_0x33b9cf);}}),router[a0_0x3e2e44(0x1a6)]('/view_data/volume_set',auth,async(_0xdc0a04,_0x280dc1)=>{const _0x3c412a=a0_0x3e2e44;try{const _0x416df4=_0xdc0a04[_0x3c412a(0x197)],_0x54cd48=await supervisor_settings[_0x3c412a(0x19b)](),_0x51039d=await profile['findOne']({'email':_0x416df4[_0x3c412a(0x18d)]}),_0x5803db=await master_shop[_0x3c412a(0x19b)](),_0x4dca2e=await discount_volume_db[_0x3c412a(0x179)]();if(_0x5803db[0x0][_0x3c412a(0x1cb)]==_0x3c412a(0x1c9)){var _0x149d4d=users[_0x3c412a(0x17c)];console[_0x3c412a(0x1ba)](_0x149d4d);}else{if(_0x5803db[0x0][_0x3c412a(0x1cb)]=='Hindi')var _0x149d4d=users['Hindi'];else{if(_0x5803db[0x0][_0x3c412a(0x1cb)]==_0x3c412a(0x175))var _0x149d4d=users[_0x3c412a(0x175)];else{if(_0x5803db[0x0]['language']=='Spanish')var _0x149d4d=users[_0x3c412a(0x17a)];else{if(_0x5803db[0x0][_0x3c412a(0x1cb)]==_0x3c412a(0x1b4))var _0x149d4d=users[_0x3c412a(0x1b4)];else{if(_0x5803db[0x0][_0x3c412a(0x1cb)]==_0x3c412a(0x17d))var _0x149d4d=users[_0x3c412a(0x19f)];else{if(_0x5803db[0x0][_0x3c412a(0x1cb)]==_0x3c412a(0x1a4))var _0x149d4d=users[_0x3c412a(0x1a4)];else{if(_0x5803db[0x0][_0x3c412a(0x1cb)]==_0x3c412a(0x1b3))var _0x149d4d=users[_0x3c412a(0x183)];}}}}}}}_0x280dc1[_0x3c412a(0x1c7)](_0x3c412a(0x17e),{'success':_0xdc0a04[_0x3c412a(0x186)]('success'),'errors':_0xdc0a04[_0x3c412a(0x186)](_0x3c412a(0x1ae)),'role':_0x416df4,'profile':_0x51039d,'master_shop':_0x5803db,'supervisor_data':_0x54cd48[0x0],'language':_0x149d4d,'data':_0x4dca2e});}catch(_0x70aabf){}}),router[a0_0x3e2e44(0x1be)](a0_0x3e2e44(0x1ab),auth,async(_0x3659c7,_0x371cea)=>{const _0x318ade=a0_0x3e2e44;try{const {min_car_edit:_0x4a040e}=_0x3659c7[_0x318ade(0x1a1)],_0x5e9a9e=await discount_volume_db[_0x318ade(0x179)]();if(typeof _0x4a040e==_0x318ade(0x188))var _0x5ad224=[_0x3659c7[_0x318ade(0x1a1)][_0x318ade(0x185)]],_0x7d6ee8=[_0x3659c7['body'][_0x318ade(0x1a8)]],_0x5e4665=[_0x3659c7[_0x318ade(0x1a1)]['discount_price_edit']];else var _0x5ad224=[..._0x3659c7['body'][_0x318ade(0x185)]],_0x7d6ee8=[..._0x3659c7['body']['max_car_edit']],_0x5e4665=[..._0x3659c7[_0x318ade(0x1a1)][_0x318ade(0x195)]];const _0x53a64d=_0x5ad224[_0x318ade(0x190)](_0x3c5626=>{return _0x3c5626={'min_car':_0x3c5626};});_0x7d6ee8[_0x318ade(0x1b0)]((_0x4d855c,_0x18133d)=>{_0x53a64d[_0x18133d]['max_car']=_0x4d855c;}),_0x5e4665[_0x318ade(0x1b0)]((_0x395ec0,_0x110d35)=>{const _0x4d8e15=_0x318ade;_0x53a64d[_0x110d35][_0x4d8e15(0x199)]=_0x395ec0;});if(_0x5e9a9e==null){const _0x5da8f7=new discount_volume_db({'volume_discount':_0x53a64d});await _0x5da8f7['save']();}else _0x5e9a9e[_0x318ade(0x1c0)]=_0x53a64d,await _0x5e9a9e['save']();_0x3659c7[_0x318ade(0x186)](_0x318ade(0x191),_0x318ade(0x1c8)),_0x371cea[_0x318ade(0x1b2)]('/master_shop/view_data/volume_set');}catch(_0x1297a2){}}),module[a0_0x3e2e44(0x187)]=router;