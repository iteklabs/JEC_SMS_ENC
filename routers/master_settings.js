const a0_0x4db30f=a0_0x2904;function a0_0x2904(_0x197e5d,_0x30d5fd){const _0x4d5c37=a0_0x4d5c();return a0_0x2904=function(_0x2904ec,_0x4b95e5){_0x2904ec=_0x2904ec-0xa7;let _0x358d3e=_0x4d5c37[_0x2904ec];return _0x358d3e;},a0_0x2904(_0x197e5d,_0x30d5fd);}(function(_0x1a7e65,_0x315151){const _0x4bcf38=a0_0x2904,_0x355cf7=_0x1a7e65();while(!![]){try{const _0x48ac77=parseInt(_0x4bcf38(0xd5))/0x1+-parseInt(_0x4bcf38(0xaa))/0x2+parseInt(_0x4bcf38(0xc4))/0x3*(parseInt(_0x4bcf38(0xb2))/0x4)+-parseInt(_0x4bcf38(0x100))/0x5+parseInt(_0x4bcf38(0xfb))/0x6+-parseInt(_0x4bcf38(0xc6))/0x7+-parseInt(_0x4bcf38(0x10d))/0x8*(-parseInt(_0x4bcf38(0x11a))/0x9);if(_0x48ac77===_0x315151)break;else _0x355cf7['push'](_0x355cf7['shift']());}catch(_0x205e85){_0x355cf7['push'](_0x355cf7['shift']());}}}(a0_0x4d5c,0x6c429));const express=require(a0_0x4db30f(0xff)),app=express(),router=express['Router'](),multer=require(a0_0x4db30f(0x123)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db,warehouse_validation_setup,warehouse,product}=require('../models/all_models'),auth=require(a0_0x4db30f(0xb7));var timezones=require('timezones-list');const users=require('../public/language/languages.json'),mongoose=require(a0_0x4db30f(0xfc)),PDFDocument=require(a0_0x4db30f(0xe4)),{Canvas}=require(a0_0x4db30f(0xf5)),JsBarcode=require('jsbarcode'),storage=multer[a0_0x4db30f(0x103)]({'destination':(_0x4e5cc3,_0x40393e,_0x376008)=>{const _0x133fd9=a0_0x4db30f;_0x376008(null,_0x133fd9(0xd0));},'filename':(_0x56dd40,_0x38c136,_0xc01ef8)=>{const _0x5bcabe=a0_0x4db30f;_0xc01ef8(null,Date[_0x5bcabe(0xd7)]()+_0x38c136[_0x5bcabe(0xbe)]);}}),upload=multer({'storage':storage});function a0_0x4d5c(){const _0x497492=['/view_data/edit/:id','Bin\x20validation\x20success','pdfkit-table','Portuguese','toLocaleString','/view/supervisors','language','/room_edit','/view_data/print','findOne','get','$_id','hidden','filename','height','Volume\x20Discount\x20modified\x20successfully','aggregate','/master_shop/view_data/edit/','/:id','canvas','RMSEmail','Chinese','max_data','body','errors','4916070jPJjzT','mongoose','Hindi','map','express','2674985ZnyUhg','end','save','diskStorage','min','min_data','width','length','findById','json','file','max_car_edit','toString','24ZpoJWf','user','_id','exports','$room','email','/room','find','English','post','success','currency_placement','params','651690kCtlVD','volume_discount','product_name','email_settings','push','product_id','Enabled','setup_warehouse_bin_edit','Bin\x20Location\x20Validation\x20update\x20successfully','multer','product_data','supervisor_settings','2nd\x20master_shop_data','Types','match','log','ObjectId','setup_warehouse_bin','split','RMSnumber','site_title','flash','/view/email/edit_settings','Spanish','896348joiCAb','min_car_edit','Arabic','bind','image','/master_shop/view_data/volume_set','data','render','60840Dwvmxs','Portuguese\x20(BR)','English\x20(US)','FGSEmail','toBuffer','../middleware/auth','/view_data/warehouse_valid/add','warehouse_id','currency','/view_data/volume_set','/get_product','shop\x20setting\x20edit\x20successfully','originalname','discount_price_edit','port','room','warehouse_name','forEach','141cIjTJH','timezone','6177689Gfvdtk','master_settings','bin','German','/view','redirect','host','max_car','concat','master\x20settings\x20email_data','./public/upload','prod_code','prod_name','$warehouse_id','$name','557686sUsdZa','FGSnumber','now','bay','Arabic\x20(ae)','master','setup_warehouse_bin_add','/view_data/warehouse_valid','/view/edit_settings','French','string','setup_volume_discount','addPage'];a0_0x4d5c=function(){return _0x497492;};return a0_0x4d5c();}router[a0_0x4db30f(0xec)](a0_0x4db30f(0xca),auth,async(_0x53f6be,_0x474a54)=>{const _0x11c5e7=a0_0x4db30f;try{const {username:_0x273443,email:_0x15c011,role:_0x4c3771}=_0x53f6be['user'],_0x4b1efa=_0x53f6be[_0x11c5e7(0x10e)],_0x248de7=await profile[_0x11c5e7(0xeb)]({'email':_0x4b1efa['email']}),_0x4fe7b7=await master_shop[_0x11c5e7(0x114)]();console['log'](_0x11c5e7(0xda),_0x4fe7b7);const _0x37b798=new Date()['toLocaleString']('en-US',{'timeZone':_0x4fe7b7[0x0][_0x11c5e7(0xc5)]});console[_0x11c5e7(0x129)](_0x11c5e7(0xc5),_0x37b798);if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]=='English\x20(US)'){var _0x174dc0=users[_0x11c5e7(0x115)];console['log'](_0x174dc0);}else{if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]==_0x11c5e7(0xfd))var _0x174dc0=users[_0x11c5e7(0xfd)];else{if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]==_0x11c5e7(0xc9))var _0x174dc0=users['German'];else{if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]=='Spanish')var _0x174dc0=users['Spanish'];else{if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]==_0x11c5e7(0xde))var _0x174dc0=users['French'];else{if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]=='Portuguese\x20(BR)')var _0x174dc0=users[_0x11c5e7(0xe5)];else{if(_0x4fe7b7[0x0][_0x11c5e7(0xe8)]=='Chinese')var _0x174dc0=users[_0x11c5e7(0xf7)];else{if(_0x4fe7b7[0x0]['language']==_0x11c5e7(0xd9))var _0x174dc0=users[_0x11c5e7(0xac)];}}}}}}}_0x474a54[_0x11c5e7(0xb1)](_0x11c5e7(0xc7),{'success':_0x53f6be['flash'](_0x11c5e7(0x117)),'errors':_0x53f6be[_0x11c5e7(0xa7)](_0x11c5e7(0xfa)),'role':_0x4b1efa,'profile':_0x248de7,'master_shop':_0x4fe7b7,'timezones':timezones,'language':_0x174dc0});}catch(_0x5e8c50){console[_0x11c5e7(0x129)](_0x5e8c50);}}),router[a0_0x4db30f(0xec)](a0_0x4db30f(0xf4),auth,async(_0xd7abb6,_0x256b77)=>{const _0x5449fc=a0_0x4db30f;try{console[_0x5449fc(0x129)](_0x5449fc(0xe8)),console[_0x5449fc(0x129)](_0xd7abb6[_0x5449fc(0x119)]['id']);const _0x188805=await master_shop[_0x5449fc(0xeb)]();_0x188805['language']=_0xd7abb6['params']['id'],await _0x188805[_0x5449fc(0x102)](),console[_0x5449fc(0x129)](_0x5449fc(0xda),_0x188805);}catch(_0x512169){console[_0x5449fc(0x129)](_0x512169);}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0xdd),auth,upload['single']('image'),async(_0x5e47cc,_0x154ade)=>{const _0x2e85f0=a0_0x4db30f;try{const {site_title:_0x442fb7,currency:_0x1e1eca,currency_placement:_0xd4ff9,timezone:_0xc2967d}=_0x5e47cc[_0x2e85f0(0xf9)];if(_0x5e47cc['body'][_0x2e85f0(0xee)]==0x0){const _0x22658a=await master_shop['findOne']();console[_0x2e85f0(0x129)]('master_shop_data',_0x22658a);if(_0x22658a==''){const _0x502b60=new master_shop({'site_title':_0x442fb7,'image':image,'currency':_0x1e1eca,'currency_placement':_0xd4ff9,'timezone':_0xc2967d}),_0x53cd15=await _0x502b60[_0x2e85f0(0x102)]();}else _0x22658a[_0x2e85f0(0x12e)]=_0x442fb7,_0x22658a['currency']=_0x1e1eca,_0x22658a[_0x2e85f0(0x118)]=_0xd4ff9,_0x22658a[_0x2e85f0(0xc5)]=_0xc2967d,await _0x22658a[_0x2e85f0(0x102)]();}else{const _0x1bcbae=_0x5e47cc[_0x2e85f0(0x10a)][_0x2e85f0(0xef)],_0x59f2bb=await master_shop[_0x2e85f0(0xeb)]();console[_0x2e85f0(0x129)](_0x2e85f0(0x126),_0x59f2bb);if(_0x59f2bb==null){console[_0x2e85f0(0x129)]('1',_0x442fb7);const _0x52669d=new master_shop({'site_title':_0x442fb7,'image':_0x1bcbae,'currency':_0x1e1eca,'currency_placement':_0xd4ff9,'timezone':_0xc2967d}),_0x4e7d44=await _0x52669d[_0x2e85f0(0x102)]();}else console[_0x2e85f0(0x129)]('2',_0x442fb7),_0x59f2bb[_0x2e85f0(0x12e)]=_0x442fb7,_0x59f2bb[_0x2e85f0(0xae)]=_0x1bcbae,_0x59f2bb[_0x2e85f0(0xba)]=_0x1e1eca,_0x59f2bb[_0x2e85f0(0x118)]=_0xd4ff9,_0x59f2bb['timezone']=_0xc2967d,await _0x59f2bb['save']();}_0x5e47cc[_0x2e85f0(0xa7)](_0x2e85f0(0x117),_0x2e85f0(0xbd)),_0x154ade[_0x2e85f0(0xcb)]('/master_shop/view');}catch(_0x19151e){console[_0x2e85f0(0x129)](_0x19151e);}}),router[a0_0x4db30f(0xec)]('/view/email',auth,async(_0x4438d9,_0x1ea9a7)=>{const _0x47566a=a0_0x4db30f;try{const {username:_0x8db790,email:_0x4a1be4,role:_0x4b95a2}=_0x4438d9[_0x47566a(0x10e)],_0x1aae21=_0x4438d9[_0x47566a(0x10e)],_0x2c42b9=await profile[_0x47566a(0xeb)]({'email':_0x1aae21[_0x47566a(0x112)]}),_0x2d2657=await master_shop[_0x47566a(0x114)]();console[_0x47566a(0x129)]('master',_0x2d2657);const _0x3a3b04=await email_settings[_0x47566a(0xeb)]();console[_0x47566a(0x129)](_0x47566a(0xcf),_0x3a3b04);if(_0x2d2657[0x0][_0x47566a(0xe8)]==_0x47566a(0xb4)){var _0x546ed7=users[_0x47566a(0x115)];console[_0x47566a(0x129)](_0x546ed7);}else{if(_0x2d2657[0x0][_0x47566a(0xe8)]==_0x47566a(0xfd))var _0x546ed7=users[_0x47566a(0xfd)];else{if(_0x2d2657[0x0]['language']==_0x47566a(0xc9))var _0x546ed7=users['German'];else{if(_0x2d2657[0x0]['language']==_0x47566a(0xa9))var _0x546ed7=users[_0x47566a(0xa9)];else{if(_0x2d2657[0x0][_0x47566a(0xe8)]=='French')var _0x546ed7=users[_0x47566a(0xde)];else{if(_0x2d2657[0x0][_0x47566a(0xe8)]=='Portuguese\x20(BR)')var _0x546ed7=users[_0x47566a(0xe5)];else{if(_0x2d2657[0x0][_0x47566a(0xe8)]==_0x47566a(0xf7))var _0x546ed7=users[_0x47566a(0xf7)];else{if(_0x2d2657[0x0]['language']=='Arabic\x20(ae)')var _0x546ed7=users[_0x47566a(0xac)];}}}}}}}_0x1ea9a7[_0x47566a(0xb1)](_0x47566a(0x11d),{'success':_0x4438d9[_0x47566a(0xa7)](_0x47566a(0x117)),'errors':_0x4438d9[_0x47566a(0xa7)]('errors'),'role':_0x1aae21,'profile':_0x2c42b9,'master_shop':_0x2d2657,'email':_0x3a3b04,'language':_0x546ed7});}catch(_0x45b7df){console['log'](_0x45b7df);}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0xa8),auth,async(_0x1cc68c,_0x15ae37)=>{const _0x4b498c=a0_0x4db30f;try{const {host:_0x47cf85,port:_0x463599,email:_0x528fe3,password:_0x352652}=_0x1cc68c[_0x4b498c(0xf9)],_0x1113f0=await email_settings['findOne']();if(_0x1113f0==null){const _0x4aaa8e=new email_settings({'host':_0x47cf85,'port':_0x463599,'email':_0x528fe3,'password':_0x352652});await _0x4aaa8e[_0x4b498c(0x102)]();}else _0x1113f0[_0x4b498c(0xcc)]=_0x47cf85,_0x1113f0[_0x4b498c(0xc0)]=_0x463599,_0x1113f0[_0x4b498c(0x112)]=_0x528fe3,_0x1113f0['password']=_0x352652,await _0x1113f0[_0x4b498c(0x102)]();_0x1cc68c[_0x4b498c(0xa7)](_0x4b498c(0x117),'shop\x20setting\x20edit\x20successfully'),_0x15ae37[_0x4b498c(0xcb)]('/master_shop/view/email');}catch(_0x3af12e){console[_0x4b498c(0x129)](_0x3af12e);}}),router['get'](a0_0x4db30f(0xe7),auth,async(_0x376359,_0x252f76)=>{const _0x1ff2d9=a0_0x4db30f;try{const {username:_0x316f24,email:_0x332b8f,role:_0x1bace6}=_0x376359[_0x1ff2d9(0x10e)],_0x36b330=_0x376359[_0x1ff2d9(0x10e)],_0x28c4ea=await supervisor_settings['find'](),_0x455ab1=await profile[_0x1ff2d9(0xeb)]({'email':_0x36b330[_0x1ff2d9(0x112)]}),_0x2e98c3=await master_shop[_0x1ff2d9(0x114)](),_0x18eace=new Date()[_0x1ff2d9(0xe6)]('en-US',{'timeZone':_0x2e98c3[0x0][_0x1ff2d9(0xc5)]});if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]==_0x1ff2d9(0xb4)){var _0x197b55=users[_0x1ff2d9(0x115)];console['log'](_0x197b55);}else{if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]=='Hindi')var _0x197b55=users[_0x1ff2d9(0xfd)];else{if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]==_0x1ff2d9(0xc9))var _0x197b55=users[_0x1ff2d9(0xc9)];else{if(_0x2e98c3[0x0]['language']=='Spanish')var _0x197b55=users[_0x1ff2d9(0xa9)];else{if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]==_0x1ff2d9(0xde))var _0x197b55=users[_0x1ff2d9(0xde)];else{if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]=='Portuguese\x20(BR)')var _0x197b55=users[_0x1ff2d9(0xe5)];else{if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]==_0x1ff2d9(0xf7))var _0x197b55=users[_0x1ff2d9(0xf7)];else{if(_0x2e98c3[0x0][_0x1ff2d9(0xe8)]==_0x1ff2d9(0xd9))var _0x197b55=users['Arabic'];}}}}}}}_0x252f76[_0x1ff2d9(0xb1)](_0x1ff2d9(0x125),{'success':_0x376359[_0x1ff2d9(0xa7)]('success'),'errors':_0x376359[_0x1ff2d9(0xa7)](_0x1ff2d9(0xfa)),'role':_0x36b330,'profile':_0x455ab1,'master_shop':_0x2e98c3,'supervisor_data':_0x28c4ea[0x0],'timezones':timezones,'language':_0x197b55});}catch(_0x4a0afc){console['log'](_0x4a0afc);}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0xe7),auth,async(_0x3f8fac,_0x2d72b6)=>{const _0x5056ec=a0_0x4db30f;try{const {rm_name:_0x188ba0,fg_name:_0x57808e,rm_email:_0x3d6268,fg_email:_0x5525e5,rm_mobilenum:_0x2ef550,fg_number:_0x4eb386}=_0x3f8fac[_0x5056ec(0xf9)],_0x54566f=await supervisor_settings[_0x5056ec(0xeb)]();if(_0x54566f==null){const _0x31d5e8=new supervisor_settings({'RMSName':_0x188ba0,'RMSEmail':_0x3d6268,'RMSnumber':_0x2ef550,'FGSName':_0x57808e,'FGSEmail':_0x5525e5,'FGSnumber':_0x4eb386});await _0x31d5e8['save']();}else _0x54566f['RMSName']=_0x188ba0,_0x54566f[_0x5056ec(0xf6)]=_0x3d6268,_0x54566f[_0x5056ec(0x12d)]=_0x2ef550,_0x54566f['FGSName']=_0x57808e,_0x54566f[_0x5056ec(0xb5)]=_0x5525e5,_0x54566f[_0x5056ec(0xd6)]=_0x4eb386,await _0x54566f[_0x5056ec(0x102)]();_0x3f8fac[_0x5056ec(0xa7)](_0x5056ec(0x117),_0x5056ec(0xbd)),_0x2d72b6[_0x5056ec(0xcb)]('/master_shop/view/supervisors');}catch(_0x49c4b7){console['log'](_0x49c4b7);}}),router[a0_0x4db30f(0xec)](a0_0x4db30f(0xbb),auth,async(_0x1a1555,_0x397082)=>{const _0x2dca4b=a0_0x4db30f;try{const _0x5b2904=_0x1a1555[_0x2dca4b(0x10e)],_0x3d8dbf=await supervisor_settings['find'](),_0x1ff38e=await profile[_0x2dca4b(0xeb)]({'email':_0x5b2904[_0x2dca4b(0x112)]}),_0x140162=await master_shop[_0x2dca4b(0x114)](),_0x5265be=await discount_volume_db[_0x2dca4b(0xeb)]();if(_0x140162[0x0]['language']==_0x2dca4b(0xb4)){var _0x3bf018=users[_0x2dca4b(0x115)];console['log'](_0x3bf018);}else{if(_0x140162[0x0][_0x2dca4b(0xe8)]==_0x2dca4b(0xfd))var _0x3bf018=users['Hindi'];else{if(_0x140162[0x0][_0x2dca4b(0xe8)]==_0x2dca4b(0xc9))var _0x3bf018=users['German'];else{if(_0x140162[0x0][_0x2dca4b(0xe8)]==_0x2dca4b(0xa9))var _0x3bf018=users[_0x2dca4b(0xa9)];else{if(_0x140162[0x0][_0x2dca4b(0xe8)]==_0x2dca4b(0xde))var _0x3bf018=users[_0x2dca4b(0xde)];else{if(_0x140162[0x0][_0x2dca4b(0xe8)]==_0x2dca4b(0xb3))var _0x3bf018=users['Portuguese'];else{if(_0x140162[0x0][_0x2dca4b(0xe8)]==_0x2dca4b(0xf7))var _0x3bf018=users[_0x2dca4b(0xf7)];else{if(_0x140162[0x0][_0x2dca4b(0xe8)]=='Arabic\x20(ae)')var _0x3bf018=users[_0x2dca4b(0xac)];}}}}}}}_0x397082['render'](_0x2dca4b(0xe0),{'success':_0x1a1555['flash'](_0x2dca4b(0x117)),'errors':_0x1a1555[_0x2dca4b(0xa7)]('errors'),'role':_0x5b2904,'profile':_0x1ff38e,'master_shop':_0x140162,'supervisor_data':_0x3d8dbf[0x0],'language':_0x3bf018,'data':_0x5265be});}catch(_0x2e13ec){}}),router['post']('/view_data/edit_volume_set',auth,async(_0x28663b,_0x50c6ea)=>{const _0x2ad08d=a0_0x4db30f;try{const {min_car_edit:_0x399194}=_0x28663b['body'],_0x144b30=await discount_volume_db[_0x2ad08d(0xeb)]();if(typeof _0x399194=='string')var _0x58e91d=[_0x28663b[_0x2ad08d(0xf9)][_0x2ad08d(0xab)]],_0x105399=[_0x28663b[_0x2ad08d(0xf9)]['max_car_edit']],_0x2c143e=[_0x28663b[_0x2ad08d(0xf9)][_0x2ad08d(0xbf)]];else var _0x58e91d=[..._0x28663b[_0x2ad08d(0xf9)][_0x2ad08d(0xab)]],_0x105399=[..._0x28663b[_0x2ad08d(0xf9)][_0x2ad08d(0x10b)]],_0x2c143e=[..._0x28663b[_0x2ad08d(0xf9)][_0x2ad08d(0xbf)]];const _0x128854=_0x58e91d[_0x2ad08d(0xfe)](_0x107413=>{return _0x107413={'min_car':_0x107413};});_0x105399[_0x2ad08d(0xc3)]((_0x4c8fcb,_0xd2a782)=>{const _0x500f05=_0x2ad08d;_0x128854[_0xd2a782][_0x500f05(0xcd)]=_0x4c8fcb;}),_0x2c143e['forEach']((_0x27e1fd,_0x1a9bb2)=>{_0x128854[_0x1a9bb2]['discount_price']=_0x27e1fd;});if(_0x144b30==null){const _0x2cc5d9=new discount_volume_db({'volume_discount':_0x128854});await _0x2cc5d9[_0x2ad08d(0x102)]();}else _0x144b30[_0x2ad08d(0x11b)]=_0x128854,await _0x144b30['save']();_0x28663b['flash']('success',_0x2ad08d(0xf1)),_0x50c6ea[_0x2ad08d(0xcb)](_0x2ad08d(0xaf));}catch(_0x42aa1f){}}),router['get'](a0_0x4db30f(0xdc),auth,async(_0x291f99,_0x492696)=>{const _0x3ddd63=a0_0x4db30f;try{const _0x32b76c=_0x291f99['user'],_0x4b3f77=await supervisor_settings[_0x3ddd63(0x114)](),_0x3e5925=await profile[_0x3ddd63(0xeb)]({'email':_0x32b76c[_0x3ddd63(0x112)]}),_0x55dedd=await master_shop[_0x3ddd63(0x114)](),_0x30aa18=await warehouse_validation_setup['find']();if(_0x55dedd[0x0]['language']==_0x3ddd63(0xb4))var _0x8901d3=users['English'];else{if(_0x55dedd[0x0][_0x3ddd63(0xe8)]==_0x3ddd63(0xfd))var _0x8901d3=users['Hindi'];else{if(_0x55dedd[0x0][_0x3ddd63(0xe8)]==_0x3ddd63(0xc9))var _0x8901d3=users[_0x3ddd63(0xc9)];else{if(_0x55dedd[0x0][_0x3ddd63(0xe8)]==_0x3ddd63(0xa9))var _0x8901d3=users[_0x3ddd63(0xa9)];else{if(_0x55dedd[0x0]['language']=='French')var _0x8901d3=users['French'];else{if(_0x55dedd[0x0][_0x3ddd63(0xe8)]==_0x3ddd63(0xb3))var _0x8901d3=users[_0x3ddd63(0xe5)];else{if(_0x55dedd[0x0][_0x3ddd63(0xe8)]==_0x3ddd63(0xf7))var _0x8901d3=users['Chinese'];else{if(_0x55dedd[0x0][_0x3ddd63(0xe8)]==_0x3ddd63(0xd9))var _0x8901d3=users[_0x3ddd63(0xac)];}}}}}}}_0x492696[_0x3ddd63(0xb1)](_0x3ddd63(0x12b),{'success':_0x291f99[_0x3ddd63(0xa7)](_0x3ddd63(0x117)),'errors':_0x291f99[_0x3ddd63(0xa7)](_0x3ddd63(0xfa)),'role':_0x32b76c,'profile':_0x3e5925,'master_shop':_0x55dedd,'supervisor_data':_0x4b3f77[0x0],'language':_0x8901d3,'data':_0x30aa18});}catch(_0xf4083c){}}),router[a0_0x4db30f(0xec)](a0_0x4db30f(0xb8),auth,async(_0x5b02c3,_0x4412b8)=>{const _0x289974=a0_0x4db30f;try{const _0x2b4ff8=_0x5b02c3['user'],_0x43dcfd=await supervisor_settings[_0x289974(0x114)](),_0x57db98=await profile[_0x289974(0xeb)]({'email':_0x2b4ff8[_0x289974(0x112)]}),_0x5f693=await master_shop[_0x289974(0x114)](),_0x542206=await warehouse_validation_setup['find'](),_0x161bfb=await warehouse[_0x289974(0xf2)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x289974(0xd4),'name':{'$first':_0x289974(0xd4)}}},{'$sort':{'name':0x1}}]);if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xb4))var _0x374f3a=users[_0x289974(0x115)];else{if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xfd))var _0x374f3a=users[_0x289974(0xfd)];else{if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xc9))var _0x374f3a=users[_0x289974(0xc9)];else{if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xa9))var _0x374f3a=users['Spanish'];else{if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xde))var _0x374f3a=users[_0x289974(0xde)];else{if(_0x5f693[0x0]['language']==_0x289974(0xb3))var _0x374f3a=users[_0x289974(0xe5)];else{if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xf7))var _0x374f3a=users['Chinese'];else{if(_0x5f693[0x0][_0x289974(0xe8)]==_0x289974(0xd9))var _0x374f3a=users[_0x289974(0xac)];}}}}}}}_0x4412b8[_0x289974(0xb1)](_0x289974(0xdb),{'success':_0x5b02c3['flash']('success'),'errors':_0x5b02c3[_0x289974(0xa7)]('errors'),'role':_0x2b4ff8,'profile':_0x57db98,'master_shop':_0x5f693,'supervisor_data':_0x43dcfd[0x0],'language':_0x374f3a,'data':_0x542206,'warehouse':_0x161bfb});}catch(_0x28dce4){}}),router[a0_0x4db30f(0x116)]('/view_data/warehouse_valid/add',auth,async(_0x2132a3,_0x24c8a4)=>{const _0x17cc95=a0_0x4db30f;try{const {warehouse_name:_0x8fb10f,room_name:_0x510a89,prod_code:_0x4f09b4}=_0x2132a3[_0x17cc95(0xf9)];var _0x38bd7b=_0x510a89[_0x17cc95(0x12c)]('~'),_0x5db272=_0x38bd7b[0x0],_0x2ba2c1=_0x38bd7b[0x1];if(typeof _0x4f09b4==_0x17cc95(0xdf))var _0xb263e3=[_0x2132a3['body'][_0x17cc95(0xd1)]],_0x57f7ac=[_0x2132a3[_0x17cc95(0xf9)][_0x17cc95(0xd2)]],_0x5d7832=[_0x2132a3[_0x17cc95(0xf9)]['bay']],_0xa628de=[_0x2132a3['body'][_0x17cc95(0x105)]],_0x182f28=[_0x2132a3['body'][_0x17cc95(0xf8)]],_0x33204c=[_0x2132a3[_0x17cc95(0xf9)]['product_id']];else var _0x57f7ac=[..._0x2132a3[_0x17cc95(0xf9)][_0x17cc95(0xd2)]],_0xb263e3=[..._0x2132a3[_0x17cc95(0xf9)][_0x17cc95(0xd1)]],_0x5d7832=[..._0x2132a3['body'][_0x17cc95(0xd8)]],_0xa628de=[..._0x2132a3['body'][_0x17cc95(0x105)]],_0x182f28=[..._0x2132a3['body'][_0x17cc95(0xf8)]],_0x33204c=[..._0x2132a3[_0x17cc95(0xf9)][_0x17cc95(0x11f)]];const _0x1f7857=_0xb263e3[_0x17cc95(0xfe)](_0x31648a=>{return _0x31648a={'product_code':_0x31648a};});_0x57f7ac['forEach']((_0x444a43,_0x443736)=>{const _0x1b465b=_0x17cc95;_0x1f7857[_0x443736][_0x1b465b(0x11c)]=_0x444a43;}),_0x5d7832[_0x17cc95(0xc3)]((_0x1e03d6,_0x28ea3a)=>{const _0x3f1f11=_0x17cc95;var _0x328a54=_0x1e03d6[_0x3f1f11(0x128)](/[A-Za-z]+/)[0x0],_0x4b3b9d=parseInt(_0x1e03d6[_0x3f1f11(0x128)](/\d+/)[0x0]);_0x1f7857[_0x28ea3a]['bay']=_0x328a54,_0x1f7857[_0x28ea3a][_0x3f1f11(0xc8)]=_0x4b3b9d;}),_0xa628de[_0x17cc95(0xc3)]((_0x5056d3,_0xba26a3)=>{const _0x1fcca1=_0x17cc95;_0x1f7857[_0xba26a3][_0x1fcca1(0x104)]=_0x5056d3;}),_0x182f28['forEach']((_0x6c84c5,_0x538e73)=>{_0x1f7857[_0x538e73]['max']=_0x6c84c5;}),_0x33204c['forEach']((_0x226e7b,_0x43810b)=>{const _0x5cd977=_0x17cc95;_0x1f7857[_0x43810b][_0x5cd977(0x11f)]=_0x226e7b;});const _0x2c68bd=new warehouse_validation_setup({'warehouse_id':_0x2ba2c1,'warehouse_name':_0x8fb10f,'room':_0x5db272,'product_data':_0x1f7857}),_0x59f7c0=await _0x2c68bd[_0x17cc95(0x102)]();_0x2132a3[_0x17cc95(0xa7)](_0x17cc95(0x117),_0x17cc95(0xe3)),_0x24c8a4[_0x17cc95(0xcb)](_0x17cc95(0xf3)+_0x59f7c0[_0x17cc95(0x10f)]);}catch(_0x1eece9){console[_0x17cc95(0x129)](_0x1eece9);}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0x113),auth,async(_0x3abb71,_0x1e09f6)=>{const _0x37d490=a0_0x4db30f;try{const _0x180be5=mongoose[_0x37d490(0x127)][_0x37d490(0x12a)],{warehouse_name:_0x23de3a}=_0x3abb71['body'],_0x5cae99=await warehouse_validation_setup[_0x37d490(0xf2)]([{'$group':{'_id':_0x37d490(0xed),'warehouse_id':{'$first':_0x37d490(0xd3)}}}]);let _0x1b9e03=[];for(let _0x534f1b=0x0;_0x534f1b<=_0x5cae99[_0x37d490(0x107)]-0x1;_0x534f1b++){const _0x534955=_0x5cae99[_0x534f1b];_0x1b9e03[_0x37d490(0x11e)](_0x180be5(_0x534955[_0x37d490(0xb9)]));}const _0x539a9b=_0x1b9e03,_0x167e20=await warehouse[_0x37d490(0xf2)]([{'$match':{'name':_0x23de3a,'status':_0x37d490(0x120),'_id':{'$nin':_0x539a9b}}},{'$group':{'_id':_0x37d490(0xed),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]);_0x1e09f6[_0x37d490(0x109)](_0x167e20);}catch(_0x247321){_0x1e09f6[_0x37d490(0x109)](_0x247321);}}),router[a0_0x4db30f(0x116)]('/product_list',auth,async(_0x5209ee,_0x2160ce)=>{const _0x1fad5e=a0_0x4db30f;try{const _0x421846=await product[_0x1fad5e(0x114)]();_0x2160ce[_0x1fad5e(0x109)](_0x421846);}catch(_0x2892cb){_0x2160ce[_0x1fad5e(0x109)](_0x2892cb);}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0xbc),auth,async(_0x2ec347,_0x43a6ef)=>{const _0x385ce0=a0_0x4db30f;try{const {product_id:_0x33757a}=_0x2ec347[_0x385ce0(0xf9)],_0x4009c6=await product[_0x385ce0(0x108)](_0x33757a);_0x43a6ef[_0x385ce0(0x109)](_0x4009c6);}catch(_0x5326d0){_0x43a6ef[_0x385ce0(0x109)](_0x5326d0);}}),router[a0_0x4db30f(0xec)](a0_0x4db30f(0xe2),auth,async(_0x197942,_0x510e79)=>{const _0x4c201b=a0_0x4db30f;try{const _0x4f9398=_0x197942[_0x4c201b(0x10e)],_0x4c4f84=await supervisor_settings[_0x4c201b(0x114)](),_0x45b956=await profile['findOne']({'email':_0x4f9398[_0x4c201b(0x112)]}),_0x417a88=await master_shop[_0x4c201b(0x114)](),_0x7860d9=_0x197942[_0x4c201b(0x119)]['id'],_0x5bb76c=await warehouse_validation_setup['findById'](_0x7860d9),_0xa4710e=await warehouse['aggregate']([{'$match':{'status':_0x4c201b(0x120)}},{'$group':{'_id':'$name','name':{'$first':_0x4c201b(0xd4)}}},{'$sort':{'name':0x1}}]);if(_0x417a88[0x0][_0x4c201b(0xe8)]==_0x4c201b(0xb4))var _0x32882f=users['English'];else{if(_0x417a88[0x0][_0x4c201b(0xe8)]==_0x4c201b(0xfd))var _0x32882f=users[_0x4c201b(0xfd)];else{if(_0x417a88[0x0]['language']==_0x4c201b(0xc9))var _0x32882f=users[_0x4c201b(0xc9)];else{if(_0x417a88[0x0][_0x4c201b(0xe8)]=='Spanish')var _0x32882f=users[_0x4c201b(0xa9)];else{if(_0x417a88[0x0][_0x4c201b(0xe8)]==_0x4c201b(0xde))var _0x32882f=users[_0x4c201b(0xde)];else{if(_0x417a88[0x0]['language']=='Portuguese\x20(BR)')var _0x32882f=users['Portuguese'];else{if(_0x417a88[0x0][_0x4c201b(0xe8)]=='Chinese')var _0x32882f=users[_0x4c201b(0xf7)];else{if(_0x417a88[0x0][_0x4c201b(0xe8)]=='Arabic\x20(ae)')var _0x32882f=users[_0x4c201b(0xac)];}}}}}}}_0x510e79[_0x4c201b(0xb1)](_0x4c201b(0x121),{'success':_0x197942[_0x4c201b(0xa7)](_0x4c201b(0x117)),'errors':_0x197942[_0x4c201b(0xa7)](_0x4c201b(0xfa)),'role':_0x4f9398,'profile':_0x45b956,'master_shop':_0x417a88,'supervisor_data':_0x4c4f84[0x0],'language':_0x32882f,'data':_0x5bb76c,'warehouse':_0xa4710e});}catch(_0x287b6e){}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0xe9),auth,async(_0x279f62,_0x553a6d)=>{const _0x150a07=a0_0x4db30f;try{const _0xcf8274=mongoose[_0x150a07(0x127)]['ObjectId'],{warehouse_name:_0x1a52d9}=_0x279f62[_0x150a07(0xf9)],_0x13f909=await warehouse_validation_setup[_0x150a07(0xf2)]([{'$group':{'_id':'$_id','warehouse_id':{'$first':_0x150a07(0xd3)}}}]);let _0x5246a0=[];for(let _0xa12b4a=0x0;_0xa12b4a<=_0x13f909[_0x150a07(0x107)]-0x1;_0xa12b4a++){const _0x4fd10b=_0x13f909[_0xa12b4a];_0x5246a0[_0x150a07(0x11e)](_0xcf8274(_0x4fd10b[_0x150a07(0xb9)]));}const _0x290e26=_0x5246a0,_0x4b90d0=await warehouse[_0x150a07(0xf2)]([{'$match':{'name':_0x1a52d9,'status':_0x150a07(0x120)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x150a07(0x111)}}},{'$sort':{'room_name':0x1}}]);_0x553a6d[_0x150a07(0x109)](_0x4b90d0);}catch(_0x5263bd){_0x553a6d['json'](_0x5263bd);}}),router['post'](a0_0x4db30f(0xe2),auth,async(_0x5ea3cb,_0x3d7665)=>{const _0x139fcb=a0_0x4db30f;try{const {prod_code:_0x5b729b}=_0x5ea3cb[_0x139fcb(0xf9)],_0x602084=_0x5ea3cb[_0x139fcb(0x119)]['id'],_0x415663=await warehouse_validation_setup[_0x139fcb(0x108)](_0x602084);if(typeof _0x5b729b==_0x139fcb(0xdf))var _0x2b1e84=[_0x5ea3cb[_0x139fcb(0xf9)][_0x139fcb(0xd1)]],_0x75dd32=[_0x5ea3cb['body'][_0x139fcb(0xd2)]],_0x114613=[_0x5ea3cb[_0x139fcb(0xf9)]['bay']],_0x2293be=[_0x5ea3cb[_0x139fcb(0xf9)][_0x139fcb(0x105)]],_0x5ebe75=[_0x5ea3cb[_0x139fcb(0xf9)][_0x139fcb(0xf8)]],_0x2c08f5=[_0x5ea3cb['body'][_0x139fcb(0x11f)]];else var _0x75dd32=[..._0x5ea3cb['body']['prod_name']],_0x2b1e84=[..._0x5ea3cb[_0x139fcb(0xf9)][_0x139fcb(0xd1)]],_0x114613=[..._0x5ea3cb['body'][_0x139fcb(0xd8)]],_0x2293be=[..._0x5ea3cb[_0x139fcb(0xf9)]['min_data']],_0x5ebe75=[..._0x5ea3cb[_0x139fcb(0xf9)][_0x139fcb(0xf8)]],_0x2c08f5=[..._0x5ea3cb['body']['product_id']];const _0xb81523=_0x2b1e84['map'](_0x5b692c=>{return _0x5b692c={'product_code':_0x5b692c};});_0x75dd32[_0x139fcb(0xc3)]((_0x37079a,_0xa236f9)=>{_0xb81523[_0xa236f9]['product_name']=_0x37079a;}),_0x114613['forEach']((_0x25d908,_0xc9c09e)=>{const _0x5dd61b=_0x139fcb;var _0x3b3009=_0x25d908[_0x5dd61b(0x128)](/[A-Za-z]+/)[0x0],_0x4608ac=parseInt(_0x25d908[_0x5dd61b(0x128)](/\d+/)[0x0]);_0xb81523[_0xc9c09e]['bay']=_0x3b3009,_0xb81523[_0xc9c09e][_0x5dd61b(0xc8)]=_0x4608ac;}),_0x2293be[_0x139fcb(0xc3)]((_0x48687c,_0x521b17)=>{const _0x56536c=_0x139fcb;_0xb81523[_0x521b17][_0x56536c(0x104)]=_0x48687c;}),_0x5ebe75['forEach']((_0x4e8b48,_0x2342ea)=>{_0xb81523[_0x2342ea]['max']=_0x4e8b48;}),_0x2c08f5['forEach']((_0x24d77f,_0x8d71c2)=>{const _0x190dfd=_0x139fcb;_0xb81523[_0x8d71c2][_0x190dfd(0x11f)]=_0x24d77f;}),_0x415663[_0x139fcb(0x124)]=_0xb81523;const _0x28f9e1=await _0x415663[_0x139fcb(0x102)]();_0x5ea3cb[_0x139fcb(0xa7)]('success',_0x139fcb(0x122)),_0x3d7665[_0x139fcb(0xcb)](_0x139fcb(0xf3)+_0x28f9e1[_0x139fcb(0x10f)]);}catch(_0x4cda3f){_0x3d7665[_0x139fcb(0x109)](_0x4cda3f);}}),router[a0_0x4db30f(0x116)](a0_0x4db30f(0xea),auth,async(_0xd8a7db,_0x23db0b)=>{const _0x40aae5=a0_0x4db30f;try{const {warehouse_id:_0x27056b}=_0xd8a7db[_0x40aae5(0xf9)],_0x208164=await warehouse_validation_setup[_0x40aae5(0x108)](_0x27056b),_0x590fa0=_0xc4a549=>_0xc4a549*0x48,_0x2474d3={'width':0x3,'height':0x1},_0x42d267=new PDFDocument({'margin':_0x590fa0(0.75),'size':[_0x590fa0(_0x2474d3['width']),_0x590fa0(_0x2474d3[_0x40aae5(0xf0)])],'bufferPages':!![]}),_0x41e13a=_0x208164[_0x40aae5(0x124)][_0x40aae5(0x107)];for(let _0x19ee85=0x0;_0x19ee85<=_0x41e13a-0x1;_0x19ee85++){var _0x37c015=_0x208164[_0x40aae5(0x124)][_0x19ee85],_0x5a289c=_0x208164[_0x40aae5(0xc2)]+'~'+_0x208164[_0x40aae5(0xc1)]+'~'+_0x37c015[_0x40aae5(0xd8)]+'~'+_0x37c015[_0x40aae5(0xc8)];const _0x5cad5b={'width':0x190,'height':0x96},_0x1b6248={'width':_0x590fa0(_0x2474d3[_0x40aae5(0x106)]),'height':_0x590fa0(_0x2474d3['height'])},_0xc96d53=new Canvas();JsBarcode(_0xc96d53,_0x5a289c,{'format':'CODE128','height':_0x5cad5b[_0x40aae5(0xf0)],'displayValue':!![],'text':_0x5a289c});const _0x23b83f=_0xc96d53[_0x40aae5(0xb6)](),_0x492f08=_0x1b6248['width']/_0x5cad5b[_0x40aae5(0x106)],_0x19660a=_0x1b6248[_0x40aae5(0xf0)]/_0x5cad5b[_0x40aae5(0xf0)],_0x153a6f=Math['min'](_0x492f08,_0x19660a),_0x223032=_0x5cad5b[_0x40aae5(0x106)]*_0x153a6f,_0x2dc748=_0x5cad5b[_0x40aae5(0xf0)]*_0x153a6f,_0x561446=(_0x1b6248['width']-_0x223032)/0x2,_0xaf9c2d=(_0x1b6248[_0x40aae5(0xf0)]-_0x2dc748)/0x2;_0x42d267['image'](_0x23b83f,_0x561446,_0xaf9c2d,{'width':_0x223032,'height':_0x2dc748}),_0x19ee85!=_0x41e13a&&_0x42d267[_0x40aae5(0xe1)](),console[_0x40aae5(0x129)](_0x5a289c);}const _0x35f8e5=[];_0x42d267['on'](_0x40aae5(0xb0),_0x35f8e5[_0x40aae5(0x11e)][_0x40aae5(0xad)](_0x35f8e5)),_0x42d267['on'](_0x40aae5(0x101),()=>{const _0xe4744d=_0x40aae5,_0x3ae495=Buffer[_0xe4744d(0xce)](_0x35f8e5),_0x1ebcf5=_0x3ae495[_0xe4744d(0x10c)]('base64');_0x23db0b[_0xe4744d(0x109)]({'pdfContent':_0x1ebcf5});}),_0x42d267[_0x40aae5(0x101)]();}catch(_0x40e050){_0x23db0b[_0x40aae5(0x109)](_0x40e050);}}),module[a0_0x4db30f(0x110)]=router;