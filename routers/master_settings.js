const a0_0x5e7d6f=a0_0x3c03;(function(_0x2e6142,_0x10fc2e){const _0x5db132=a0_0x3c03,_0x2f5f4b=_0x2e6142();while(!![]){try{const _0x456b87=parseInt(_0x5db132(0x136))/0x1*(-parseInt(_0x5db132(0x134))/0x2)+-parseInt(_0x5db132(0x14f))/0x3+-parseInt(_0x5db132(0x174))/0x4*(-parseInt(_0x5db132(0x13e))/0x5)+parseInt(_0x5db132(0x12d))/0x6*(parseInt(_0x5db132(0x176))/0x7)+parseInt(_0x5db132(0x13b))/0x8+-parseInt(_0x5db132(0x12a))/0x9*(parseInt(_0x5db132(0x166))/0xa)+parseInt(_0x5db132(0x155))/0xb*(parseInt(_0x5db132(0x142))/0xc);if(_0x456b87===_0x10fc2e)break;else _0x2f5f4b['push'](_0x2f5f4b['shift']());}catch(_0x1915c1){_0x2f5f4b['push'](_0x2f5f4b['shift']());}}}(a0_0x1e9f,0x9110f));const express=require('express'),app=express(),router=express[a0_0x5e7d6f(0x169)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db}=require('../models/all_models'),auth=require(a0_0x5e7d6f(0x14a));function a0_0x1e9f(){const _0x59a51f=['email_settings','898968zpulzy','en-US','forEach','log','errors','discount_price_edit','German','post','../middleware/auth','RMSEmail','user','/view/email','body','3151203vvjsVq','toLocaleString','RMSnumber','Portuguese','/view/edit_settings','English\x20(US)','11EaqepL','get','find','email','/master_shop/view/email','timezone','Arabic\x20(ae)','string','Spanish','originalname','timezones-list','save','master_shop_data','2nd\x20master_shop_data','FGSEmail','master','./public/upload','70LOPESK','/master_shop/view','hidden','Router','/master_shop/view_data/volume_set','diskStorage','FGSnumber','/:id','image','shop\x20setting\x20edit\x20successfully','/view_data/edit_volume_set','French','host','findOne','2404HLXyXU','currency','4571uxVJuP','map','exports','success','now','Chinese','language','file','render','1278063gzddbJ','English','filename','9942grzmXp','redirect','/view/supervisors','max_car','Arabic','volume_discount','Volume\x20Discount\x20modified\x20successfully','2FsciFC','Hindi','244236nLUFIg','setup_volume_discount','max_car_edit','password','Portuguese\x20(BR)','8581240REHvKD','/view/email/edit_settings','../public/language/languages.json','5435inJSLF','flash','params'];a0_0x1e9f=function(){return _0x59a51f;};return a0_0x1e9f();}var timezones=require(a0_0x5e7d6f(0x15f));function a0_0x3c03(_0x1255ee,_0x5b22a5){const _0x1e9f1a=a0_0x1e9f();return a0_0x3c03=function(_0x3c030e,_0x4c87f1){_0x3c030e=_0x3c030e-0x123;let _0x2686e7=_0x1e9f1a[_0x3c030e];return _0x2686e7;},a0_0x3c03(_0x1255ee,_0x5b22a5);}const users=require(a0_0x5e7d6f(0x13d)),storage=multer[a0_0x5e7d6f(0x16b)]({'destination':(_0x452346,_0x5ce444,_0x453098)=>{const _0x4e6532=a0_0x5e7d6f;_0x453098(null,_0x4e6532(0x165));},'filename':(_0x296aad,_0x3fef9d,_0x39fa39)=>{const _0x15dcee=a0_0x5e7d6f;_0x39fa39(null,Date[_0x15dcee(0x125)]()+_0x3fef9d[_0x15dcee(0x15e)]);}}),upload=multer({'storage':storage});router['get']('/view',auth,async(_0x1063db,_0xc1be6)=>{const _0x3ae930=a0_0x5e7d6f;try{const {username:_0x3cc0dd,email:_0x257b4b,role:_0x1fe2aa}=_0x1063db[_0x3ae930(0x14c)],_0x536b81=_0x1063db[_0x3ae930(0x14c)],_0x5c8890=await profile[_0x3ae930(0x173)]({'email':_0x536b81['email']}),_0x5ab58b=await master_shop[_0x3ae930(0x157)]();console[_0x3ae930(0x145)](_0x3ae930(0x164),_0x5ab58b);const _0x12b798=new Date()[_0x3ae930(0x150)](_0x3ae930(0x143),{'timeZone':_0x5ab58b[0x0][_0x3ae930(0x15a)]});console[_0x3ae930(0x145)](_0x3ae930(0x15a),_0x12b798);if(_0x5ab58b[0x0]['language']=='English\x20(US)'){var _0x318146=users[_0x3ae930(0x12b)];console[_0x3ae930(0x145)](_0x318146);}else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]==_0x3ae930(0x135))var _0x318146=users[_0x3ae930(0x135)];else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]==_0x3ae930(0x148))var _0x318146=users[_0x3ae930(0x148)];else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]==_0x3ae930(0x15d))var _0x318146=users[_0x3ae930(0x15d)];else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]==_0x3ae930(0x171))var _0x318146=users[_0x3ae930(0x171)];else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]=='Portuguese\x20(BR)')var _0x318146=users[_0x3ae930(0x152)];else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]==_0x3ae930(0x126))var _0x318146=users[_0x3ae930(0x126)];else{if(_0x5ab58b[0x0][_0x3ae930(0x127)]==_0x3ae930(0x15b))var _0x318146=users[_0x3ae930(0x131)];}}}}}}}_0xc1be6[_0x3ae930(0x129)]('master_settings',{'success':_0x1063db['flash'](_0x3ae930(0x124)),'errors':_0x1063db[_0x3ae930(0x13f)]('errors'),'role':_0x536b81,'profile':_0x5c8890,'master_shop':_0x5ab58b,'timezones':timezones,'language':_0x318146});}catch(_0x48747c){console['log'](_0x48747c);}}),router[a0_0x5e7d6f(0x156)](a0_0x5e7d6f(0x16d),auth,async(_0x3883d9,_0x441fb7)=>{const _0x2858cb=a0_0x5e7d6f;try{console[_0x2858cb(0x145)](_0x2858cb(0x127)),console[_0x2858cb(0x145)](_0x3883d9[_0x2858cb(0x140)]['id']);const _0x37640f=await master_shop[_0x2858cb(0x173)]();_0x37640f[_0x2858cb(0x127)]=_0x3883d9['params']['id'],await _0x37640f[_0x2858cb(0x160)](),console[_0x2858cb(0x145)]('master',_0x37640f);}catch(_0x556cbd){console[_0x2858cb(0x145)](_0x556cbd);}}),router[a0_0x5e7d6f(0x149)](a0_0x5e7d6f(0x153),auth,upload['single']('image'),async(_0x25293a,_0x3dcef2)=>{const _0x11a00a=a0_0x5e7d6f;try{const {site_title:_0x34422a,currency:_0x482d13,currency_placement:_0x5ab135,timezone:_0x51a94d}=_0x25293a[_0x11a00a(0x14e)];if(_0x25293a[_0x11a00a(0x14e)][_0x11a00a(0x168)]==0x0){const _0x3d88cf=await master_shop[_0x11a00a(0x173)]();console['log'](_0x11a00a(0x161),_0x3d88cf);if(_0x3d88cf==''){const _0x4d7c20=new master_shop({'site_title':_0x34422a,'image':image,'currency':_0x482d13,'currency_placement':_0x5ab135,'timezone':_0x51a94d}),_0x34ceb9=await _0x4d7c20[_0x11a00a(0x160)]();}else _0x3d88cf['site_title']=_0x34422a,_0x3d88cf['currency']=_0x482d13,_0x3d88cf['currency_placement']=_0x5ab135,_0x3d88cf['timezone']=_0x51a94d,await _0x3d88cf['save']();}else{const _0x3e074a=_0x25293a[_0x11a00a(0x128)][_0x11a00a(0x12c)],_0x2a91a5=await master_shop[_0x11a00a(0x173)]();console[_0x11a00a(0x145)](_0x11a00a(0x162),_0x2a91a5);if(_0x2a91a5==null){console[_0x11a00a(0x145)]('1',_0x34422a);const _0x2a7d54=new master_shop({'site_title':_0x34422a,'image':_0x3e074a,'currency':_0x482d13,'currency_placement':_0x5ab135,'timezone':_0x51a94d}),_0x4fb8d4=await _0x2a7d54[_0x11a00a(0x160)]();}else console['log']('2',_0x34422a),_0x2a91a5['site_title']=_0x34422a,_0x2a91a5[_0x11a00a(0x16e)]=_0x3e074a,_0x2a91a5[_0x11a00a(0x175)]=_0x482d13,_0x2a91a5['currency_placement']=_0x5ab135,_0x2a91a5[_0x11a00a(0x15a)]=_0x51a94d,await _0x2a91a5['save']();}_0x25293a[_0x11a00a(0x13f)](_0x11a00a(0x124),_0x11a00a(0x16f)),_0x3dcef2[_0x11a00a(0x12e)](_0x11a00a(0x167));}catch(_0x3f9268){console[_0x11a00a(0x145)](_0x3f9268);}}),router[a0_0x5e7d6f(0x156)](a0_0x5e7d6f(0x14d),auth,async(_0x343144,_0x3ff6dc)=>{const _0x42731b=a0_0x5e7d6f;try{const {username:_0x1202ef,email:_0x56948,role:_0x31ceea}=_0x343144[_0x42731b(0x14c)],_0x31fa0d=_0x343144[_0x42731b(0x14c)],_0x346e9a=await profile['findOne']({'email':_0x31fa0d['email']}),_0x595b20=await master_shop[_0x42731b(0x157)]();console[_0x42731b(0x145)]('master',_0x595b20);const _0xb46c47=await email_settings[_0x42731b(0x173)]();console[_0x42731b(0x145)]('master\x20settings\x20email_data',_0xb46c47);if(_0x595b20[0x0][_0x42731b(0x127)]=='English\x20(US)'){var _0x338e6a=users[_0x42731b(0x12b)];console[_0x42731b(0x145)](_0x338e6a);}else{if(_0x595b20[0x0][_0x42731b(0x127)]=='Hindi')var _0x338e6a=users[_0x42731b(0x135)];else{if(_0x595b20[0x0][_0x42731b(0x127)]==_0x42731b(0x148))var _0x338e6a=users[_0x42731b(0x148)];else{if(_0x595b20[0x0][_0x42731b(0x127)]=='Spanish')var _0x338e6a=users['Spanish'];else{if(_0x595b20[0x0][_0x42731b(0x127)]==_0x42731b(0x171))var _0x338e6a=users[_0x42731b(0x171)];else{if(_0x595b20[0x0][_0x42731b(0x127)]=='Portuguese\x20(BR)')var _0x338e6a=users[_0x42731b(0x152)];else{if(_0x595b20[0x0][_0x42731b(0x127)]==_0x42731b(0x126))var _0x338e6a=users[_0x42731b(0x126)];else{if(_0x595b20[0x0]['language']==_0x42731b(0x15b))var _0x338e6a=users['Arabic'];}}}}}}}_0x3ff6dc[_0x42731b(0x129)](_0x42731b(0x141),{'success':_0x343144[_0x42731b(0x13f)](_0x42731b(0x124)),'errors':_0x343144[_0x42731b(0x13f)](_0x42731b(0x146)),'role':_0x31fa0d,'profile':_0x346e9a,'master_shop':_0x595b20,'email':_0xb46c47,'language':_0x338e6a});}catch(_0x2296c6){console[_0x42731b(0x145)](_0x2296c6);}}),router[a0_0x5e7d6f(0x149)](a0_0x5e7d6f(0x13c),auth,async(_0x2b78d6,_0x232eea)=>{const _0x59c5f7=a0_0x5e7d6f;try{const {host:_0x20c5a7,port:_0x7c71f,email:_0x5d6dae,password:_0x5290fe}=_0x2b78d6['body'],_0x181db2=await email_settings['findOne']();if(_0x181db2==null){const _0x1f0f79=new email_settings({'host':_0x20c5a7,'port':_0x7c71f,'email':_0x5d6dae,'password':_0x5290fe});await _0x1f0f79[_0x59c5f7(0x160)]();}else _0x181db2[_0x59c5f7(0x172)]=_0x20c5a7,_0x181db2['port']=_0x7c71f,_0x181db2[_0x59c5f7(0x158)]=_0x5d6dae,_0x181db2[_0x59c5f7(0x139)]=_0x5290fe,await _0x181db2[_0x59c5f7(0x160)]();_0x2b78d6[_0x59c5f7(0x13f)]('success',_0x59c5f7(0x16f)),_0x232eea['redirect'](_0x59c5f7(0x159));}catch(_0x3855e8){console[_0x59c5f7(0x145)](_0x3855e8);}}),router['get'](a0_0x5e7d6f(0x12f),auth,async(_0x4458d9,_0x4ff0a4)=>{const _0x2df261=a0_0x5e7d6f;try{const {username:_0x339508,email:_0x790d9d,role:_0x515a41}=_0x4458d9['user'],_0x135449=_0x4458d9[_0x2df261(0x14c)],_0x341e21=await supervisor_settings[_0x2df261(0x157)](),_0x512404=await profile['findOne']({'email':_0x135449[_0x2df261(0x158)]}),_0x2b23a1=await master_shop[_0x2df261(0x157)](),_0x589dca=new Date()[_0x2df261(0x150)]('en-US',{'timeZone':_0x2b23a1[0x0][_0x2df261(0x15a)]});if(_0x2b23a1[0x0]['language']==_0x2df261(0x154)){var _0x283b16=users['English'];console[_0x2df261(0x145)](_0x283b16);}else{if(_0x2b23a1[0x0][_0x2df261(0x127)]==_0x2df261(0x135))var _0x283b16=users[_0x2df261(0x135)];else{if(_0x2b23a1[0x0][_0x2df261(0x127)]==_0x2df261(0x148))var _0x283b16=users[_0x2df261(0x148)];else{if(_0x2b23a1[0x0][_0x2df261(0x127)]=='Spanish')var _0x283b16=users[_0x2df261(0x15d)];else{if(_0x2b23a1[0x0][_0x2df261(0x127)]==_0x2df261(0x171))var _0x283b16=users[_0x2df261(0x171)];else{if(_0x2b23a1[0x0][_0x2df261(0x127)]==_0x2df261(0x13a))var _0x283b16=users[_0x2df261(0x152)];else{if(_0x2b23a1[0x0][_0x2df261(0x127)]==_0x2df261(0x126))var _0x283b16=users[_0x2df261(0x126)];else{if(_0x2b23a1[0x0][_0x2df261(0x127)]=='Arabic\x20(ae)')var _0x283b16=users['Arabic'];}}}}}}}_0x4ff0a4[_0x2df261(0x129)]('supervisor_settings',{'success':_0x4458d9['flash'](_0x2df261(0x124)),'errors':_0x4458d9[_0x2df261(0x13f)](_0x2df261(0x146)),'role':_0x135449,'profile':_0x512404,'master_shop':_0x2b23a1,'supervisor_data':_0x341e21[0x0],'timezones':timezones,'language':_0x283b16});}catch(_0x453da5){console['log'](_0x453da5);}}),router[a0_0x5e7d6f(0x149)](a0_0x5e7d6f(0x12f),auth,async(_0x2cebfc,_0x5c44d4)=>{const _0x182c0e=a0_0x5e7d6f;try{const {rm_name:_0x251645,fg_name:_0x5e83dd,rm_email:_0x4cb388,fg_email:_0x15808b,rm_mobilenum:_0x5693a9,fg_number:_0x543460}=_0x2cebfc[_0x182c0e(0x14e)],_0xb888e4=await supervisor_settings['findOne']();if(_0xb888e4==null){const _0x27b966=new supervisor_settings({'RMSName':_0x251645,'RMSEmail':_0x4cb388,'RMSnumber':_0x5693a9,'FGSName':_0x5e83dd,'FGSEmail':_0x15808b,'FGSnumber':_0x543460});await _0x27b966[_0x182c0e(0x160)]();}else _0xb888e4['RMSName']=_0x251645,_0xb888e4[_0x182c0e(0x14b)]=_0x4cb388,_0xb888e4[_0x182c0e(0x151)]=_0x5693a9,_0xb888e4['FGSName']=_0x5e83dd,_0xb888e4[_0x182c0e(0x163)]=_0x15808b,_0xb888e4[_0x182c0e(0x16c)]=_0x543460,await _0xb888e4[_0x182c0e(0x160)]();_0x2cebfc['flash']('success',_0x182c0e(0x16f)),_0x5c44d4[_0x182c0e(0x12e)]('/master_shop/view/supervisors');}catch(_0x358daf){console[_0x182c0e(0x145)](_0x358daf);}}),router[a0_0x5e7d6f(0x156)]('/view_data/volume_set',auth,async(_0xaa5d98,_0x17155d)=>{const _0x31f41b=a0_0x5e7d6f;try{const _0x55309b=_0xaa5d98[_0x31f41b(0x14c)],_0x5c773d=await supervisor_settings[_0x31f41b(0x157)](),_0xbd1a82=await profile[_0x31f41b(0x173)]({'email':_0x55309b[_0x31f41b(0x158)]}),_0x3e0019=await master_shop[_0x31f41b(0x157)](),_0xa4d43b=await discount_volume_db['findOne']();if(_0x3e0019[0x0]['language']==_0x31f41b(0x154)){var _0x47bbc4=users[_0x31f41b(0x12b)];console['log'](_0x47bbc4);}else{if(_0x3e0019[0x0]['language']==_0x31f41b(0x135))var _0x47bbc4=users['Hindi'];else{if(_0x3e0019[0x0]['language']==_0x31f41b(0x148))var _0x47bbc4=users[_0x31f41b(0x148)];else{if(_0x3e0019[0x0]['language']=='Spanish')var _0x47bbc4=users[_0x31f41b(0x15d)];else{if(_0x3e0019[0x0]['language']==_0x31f41b(0x171))var _0x47bbc4=users[_0x31f41b(0x171)];else{if(_0x3e0019[0x0]['language']==_0x31f41b(0x13a))var _0x47bbc4=users[_0x31f41b(0x152)];else{if(_0x3e0019[0x0][_0x31f41b(0x127)]==_0x31f41b(0x126))var _0x47bbc4=users['Chinese'];else{if(_0x3e0019[0x0][_0x31f41b(0x127)]==_0x31f41b(0x15b))var _0x47bbc4=users[_0x31f41b(0x131)];}}}}}}}_0x17155d['render'](_0x31f41b(0x137),{'success':_0xaa5d98[_0x31f41b(0x13f)](_0x31f41b(0x124)),'errors':_0xaa5d98['flash'](_0x31f41b(0x146)),'role':_0x55309b,'profile':_0xbd1a82,'master_shop':_0x3e0019,'supervisor_data':_0x5c773d[0x0],'language':_0x47bbc4,'data':_0xa4d43b});}catch(_0x296ba7){}}),router['post'](a0_0x5e7d6f(0x170),auth,async(_0x1e53e5,_0x5ad4c6)=>{const _0x43ff54=a0_0x5e7d6f;try{const {min_car_edit:_0x470a04}=_0x1e53e5[_0x43ff54(0x14e)],_0x5756a8=await discount_volume_db[_0x43ff54(0x173)]();if(typeof _0x470a04==_0x43ff54(0x15c))var _0x684a16=[_0x1e53e5['body']['min_car_edit']],_0x160c43=[_0x1e53e5['body'][_0x43ff54(0x138)]],_0x2854e1=[_0x1e53e5[_0x43ff54(0x14e)][_0x43ff54(0x147)]];else var _0x684a16=[..._0x1e53e5['body']['min_car_edit']],_0x160c43=[..._0x1e53e5[_0x43ff54(0x14e)][_0x43ff54(0x138)]],_0x2854e1=[..._0x1e53e5[_0x43ff54(0x14e)]['discount_price_edit']];const _0x46fbf3=_0x684a16[_0x43ff54(0x177)](_0x572b60=>{return _0x572b60={'min_car':_0x572b60};});_0x160c43[_0x43ff54(0x144)]((_0x52c413,_0x43dfac)=>{const _0x33fa99=_0x43ff54;_0x46fbf3[_0x43dfac][_0x33fa99(0x130)]=_0x52c413;}),_0x2854e1[_0x43ff54(0x144)]((_0xc04c25,_0x1f8516)=>{_0x46fbf3[_0x1f8516]['discount_price']=_0xc04c25;});if(_0x5756a8==null){const _0x37a99f=new discount_volume_db({'volume_discount':_0x46fbf3});await _0x37a99f[_0x43ff54(0x160)]();}else _0x5756a8[_0x43ff54(0x132)]=_0x46fbf3,await _0x5756a8[_0x43ff54(0x160)]();_0x1e53e5['flash'](_0x43ff54(0x124),_0x43ff54(0x133)),_0x5ad4c6[_0x43ff54(0x12e)](_0x43ff54(0x16a));}catch(_0x4f16d8){}}),module[a0_0x5e7d6f(0x123)]=router;