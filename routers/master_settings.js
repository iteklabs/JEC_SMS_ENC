function a0_0x4d91(_0x3bd5b9,_0x4a2c31){const _0x1c7df0=a0_0x1c7d();return a0_0x4d91=function(_0x4d9139,_0x286c5d){_0x4d9139=_0x4d9139-0x14e;let _0x385aec=_0x1c7df0[_0x4d9139];return _0x385aec;},a0_0x4d91(_0x3bd5b9,_0x4a2c31);}const a0_0x458844=a0_0x4d91;(function(_0xa61e61,_0x150f37){const _0x228426=a0_0x4d91,_0x17c3c6=_0xa61e61();while(!![]){try{const _0x19568c=parseInt(_0x228426(0x189))/0x1*(parseInt(_0x228426(0x16c))/0x2)+parseInt(_0x228426(0x153))/0x3+-parseInt(_0x228426(0x159))/0x4+-parseInt(_0x228426(0x17b))/0x5+parseInt(_0x228426(0x18f))/0x6*(-parseInt(_0x228426(0x174))/0x7)+parseInt(_0x228426(0x194))/0x8+-parseInt(_0x228426(0x16f))/0x9*(-parseInt(_0x228426(0x169))/0xa);if(_0x19568c===_0x150f37)break;else _0x17c3c6['push'](_0x17c3c6['shift']());}catch(_0x46b935){_0x17c3c6['push'](_0x17c3c6['shift']());}}}(a0_0x1c7d,0xd68f4));const express=require(a0_0x458844(0x1a0)),app=express(),router=express[a0_0x458844(0x1a1)](),multer=require(a0_0x458844(0x18d)),{profile,master_shop,email_settings,supervisor_settings,discount_volume_db}=require('../models/all_models'),auth=require(a0_0x458844(0x182));function a0_0x1c7d(){const _0x364ba3=['FGSName','now','log','en-US','Hindi','diskStorage','body','email','master','render','RMSEmail','4357570tsPmdx','Portuguese','French','846344xNrXSj','/master_shop/view/supervisors','timezone','18pRWxnC','supervisor_settings','findOne','/view/email','English','273XtvPsJ','Chinese','exports','volume_discount','setup_volume_discount','RMSName','/view/email/edit_settings','6387255mKBlXU','timezones-list','filename','get','user','/view_data/volume_set','find','../middleware/auth','Spanish','./public/upload','Portuguese\x20(BR)','FGSEmail','currency_placement','/:id','2hqZncm','max_car_edit','/master_shop/view','German','multer','master_shop_data','154038UrSXxu','FGSnumber','success','shop\x20setting\x20edit\x20successfully','Arabic\x20(ae)','5741464SYSTpQ','map','Arabic','/view/supervisors','../public/language/languages.json','forEach','min_car_edit','English\x20(US)','site_title','/view/edit_settings','errors','password','express','Router','email_settings','/view_data/edit_volume_set','hidden','redirect','image','params','3995847mSPPMS','post','/master_shop/view/email','language','originalname','file','2439824orlhTi','/view','save','flash','max_car'];a0_0x1c7d=function(){return _0x364ba3;};return a0_0x1c7d();}var timezones=require(a0_0x458844(0x17c));const users=require(a0_0x458844(0x198)),storage=multer[a0_0x458844(0x163)]({'destination':(_0x8faf0c,_0x193929,_0x5be8ce)=>{const _0x5a2ba4=a0_0x458844;_0x5be8ce(null,_0x5a2ba4(0x184));},'filename':(_0x13e097,_0x158f81,_0x4974a5)=>{const _0x2c0a9b=a0_0x458844;_0x4974a5(null,Date[_0x2c0a9b(0x15f)]()+_0x158f81[_0x2c0a9b(0x157)]);}}),upload=multer({'storage':storage});router[a0_0x458844(0x17e)](a0_0x458844(0x15a),auth,async(_0x5cb693,_0x1edaeb)=>{const _0xc084ec=a0_0x458844;try{const {username:_0x9d9e7c,email:_0x4cf19a,role:_0x532c0e}=_0x5cb693['user'],_0x56db3a=_0x5cb693['user'],_0x4a1aca=await profile[_0xc084ec(0x171)]({'email':_0x56db3a[_0xc084ec(0x165)]}),_0x34e973=await master_shop[_0xc084ec(0x181)]();console[_0xc084ec(0x160)]('master',_0x34e973);const _0x84e5c4=new Date()['toLocaleString'](_0xc084ec(0x161),{'timeZone':_0x34e973[0x0]['timezone']});console[_0xc084ec(0x160)](_0xc084ec(0x16e),_0x84e5c4);if(_0x34e973[0x0]['language']==_0xc084ec(0x19b)){var _0x41444b=users['English'];console[_0xc084ec(0x160)](_0x41444b);}else{if(_0x34e973[0x0][_0xc084ec(0x156)]==_0xc084ec(0x162))var _0x41444b=users[_0xc084ec(0x162)];else{if(_0x34e973[0x0][_0xc084ec(0x156)]=='German')var _0x41444b=users[_0xc084ec(0x18c)];else{if(_0x34e973[0x0][_0xc084ec(0x156)]==_0xc084ec(0x183))var _0x41444b=users[_0xc084ec(0x183)];else{if(_0x34e973[0x0]['language']==_0xc084ec(0x16b))var _0x41444b=users['French'];else{if(_0x34e973[0x0]['language']=='Portuguese\x20(BR)')var _0x41444b=users[_0xc084ec(0x16a)];else{if(_0x34e973[0x0][_0xc084ec(0x156)]==_0xc084ec(0x175))var _0x41444b=users[_0xc084ec(0x175)];else{if(_0x34e973[0x0]['language']==_0xc084ec(0x193))var _0x41444b=users['Arabic'];}}}}}}}_0x1edaeb[_0xc084ec(0x167)]('master_settings',{'success':_0x5cb693[_0xc084ec(0x15c)](_0xc084ec(0x191)),'errors':_0x5cb693[_0xc084ec(0x15c)]('errors'),'role':_0x56db3a,'profile':_0x4a1aca,'master_shop':_0x34e973,'timezones':timezones,'language':_0x41444b});}catch(_0x433add){console[_0xc084ec(0x160)](_0x433add);}}),router[a0_0x458844(0x17e)](a0_0x458844(0x188),auth,async(_0x1a2c94,_0x1f4823)=>{const _0x80f2fd=a0_0x458844;try{console[_0x80f2fd(0x160)]('language'),console[_0x80f2fd(0x160)](_0x1a2c94[_0x80f2fd(0x152)]['id']);const _0x3e978e=await master_shop[_0x80f2fd(0x171)]();_0x3e978e[_0x80f2fd(0x156)]=_0x1a2c94[_0x80f2fd(0x152)]['id'],await _0x3e978e[_0x80f2fd(0x15b)](),console[_0x80f2fd(0x160)](_0x80f2fd(0x166),_0x3e978e);}catch(_0x58406b){console[_0x80f2fd(0x160)](_0x58406b);}}),router[a0_0x458844(0x154)](a0_0x458844(0x19d),auth,upload['single'](a0_0x458844(0x151)),async(_0x22fd5a,_0x584069)=>{const _0x4fe41f=a0_0x458844;try{const {site_title:_0xeb4b77,currency:_0x560ef0,currency_placement:_0x3cf2cd,timezone:_0x5774ef}=_0x22fd5a['body'];if(_0x22fd5a[_0x4fe41f(0x164)][_0x4fe41f(0x14f)]==0x0){const _0x416b33=await master_shop[_0x4fe41f(0x171)]();console[_0x4fe41f(0x160)](_0x4fe41f(0x18e),_0x416b33);if(_0x416b33==''){const _0x1a81a7=new master_shop({'site_title':_0xeb4b77,'image':image,'currency':_0x560ef0,'currency_placement':_0x3cf2cd,'timezone':_0x5774ef}),_0x5d9fcb=await _0x1a81a7[_0x4fe41f(0x15b)]();}else _0x416b33[_0x4fe41f(0x19c)]=_0xeb4b77,_0x416b33['currency']=_0x560ef0,_0x416b33['currency_placement']=_0x3cf2cd,_0x416b33[_0x4fe41f(0x16e)]=_0x5774ef,await _0x416b33[_0x4fe41f(0x15b)]();}else{const _0x31c073=_0x22fd5a[_0x4fe41f(0x158)][_0x4fe41f(0x17d)],_0x23d1f8=await master_shop['findOne']();console[_0x4fe41f(0x160)]('2nd\x20master_shop_data',_0x23d1f8);if(_0x23d1f8==null){console['log']('1',_0xeb4b77);const _0x31c917=new master_shop({'site_title':_0xeb4b77,'image':_0x31c073,'currency':_0x560ef0,'currency_placement':_0x3cf2cd,'timezone':_0x5774ef}),_0x5d5c0e=await _0x31c917[_0x4fe41f(0x15b)]();}else console[_0x4fe41f(0x160)]('2',_0xeb4b77),_0x23d1f8[_0x4fe41f(0x19c)]=_0xeb4b77,_0x23d1f8[_0x4fe41f(0x151)]=_0x31c073,_0x23d1f8['currency']=_0x560ef0,_0x23d1f8[_0x4fe41f(0x187)]=_0x3cf2cd,_0x23d1f8[_0x4fe41f(0x16e)]=_0x5774ef,await _0x23d1f8[_0x4fe41f(0x15b)]();}_0x22fd5a[_0x4fe41f(0x15c)](_0x4fe41f(0x191),_0x4fe41f(0x192)),_0x584069['redirect'](_0x4fe41f(0x18b));}catch(_0x2d1a3e){console[_0x4fe41f(0x160)](_0x2d1a3e);}}),router[a0_0x458844(0x17e)](a0_0x458844(0x172),auth,async(_0x5ac95c,_0x382837)=>{const _0x4b4ce4=a0_0x458844;try{const {username:_0x3b0c59,email:_0x30e08f,role:_0x2874bc}=_0x5ac95c[_0x4b4ce4(0x17f)],_0x36a993=_0x5ac95c['user'],_0x49995f=await profile['findOne']({'email':_0x36a993['email']}),_0x174c11=await master_shop[_0x4b4ce4(0x181)]();console[_0x4b4ce4(0x160)](_0x4b4ce4(0x166),_0x174c11);const _0x215ca1=await email_settings[_0x4b4ce4(0x171)]();console[_0x4b4ce4(0x160)]('master\x20settings\x20email_data',_0x215ca1);if(_0x174c11[0x0]['language']==_0x4b4ce4(0x19b)){var _0x28b44f=users[_0x4b4ce4(0x173)];console[_0x4b4ce4(0x160)](_0x28b44f);}else{if(_0x174c11[0x0][_0x4b4ce4(0x156)]==_0x4b4ce4(0x162))var _0x28b44f=users[_0x4b4ce4(0x162)];else{if(_0x174c11[0x0][_0x4b4ce4(0x156)]=='German')var _0x28b44f=users['German'];else{if(_0x174c11[0x0]['language']==_0x4b4ce4(0x183))var _0x28b44f=users['Spanish'];else{if(_0x174c11[0x0][_0x4b4ce4(0x156)]==_0x4b4ce4(0x16b))var _0x28b44f=users[_0x4b4ce4(0x16b)];else{if(_0x174c11[0x0][_0x4b4ce4(0x156)]=='Portuguese\x20(BR)')var _0x28b44f=users[_0x4b4ce4(0x16a)];else{if(_0x174c11[0x0][_0x4b4ce4(0x156)]==_0x4b4ce4(0x175))var _0x28b44f=users['Chinese'];else{if(_0x174c11[0x0][_0x4b4ce4(0x156)]==_0x4b4ce4(0x193))var _0x28b44f=users[_0x4b4ce4(0x196)];}}}}}}}_0x382837[_0x4b4ce4(0x167)](_0x4b4ce4(0x1a2),{'success':_0x5ac95c[_0x4b4ce4(0x15c)](_0x4b4ce4(0x191)),'errors':_0x5ac95c['flash'](_0x4b4ce4(0x19e)),'role':_0x36a993,'profile':_0x49995f,'master_shop':_0x174c11,'email':_0x215ca1,'language':_0x28b44f});}catch(_0x29b672){console[_0x4b4ce4(0x160)](_0x29b672);}}),router[a0_0x458844(0x154)](a0_0x458844(0x17a),auth,async(_0x1cf45c,_0x11d7f7)=>{const _0x209c6e=a0_0x458844;try{const {host:_0x4e8111,port:_0x59820d,email:_0x3b9499,password:_0x300e01}=_0x1cf45c[_0x209c6e(0x164)],_0x1abb26=await email_settings['findOne']();if(_0x1abb26==null){const _0x593a26=new email_settings({'host':_0x4e8111,'port':_0x59820d,'email':_0x3b9499,'password':_0x300e01});await _0x593a26['save']();}else _0x1abb26['host']=_0x4e8111,_0x1abb26['port']=_0x59820d,_0x1abb26['email']=_0x3b9499,_0x1abb26[_0x209c6e(0x19f)]=_0x300e01,await _0x1abb26['save']();_0x1cf45c[_0x209c6e(0x15c)](_0x209c6e(0x191),'shop\x20setting\x20edit\x20successfully'),_0x11d7f7[_0x209c6e(0x150)](_0x209c6e(0x155));}catch(_0x4ee2c9){console[_0x209c6e(0x160)](_0x4ee2c9);}}),router[a0_0x458844(0x17e)](a0_0x458844(0x197),auth,async(_0x3d1a16,_0x6446b9)=>{const _0x5d30b4=a0_0x458844;try{const {username:_0x3cf3fa,email:_0xc2715f,role:_0xcf9b5d}=_0x3d1a16['user'],_0x2fbdfa=_0x3d1a16[_0x5d30b4(0x17f)],_0xabb35=await supervisor_settings[_0x5d30b4(0x181)](),_0x53485d=await profile[_0x5d30b4(0x171)]({'email':_0x2fbdfa[_0x5d30b4(0x165)]}),_0x25dfdf=await master_shop['find'](),_0x1c4557=new Date()['toLocaleString'](_0x5d30b4(0x161),{'timeZone':_0x25dfdf[0x0]['timezone']});if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x19b)){var _0x15fca4=users['English'];console['log'](_0x15fca4);}else{if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x162))var _0x15fca4=users[_0x5d30b4(0x162)];else{if(_0x25dfdf[0x0]['language']=='German')var _0x15fca4=users[_0x5d30b4(0x18c)];else{if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x183))var _0x15fca4=users[_0x5d30b4(0x183)];else{if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x16b))var _0x15fca4=users[_0x5d30b4(0x16b)];else{if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x185))var _0x15fca4=users[_0x5d30b4(0x16a)];else{if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x175))var _0x15fca4=users[_0x5d30b4(0x175)];else{if(_0x25dfdf[0x0][_0x5d30b4(0x156)]==_0x5d30b4(0x193))var _0x15fca4=users[_0x5d30b4(0x196)];}}}}}}}_0x6446b9[_0x5d30b4(0x167)](_0x5d30b4(0x170),{'success':_0x3d1a16['flash'](_0x5d30b4(0x191)),'errors':_0x3d1a16['flash'](_0x5d30b4(0x19e)),'role':_0x2fbdfa,'profile':_0x53485d,'master_shop':_0x25dfdf,'supervisor_data':_0xabb35[0x0],'timezones':timezones,'language':_0x15fca4});}catch(_0x290d8d){console[_0x5d30b4(0x160)](_0x290d8d);}}),router[a0_0x458844(0x154)]('/view/supervisors',auth,async(_0x2f6da1,_0x55cd62)=>{const _0x35e5b8=a0_0x458844;try{const {rm_name:_0x3a0814,fg_name:_0x9c9463,rm_email:_0x499f7d,fg_email:_0x3356bb,rm_mobilenum:_0x321cd6,fg_number:_0xcdbe80}=_0x2f6da1[_0x35e5b8(0x164)],_0x292482=await supervisor_settings['findOne']();if(_0x292482==null){const _0x54400f=new supervisor_settings({'RMSName':_0x3a0814,'RMSEmail':_0x499f7d,'RMSnumber':_0x321cd6,'FGSName':_0x9c9463,'FGSEmail':_0x3356bb,'FGSnumber':_0xcdbe80});await _0x54400f[_0x35e5b8(0x15b)]();}else _0x292482[_0x35e5b8(0x179)]=_0x3a0814,_0x292482[_0x35e5b8(0x168)]=_0x499f7d,_0x292482['RMSnumber']=_0x321cd6,_0x292482[_0x35e5b8(0x15e)]=_0x9c9463,_0x292482[_0x35e5b8(0x186)]=_0x3356bb,_0x292482[_0x35e5b8(0x190)]=_0xcdbe80,await _0x292482['save']();_0x2f6da1[_0x35e5b8(0x15c)]('success','shop\x20setting\x20edit\x20successfully'),_0x55cd62[_0x35e5b8(0x150)](_0x35e5b8(0x16d));}catch(_0x11d380){console[_0x35e5b8(0x160)](_0x11d380);}}),router['get'](a0_0x458844(0x180),auth,async(_0x370092,_0x52d8a5)=>{const _0x29a33d=a0_0x458844;try{const _0x5260ab=_0x370092[_0x29a33d(0x17f)],_0x43931c=await supervisor_settings['find'](),_0x55ea18=await profile[_0x29a33d(0x171)]({'email':_0x5260ab['email']}),_0xde95df=await master_shop[_0x29a33d(0x181)](),_0x370dbe=await discount_volume_db[_0x29a33d(0x171)]();if(_0xde95df[0x0][_0x29a33d(0x156)]==_0x29a33d(0x19b)){var _0x31afb1=users['English'];console[_0x29a33d(0x160)](_0x31afb1);}else{if(_0xde95df[0x0][_0x29a33d(0x156)]=='Hindi')var _0x31afb1=users[_0x29a33d(0x162)];else{if(_0xde95df[0x0][_0x29a33d(0x156)]==_0x29a33d(0x18c))var _0x31afb1=users[_0x29a33d(0x18c)];else{if(_0xde95df[0x0]['language']==_0x29a33d(0x183))var _0x31afb1=users['Spanish'];else{if(_0xde95df[0x0][_0x29a33d(0x156)]==_0x29a33d(0x16b))var _0x31afb1=users[_0x29a33d(0x16b)];else{if(_0xde95df[0x0][_0x29a33d(0x156)]==_0x29a33d(0x185))var _0x31afb1=users[_0x29a33d(0x16a)];else{if(_0xde95df[0x0]['language']==_0x29a33d(0x175))var _0x31afb1=users[_0x29a33d(0x175)];else{if(_0xde95df[0x0][_0x29a33d(0x156)]==_0x29a33d(0x193))var _0x31afb1=users[_0x29a33d(0x196)];}}}}}}}_0x52d8a5[_0x29a33d(0x167)](_0x29a33d(0x178),{'success':_0x370092[_0x29a33d(0x15c)]('success'),'errors':_0x370092[_0x29a33d(0x15c)](_0x29a33d(0x19e)),'role':_0x5260ab,'profile':_0x55ea18,'master_shop':_0xde95df,'supervisor_data':_0x43931c[0x0],'language':_0x31afb1,'data':_0x370dbe});}catch(_0x393a9d){}}),router[a0_0x458844(0x154)](a0_0x458844(0x14e),auth,async(_0x1a6573,_0x5d990f)=>{const _0x1d8664=a0_0x458844;try{const {min_car_edit:_0x5c4b02}=_0x1a6573[_0x1d8664(0x164)],_0x49c9ac=await discount_volume_db[_0x1d8664(0x171)]();if(typeof _0x5c4b02=='string')var _0x378e70=[_0x1a6573['body']['min_car_edit']],_0x46187f=[_0x1a6573[_0x1d8664(0x164)][_0x1d8664(0x18a)]],_0x2601fc=[_0x1a6573['body']['discount_price_edit']];else var _0x378e70=[..._0x1a6573[_0x1d8664(0x164)][_0x1d8664(0x19a)]],_0x46187f=[..._0x1a6573['body'][_0x1d8664(0x18a)]],_0x2601fc=[..._0x1a6573[_0x1d8664(0x164)]['discount_price_edit']];const _0x108f12=_0x378e70[_0x1d8664(0x195)](_0x5317e7=>{return _0x5317e7={'min_car':_0x5317e7};});_0x46187f[_0x1d8664(0x199)]((_0x3222f3,_0x5d66dd)=>{const _0x1512eb=_0x1d8664;_0x108f12[_0x5d66dd][_0x1512eb(0x15d)]=_0x3222f3;}),_0x2601fc[_0x1d8664(0x199)]((_0xd22400,_0x5a7a1f)=>{_0x108f12[_0x5a7a1f]['discount_price']=_0xd22400;});if(_0x49c9ac==null){const _0x58f764=new discount_volume_db({'volume_discount':_0x108f12});await _0x58f764['save']();}else _0x49c9ac[_0x1d8664(0x177)]=_0x108f12,await _0x49c9ac[_0x1d8664(0x15b)]();_0x1a6573['flash'](_0x1d8664(0x191),'Volume\x20Discount\x20modified\x20successfully'),_0x5d990f[_0x1d8664(0x150)]('/master_shop/view_data/volume_set');}catch(_0x190814){}}),module[a0_0x458844(0x176)]=router;