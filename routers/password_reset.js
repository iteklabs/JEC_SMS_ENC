function a0_0x5046(){const _0x5f2070=['<hr\x20class=\x22my-3\x22>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<div>','False','name','</div>','createTransport','isUsed','render','/view','success','logo','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','880052bhsJlB','port','4231661btocIS','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','email','find','Logo.png','<strong>\x20Regards\x20</strong>','1557195OOYWRB','2TIexKT','3559836okKPpA','image','Email\x20sent\x20successfully','log','/login/','save','../middleware/auth','/code/','<p>Hello\x20','2743410qfQXvs','Password\x20Successfuly\x20Reset\x20-\x20','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','floor','26625996clARuW','/forgotPassword/code','flash','Router','errors','redirect','get','password','Password\x20Reset\x20-\x20','email_code','8uzayHY','body','/upload/','</body></html>','express','/forgotPassword/view','<h5>','hash','</b></h1></p>','findOne','<!DOCTYPE\x20html>','4749096XUdqEE','length','host','site_title','</head><body>','<html><head><title></title>','json','</h5>','nodemailer','../models/all_models','post','/forgotPassword/code/','/../public','random'];a0_0x5046=function(){return _0x5f2070;};return a0_0x5046();}function a0_0x306a(_0x273066,_0x2ffe88){const _0x5046c2=a0_0x5046();return a0_0x306a=function(_0x306aa4,_0x1664d5){_0x306aa4=_0x306aa4-0x88;let _0x2ec202=_0x5046c2[_0x306aa4];return _0x2ec202;},a0_0x306a(_0x273066,_0x2ffe88);}const a0_0xdb73e1=a0_0x306a;(function(_0x37f79,_0xe77e1f){const _0x53aff2=a0_0x306a,_0x31fe68=_0x37f79();while(!![]){try{const _0x558ecb=-parseInt(_0x53aff2(0xb2))/0x1+parseInt(_0x53aff2(0xbb))/0x2*(parseInt(_0x53aff2(0xc5))/0x3)+-parseInt(_0x53aff2(0x8b))/0x4*(parseInt(_0x53aff2(0xba))/0x5)+-parseInt(_0x53aff2(0xbc))/0x6+-parseInt(_0x53aff2(0xb4))/0x7+-parseInt(_0x53aff2(0x96))/0x8+parseInt(_0x53aff2(0xc9))/0x9;if(_0x558ecb===_0xe77e1f)break;else _0x31fe68['push'](_0x31fe68['shift']());}catch(_0x1327f5){_0x31fe68['push'](_0x31fe68['shift']());}}}(a0_0x5046,0x8d3d6));const express=require(a0_0xdb73e1(0x8f)),app=express(),router=express[a0_0xdb73e1(0xcc)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0xdb73e1(0x9f)),auth=require(a0_0xdb73e1(0xc2)),nodemailer=require(a0_0xdb73e1(0x9e));router[a0_0xdb73e1(0xcf)](a0_0xdb73e1(0xad),async(_0x1d96fd,_0x5bdb1b)=>{const _0x456d19=a0_0xdb73e1,_0xa41516=await master_shop['find']();_0x5bdb1b[_0x456d19(0xac)]('email_reset',{'success':_0x1d96fd[_0x456d19(0xcb)](_0x456d19(0xae)),'errors':_0x1d96fd[_0x456d19(0xcb)](_0x456d19(0xcd)),'master_shop':_0xa41516});});function generateRandomAlphanumericString(_0x32bd8e=0x6){const _0x205109=a0_0xdb73e1,_0x2ec8ce=_0x205109(0xb0);let _0x3949f5='';for(let _0x42d5fa=0x0;_0x42d5fa<_0x32bd8e;_0x42d5fa++){const _0xbe185f=Math[_0x205109(0xc8)](Math[_0x205109(0xa3)]()*_0x2ec8ce[_0x205109(0x97)]);_0x3949f5+=_0x2ec8ce[_0xbe185f];}return _0x3949f5;}router[a0_0xdb73e1(0xa0)](a0_0xdb73e1(0xad),async(_0x4d4158,_0x5738f7)=>{const _0x4d636c=a0_0xdb73e1,{email:_0x56d9cb}=_0x4d4158['body'],_0x6ebd1d=await sing_up[_0x4d636c(0x94)]({'email':_0x56d9cb});var _0x49ce02=generateRandomAlphanumericString();const _0x2f70bb=await bcrypt[_0x4d636c(0x92)](_0x49ce02,0xa);if(_0x6ebd1d){_0x6ebd1d['code']=_0x49ce02,_0x6ebd1d[_0x4d636c(0xab)]=_0x4d636c(0xa7);const _0x4a4e4d=_0x6ebd1d['save'](),_0x24aee1=await master_shop['find'](),_0x1791ac=await email_settings['findOne']();let _0x423ec3=nodemailer[_0x4d636c(0xaa)]({'host':_0x1791ac[_0x4d636c(0x98)],'port':Number(_0x1791ac['port']),'secure':![],'auth':{'user':_0x1791ac[_0x4d636c(0xb6)],'pass':_0x1791ac[_0x4d636c(0x88)]}}),_0x1dad7e={'from':_0x1791ac['email'],'to':_0x6ebd1d[_0x4d636c(0xb6)],'subject':_0x4d636c(0x89)+_0x24aee1[0x0][_0x4d636c(0x99)],'attachments':[{'filename':_0x4d636c(0xb8),'path':__dirname+_0x4d636c(0xa2)+'/upload/'+_0x24aee1[0x0][_0x4d636c(0xbd)],'cid':_0x4d636c(0xaf)}],'html':_0x4d636c(0x95)+_0x4d636c(0x9b)+'</head><body>'+_0x4d636c(0xa6)+_0x4d636c(0xb1)+_0x4d636c(0xa6)+_0x4d636c(0xa5)+_0x4d636c(0xa9)+_0x4d636c(0xa9)+_0x4d636c(0xa6)+_0x4d636c(0xb5)+_0x49ce02+_0x4d636c(0x93)+_0x4d636c(0xa9)+_0x4d636c(0xa4)+_0x4d636c(0xa6)+_0x4d636c(0xb9)+_0x4d636c(0x91)+_0x24aee1[0x0]['site_title']+_0x4d636c(0x9d)+_0x4d636c(0xa9)+_0x4d636c(0xa9)+_0x4d636c(0x8e)};_0x423ec3['sendMail'](_0x1dad7e,function(_0x201873,_0x47ead5){const _0x3b9b84=_0x4d636c;_0x201873?(console['log'](_0x201873),console[_0x3b9b84(0xbf)]('Error\x20Occurs')):console[_0x3b9b84(0xbf)](_0x3b9b84(0xbe));}),_0x5738f7['redirect'](_0x4d636c(0xa1));}else _0x4d4158['flash']('error','Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x5738f7['redirect'](_0x4d636c(0x90));}),router[a0_0xdb73e1(0xcf)](a0_0xdb73e1(0xc3),async(_0x2e9c0b,_0x5b8026)=>{const _0xf7722b=a0_0xdb73e1,_0x40148=await master_shop[_0xf7722b(0xb7)]();_0x5b8026[_0xf7722b(0xac)](_0xf7722b(0x8a),{'success':_0x2e9c0b[_0xf7722b(0xcb)]('success'),'errors':_0x2e9c0b[_0xf7722b(0xcb)](_0xf7722b(0xcd)),'master_shop':_0x40148});}),router['post'](a0_0xdb73e1(0xc3),async(_0xa1b964,_0xbbba1)=>{const _0x422451=a0_0xdb73e1,{code:_0x18e3b4}=_0xa1b964[_0x422451(0x8c)],_0x2fcf01=await sing_up[_0x422451(0xb7)]({'code':_0x18e3b4});console[_0x422451(0xbf)](_0x2fcf01[_0x422451(0x97)]),_0xbbba1[_0x422451(0x9c)](_0x2fcf01);}),router['post']('/code_password/',async(_0x439954,_0x376ded)=>{const _0x4ef716=a0_0xdb73e1,{codex:_0x35df80,password:_0x5eb96e,cpassword:_0x15e745,email:_0x12e6c0}=_0x439954['body'],_0x21cba2=await sing_up[_0x4ef716(0x94)]({'code':_0x35df80,'email':_0x12e6c0,'isUsed':_0x4ef716(0xa7)}),_0x167d96=await bcrypt['hash'](_0x5eb96e,0xa);if(_0x21cba2){_0x21cba2[_0x4ef716(0x88)]=_0x167d96,_0x21cba2[_0x4ef716(0xab)]='True';const _0x92375c=_0x21cba2[_0x4ef716(0xc1)](),_0x535362=await master_shop[_0x4ef716(0xb7)](),_0xe838f6=await email_settings['findOne']();let _0x3d5c49=nodemailer['createTransport']({'host':_0xe838f6['host'],'port':Number(_0xe838f6[_0x4ef716(0xb3)]),'secure':![],'auth':{'user':_0xe838f6[_0x4ef716(0xb6)],'pass':_0xe838f6[_0x4ef716(0x88)]}}),_0x1f3ff7={'from':_0xe838f6['email'],'to':_0x21cba2[_0x4ef716(0xb6)],'subject':_0x4ef716(0xc6)+_0x535362[0x0][_0x4ef716(0x99)],'attachments':[{'filename':_0x4ef716(0xb8),'path':__dirname+_0x4ef716(0xa2)+_0x4ef716(0x8d)+_0x535362[0x0]['image'],'cid':_0x4ef716(0xaf)}],'html':'<!DOCTYPE\x20html>'+'<html><head><title></title>'+_0x4ef716(0x9a)+_0x4ef716(0xa6)+_0x4ef716(0xb1)+_0x4ef716(0xa6)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x4ef716(0xa9)+_0x4ef716(0xa9)+'<div>'+_0x4ef716(0xc4)+_0x21cba2[_0x4ef716(0xa8)]+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x4ef716(0xa9)+'<hr\x20class=\x22my-3\x22>'+_0x4ef716(0xa6)+_0x4ef716(0xb9)+_0x4ef716(0x91)+_0x535362[0x0][_0x4ef716(0x99)]+_0x4ef716(0x9d)+_0x4ef716(0xa9)+_0x4ef716(0xa9)+_0x4ef716(0x8e)};_0x3d5c49['sendMail'](_0x1f3ff7,function(_0x16d80e,_0xc1605c){const _0x137cb6=_0x4ef716;_0x16d80e?(console[_0x137cb6(0xbf)](_0x16d80e),console['log']('Error\x20Occurs')):console[_0x137cb6(0xbf)](_0x137cb6(0xbe));}),_0x376ded['redirect'](_0x4ef716(0xc0));}else _0x439954[_0x4ef716(0xcb)]('error',_0x4ef716(0xc7)),_0x376ded[_0x4ef716(0xce)](_0x4ef716(0xca));}),module['exports']=router;