function a0_0x291d(_0x239ad8,_0x1f69d7){const _0x18688d=a0_0x1868();return a0_0x291d=function(_0x291d9f,_0x170927){_0x291d9f=_0x291d9f-0xdc;let _0x3c30a9=_0x18688d[_0x291d9f];return _0x3c30a9;},a0_0x291d(_0x239ad8,_0x1f69d7);}const a0_0x383592=a0_0x291d;(function(_0x368ad2,_0x3b9fb1){const _0x5a348c=a0_0x291d,_0x56b48e=_0x368ad2();while(!![]){try{const _0x984a7c=parseInt(_0x5a348c(0xea))/0x1*(-parseInt(_0x5a348c(0x11a))/0x2)+-parseInt(_0x5a348c(0xe4))/0x3*(-parseInt(_0x5a348c(0xe5))/0x4)+parseInt(_0x5a348c(0x117))/0x5*(parseInt(_0x5a348c(0xe9))/0x6)+parseInt(_0x5a348c(0x120))/0x7+-parseInt(_0x5a348c(0xdc))/0x8+-parseInt(_0x5a348c(0xf2))/0x9*(parseInt(_0x5a348c(0xf9))/0xa)+parseInt(_0x5a348c(0xe1))/0xb;if(_0x984a7c===_0x3b9fb1)break;else _0x56b48e['push'](_0x56b48e['shift']());}catch(_0x1e2ec7){_0x56b48e['push'](_0x56b48e['shift']());}}}(a0_0x1868,0x64fde));const express=require(a0_0x383592(0x10c)),app=express(),router=express[a0_0x383592(0xe8)](),bcrypt=require(a0_0x383592(0x115)),{sing_up,staff,profile,master_shop,email_settings}=require('../models/all_models'),auth=require(a0_0x383592(0x100)),nodemailer=require(a0_0x383592(0xdd));router['get'](a0_0x383592(0x10b),async(_0x678c74,_0x17e007)=>{const _0x1790d8=a0_0x383592,_0x57d8ec=await master_shop[_0x1790d8(0x103)]();_0x17e007[_0x1790d8(0xf0)]('email_reset',{'success':_0x678c74[_0x1790d8(0x128)](_0x1790d8(0x101)),'errors':_0x678c74[_0x1790d8(0x128)](_0x1790d8(0x113)),'master_shop':_0x57d8ec});});function generateRandomAlphanumericString(_0x255705=0x6){const _0x387544=a0_0x383592,_0x2b5ba3=_0x387544(0xed);let _0x27331a='';for(let _0x1a8dfb=0x0;_0x1a8dfb<_0x255705;_0x1a8dfb++){const _0x3111ec=Math[_0x387544(0xfb)](Math[_0x387544(0x110)]()*_0x2b5ba3[_0x387544(0x11b)]);_0x27331a+=_0x2b5ba3[_0x3111ec];}return _0x27331a;}router[a0_0x383592(0x122)](a0_0x383592(0x10b),async(_0x2dab02,_0x29b38a)=>{const _0x473686=a0_0x383592,{email:_0x15c91a}=_0x2dab02[_0x473686(0xf1)],_0x4e08bc=await sing_up[_0x473686(0xec)]({'email':_0x15c91a});var _0x23a21b=generateRandomAlphanumericString();const _0x1838d7=await bcrypt[_0x473686(0xf5)](_0x23a21b,0xa);if(_0x4e08bc){_0x4e08bc[_0x473686(0x107)]=_0x23a21b,_0x4e08bc[_0x473686(0x104)]='False';const _0xc5ff55=_0x4e08bc[_0x473686(0x121)](),_0x1caefe=await master_shop[_0x473686(0x103)](),_0x5aa90c=await email_settings[_0x473686(0xec)]();let _0x2422e4=nodemailer[_0x473686(0xf6)]({'host':_0x5aa90c['host'],'port':Number(_0x5aa90c[_0x473686(0x123)]),'secure':![],'auth':{'user':_0x5aa90c[_0x473686(0x10f)],'pass':_0x5aa90c[_0x473686(0x105)]}}),_0xd7a6={'from':_0x5aa90c[_0x473686(0x10f)],'to':_0x4e08bc[_0x473686(0x10f)],'subject':_0x473686(0x11d)+_0x1caefe[0x0][_0x473686(0x109)],'attachments':[{'filename':_0x473686(0xde),'path':__dirname+_0x473686(0x129)+_0x473686(0x10a)+_0x1caefe[0x0][_0x473686(0x10e)],'cid':'logo'}],'html':_0x473686(0xfe)+_0x473686(0xfd)+_0x473686(0x127)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x473686(0xe7)+'</div>'+_0x473686(0xe2)+_0x473686(0x125)+_0x23a21b+_0x473686(0xee)+_0x473686(0xe7)+_0x473686(0x11f)+'<div>'+_0x473686(0x118)+_0x473686(0xf3)+_0x1caefe[0x0][_0x473686(0x109)]+_0x473686(0x11c)+_0x473686(0xe7)+_0x473686(0xe7)+_0x473686(0xe3)};_0x2422e4[_0x473686(0x116)](_0xd7a6,function(_0x38775c,_0x5e0a3b){const _0x8fe2e9=_0x473686;_0x38775c?(console['log'](_0x38775c),console[_0x8fe2e9(0xf7)](_0x8fe2e9(0x10d))):console['log'](_0x8fe2e9(0x114));}),_0x29b38a[_0x473686(0xf4)](_0x473686(0xfa));}else _0x2dab02['flash']('error',_0x473686(0xff)),_0x29b38a[_0x473686(0xf4)](_0x473686(0x102));}),router[a0_0x383592(0xef)](a0_0x383592(0xf8),async(_0x5d8efb,_0x3acc0b)=>{const _0x2944f9=a0_0x383592,_0x4f3f5c=await master_shop[_0x2944f9(0x103)]();_0x3acc0b[_0x2944f9(0xf0)]('email_code',{'success':_0x5d8efb['flash'](_0x2944f9(0x101)),'errors':_0x5d8efb['flash']('errors'),'master_shop':_0x4f3f5c});}),router[a0_0x383592(0x122)](a0_0x383592(0xf8),async(_0x565a10,_0x54b964)=>{const _0x334cf7=a0_0x383592,{code:_0x46847b}=_0x565a10[_0x334cf7(0xf1)],_0x1b7604=await sing_up[_0x334cf7(0x103)]({'code':_0x46847b});console[_0x334cf7(0xf7)](_0x1b7604[_0x334cf7(0x11b)]),_0x54b964[_0x334cf7(0x108)](_0x1b7604);}),router['post'](a0_0x383592(0xe0),async(_0xccfd31,_0x2b6047)=>{const _0x449822=a0_0x383592,{codex:_0x58e744,password:_0x26b66c,cpassword:_0x26529f,email:_0x1bc1f4}=_0xccfd31[_0x449822(0xf1)],_0x1aaad3=await sing_up[_0x449822(0xec)]({'code':_0x58e744,'email':_0x1bc1f4,'isUsed':_0x449822(0x124)}),_0x20accf=await bcrypt[_0x449822(0xf5)](_0x26b66c,0xa);if(_0x1aaad3){_0x1aaad3[_0x449822(0x105)]=_0x20accf,_0x1aaad3[_0x449822(0x104)]=_0x449822(0x126);const _0xe1479d=_0x1aaad3[_0x449822(0x121)](),_0x130866=await master_shop[_0x449822(0x103)](),_0x4d4e1d=await email_settings[_0x449822(0xec)]();let _0x111dfb=nodemailer[_0x449822(0xf6)]({'host':_0x4d4e1d[_0x449822(0x112)],'port':Number(_0x4d4e1d['port']),'secure':![],'auth':{'user':_0x4d4e1d[_0x449822(0x10f)],'pass':_0x4d4e1d[_0x449822(0x105)]}}),_0x5bc547={'from':_0x4d4e1d[_0x449822(0x10f)],'to':_0x1aaad3['email'],'subject':_0x449822(0xdf)+_0x130866[0x0][_0x449822(0x109)],'attachments':[{'filename':_0x449822(0xde),'path':__dirname+_0x449822(0x129)+'/upload/'+_0x130866[0x0][_0x449822(0x10e)],'cid':_0x449822(0xfc)}],'html':_0x449822(0xfe)+_0x449822(0xfd)+'</head><body>'+'<div>'+_0x449822(0xe6)+_0x449822(0xe2)+_0x449822(0x11e)+_0x449822(0xe7)+_0x449822(0xe7)+_0x449822(0xe2)+'<p>Hello\x20'+_0x1aaad3[_0x449822(0x106)]+_0x449822(0xeb)+_0x449822(0xe7)+_0x449822(0x11f)+_0x449822(0xe2)+_0x449822(0x118)+'<h5>'+_0x130866[0x0]['site_title']+_0x449822(0x11c)+'</div>'+'</div>'+_0x449822(0xe3)};_0x111dfb['sendMail'](_0x5bc547,function(_0x32a23f,_0x2caa43){const _0x46beb4=_0x449822;_0x32a23f?(console[_0x46beb4(0xf7)](_0x32a23f),console[_0x46beb4(0xf7)](_0x46beb4(0x10d))):console[_0x46beb4(0xf7)](_0x46beb4(0x114));}),_0x2b6047[_0x449822(0xf4)]('/login/');}else _0xccfd31[_0x449822(0x128)](_0x449822(0x111),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x2b6047['redirect']('/forgotPassword/code');}),module[a0_0x383592(0x119)]=router;function a0_0x1868(){const _0x1d107b=['../middleware/auth','success','/forgotPassword/view','find','isUsed','password','name','code','json','site_title','/upload/','/view','express','Error\x20Occurs','image','email','random','error','host','errors','Email\x20sent\x20successfully','bcryptjs','sendMail','40dkpPWF','<strong>\x20Regards\x20</strong>','exports','14xjPuXK','length','</h5>','Password\x20Reset\x20-\x20','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<hr\x20class=\x22my-3\x22>','3950429xUXZtx','save','post','port','False','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','True','</head><body>','flash','/../public','5532816EYyxqB','nodemailer','Logo.png','Password\x20Successfuly\x20Reset\x20-\x20','/code_password/','4167691CmdFlk','<div>','</body></html>','39azvGKU','219124wAMYoB','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','</div>','Router','84276Zjkuiv','41126AjGGWy',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','findOne','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','</b></h1></p>','get','render','body','3371427LymAAU','<h5>','redirect','hash','createTransport','log','/code/','10kxokmu','/forgotPassword/code/','floor','logo','<html><head><title></title>','<!DOCTYPE\x20html>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email'];a0_0x1868=function(){return _0x1d107b;};return a0_0x1868();}