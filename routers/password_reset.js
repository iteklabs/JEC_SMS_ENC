const a0_0x57de98=a0_0x56a1;(function(_0x12f394,_0x44aa9a){const _0x519959=a0_0x56a1,_0x2f2cbb=_0x12f394();while(!![]){try{const _0x3c7b28=-parseInt(_0x519959(0x1f9))/0x1*(-parseInt(_0x519959(0x206))/0x2)+-parseInt(_0x519959(0x1f4))/0x3*(parseInt(_0x519959(0x1ed))/0x4)+parseInt(_0x519959(0x1ec))/0x5+parseInt(_0x519959(0x21b))/0x6+-parseInt(_0x519959(0x1eb))/0x7+-parseInt(_0x519959(0x20a))/0x8*(-parseInt(_0x519959(0x214))/0x9)+-parseInt(_0x519959(0x212))/0xa;if(_0x3c7b28===_0x44aa9a)break;else _0x2f2cbb['push'](_0x2f2cbb['shift']());}catch(_0x41852f){_0x2f2cbb['push'](_0x2f2cbb['shift']());}}}(a0_0x1c9d,0x87a06));const express=require(a0_0x57de98(0x21e)),app=express(),router=express['Router'](),bcrypt=require(a0_0x57de98(0x205)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x57de98(0x1d8)),auth=require(a0_0x57de98(0x1e9)),nodemailer=require(a0_0x57de98(0x213));function a0_0x56a1(_0x30427d,_0x10667d){const _0x1c9da3=a0_0x1c9d();return a0_0x56a1=function(_0x56a1cd,_0x51bcaf){_0x56a1cd=_0x56a1cd-0x1d8;let _0x5464d7=_0x1c9da3[_0x56a1cd];return _0x5464d7;},a0_0x56a1(_0x30427d,_0x10667d);}router[a0_0x57de98(0x1dd)](a0_0x57de98(0x201),async(_0x221a1d,_0xd9685e)=>{const _0x3c1c83=a0_0x57de98,_0x532954=await master_shop[_0x3c1c83(0x219)]();_0xd9685e[_0x3c1c83(0x210)](_0x3c1c83(0x21c),{'success':_0x221a1d[_0x3c1c83(0x211)](_0x3c1c83(0x208)),'errors':_0x221a1d['flash'](_0x3c1c83(0x1ff)),'master_shop':_0x532954});});function a0_0x1c9d(){const _0xa982bc=['Logo.png','<strong>\x20Regards\x20</strong>','Password\x20Reset\x20-\x20','post','random','findOne','1339977Qyeqit','True','</div>','redirect','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','10kfpboY','sendMail','image','/forgotPassword/view','isUsed','Email\x20sent\x20successfully','errors','logo','/view','port','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','bcryptjs','49498kgkpSn','email_code','success','exports','40tnofut','site_title','save','</h5>','password','hash','render','flash','17611840CHgDqR','nodemailer','1878381igcuYW','</head><body>','log','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','code','find','/code/','5108628vVfSzv','email_reset','<html><head><title></title>','express','</b></h1></p>','<p>Hello\x20','Error\x20Occurs','/forgotPassword/code','<div>','createTransport','../models/all_models','name','/login/','/../public','<h5>','get','email','host','</body></html>','/upload/','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','json','<!DOCTYPE\x20html>','body','False','<hr\x20class=\x22my-3\x22>','length','../middleware/auth','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','457548IGDxGK','3431300tJDQWJ','4FeDqhn'];a0_0x1c9d=function(){return _0xa982bc;};return a0_0x1c9d();}function generateRandomAlphanumericString(_0xed90fa=0x6){const _0x404a6c=a0_0x57de98,_0x1e04bc=_0x404a6c(0x1ea);let _0x504343='';for(let _0x4e9c53=0x0;_0x4e9c53<_0xed90fa;_0x4e9c53++){const _0x5cc532=Math['floor'](Math[_0x404a6c(0x1f2)]()*_0x1e04bc[_0x404a6c(0x1e8)]);_0x504343+=_0x1e04bc[_0x5cc532];}return _0x504343;}router[a0_0x57de98(0x1f1)](a0_0x57de98(0x201),async(_0x3a623f,_0x58e156)=>{const _0x5686ca=a0_0x57de98,{email:_0x5daf5f}=_0x3a623f['body'],_0x280b83=await sing_up[_0x5686ca(0x1f3)]({'email':_0x5daf5f});var _0x12c426=generateRandomAlphanumericString();const _0x451dea=await bcrypt[_0x5686ca(0x20f)](_0x12c426,0xa);if(_0x280b83){_0x280b83[_0x5686ca(0x218)]=_0x12c426,_0x280b83[_0x5686ca(0x1fd)]=_0x5686ca(0x1e6);const _0x2dc00e=_0x280b83[_0x5686ca(0x20c)](),_0x5b85f1=await master_shop[_0x5686ca(0x219)](),_0x13cd23=await email_settings[_0x5686ca(0x1f3)]();let _0x322cdb=nodemailer['createTransport']({'host':_0x13cd23[_0x5686ca(0x1df)],'port':Number(_0x13cd23['port']),'secure':![],'auth':{'user':_0x13cd23[_0x5686ca(0x1de)],'pass':_0x13cd23[_0x5686ca(0x20e)]}}),_0x122e69={'from':_0x13cd23[_0x5686ca(0x1de)],'to':_0x280b83[_0x5686ca(0x1de)],'subject':_0x5686ca(0x1f0)+_0x5b85f1[0x0][_0x5686ca(0x20b)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x5686ca(0x1db)+_0x5686ca(0x1e1)+_0x5b85f1[0x0]['image'],'cid':_0x5686ca(0x200)}],'html':_0x5686ca(0x1e4)+_0x5686ca(0x21d)+_0x5686ca(0x215)+_0x5686ca(0x223)+_0x5686ca(0x217)+_0x5686ca(0x223)+_0x5686ca(0x203)+_0x5686ca(0x1f6)+_0x5686ca(0x1f6)+_0x5686ca(0x223)+_0x5686ca(0x1f8)+_0x12c426+_0x5686ca(0x21f)+_0x5686ca(0x1f6)+_0x5686ca(0x1e7)+_0x5686ca(0x223)+_0x5686ca(0x1ef)+'<h5>'+_0x5b85f1[0x0][_0x5686ca(0x20b)]+_0x5686ca(0x20d)+'</div>'+'</div>'+_0x5686ca(0x1e0)};_0x322cdb['sendMail'](_0x122e69,function(_0x48abb6,_0x34ae79){const _0x29c15e=_0x5686ca;_0x48abb6?(console['log'](_0x48abb6),console['log'](_0x29c15e(0x221))):console[_0x29c15e(0x216)](_0x29c15e(0x1fe));}),_0x58e156['redirect']('/forgotPassword/code/');}else _0x3a623f[_0x5686ca(0x211)]('error',_0x5686ca(0x1e2)),_0x58e156['redirect'](_0x5686ca(0x1fc));}),router[a0_0x57de98(0x1dd)](a0_0x57de98(0x21a),async(_0x31bc84,_0x1e92df)=>{const _0x68e1d6=a0_0x57de98,_0x473456=await master_shop[_0x68e1d6(0x219)]();_0x1e92df[_0x68e1d6(0x210)](_0x68e1d6(0x207),{'success':_0x31bc84[_0x68e1d6(0x211)](_0x68e1d6(0x208)),'errors':_0x31bc84[_0x68e1d6(0x211)](_0x68e1d6(0x1ff)),'master_shop':_0x473456});}),router[a0_0x57de98(0x1f1)](a0_0x57de98(0x21a),async(_0x2cb464,_0x2fd940)=>{const _0x300db1=a0_0x57de98,{code:_0x41a454}=_0x2cb464[_0x300db1(0x1e5)],_0x3a5179=await sing_up[_0x300db1(0x219)]({'code':_0x41a454});console[_0x300db1(0x216)](_0x3a5179[_0x300db1(0x1e8)]),_0x2fd940[_0x300db1(0x1e3)](_0x3a5179);}),router[a0_0x57de98(0x1f1)]('/code_password/',async(_0x160f1a,_0x176b41)=>{const _0x1d9524=a0_0x57de98,{codex:_0x54c7f2,password:_0x213380,cpassword:_0x17c3c7,email:_0x473e6e}=_0x160f1a[_0x1d9524(0x1e5)],_0x254e71=await sing_up[_0x1d9524(0x1f3)]({'code':_0x54c7f2,'email':_0x473e6e,'isUsed':_0x1d9524(0x1e6)}),_0x2f0f3a=await bcrypt[_0x1d9524(0x20f)](_0x213380,0xa);if(_0x254e71){_0x254e71[_0x1d9524(0x20e)]=_0x2f0f3a,_0x254e71[_0x1d9524(0x1fd)]=_0x1d9524(0x1f5);const _0x5802db=_0x254e71[_0x1d9524(0x20c)](),_0x5bd79f=await master_shop[_0x1d9524(0x219)](),_0x5efebf=await email_settings[_0x1d9524(0x1f3)]();let _0x5cfe60=nodemailer[_0x1d9524(0x224)]({'host':_0x5efebf[_0x1d9524(0x1df)],'port':Number(_0x5efebf[_0x1d9524(0x202)]),'secure':![],'auth':{'user':_0x5efebf[_0x1d9524(0x1de)],'pass':_0x5efebf[_0x1d9524(0x20e)]}}),_0x47ccd4={'from':_0x5efebf[_0x1d9524(0x1de)],'to':_0x254e71[_0x1d9524(0x1de)],'subject':'Password\x20Successfuly\x20Reset\x20-\x20'+_0x5bd79f[0x0][_0x1d9524(0x20b)],'attachments':[{'filename':_0x1d9524(0x1ee),'path':__dirname+'/../public'+_0x1d9524(0x1e1)+_0x5bd79f[0x0][_0x1d9524(0x1fb)],'cid':_0x1d9524(0x200)}],'html':'<!DOCTYPE\x20html>'+_0x1d9524(0x21d)+_0x1d9524(0x215)+'<div>'+_0x1d9524(0x217)+_0x1d9524(0x223)+_0x1d9524(0x203)+_0x1d9524(0x1f6)+_0x1d9524(0x1f6)+'<div>'+_0x1d9524(0x220)+_0x254e71[_0x1d9524(0x1d9)]+_0x1d9524(0x204)+_0x1d9524(0x1f6)+_0x1d9524(0x1e7)+_0x1d9524(0x223)+_0x1d9524(0x1ef)+_0x1d9524(0x1dc)+_0x5bd79f[0x0][_0x1d9524(0x20b)]+_0x1d9524(0x20d)+_0x1d9524(0x1f6)+_0x1d9524(0x1f6)+_0x1d9524(0x1e0)};_0x5cfe60[_0x1d9524(0x1fa)](_0x47ccd4,function(_0x964d5e,_0x42be8a){const _0x55cd9e=_0x1d9524;_0x964d5e?(console[_0x55cd9e(0x216)](_0x964d5e),console[_0x55cd9e(0x216)](_0x55cd9e(0x221))):console[_0x55cd9e(0x216)](_0x55cd9e(0x1fe));}),_0x176b41[_0x1d9524(0x1f7)](_0x1d9524(0x1da));}else _0x160f1a[_0x1d9524(0x211)]('error',_0x1d9524(0x1e2)),_0x176b41[_0x1d9524(0x1f7)](_0x1d9524(0x222));}),module[a0_0x57de98(0x209)]=router;