const a0_0x4246fe=a0_0x23c9;(function(_0x1c7b43,_0x2abce5){const _0x8ae8ff=a0_0x23c9,_0x1223d8=_0x1c7b43();while(!![]){try{const _0x215cbe=-parseInt(_0x8ae8ff(0x1d0))/0x1*(parseInt(_0x8ae8ff(0x1a3))/0x2)+parseInt(_0x8ae8ff(0x1e0))/0x3+-parseInt(_0x8ae8ff(0x199))/0x4*(parseInt(_0x8ae8ff(0x1c0))/0x5)+parseInt(_0x8ae8ff(0x1d3))/0x6+parseInt(_0x8ae8ff(0x1cb))/0x7+parseInt(_0x8ae8ff(0x1e1))/0x8+-parseInt(_0x8ae8ff(0x1a7))/0x9;if(_0x215cbe===_0x2abce5)break;else _0x1223d8['push'](_0x1223d8['shift']());}catch(_0x40145c){_0x1223d8['push'](_0x1223d8['shift']());}}}(a0_0x1499,0x5942c));function a0_0x23c9(_0x2d8c77,_0x326e98){const _0x1499c9=a0_0x1499();return a0_0x23c9=function(_0x23c9d,_0x19f6bb){_0x23c9d=_0x23c9d-0x199;let _0x325803=_0x1499c9[_0x23c9d];return _0x325803;},a0_0x23c9(_0x2d8c77,_0x326e98);}const express=require('express'),app=express(),router=express[a0_0x4246fe(0x1c8)](),bcrypt=require(a0_0x4246fe(0x1cf)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x4246fe(0x1c2)),auth=require('../middleware/auth'),nodemailer=require(a0_0x4246fe(0x1cc));router['get'](a0_0x4246fe(0x1d1),async(_0x32bf2c,_0x40e9c8)=>{const _0x361593=a0_0x4246fe,_0x4a2a19=await master_shop[_0x361593(0x1ac)]();_0x40e9c8[_0x361593(0x1b5)](_0x361593(0x1b3),{'success':_0x32bf2c['flash'](_0x361593(0x1c5)),'errors':_0x32bf2c[_0x361593(0x1c7)]('errors'),'master_shop':_0x4a2a19});});function a0_0x1499(){const _0x1e81dd=['render','random','site_title','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','logo','exports','<!DOCTYPE\x20html>','post','</head><body>','error','email','1040MQSWTr','Error\x20Occurs','../models/all_models','redirect','Email\x20sent\x20successfully','success','/upload/','flash','Router','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','Logo.png','3637767NjTRkv','nodemailer','sendMail','<div>','bcryptjs','387787hBBeyU','/view','</h5>','4108152pUPVuK','log','name','body','/code_password/','hash','<hr\x20class=\x22my-3\x22>','password','/forgotPassword/code/','True','/login/','floor','/../public','1829460pQZXdo','79936KuqEaA','1316UtWmKr','email_code','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','</div>','findOne',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','Password\x20Successfuly\x20Reset\x20-\x20','isUsed','host','2SPhJlu','get','length','</b></h1></p>','9021186ZTXNTb','/forgotPassword/view','createTransport','Password\x20Reset\x20-\x20','<strong>\x20Regards\x20</strong>','find','/code/','image','</body></html>','json','<h5>','False','email_reset','port'];a0_0x1499=function(){return _0x1e81dd;};return a0_0x1499();}function generateRandomAlphanumericString(_0x550c66=0x6){const _0x3db0b9=a0_0x4246fe,_0x1c69e1=_0x3db0b9(0x19f);let _0x50a0f8='';for(let _0x149258=0x0;_0x149258<_0x550c66;_0x149258++){const _0x1098d1=Math[_0x3db0b9(0x1de)](Math[_0x3db0b9(0x1b6)]()*_0x1c69e1[_0x3db0b9(0x1a5)]);_0x50a0f8+=_0x1c69e1[_0x1098d1];}return _0x50a0f8;}router[a0_0x4246fe(0x1bc)](a0_0x4246fe(0x1d1),async(_0x1b3907,_0x3a5f9a)=>{const _0x5c24c6=a0_0x4246fe,{email:_0x1f6c1b}=_0x1b3907[_0x5c24c6(0x1d6)],_0x3822ff=await sing_up[_0x5c24c6(0x19d)]({'email':_0x1f6c1b});var _0x27dde2=generateRandomAlphanumericString();const _0x118560=await bcrypt[_0x5c24c6(0x1d8)](_0x27dde2,0xa);if(_0x3822ff){_0x3822ff['code']=_0x27dde2,_0x3822ff[_0x5c24c6(0x1a1)]=_0x5c24c6(0x1b2);const _0x507003=_0x3822ff['save'](),_0x59a1e1=await master_shop[_0x5c24c6(0x1ac)](),_0x51b014=await email_settings[_0x5c24c6(0x19d)]();let _0x4340b2=nodemailer[_0x5c24c6(0x1a9)]({'host':_0x51b014[_0x5c24c6(0x1a2)],'port':Number(_0x51b014[_0x5c24c6(0x1b4)]),'secure':![],'auth':{'user':_0x51b014['email'],'pass':_0x51b014['password']}}),_0x525f4d={'from':_0x51b014['email'],'to':_0x3822ff[_0x5c24c6(0x1bf)],'subject':_0x5c24c6(0x1aa)+_0x59a1e1[0x0][_0x5c24c6(0x1b7)],'attachments':[{'filename':_0x5c24c6(0x1ca),'path':__dirname+_0x5c24c6(0x1df)+_0x5c24c6(0x1c6)+_0x59a1e1[0x0][_0x5c24c6(0x1ae)],'cid':_0x5c24c6(0x1b9)}],'html':_0x5c24c6(0x1bb)+'<html><head><title></title>'+'</head><body>'+_0x5c24c6(0x1ce)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x5c24c6(0x1ce)+_0x5c24c6(0x1c9)+_0x5c24c6(0x19c)+_0x5c24c6(0x19c)+_0x5c24c6(0x1ce)+_0x5c24c6(0x19b)+_0x27dde2+_0x5c24c6(0x1a6)+_0x5c24c6(0x19c)+_0x5c24c6(0x1d9)+_0x5c24c6(0x1ce)+'<strong>\x20Regards\x20</strong>'+_0x5c24c6(0x1b1)+_0x59a1e1[0x0][_0x5c24c6(0x1b7)]+'</h5>'+_0x5c24c6(0x19c)+'</div>'+_0x5c24c6(0x1af)};_0x4340b2[_0x5c24c6(0x1cd)](_0x525f4d,function(_0x4cd090,_0x136f63){const _0x54f4fc=_0x5c24c6;_0x4cd090?(console['log'](_0x4cd090),console['log'](_0x54f4fc(0x1c1))):console[_0x54f4fc(0x1d4)](_0x54f4fc(0x1c4));}),_0x3a5f9a[_0x5c24c6(0x1c3)](_0x5c24c6(0x1db));}else _0x1b3907[_0x5c24c6(0x1c7)](_0x5c24c6(0x1be),_0x5c24c6(0x1b8)),_0x3a5f9a['redirect'](_0x5c24c6(0x1a8));}),router[a0_0x4246fe(0x1a4)](a0_0x4246fe(0x1ad),async(_0x2ac0b4,_0x214426)=>{const _0x5d025b=a0_0x4246fe,_0x22a67d=await master_shop['find']();_0x214426['render'](_0x5d025b(0x19a),{'success':_0x2ac0b4['flash'](_0x5d025b(0x1c5)),'errors':_0x2ac0b4['flash']('errors'),'master_shop':_0x22a67d});}),router[a0_0x4246fe(0x1bc)](a0_0x4246fe(0x1ad),async(_0x4c17f0,_0x28d432)=>{const _0x3fb25f=a0_0x4246fe,{code:_0x31d975}=_0x4c17f0['body'],_0x4acf98=await sing_up[_0x3fb25f(0x1ac)]({'code':_0x31d975});console[_0x3fb25f(0x1d4)](_0x4acf98[_0x3fb25f(0x1a5)]),_0x28d432[_0x3fb25f(0x1b0)](_0x4acf98);}),router[a0_0x4246fe(0x1bc)](a0_0x4246fe(0x1d7),async(_0x2f087f,_0x1d4f24)=>{const _0x47c82b=a0_0x4246fe,{codex:_0x40156e,password:_0x456a38,cpassword:_0x206904,email:_0x46296c}=_0x2f087f[_0x47c82b(0x1d6)],_0x3c12ab=await sing_up[_0x47c82b(0x19d)]({'code':_0x40156e,'email':_0x46296c,'isUsed':_0x47c82b(0x1b2)}),_0x481b48=await bcrypt[_0x47c82b(0x1d8)](_0x456a38,0xa);if(_0x3c12ab){_0x3c12ab[_0x47c82b(0x1da)]=_0x481b48,_0x3c12ab['isUsed']=_0x47c82b(0x1dc);const _0x11ebfc=_0x3c12ab['save'](),_0x4a1f44=await master_shop['find'](),_0x27e22e=await email_settings[_0x47c82b(0x19d)]();let _0xc9b1e6=nodemailer[_0x47c82b(0x1a9)]({'host':_0x27e22e[_0x47c82b(0x1a2)],'port':Number(_0x27e22e[_0x47c82b(0x1b4)]),'secure':![],'auth':{'user':_0x27e22e[_0x47c82b(0x1bf)],'pass':_0x27e22e[_0x47c82b(0x1da)]}}),_0x3c5472={'from':_0x27e22e['email'],'to':_0x3c12ab[_0x47c82b(0x1bf)],'subject':_0x47c82b(0x1a0)+_0x4a1f44[0x0][_0x47c82b(0x1b7)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x47c82b(0x1df)+'/upload/'+_0x4a1f44[0x0][_0x47c82b(0x1ae)],'cid':_0x47c82b(0x1b9)}],'html':_0x47c82b(0x1bb)+'<html><head><title></title>'+_0x47c82b(0x1bd)+_0x47c82b(0x1ce)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x47c82b(0x1ce)+_0x47c82b(0x1c9)+'</div>'+_0x47c82b(0x19c)+_0x47c82b(0x1ce)+'<p>Hello\x20'+_0x3c12ab[_0x47c82b(0x1d5)]+_0x47c82b(0x19e)+_0x47c82b(0x19c)+'<hr\x20class=\x22my-3\x22>'+_0x47c82b(0x1ce)+_0x47c82b(0x1ab)+'<h5>'+_0x4a1f44[0x0][_0x47c82b(0x1b7)]+_0x47c82b(0x1d2)+_0x47c82b(0x19c)+_0x47c82b(0x19c)+_0x47c82b(0x1af)};_0xc9b1e6[_0x47c82b(0x1cd)](_0x3c5472,function(_0x57a59e,_0x465941){const _0x2e26c0=_0x47c82b;_0x57a59e?(console[_0x2e26c0(0x1d4)](_0x57a59e),console[_0x2e26c0(0x1d4)](_0x2e26c0(0x1c1))):console['log']('Email\x20sent\x20successfully');}),_0x1d4f24[_0x47c82b(0x1c3)](_0x47c82b(0x1dd));}else _0x2f087f[_0x47c82b(0x1c7)](_0x47c82b(0x1be),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x1d4f24[_0x47c82b(0x1c3)]('/forgotPassword/code');}),module[a0_0x4246fe(0x1ba)]=router;