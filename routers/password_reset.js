const a0_0x1890c0=a0_0x3cb6;(function(_0x440fd0,_0xf87368){const _0x339b96=a0_0x3cb6,_0x241cd0=_0x440fd0();while(!![]){try{const _0xcadd54=parseInt(_0x339b96(0x1b0))/0x1+parseInt(_0x339b96(0x195))/0x2*(-parseInt(_0x339b96(0x1b7))/0x3)+parseInt(_0x339b96(0x1a1))/0x4+-parseInt(_0x339b96(0x1b4))/0x5*(-parseInt(_0x339b96(0x1b5))/0x6)+parseInt(_0x339b96(0x1a0))/0x7*(parseInt(_0x339b96(0x1d5))/0x8)+-parseInt(_0x339b96(0x1b3))/0x9+-parseInt(_0x339b96(0x197))/0xa;if(_0xcadd54===_0xf87368)break;else _0x241cd0['push'](_0x241cd0['shift']());}catch(_0xa5ab81){_0x241cd0['push'](_0x241cd0['shift']());}}}(a0_0x5095,0xac555));const express=require('express'),app=express(),router=express[a0_0x1890c0(0x1c9)](),bcrypt=require(a0_0x1890c0(0x1a3)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x1890c0(0x1ae)),auth=require(a0_0x1890c0(0x19d)),nodemailer=require('nodemailer');router['get'](a0_0x1890c0(0x1c1),async(_0x45cb4,_0x211c3b)=>{const _0x260987=a0_0x1890c0,_0x52eceb=await master_shop['find']();_0x211c3b[_0x260987(0x19c)](_0x260987(0x1dc),{'success':_0x45cb4['flash'](_0x260987(0x19a)),'errors':_0x45cb4[_0x260987(0x1cb)](_0x260987(0x1d0)),'master_shop':_0x52eceb});});function generateRandomAlphanumericString(_0xb62cf9=0x6){const _0x192c51=a0_0x1890c0,_0x10f572='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x13b494='';for(let _0x3cd59e=0x0;_0x3cd59e<_0xb62cf9;_0x3cd59e++){const _0x57bc34=Math['floor'](Math['random']()*_0x10f572[_0x192c51(0x19b)]);_0x13b494+=_0x10f572[_0x57bc34];}return _0x13b494;}function a0_0x3cb6(_0x3a9ee9,_0x5312c4){const _0x50953d=a0_0x5095();return a0_0x3cb6=function(_0x3cb635,_0x475de8){_0x3cb635=_0x3cb635-0x194;let _0x3e43a1=_0x50953d[_0x3cb635];return _0x3e43a1;},a0_0x3cb6(_0x3a9ee9,_0x5312c4);}function a0_0x5095(){const _0x1aade3=['password','success','length','render','../middleware/auth','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','8226736vafKJr','5002072hmWfsA','image','bcryptjs','</div>','host','site_title','hash','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','createTransport','/code_password/','log','port','</body></html>','../models/all_models','/upload/','294243ZNbPla','True','logo','4282965ZPjuQG','1674430dpsKUt','6HEEsxT','error','99gKXCZG','findOne','isUsed','save','post','/code/','Error\x20Occurs','Password\x20Reset\x20-\x20','<h5>','False','/view','<html><head><title></title>','code','body','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/forgotPassword/view','exports','email','Router','Logo.png','flash','json','get','</head><body>','sendMail','errors','<div>','find','email_code','redirect','8ePcDMi','</h5>','/../public','<p>Hello\x20','/login/','<hr\x20class=\x22my-3\x22>','</b></h1></p>','email_reset','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<!DOCTYPE\x20html>','12214ROTWYY','/forgotPassword/code','16716020hslkNV','<strong>\x20Regards\x20</strong>'];a0_0x5095=function(){return _0x1aade3;};return a0_0x5095();}router[a0_0x1890c0(0x1bb)]('/view',async(_0x5581e0,_0x309f69)=>{const _0xb318e0=a0_0x1890c0,{email:_0x4eb384}=_0x5581e0[_0xb318e0(0x1c4)],_0x3d86c7=await sing_up[_0xb318e0(0x1b8)]({'email':_0x4eb384});var _0x5b5793=generateRandomAlphanumericString();const _0x4b16db=await bcrypt[_0xb318e0(0x1a7)](_0x5b5793,0xa);if(_0x3d86c7){_0x3d86c7[_0xb318e0(0x1c3)]=_0x5b5793,_0x3d86c7['isUsed']=_0xb318e0(0x1c0);const _0x230a9b=_0x3d86c7[_0xb318e0(0x1ba)](),_0x3d8823=await master_shop[_0xb318e0(0x1d2)](),_0xe09b19=await email_settings[_0xb318e0(0x1b8)]();let _0xd998eb=nodemailer[_0xb318e0(0x1a9)]({'host':_0xe09b19[_0xb318e0(0x1a5)],'port':Number(_0xe09b19[_0xb318e0(0x1ac)]),'secure':![],'auth':{'user':_0xe09b19['email'],'pass':_0xe09b19[_0xb318e0(0x199)]}}),_0x382328={'from':_0xe09b19['email'],'to':_0x3d86c7[_0xb318e0(0x1c8)],'subject':_0xb318e0(0x1be)+_0x3d8823[0x0]['site_title'],'attachments':[{'filename':_0xb318e0(0x1ca),'path':__dirname+_0xb318e0(0x1d7)+_0xb318e0(0x1af)+_0x3d8823[0x0][_0xb318e0(0x1a2)],'cid':_0xb318e0(0x1b2)}],'html':_0xb318e0(0x194)+_0xb318e0(0x1c2)+_0xb318e0(0x1ce)+_0xb318e0(0x1d1)+_0xb318e0(0x1c5)+_0xb318e0(0x1d1)+_0xb318e0(0x1dd)+'</div>'+_0xb318e0(0x1a4)+_0xb318e0(0x1d1)+_0xb318e0(0x19e)+_0x5b5793+_0xb318e0(0x1db)+'</div>'+_0xb318e0(0x1da)+_0xb318e0(0x1d1)+_0xb318e0(0x198)+_0xb318e0(0x1bf)+_0x3d8823[0x0][_0xb318e0(0x1a6)]+_0xb318e0(0x1d6)+_0xb318e0(0x1a4)+_0xb318e0(0x1a4)+_0xb318e0(0x1ad)};_0xd998eb['sendMail'](_0x382328,function(_0x38f993,_0x2931c3){const _0x1163fa=_0xb318e0;_0x38f993?(console['log'](_0x38f993),console[_0x1163fa(0x1ab)](_0x1163fa(0x1bd))):console[_0x1163fa(0x1ab)]('Email\x20sent\x20successfully');}),_0x309f69[_0xb318e0(0x1d4)]('/forgotPassword/code/');}else _0x5581e0[_0xb318e0(0x1cb)](_0xb318e0(0x1b6),_0xb318e0(0x1a8)),_0x309f69[_0xb318e0(0x1d4)](_0xb318e0(0x1c6));}),router[a0_0x1890c0(0x1cd)](a0_0x1890c0(0x1bc),async(_0x21eaf6,_0xe2bc3e)=>{const _0x683b13=a0_0x1890c0,_0x10c487=await master_shop[_0x683b13(0x1d2)]();_0xe2bc3e[_0x683b13(0x19c)](_0x683b13(0x1d3),{'success':_0x21eaf6['flash']('success'),'errors':_0x21eaf6[_0x683b13(0x1cb)](_0x683b13(0x1d0)),'master_shop':_0x10c487});}),router[a0_0x1890c0(0x1bb)](a0_0x1890c0(0x1bc),async(_0x467663,_0x4d7bcc)=>{const _0x5a2e1c=a0_0x1890c0,{code:_0x3e4ddc}=_0x467663['body'],_0x265ddf=await sing_up[_0x5a2e1c(0x1d2)]({'code':_0x3e4ddc});console[_0x5a2e1c(0x1ab)](_0x265ddf[_0x5a2e1c(0x19b)]),_0x4d7bcc[_0x5a2e1c(0x1cc)](_0x265ddf);}),router[a0_0x1890c0(0x1bb)](a0_0x1890c0(0x1aa),async(_0x53173f,_0x151b78)=>{const _0x6e8fc2=a0_0x1890c0,{codex:_0x29f739,password:_0x3fb9b7,cpassword:_0x1c17f7,email:_0x1ebb47}=_0x53173f[_0x6e8fc2(0x1c4)],_0x56531c=await sing_up[_0x6e8fc2(0x1b8)]({'code':_0x29f739,'email':_0x1ebb47,'isUsed':'False'}),_0x5bebe4=await bcrypt[_0x6e8fc2(0x1a7)](_0x3fb9b7,0xa);if(_0x56531c){_0x56531c[_0x6e8fc2(0x199)]=_0x5bebe4,_0x56531c[_0x6e8fc2(0x1b9)]=_0x6e8fc2(0x1b1);const _0x4e816d=_0x56531c[_0x6e8fc2(0x1ba)](),_0x370fb9=await master_shop['find'](),_0x4bd9c0=await email_settings[_0x6e8fc2(0x1b8)]();let _0x2745c2=nodemailer[_0x6e8fc2(0x1a9)]({'host':_0x4bd9c0[_0x6e8fc2(0x1a5)],'port':Number(_0x4bd9c0[_0x6e8fc2(0x1ac)]),'secure':![],'auth':{'user':_0x4bd9c0[_0x6e8fc2(0x1c8)],'pass':_0x4bd9c0['password']}}),_0x42317f={'from':_0x4bd9c0[_0x6e8fc2(0x1c8)],'to':_0x56531c[_0x6e8fc2(0x1c8)],'subject':'Password\x20Successfuly\x20Reset\x20-\x20'+_0x370fb9[0x0][_0x6e8fc2(0x1a6)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x6e8fc2(0x1d7)+_0x6e8fc2(0x1af)+_0x370fb9[0x0][_0x6e8fc2(0x1a2)],'cid':_0x6e8fc2(0x1b2)}],'html':_0x6e8fc2(0x194)+_0x6e8fc2(0x1c2)+_0x6e8fc2(0x1ce)+_0x6e8fc2(0x1d1)+_0x6e8fc2(0x1c5)+_0x6e8fc2(0x1d1)+_0x6e8fc2(0x1dd)+'</div>'+_0x6e8fc2(0x1a4)+_0x6e8fc2(0x1d1)+_0x6e8fc2(0x1d8)+_0x56531c['name']+_0x6e8fc2(0x19f)+_0x6e8fc2(0x1a4)+'<hr\x20class=\x22my-3\x22>'+_0x6e8fc2(0x1d1)+'<strong>\x20Regards\x20</strong>'+_0x6e8fc2(0x1bf)+_0x370fb9[0x0]['site_title']+_0x6e8fc2(0x1d6)+_0x6e8fc2(0x1a4)+_0x6e8fc2(0x1a4)+_0x6e8fc2(0x1ad)};_0x2745c2[_0x6e8fc2(0x1cf)](_0x42317f,function(_0x16c2ad,_0x29fc98){_0x16c2ad?(console['log'](_0x16c2ad),console['log']('Error\x20Occurs')):console['log']('Email\x20sent\x20successfully');}),_0x151b78[_0x6e8fc2(0x1d4)](_0x6e8fc2(0x1d9));}else _0x53173f[_0x6e8fc2(0x1cb)](_0x6e8fc2(0x1b6),_0x6e8fc2(0x1a8)),_0x151b78[_0x6e8fc2(0x1d4)](_0x6e8fc2(0x196));}),module[a0_0x1890c0(0x1c7)]=router;