function a0_0x2914(){const _0x5b03c2=['13645885WpMFVc','/upload/','site_title','102DeYhtI','isUsed','</head><body>','createTransport','</b></h1></p>','2016411bztTTJ','<!DOCTYPE\x20html>','bcryptjs','<strong>\x20Regards\x20</strong>','/view','81whUELz','error','findOne','5691570VRPlgg','66764DvpGpu','/login/','</body></html>','password','email_reset','name','log','code','body','/forgotPassword/code','Password\x20Successfuly\x20Reset\x20-\x20','sendMail','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','True','299565dkJSpd','Error\x20Occurs','length','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','2592779UiUJYG','flash','Logo.png','/forgotPassword/view','redirect','<h5>','email_code','success','1113960QjlvxH','../models/all_models','../middleware/auth','port','Email\x20sent\x20successfully','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','32rkHJDt','Password\x20Reset\x20-\x20','email','post','get','/forgotPassword/code/','<div>','/../public','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','4aObDkK','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','host','floor','find','logo','False','render','json','Router','<html><head><title></title>','/code_password/','hash','</div>','random','image'];a0_0x2914=function(){return _0x5b03c2;};return a0_0x2914();}const a0_0x28f0c2=a0_0x4a43;(function(_0x487654,_0x2874ed){const _0x126dae=a0_0x4a43,_0x453b3a=_0x487654();while(!![]){try{const _0x24fafe=-parseInt(_0x126dae(0xa4))/0x1*(parseInt(_0x126dae(0x84))/0x2)+-parseInt(_0x126dae(0xc6))/0x3*(-parseInt(_0x126dae(0xae))/0x4)+-parseInt(_0x126dae(0x92))/0x5*(parseInt(_0x126dae(0xc1))/0x6)+parseInt(_0x126dae(0x96))/0x7+parseInt(_0x126dae(0x9e))/0x8*(parseInt(_0x126dae(0x80))/0x9)+-parseInt(_0x126dae(0x83))/0xa+parseInt(_0x126dae(0xbe))/0xb;if(_0x24fafe===_0x2874ed)break;else _0x453b3a['push'](_0x453b3a['shift']());}catch(_0x5abd2a){_0x453b3a['push'](_0x453b3a['shift']());}}}(a0_0x2914,0xd6ef4));const express=require('express'),app=express(),router=express[a0_0x28f0c2(0xb7)](),bcrypt=require(a0_0x28f0c2(0xc8)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x28f0c2(0x9f)),auth=require(a0_0x28f0c2(0xa0)),nodemailer=require('nodemailer');router[a0_0x28f0c2(0xa8)](a0_0x28f0c2(0x7f),async(_0x274968,_0x53a711)=>{const _0xf9842b=a0_0x28f0c2,_0x506f51=await master_shop[_0xf9842b(0xb2)]();_0x53a711[_0xf9842b(0xb5)](_0xf9842b(0x88),{'success':_0x274968[_0xf9842b(0x97)]('success'),'errors':_0x274968[_0xf9842b(0x97)]('errors'),'master_shop':_0x506f51});});function generateRandomAlphanumericString(_0x13e40c=0x6){const _0x1fb609=a0_0x28f0c2,_0x271f7f=_0x1fb609(0xac);let _0x45ef06='';for(let _0x10259c=0x0;_0x10259c<_0x13e40c;_0x10259c++){const _0x420ad3=Math[_0x1fb609(0xb1)](Math[_0x1fb609(0xbc)]()*_0x271f7f[_0x1fb609(0x94)]);_0x45ef06+=_0x271f7f[_0x420ad3];}return _0x45ef06;}function a0_0x4a43(_0x191275,_0xf76058){const _0x29149f=a0_0x2914();return a0_0x4a43=function(_0x4a43aa,_0x3683b2){_0x4a43aa=_0x4a43aa-0x7e;let _0x537a99=_0x29149f[_0x4a43aa];return _0x537a99;},a0_0x4a43(_0x191275,_0xf76058);}router[a0_0x28f0c2(0xa7)]('/view',async(_0x17db8c,_0x1a5e8d)=>{const _0x1e38ca=a0_0x28f0c2,{email:_0x1b3626}=_0x17db8c[_0x1e38ca(0x8c)],_0x3f0b9b=await sing_up[_0x1e38ca(0x82)]({'email':_0x1b3626});var _0x217ef5=generateRandomAlphanumericString();const _0x21311c=await bcrypt[_0x1e38ca(0xba)](_0x217ef5,0xa);if(_0x3f0b9b){_0x3f0b9b[_0x1e38ca(0x8b)]=_0x217ef5,_0x3f0b9b[_0x1e38ca(0xc2)]=_0x1e38ca(0xb4);const _0x31969b=_0x3f0b9b['save'](),_0x1b63bf=await master_shop[_0x1e38ca(0xb2)](),_0x3924db=await email_settings[_0x1e38ca(0x82)]();let _0x5977ab=nodemailer[_0x1e38ca(0xc4)]({'host':_0x3924db[_0x1e38ca(0xb0)],'port':Number(_0x3924db[_0x1e38ca(0xa1)]),'secure':![],'auth':{'user':_0x3924db[_0x1e38ca(0xa6)],'pass':_0x3924db[_0x1e38ca(0x87)]}}),_0x41c92c={'from':_0x3924db[_0x1e38ca(0xa6)],'to':_0x3f0b9b[_0x1e38ca(0xa6)],'subject':_0x1e38ca(0xa5)+_0x1b63bf[0x0][_0x1e38ca(0xc0)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x1e38ca(0xab)+_0x1e38ca(0xbf)+_0x1b63bf[0x0][_0x1e38ca(0xbd)],'cid':_0x1e38ca(0xb3)}],'html':_0x1e38ca(0xc7)+_0x1e38ca(0xb8)+_0x1e38ca(0xc3)+_0x1e38ca(0xaa)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x1e38ca(0xaa)+_0x1e38ca(0x90)+'</div>'+_0x1e38ca(0xbb)+_0x1e38ca(0xaa)+_0x1e38ca(0xa3)+_0x217ef5+_0x1e38ca(0xc5)+_0x1e38ca(0xbb)+'<hr\x20class=\x22my-3\x22>'+'<div>'+_0x1e38ca(0x7e)+_0x1e38ca(0x9b)+_0x1b63bf[0x0][_0x1e38ca(0xc0)]+'</h5>'+'</div>'+'</div>'+_0x1e38ca(0x86)};_0x5977ab['sendMail'](_0x41c92c,function(_0x471dc2,_0x54a2fa){const _0x55d98a=_0x1e38ca;_0x471dc2?(console[_0x55d98a(0x8a)](_0x471dc2),console[_0x55d98a(0x8a)](_0x55d98a(0x93))):console[_0x55d98a(0x8a)](_0x55d98a(0xa2));}),_0x1a5e8d['redirect'](_0x1e38ca(0xa9));}else _0x17db8c[_0x1e38ca(0x97)]('error',_0x1e38ca(0x95)),_0x1a5e8d['redirect'](_0x1e38ca(0x99));}),router[a0_0x28f0c2(0xa8)]('/code/',async(_0x4625bc,_0x4776b8)=>{const _0x318c12=a0_0x28f0c2,_0x5b16dd=await master_shop['find']();_0x4776b8[_0x318c12(0xb5)](_0x318c12(0x9c),{'success':_0x4625bc['flash'](_0x318c12(0x9d)),'errors':_0x4625bc['flash']('errors'),'master_shop':_0x5b16dd});}),router[a0_0x28f0c2(0xa7)]('/code/',async(_0x582d7c,_0x8874ea)=>{const _0x2daffe=a0_0x28f0c2,{code:_0x3d4696}=_0x582d7c[_0x2daffe(0x8c)],_0x129507=await sing_up[_0x2daffe(0xb2)]({'code':_0x3d4696});console[_0x2daffe(0x8a)](_0x129507['length']),_0x8874ea[_0x2daffe(0xb6)](_0x129507);}),router[a0_0x28f0c2(0xa7)](a0_0x28f0c2(0xb9),async(_0x568b54,_0x21345a)=>{const _0x1acd88=a0_0x28f0c2,{codex:_0x300e2c,password:_0x3803db,cpassword:_0x12eb3d,email:_0x271db0}=_0x568b54[_0x1acd88(0x8c)],_0x94f2d7=await sing_up[_0x1acd88(0x82)]({'code':_0x300e2c,'email':_0x271db0,'isUsed':_0x1acd88(0xb4)}),_0x2f607b=await bcrypt['hash'](_0x3803db,0xa);if(_0x94f2d7){_0x94f2d7[_0x1acd88(0x87)]=_0x2f607b,_0x94f2d7['isUsed']=_0x1acd88(0x91);const _0x9ce8ac=_0x94f2d7['save'](),_0x89cbd=await master_shop[_0x1acd88(0xb2)](),_0x5ef4be=await email_settings['findOne']();let _0x3afe67=nodemailer[_0x1acd88(0xc4)]({'host':_0x5ef4be[_0x1acd88(0xb0)],'port':Number(_0x5ef4be[_0x1acd88(0xa1)]),'secure':![],'auth':{'user':_0x5ef4be['email'],'pass':_0x5ef4be[_0x1acd88(0x87)]}}),_0x3235c3={'from':_0x5ef4be[_0x1acd88(0xa6)],'to':_0x94f2d7[_0x1acd88(0xa6)],'subject':_0x1acd88(0x8e)+_0x89cbd[0x0][_0x1acd88(0xc0)],'attachments':[{'filename':_0x1acd88(0x98),'path':__dirname+'/../public'+'/upload/'+_0x89cbd[0x0][_0x1acd88(0xbd)],'cid':'logo'}],'html':_0x1acd88(0xc7)+'<html><head><title></title>'+'</head><body>'+'<div>'+_0x1acd88(0xaf)+'<div>'+_0x1acd88(0x90)+_0x1acd88(0xbb)+_0x1acd88(0xbb)+_0x1acd88(0xaa)+'<p>Hello\x20'+_0x94f2d7[_0x1acd88(0x89)]+_0x1acd88(0xad)+_0x1acd88(0xbb)+'<hr\x20class=\x22my-3\x22>'+_0x1acd88(0xaa)+_0x1acd88(0x7e)+_0x1acd88(0x9b)+_0x89cbd[0x0][_0x1acd88(0xc0)]+'</h5>'+_0x1acd88(0xbb)+_0x1acd88(0xbb)+_0x1acd88(0x86)};_0x3afe67[_0x1acd88(0x8f)](_0x3235c3,function(_0x3ead79,_0x247965){const _0x51d10d=_0x1acd88;_0x3ead79?(console[_0x51d10d(0x8a)](_0x3ead79),console[_0x51d10d(0x8a)](_0x51d10d(0x93))):console[_0x51d10d(0x8a)]('Email\x20sent\x20successfully');}),_0x21345a[_0x1acd88(0x9a)](_0x1acd88(0x85));}else _0x568b54['flash'](_0x1acd88(0x81),_0x1acd88(0x95)),_0x21345a[_0x1acd88(0x9a)](_0x1acd88(0x8d));}),module['exports']=router;