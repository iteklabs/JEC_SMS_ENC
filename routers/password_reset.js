function a0_0x2cdf(_0x39dd4d,_0x49538f){const _0x128993=a0_0x1289();return a0_0x2cdf=function(_0x2cdfb7,_0xe3461e){_0x2cdfb7=_0x2cdfb7-0x179;let _0x41ed06=_0x128993[_0x2cdfb7];return _0x41ed06;},a0_0x2cdf(_0x39dd4d,_0x49538f);}const a0_0x5b4995=a0_0x2cdf;(function(_0x3f20fd,_0xf0329c){const _0x3d8f75=a0_0x2cdf,_0x301acc=_0x3f20fd();while(!![]){try{const _0x956f3e=-parseInt(_0x3d8f75(0x18b))/0x1*(parseInt(_0x3d8f75(0x18e))/0x2)+-parseInt(_0x3d8f75(0x1af))/0x3+-parseInt(_0x3d8f75(0x18f))/0x4*(parseInt(_0x3d8f75(0x1a8))/0x5)+parseInt(_0x3d8f75(0x1c3))/0x6+parseInt(_0x3d8f75(0x191))/0x7*(-parseInt(_0x3d8f75(0x188))/0x8)+-parseInt(_0x3d8f75(0x1ad))/0x9*(-parseInt(_0x3d8f75(0x18d))/0xa)+parseInt(_0x3d8f75(0x1ab))/0xb*(parseInt(_0x3d8f75(0x1c5))/0xc);if(_0x956f3e===_0xf0329c)break;else _0x301acc['push'](_0x301acc['shift']());}catch(_0x6fd01e){_0x301acc['push'](_0x301acc['shift']());}}}(a0_0x1289,0xccf44));const express=require('express'),app=express(),router=express['Router'](),bcrypt=require(a0_0x5b4995(0x1aa)),{sing_up,staff,profile,master_shop,email_settings}=require('../models/all_models'),auth=require(a0_0x5b4995(0x1a5)),nodemailer=require(a0_0x5b4995(0x1c2));router['get'](a0_0x5b4995(0x1a9),async(_0xdc18b5,_0x112df1)=>{const _0x4423a3=a0_0x5b4995,_0x5cc064=await master_shop['find']();_0x112df1[_0x4423a3(0x1b4)](_0x4423a3(0x1b2),{'success':_0xdc18b5[_0x4423a3(0x19d)](_0x4423a3(0x18c)),'errors':_0xdc18b5[_0x4423a3(0x19d)](_0x4423a3(0x199)),'master_shop':_0x5cc064});});function generateRandomAlphanumericString(_0x2f3e54=0x6){const _0x45c30f=a0_0x5b4995,_0x428f88=_0x45c30f(0x184);let _0x557d71='';for(let _0x2fc220=0x0;_0x2fc220<_0x2f3e54;_0x2fc220++){const _0x1dea90=Math['floor'](Math['random']()*_0x428f88['length']);_0x557d71+=_0x428f88[_0x1dea90];}return _0x557d71;}function a0_0x1289(){const _0x267097=[',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','27130AiRHWT','success','20ZIyrmn','30bKIrio','5864UaTrFK','code','56HVWjKO','image','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','Logo.png','</body></html>','save','json','email_code','errors','site_title','hash','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','flash','redirect','<!DOCTYPE\x20html>','createTransport','<h5>','log','/forgotPassword/code','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','../middleware/auth','</b></h1></p>','port','2605mXKnwg','/view','bcryptjs','5764bhPecB','post','3413367kePtOY','</head><body>','1601682UiixHX','Error\x20Occurs','length','email_reset','sendMail','render','Password\x20Successfuly\x20Reset\x20-\x20','<hr\x20class=\x22my-3\x22>','findOne','host','isUsed','logo','<p>Hello\x20','/forgotPassword/view','/code_password/','</h5>','/code/','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','True','nodemailer','8666976YFtrPA','name','35484neADcG','exports','email','password','Password\x20Reset\x20-\x20','/login/','Email\x20sent\x20successfully','/forgotPassword/code/','<div>','False','error','</div>','get','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','/../public','find','<html><head><title></title>','1208368SwpMsY','body'];a0_0x1289=function(){return _0x267097;};return a0_0x1289();}router[a0_0x5b4995(0x1ac)](a0_0x5b4995(0x1a9),async(_0x2e5bf7,_0x7c33c)=>{const _0x3a1977=a0_0x5b4995,{email:_0x460577}=_0x2e5bf7['body'],_0x2a727f=await sing_up[_0x3a1977(0x1b7)]({'email':_0x460577});var _0x1b5a0c=generateRandomAlphanumericString();const _0x52cdde=await bcrypt[_0x3a1977(0x19b)](_0x1b5a0c,0xa);if(_0x2a727f){_0x2a727f[_0x3a1977(0x190)]=_0x1b5a0c,_0x2a727f[_0x3a1977(0x1b9)]=_0x3a1977(0x180);const _0x1e2015=_0x2a727f[_0x3a1977(0x196)](),_0x354ee8=await master_shop[_0x3a1977(0x186)](),_0x10cb89=await email_settings[_0x3a1977(0x1b7)]();let _0x2e423c=nodemailer[_0x3a1977(0x1a0)]({'host':_0x10cb89[_0x3a1977(0x1b8)],'port':Number(_0x10cb89['port']),'secure':![],'auth':{'user':_0x10cb89[_0x3a1977(0x179)],'pass':_0x10cb89[_0x3a1977(0x17a)]}}),_0x5019a3={'from':_0x10cb89[_0x3a1977(0x179)],'to':_0x2a727f[_0x3a1977(0x179)],'subject':_0x3a1977(0x17b)+_0x354ee8[0x0][_0x3a1977(0x19a)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x3a1977(0x185)+'/upload/'+_0x354ee8[0x0][_0x3a1977(0x192)],'cid':_0x3a1977(0x1ba)}],'html':_0x3a1977(0x19f)+'<html><head><title></title>'+_0x3a1977(0x1ae)+_0x3a1977(0x17f)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x3a1977(0x17f)+_0x3a1977(0x1a4)+_0x3a1977(0x182)+_0x3a1977(0x182)+_0x3a1977(0x17f)+_0x3a1977(0x193)+_0x1b5a0c+_0x3a1977(0x1a6)+_0x3a1977(0x182)+_0x3a1977(0x1b6)+_0x3a1977(0x17f)+'<strong>\x20Regards\x20</strong>'+_0x3a1977(0x1a1)+_0x354ee8[0x0]['site_title']+'</h5>'+'</div>'+_0x3a1977(0x182)+'</body></html>'};_0x2e423c['sendMail'](_0x5019a3,function(_0x5231b9,_0x5dfde1){const _0x226942=_0x3a1977;_0x5231b9?(console[_0x226942(0x1a2)](_0x5231b9),console[_0x226942(0x1a2)](_0x226942(0x1b0))):console[_0x226942(0x1a2)]('Email\x20sent\x20successfully');}),_0x7c33c[_0x3a1977(0x19e)](_0x3a1977(0x17e));}else _0x2e5bf7[_0x3a1977(0x19d)](_0x3a1977(0x181),_0x3a1977(0x1c0)),_0x7c33c['redirect'](_0x3a1977(0x1bc));}),router[a0_0x5b4995(0x183)](a0_0x5b4995(0x1bf),async(_0x5a2226,_0x42cd56)=>{const _0x51cf80=a0_0x5b4995,_0x589571=await master_shop['find']();_0x42cd56[_0x51cf80(0x1b4)](_0x51cf80(0x198),{'success':_0x5a2226[_0x51cf80(0x19d)](_0x51cf80(0x18c)),'errors':_0x5a2226['flash'](_0x51cf80(0x199)),'master_shop':_0x589571});}),router[a0_0x5b4995(0x1ac)]('/code/',async(_0x4ea125,_0x1d7d8d)=>{const _0x272093=a0_0x5b4995,{code:_0x132d1a}=_0x4ea125[_0x272093(0x189)],_0x2039ed=await sing_up['find']({'code':_0x132d1a});console['log'](_0x2039ed[_0x272093(0x1b1)]),_0x1d7d8d[_0x272093(0x197)](_0x2039ed);}),router[a0_0x5b4995(0x1ac)](a0_0x5b4995(0x1bd),async(_0x1a3bff,_0x16caee)=>{const _0x4d66e5=a0_0x5b4995,{codex:_0x4e4b97,password:_0x532763,cpassword:_0x1e7123,email:_0x4718d7}=_0x1a3bff[_0x4d66e5(0x189)],_0x5cd98c=await sing_up[_0x4d66e5(0x1b7)]({'code':_0x4e4b97,'email':_0x4718d7,'isUsed':'False'}),_0x407f1c=await bcrypt[_0x4d66e5(0x19b)](_0x532763,0xa);if(_0x5cd98c){_0x5cd98c[_0x4d66e5(0x17a)]=_0x407f1c,_0x5cd98c[_0x4d66e5(0x1b9)]=_0x4d66e5(0x1c1);const _0x28cd87=_0x5cd98c[_0x4d66e5(0x196)](),_0x14fc84=await master_shop[_0x4d66e5(0x186)](),_0x7d4094=await email_settings['findOne']();let _0x4f1c4d=nodemailer[_0x4d66e5(0x1a0)]({'host':_0x7d4094[_0x4d66e5(0x1b8)],'port':Number(_0x7d4094[_0x4d66e5(0x1a7)]),'secure':![],'auth':{'user':_0x7d4094['email'],'pass':_0x7d4094[_0x4d66e5(0x17a)]}}),_0x3038ab={'from':_0x7d4094[_0x4d66e5(0x179)],'to':_0x5cd98c[_0x4d66e5(0x179)],'subject':_0x4d66e5(0x1b5)+_0x14fc84[0x0][_0x4d66e5(0x19a)],'attachments':[{'filename':_0x4d66e5(0x194),'path':__dirname+_0x4d66e5(0x185)+'/upload/'+_0x14fc84[0x0]['image'],'cid':'logo'}],'html':_0x4d66e5(0x19f)+_0x4d66e5(0x187)+_0x4d66e5(0x1ae)+'<div>'+_0x4d66e5(0x19c)+'<div>'+_0x4d66e5(0x1a4)+'</div>'+_0x4d66e5(0x182)+_0x4d66e5(0x17f)+_0x4d66e5(0x1bb)+_0x5cd98c[_0x4d66e5(0x1c4)]+_0x4d66e5(0x18a)+_0x4d66e5(0x182)+'<hr\x20class=\x22my-3\x22>'+_0x4d66e5(0x17f)+'<strong>\x20Regards\x20</strong>'+'<h5>'+_0x14fc84[0x0][_0x4d66e5(0x19a)]+_0x4d66e5(0x1be)+_0x4d66e5(0x182)+_0x4d66e5(0x182)+_0x4d66e5(0x195)};_0x4f1c4d[_0x4d66e5(0x1b3)](_0x3038ab,function(_0x466e32,_0x52c29d){const _0x51873a=_0x4d66e5;_0x466e32?(console[_0x51873a(0x1a2)](_0x466e32),console['log'](_0x51873a(0x1b0))):console[_0x51873a(0x1a2)](_0x51873a(0x17d));}),_0x16caee[_0x4d66e5(0x19e)](_0x4d66e5(0x17c));}else _0x1a3bff[_0x4d66e5(0x19d)](_0x4d66e5(0x181),_0x4d66e5(0x1c0)),_0x16caee['redirect'](_0x4d66e5(0x1a3));}),module[a0_0x5b4995(0x1c6)]=router;