function a0_0x2b37(){const _0x41eb97=['2640555NyDLGT','random','66660obYTnH','172642tdzAqZ','password','Error\x20Occurs','find','Email\x20sent\x20successfully','length','</head><body>','../middleware/auth','False','site_title','success','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','Router','/view','express','Password\x20Reset\x20-\x20','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<!DOCTYPE\x20html>','</b></h1></p>','/forgotPassword/code/','Logo.png','isUsed',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','image','2944YKnxGr','bcryptjs','logo','/code_password/','nodemailer','2080105WwAYhw','<div>','render','error','get','redirect','email','floor','</h5>','2149zbSdtv','/upload/','4hsMNxZ','/forgotPassword/view','hash','save','<hr\x20class=\x22my-3\x22>','json','host','code','19035QtPUaa','/code/','</div>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','860MwGAQJ','<h5>','log','Password\x20Successfuly\x20Reset\x20-\x20','/../public','13716KbAadK','post','name','sendMail','email_reset','<html><head><title></title>','flash','../models/all_models','findOne','288593nZbMNF','createTransport','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','body','<strong>\x20Regards\x20</strong>','errors'];a0_0x2b37=function(){return _0x41eb97;};return a0_0x2b37();}function a0_0x4407(_0x268c13,_0x5517dd){const _0x2b37f2=a0_0x2b37();return a0_0x4407=function(_0x4407fd,_0x3a045b){_0x4407fd=_0x4407fd-0x11b;let _0x3d1d89=_0x2b37f2[_0x4407fd];return _0x3d1d89;},a0_0x4407(_0x268c13,_0x5517dd);}const a0_0x8722a4=a0_0x4407;(function(_0x557112,_0xbb262){const _0x5e89e9=a0_0x4407,_0x2748a4=_0x557112();while(!![]){try{const _0x526ac7=-parseInt(_0x5e89e9(0x12c))/0x1+-parseInt(_0x5e89e9(0x135))/0x2+parseInt(_0x5e89e9(0x132))/0x3+-parseInt(_0x5e89e9(0x15d))/0x4*(parseInt(_0x5e89e9(0x152))/0x5)+parseInt(_0x5e89e9(0x123))/0x6*(-parseInt(_0x5e89e9(0x15b))/0x7)+parseInt(_0x5e89e9(0x14d))/0x8*(parseInt(_0x5e89e9(0x165))/0x9)+-parseInt(_0x5e89e9(0x11e))/0xa*(-parseInt(_0x5e89e9(0x134))/0xb);if(_0x526ac7===_0xbb262)break;else _0x2748a4['push'](_0x2748a4['shift']());}catch(_0x197fd0){_0x2748a4['push'](_0x2748a4['shift']());}}}(a0_0x2b37,0xa7b50));const express=require(a0_0x8722a4(0x143)),app=express(),router=express[a0_0x8722a4(0x141)](),bcrypt=require(a0_0x8722a4(0x14e)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x8722a4(0x12a)),auth=require(a0_0x8722a4(0x13c)),nodemailer=require(a0_0x8722a4(0x151));router[a0_0x8722a4(0x156)](a0_0x8722a4(0x142),async(_0x1a94e6,_0x3ea060)=>{const _0x106c24=a0_0x8722a4,_0x2d4e13=await master_shop[_0x106c24(0x138)]();_0x3ea060[_0x106c24(0x154)](_0x106c24(0x127),{'success':_0x1a94e6[_0x106c24(0x129)]('success'),'errors':_0x1a94e6[_0x106c24(0x129)](_0x106c24(0x131)),'master_shop':_0x2d4e13});});function generateRandomAlphanumericString(_0x453dad=0x6){const _0x43c9ee=a0_0x8722a4,_0x3d32d4='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x327bd9='';for(let _0x40602a=0x0;_0x40602a<_0x453dad;_0x40602a++){const _0x128126=Math[_0x43c9ee(0x159)](Math[_0x43c9ee(0x133)]()*_0x3d32d4['length']);_0x327bd9+=_0x3d32d4[_0x128126];}return _0x327bd9;}router[a0_0x8722a4(0x124)](a0_0x8722a4(0x142),async(_0x1af8b1,_0x1981f8)=>{const _0x29d870=a0_0x8722a4,{email:_0x129d96}=_0x1af8b1['body'],_0xded25b=await sing_up[_0x29d870(0x12b)]({'email':_0x129d96});var _0x312ad3=generateRandomAlphanumericString();const _0x3dfe79=await bcrypt['hash'](_0x312ad3,0xa);if(_0xded25b){_0xded25b[_0x29d870(0x164)]=_0x312ad3,_0xded25b[_0x29d870(0x14a)]=_0x29d870(0x13d);const _0x30d4e0=_0xded25b[_0x29d870(0x160)](),_0x452213=await master_shop[_0x29d870(0x138)](),_0x3821ec=await email_settings[_0x29d870(0x12b)]();let _0x1d5499=nodemailer[_0x29d870(0x12d)]({'host':_0x3821ec[_0x29d870(0x163)],'port':Number(_0x3821ec['port']),'secure':![],'auth':{'user':_0x3821ec[_0x29d870(0x158)],'pass':_0x3821ec[_0x29d870(0x136)]}}),_0x4ce9e7={'from':_0x3821ec[_0x29d870(0x158)],'to':_0xded25b[_0x29d870(0x158)],'subject':_0x29d870(0x144)+_0x452213[0x0]['site_title'],'attachments':[{'filename':_0x29d870(0x149),'path':__dirname+_0x29d870(0x122)+_0x29d870(0x15c)+_0x452213[0x0][_0x29d870(0x14c)],'cid':_0x29d870(0x14f)}],'html':_0x29d870(0x146)+_0x29d870(0x128)+_0x29d870(0x13b)+_0x29d870(0x153)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x29d870(0x153)+_0x29d870(0x12e)+_0x29d870(0x11c)+_0x29d870(0x11c)+'<div>'+_0x29d870(0x145)+_0x312ad3+_0x29d870(0x147)+_0x29d870(0x11c)+_0x29d870(0x161)+'<div>'+_0x29d870(0x130)+_0x29d870(0x11f)+_0x452213[0x0][_0x29d870(0x13e)]+_0x29d870(0x15a)+_0x29d870(0x11c)+_0x29d870(0x11c)+'</body></html>'};_0x1d5499[_0x29d870(0x126)](_0x4ce9e7,function(_0x2a5b70,_0x3a48fc){const _0xe5b309=_0x29d870;_0x2a5b70?(console['log'](_0x2a5b70),console[_0xe5b309(0x120)](_0xe5b309(0x137))):console['log'](_0xe5b309(0x139));}),_0x1981f8[_0x29d870(0x157)](_0x29d870(0x148));}else _0x1af8b1[_0x29d870(0x129)](_0x29d870(0x155),_0x29d870(0x11d)),_0x1981f8[_0x29d870(0x157)](_0x29d870(0x15e));}),router[a0_0x8722a4(0x156)](a0_0x8722a4(0x11b),async(_0xfb8bc6,_0xbed7e1)=>{const _0x10c851=a0_0x8722a4,_0x23e3af=await master_shop[_0x10c851(0x138)]();_0xbed7e1[_0x10c851(0x154)]('email_code',{'success':_0xfb8bc6[_0x10c851(0x129)](_0x10c851(0x13f)),'errors':_0xfb8bc6['flash']('errors'),'master_shop':_0x23e3af});}),router['post'](a0_0x8722a4(0x11b),async(_0x49f051,_0x532b88)=>{const _0x88e635=a0_0x8722a4,{code:_0x5c4d8a}=_0x49f051[_0x88e635(0x12f)],_0x1513ac=await sing_up[_0x88e635(0x138)]({'code':_0x5c4d8a});console[_0x88e635(0x120)](_0x1513ac[_0x88e635(0x13a)]),_0x532b88[_0x88e635(0x162)](_0x1513ac);}),router[a0_0x8722a4(0x124)](a0_0x8722a4(0x150),async(_0x10314,_0x51e451)=>{const _0x2da866=a0_0x8722a4,{codex:_0x59c5ff,password:_0x5c8813,cpassword:_0x52077c,email:_0x3f86f0}=_0x10314['body'],_0x58e582=await sing_up['findOne']({'code':_0x59c5ff,'email':_0x3f86f0,'isUsed':_0x2da866(0x13d)}),_0x316f80=await bcrypt[_0x2da866(0x15f)](_0x5c8813,0xa);if(_0x58e582){_0x58e582['password']=_0x316f80,_0x58e582['isUsed']='True';const _0x5585e8=_0x58e582[_0x2da866(0x160)](),_0x567d6b=await master_shop['find'](),_0x3a3e41=await email_settings[_0x2da866(0x12b)]();let _0x3a6676=nodemailer['createTransport']({'host':_0x3a3e41[_0x2da866(0x163)],'port':Number(_0x3a3e41['port']),'secure':![],'auth':{'user':_0x3a3e41['email'],'pass':_0x3a3e41['password']}}),_0x4d162d={'from':_0x3a3e41[_0x2da866(0x158)],'to':_0x58e582['email'],'subject':_0x2da866(0x121)+_0x567d6b[0x0][_0x2da866(0x13e)],'attachments':[{'filename':_0x2da866(0x149),'path':__dirname+'/../public'+_0x2da866(0x15c)+_0x567d6b[0x0][_0x2da866(0x14c)],'cid':_0x2da866(0x14f)}],'html':_0x2da866(0x146)+_0x2da866(0x128)+_0x2da866(0x13b)+'<div>'+_0x2da866(0x140)+_0x2da866(0x153)+_0x2da866(0x12e)+_0x2da866(0x11c)+'</div>'+_0x2da866(0x153)+'<p>Hello\x20'+_0x58e582[_0x2da866(0x125)]+_0x2da866(0x14b)+'</div>'+_0x2da866(0x161)+_0x2da866(0x153)+_0x2da866(0x130)+_0x2da866(0x11f)+_0x567d6b[0x0][_0x2da866(0x13e)]+_0x2da866(0x15a)+_0x2da866(0x11c)+_0x2da866(0x11c)+'</body></html>'};_0x3a6676[_0x2da866(0x126)](_0x4d162d,function(_0x526ab5,_0x99ce4d){const _0x2fde3a=_0x2da866;_0x526ab5?(console[_0x2fde3a(0x120)](_0x526ab5),console['log'](_0x2fde3a(0x137))):console[_0x2fde3a(0x120)](_0x2fde3a(0x139));}),_0x51e451[_0x2da866(0x157)]('/login/');}else _0x10314[_0x2da866(0x129)](_0x2da866(0x155),_0x2da866(0x11d)),_0x51e451[_0x2da866(0x157)]('/forgotPassword/code');}),module['exports']=router;