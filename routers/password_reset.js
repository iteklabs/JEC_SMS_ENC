function a0_0x46b3(_0x31bcd5,_0x337b39){const _0x57b134=a0_0x57b1();return a0_0x46b3=function(_0x46b3bd,_0x3f825c){_0x46b3bd=_0x46b3bd-0x125;let _0x551cb5=_0x57b134[_0x46b3bd];return _0x551cb5;},a0_0x46b3(_0x31bcd5,_0x337b39);}const a0_0x353d84=a0_0x46b3;function a0_0x57b1(){const _0x14de2c=['/view','False','length','Router','password','redirect','log','Password\x20Reset\x20-\x20','express','email','<hr\x20class=\x22my-3\x22>','error','isUsed','84MQFkjG','Email\x20sent\x20successfully','../middleware/auth','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<h5>','email_reset','../models/all_models','flash','650944KEVRRj','get','Password\x20Successfuly\x20Reset\x20-\x20','post','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','Logo.png','exports','save','find','<!DOCTYPE\x20html>','4393062CjStkd','errors','</div>','/forgotPassword/code/','/code_password/','/login/','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','3vaKPXS','/forgotPassword/code','code','logo','body','/code/','sendMail','image','160629PFrcRN','5608090wycAnH','</head><body>','host','/../public','hash','True','email_code','random','site_title','</b></h1></p>','112wWkbSr','</h5>','/upload/','success','nodemailer','floor','885674fzaSgX','findOne','1991JIWvgl','/forgotPassword/view','<html><head><title></title>','json','name','Error\x20Occurs','port','189770oEAKpV','<div>','6047160ZQRyMB','<strong>\x20Regards\x20</strong>','render'];a0_0x57b1=function(){return _0x14de2c;};return a0_0x57b1();}(function(_0x51f58d,_0x321db1){const _0x3f78b3=a0_0x46b3,_0x47674b=_0x51f58d();while(!![]){try{const _0x1930ac=-parseInt(_0x3f78b3(0x160))/0x1*(-parseInt(_0x3f78b3(0x12c))/0x2)+-parseInt(_0x3f78b3(0x168))/0x3*(parseInt(_0x3f78b3(0x147))/0x4)+parseInt(_0x3f78b3(0x169))/0x5+parseInt(_0x3f78b3(0x137))/0x6+-parseInt(_0x3f78b3(0x126))/0x7*(-parseInt(_0x3f78b3(0x14f))/0x8)+parseInt(_0x3f78b3(0x159))/0x9+-parseInt(_0x3f78b3(0x135))/0xa*(parseInt(_0x3f78b3(0x12e))/0xb);if(_0x1930ac===_0x321db1)break;else _0x47674b['push'](_0x47674b['shift']());}catch(_0x330604){_0x47674b['push'](_0x47674b['shift']());}}}(a0_0x57b1,0xa8273));const express=require(a0_0x353d84(0x142)),app=express(),router=express[a0_0x353d84(0x13d)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x353d84(0x14d)),auth=require(a0_0x353d84(0x149)),nodemailer=require(a0_0x353d84(0x12a));router[a0_0x353d84(0x150)](a0_0x353d84(0x13a),async(_0x487e1c,_0x13417f)=>{const _0x17e516=a0_0x353d84,_0x296818=await master_shop[_0x17e516(0x157)]();_0x13417f[_0x17e516(0x139)](_0x17e516(0x14c),{'success':_0x487e1c[_0x17e516(0x14e)]('success'),'errors':_0x487e1c[_0x17e516(0x14e)](_0x17e516(0x15a)),'master_shop':_0x296818});});function generateRandomAlphanumericString(_0x408571=0x6){const _0x958b82=a0_0x353d84,_0x3678e1='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x230b22='';for(let _0x45ee60=0x0;_0x45ee60<_0x408571;_0x45ee60++){const _0x240084=Math[_0x958b82(0x12b)](Math[_0x958b82(0x170)]()*_0x3678e1['length']);_0x230b22+=_0x3678e1[_0x240084];}return _0x230b22;}router[a0_0x353d84(0x152)](a0_0x353d84(0x13a),async(_0x4bfa7d,_0x2878fd)=>{const _0x575254=a0_0x353d84,{email:_0x1ea58d}=_0x4bfa7d[_0x575254(0x164)],_0x3263e8=await sing_up['findOne']({'email':_0x1ea58d});var _0x4ec8c1=generateRandomAlphanumericString();const _0x589429=await bcrypt[_0x575254(0x16d)](_0x4ec8c1,0xa);if(_0x3263e8){_0x3263e8[_0x575254(0x162)]=_0x4ec8c1,_0x3263e8[_0x575254(0x146)]=_0x575254(0x13b);const _0x488eb2=_0x3263e8[_0x575254(0x156)](),_0x370950=await master_shop[_0x575254(0x157)](),_0xaab32c=await email_settings[_0x575254(0x12d)]();let _0x45cd65=nodemailer['createTransport']({'host':_0xaab32c[_0x575254(0x16b)],'port':Number(_0xaab32c[_0x575254(0x134)]),'secure':![],'auth':{'user':_0xaab32c[_0x575254(0x143)],'pass':_0xaab32c[_0x575254(0x13e)]}}),_0x516dd2={'from':_0xaab32c['email'],'to':_0x3263e8['email'],'subject':_0x575254(0x141)+_0x370950[0x0][_0x575254(0x171)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x575254(0x16c)+_0x575254(0x128)+_0x370950[0x0][_0x575254(0x167)],'cid':_0x575254(0x163)}],'html':_0x575254(0x158)+'<html><head><title></title>'+'</head><body>'+_0x575254(0x136)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x575254(0x15b)+'</div>'+_0x575254(0x136)+_0x575254(0x15f)+_0x4ec8c1+_0x575254(0x125)+_0x575254(0x15b)+_0x575254(0x144)+'<div>'+_0x575254(0x138)+_0x575254(0x14b)+_0x370950[0x0]['site_title']+_0x575254(0x127)+'</div>'+_0x575254(0x15b)+'</body></html>'};_0x45cd65[_0x575254(0x166)](_0x516dd2,function(_0x552a99,_0xe99c4d){const _0x161940=_0x575254;_0x552a99?(console[_0x161940(0x140)](_0x552a99),console[_0x161940(0x140)](_0x161940(0x133))):console['log'](_0x161940(0x148));}),_0x2878fd['redirect'](_0x575254(0x15c));}else _0x4bfa7d[_0x575254(0x14e)](_0x575254(0x145),_0x575254(0x153)),_0x2878fd[_0x575254(0x13f)](_0x575254(0x12f));}),router[a0_0x353d84(0x150)](a0_0x353d84(0x165),async(_0x114ae1,_0x5e70c7)=>{const _0x577de3=a0_0x353d84,_0x2ddbe5=await master_shop['find']();_0x5e70c7[_0x577de3(0x139)](_0x577de3(0x16f),{'success':_0x114ae1[_0x577de3(0x14e)](_0x577de3(0x129)),'errors':_0x114ae1[_0x577de3(0x14e)](_0x577de3(0x15a)),'master_shop':_0x2ddbe5});}),router[a0_0x353d84(0x152)]('/code/',async(_0x1afc40,_0x215c65)=>{const _0x5524a8=a0_0x353d84,{code:_0x2629dd}=_0x1afc40[_0x5524a8(0x164)],_0x3191f9=await sing_up[_0x5524a8(0x157)]({'code':_0x2629dd});console['log'](_0x3191f9[_0x5524a8(0x13c)]),_0x215c65[_0x5524a8(0x131)](_0x3191f9);}),router[a0_0x353d84(0x152)](a0_0x353d84(0x15d),async(_0x3f603c,_0x275f5e)=>{const _0x429533=a0_0x353d84,{codex:_0x2d824d,password:_0x52f12a,cpassword:_0x385951,email:_0x161949}=_0x3f603c[_0x429533(0x164)],_0x5f255a=await sing_up['findOne']({'code':_0x2d824d,'email':_0x161949,'isUsed':_0x429533(0x13b)}),_0x5a0e2a=await bcrypt[_0x429533(0x16d)](_0x52f12a,0xa);if(_0x5f255a){_0x5f255a[_0x429533(0x13e)]=_0x5a0e2a,_0x5f255a['isUsed']=_0x429533(0x16e);const _0x14d8ea=_0x5f255a[_0x429533(0x156)](),_0x2f4fd9=await master_shop[_0x429533(0x157)](),_0x4763c0=await email_settings[_0x429533(0x12d)]();let _0x3ec801=nodemailer['createTransport']({'host':_0x4763c0[_0x429533(0x16b)],'port':Number(_0x4763c0['port']),'secure':![],'auth':{'user':_0x4763c0['email'],'pass':_0x4763c0[_0x429533(0x13e)]}}),_0x1a03bb={'from':_0x4763c0[_0x429533(0x143)],'to':_0x5f255a['email'],'subject':_0x429533(0x151)+_0x2f4fd9[0x0][_0x429533(0x171)],'attachments':[{'filename':_0x429533(0x154),'path':__dirname+_0x429533(0x16c)+_0x429533(0x128)+_0x2f4fd9[0x0]['image'],'cid':_0x429533(0x163)}],'html':_0x429533(0x158)+_0x429533(0x130)+_0x429533(0x16a)+_0x429533(0x136)+_0x429533(0x14a)+_0x429533(0x136)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x429533(0x15b)+_0x429533(0x15b)+_0x429533(0x136)+'<p>Hello\x20'+_0x5f255a[_0x429533(0x132)]+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x429533(0x15b)+'<hr\x20class=\x22my-3\x22>'+_0x429533(0x136)+'<strong>\x20Regards\x20</strong>'+_0x429533(0x14b)+_0x2f4fd9[0x0]['site_title']+_0x429533(0x127)+_0x429533(0x15b)+'</div>'+'</body></html>'};_0x3ec801[_0x429533(0x166)](_0x1a03bb,function(_0xac6448,_0x5df72f){const _0x218e54=_0x429533;_0xac6448?(console['log'](_0xac6448),console['log'](_0x218e54(0x133))):console[_0x218e54(0x140)]('Email\x20sent\x20successfully');}),_0x275f5e[_0x429533(0x13f)](_0x429533(0x15e));}else _0x3f603c['flash']('error',_0x429533(0x153)),_0x275f5e['redirect'](_0x429533(0x161));}),module[a0_0x353d84(0x155)]=router;