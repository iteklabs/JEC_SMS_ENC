const a0_0x50d0d2=a0_0xf253;(function(_0x4a4d80,_0x1a8a0b){const _0x5bac0e=a0_0xf253,_0x227620=_0x4a4d80();while(!![]){try{const _0x177585=parseInt(_0x5bac0e(0x19f))/0x1*(parseInt(_0x5bac0e(0x1d3))/0x2)+parseInt(_0x5bac0e(0x1a2))/0x3+parseInt(_0x5bac0e(0x1e1))/0x4+-parseInt(_0x5bac0e(0x1a9))/0x5*(parseInt(_0x5bac0e(0x1a5))/0x6)+-parseInt(_0x5bac0e(0x1cc))/0x7*(parseInt(_0x5bac0e(0x1e4))/0x8)+-parseInt(_0x5bac0e(0x1b2))/0x9*(parseInt(_0x5bac0e(0x1da))/0xa)+parseInt(_0x5bac0e(0x1e3))/0xb*(-parseInt(_0x5bac0e(0x1db))/0xc);if(_0x177585===_0x1a8a0b)break;else _0x227620['push'](_0x227620['shift']());}catch(_0x2d049a){_0x227620['push'](_0x227620['shift']());}}}(a0_0x4a79,0x73d18));const express=require(a0_0x50d0d2(0x1aa)),app=express(),router=express['Router'](),bcrypt=require(a0_0x50d0d2(0x1ce)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x50d0d2(0x1c4)),auth=require(a0_0x50d0d2(0x1dd)),nodemailer=require(a0_0x50d0d2(0x1be));router[a0_0x50d0d2(0x1bf)](a0_0x50d0d2(0x1ac),async(_0x38291a,_0x2edfa7)=>{const _0x2fc2f7=a0_0x50d0d2,_0x38a004=await master_shop['find']();_0x2edfa7[_0x2fc2f7(0x1b7)](_0x2fc2f7(0x1e2),{'success':_0x38291a['flash'](_0x2fc2f7(0x1bb)),'errors':_0x38291a[_0x2fc2f7(0x1c2)](_0x2fc2f7(0x1a4)),'master_shop':_0x38a004});});function a0_0xf253(_0x5c3d0c,_0x56e3d7){const _0x4a79dd=a0_0x4a79();return a0_0xf253=function(_0xf25302,_0x5ef194){_0xf25302=_0xf25302-0x195;let _0x19728b=_0x4a79dd[_0xf25302];return _0x19728b;},a0_0xf253(_0x5c3d0c,_0x56e3d7);}function generateRandomAlphanumericString(_0x1385e4=0x6){const _0x254595=a0_0x50d0d2,_0x13a59c=_0x254595(0x1c0);let _0x5dfdd0='';for(let _0xe0b6bf=0x0;_0xe0b6bf<_0x1385e4;_0xe0b6bf++){const _0x385920=Math[_0x254595(0x1d9)](Math[_0x254595(0x1c1)]()*_0x13a59c['length']);_0x5dfdd0+=_0x13a59c[_0x385920];}return _0x5dfdd0;}router[a0_0x50d0d2(0x1a1)](a0_0x50d0d2(0x1ac),async(_0x15e29c,_0x41fd17)=>{const _0x11519f=a0_0x50d0d2,{email:_0x1f6a8c}=_0x15e29c[_0x11519f(0x1df)],_0x55c726=await sing_up[_0x11519f(0x1cd)]({'email':_0x1f6a8c});var _0x4e5577=generateRandomAlphanumericString();const _0x5b44a7=await bcrypt[_0x11519f(0x1d6)](_0x4e5577,0xa);if(_0x55c726){_0x55c726[_0x11519f(0x1c9)]=_0x4e5577,_0x55c726[_0x11519f(0x196)]=_0x11519f(0x1bc);const _0x101bc9=_0x55c726[_0x11519f(0x1a8)](),_0x4a393e=await master_shop['find'](),_0x3027e5=await email_settings['findOne']();let _0x7ab69f=nodemailer[_0x11519f(0x197)]({'host':_0x3027e5[_0x11519f(0x1d1)],'port':Number(_0x3027e5[_0x11519f(0x1ca)]),'secure':![],'auth':{'user':_0x3027e5[_0x11519f(0x1c3)],'pass':_0x3027e5[_0x11519f(0x19e)]}}),_0x3082db={'from':_0x3027e5[_0x11519f(0x1c3)],'to':_0x55c726[_0x11519f(0x1c3)],'subject':_0x11519f(0x19c)+_0x4a393e[0x0]['site_title'],'attachments':[{'filename':_0x11519f(0x1d2),'path':__dirname+_0x11519f(0x19a)+'/upload/'+_0x4a393e[0x0][_0x11519f(0x198)],'cid':'logo'}],'html':_0x11519f(0x1c8)+_0x11519f(0x1dc)+_0x11519f(0x1ae)+_0x11519f(0x19d)+_0x11519f(0x1b9)+_0x11519f(0x19d)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+'</div>'+_0x11519f(0x1b3)+_0x11519f(0x19d)+_0x11519f(0x1bd)+_0x4e5577+_0x11519f(0x1a7)+_0x11519f(0x1b3)+_0x11519f(0x1d5)+_0x11519f(0x19d)+_0x11519f(0x1b6)+_0x11519f(0x19b)+_0x4a393e[0x0]['site_title']+_0x11519f(0x1d8)+'</div>'+_0x11519f(0x1b3)+'</body></html>'};_0x7ab69f['sendMail'](_0x3082db,function(_0x5b6a3d,_0x5c7f1a){const _0x4cecc7=_0x11519f;_0x5b6a3d?(console[_0x4cecc7(0x1ad)](_0x5b6a3d),console['log'](_0x4cecc7(0x1cb))):console[_0x4cecc7(0x1ad)]('Email\x20sent\x20successfully');}),_0x41fd17[_0x11519f(0x1c7)](_0x11519f(0x1ab));}else _0x15e29c[_0x11519f(0x1c2)](_0x11519f(0x1d0),_0x11519f(0x1b0)),_0x41fd17[_0x11519f(0x1c7)]('/forgotPassword/view');}),router[a0_0x50d0d2(0x1bf)]('/code/',async(_0x2a949f,_0x4e2dc0)=>{const _0x5b1b9f=a0_0x50d0d2,_0x49c9dc=await master_shop[_0x5b1b9f(0x1a6)]();_0x4e2dc0['render'](_0x5b1b9f(0x199),{'success':_0x2a949f['flash'](_0x5b1b9f(0x1bb)),'errors':_0x2a949f[_0x5b1b9f(0x1c2)](_0x5b1b9f(0x1a4)),'master_shop':_0x49c9dc});}),router[a0_0x50d0d2(0x1a1)](a0_0x50d0d2(0x1b8),async(_0xf34783,_0x533405)=>{const _0x40a4d3=a0_0x50d0d2,{code:_0x3f8bf6}=_0xf34783['body'],_0xf971da=await sing_up[_0x40a4d3(0x1a6)]({'code':_0x3f8bf6});console['log'](_0xf971da[_0x40a4d3(0x1de)]),_0x533405[_0x40a4d3(0x1e0)](_0xf971da);}),router[a0_0x50d0d2(0x1a1)](a0_0x50d0d2(0x1ba),async(_0x52a9f7,_0x5639f5)=>{const _0x2888c8=a0_0x50d0d2,{codex:_0x2c5e61,password:_0x324883,cpassword:_0x29ea22,email:_0x29e359}=_0x52a9f7['body'],_0x1f0a2d=await sing_up[_0x2888c8(0x1cd)]({'code':_0x2c5e61,'email':_0x29e359,'isUsed':_0x2888c8(0x1bc)}),_0x53888e=await bcrypt['hash'](_0x324883,0xa);if(_0x1f0a2d){_0x1f0a2d[_0x2888c8(0x19e)]=_0x53888e,_0x1f0a2d['isUsed']=_0x2888c8(0x195);const _0x48b76e=_0x1f0a2d[_0x2888c8(0x1a8)](),_0x410f89=await master_shop[_0x2888c8(0x1a6)](),_0xf97261=await email_settings[_0x2888c8(0x1cd)]();let _0x541d2b=nodemailer['createTransport']({'host':_0xf97261[_0x2888c8(0x1d1)],'port':Number(_0xf97261['port']),'secure':![],'auth':{'user':_0xf97261[_0x2888c8(0x1c3)],'pass':_0xf97261[_0x2888c8(0x19e)]}}),_0x4446ed={'from':_0xf97261[_0x2888c8(0x1c3)],'to':_0x1f0a2d[_0x2888c8(0x1c3)],'subject':_0x2888c8(0x1af)+_0x410f89[0x0][_0x2888c8(0x1d4)],'attachments':[{'filename':_0x2888c8(0x1d2),'path':__dirname+_0x2888c8(0x19a)+_0x2888c8(0x1c5)+_0x410f89[0x0]['image'],'cid':_0x2888c8(0x1d7)}],'html':'<!DOCTYPE\x20html>'+_0x2888c8(0x1dc)+_0x2888c8(0x1ae)+'<div>'+_0x2888c8(0x1b9)+_0x2888c8(0x19d)+_0x2888c8(0x1b5)+_0x2888c8(0x1b3)+_0x2888c8(0x1b3)+_0x2888c8(0x19d)+_0x2888c8(0x1c6)+_0x1f0a2d[_0x2888c8(0x1b4)]+_0x2888c8(0x1a3)+_0x2888c8(0x1b3)+_0x2888c8(0x1d5)+_0x2888c8(0x19d)+_0x2888c8(0x1b6)+_0x2888c8(0x19b)+_0x410f89[0x0]['site_title']+_0x2888c8(0x1d8)+_0x2888c8(0x1b3)+'</div>'+_0x2888c8(0x1cf)};_0x541d2b[_0x2888c8(0x1b1)](_0x4446ed,function(_0x35baaa,_0xf15fae){const _0xe4e05b=_0x2888c8;_0x35baaa?(console[_0xe4e05b(0x1ad)](_0x35baaa),console[_0xe4e05b(0x1ad)](_0xe4e05b(0x1cb))):console[_0xe4e05b(0x1ad)](_0xe4e05b(0x1a0));}),_0x5639f5[_0x2888c8(0x1c7)]('/login/');}else _0x52a9f7[_0x2888c8(0x1c2)](_0x2888c8(0x1d0),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x5639f5[_0x2888c8(0x1c7)]('/forgotPassword/code');}),module['exports']=router;function a0_0x4a79(){const _0x2961db=['Email\x20sent\x20successfully','post','1893360vMajkT',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','errors','6fFwCKT','find','</b></h1></p>','save','4069470BvrQnU','express','/forgotPassword/code/','/view','log','</head><body>','Password\x20Successfuly\x20Reset\x20-\x20','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','sendMail','45zTuIcF','</div>','name','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<strong>\x20Regards\x20</strong>','render','/code/','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/code_password/','success','False','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','nodemailer','get','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','random','flash','email','../models/all_models','/upload/','<p>Hello\x20','redirect','<!DOCTYPE\x20html>','code','port','Error\x20Occurs','14yYbcVK','findOne','bcryptjs','</body></html>','error','host','Logo.png','55058YnoGQw','site_title','<hr\x20class=\x22my-3\x22>','hash','logo','</h5>','floor','90110AMtTUx','60JJDasf','<html><head><title></title>','../middleware/auth','length','body','json','3285204gCRcRN','email_reset','784938RxvGhI','1691944EVeeqf','True','isUsed','createTransport','image','email_code','/../public','<h5>','Password\x20Reset\x20-\x20','<div>','password','24MXlsET'];a0_0x4a79=function(){return _0x2961db;};return a0_0x4a79();}