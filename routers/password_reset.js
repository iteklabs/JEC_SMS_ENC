function a0_0x2bc0(_0xb8d7f4,_0x1f32f5){const _0x394ab2=a0_0x394a();return a0_0x2bc0=function(_0x2bc02c,_0x4f00fe){_0x2bc02c=_0x2bc02c-0x105;let _0x387c9c=_0x394ab2[_0x2bc02c];return _0x387c9c;},a0_0x2bc0(_0xb8d7f4,_0x1f32f5);}const a0_0x120a9e=a0_0x2bc0;(function(_0x266c94,_0x3042d7){const _0x327658=a0_0x2bc0,_0x556f2d=_0x266c94();while(!![]){try{const _0x1ad452=-parseInt(_0x327658(0x125))/0x1*(-parseInt(_0x327658(0x112))/0x2)+parseInt(_0x327658(0x10c))/0x3*(-parseInt(_0x327658(0x117))/0x4)+-parseInt(_0x327658(0x133))/0x5+parseInt(_0x327658(0x120))/0x6+parseInt(_0x327658(0x141))/0x7*(-parseInt(_0x327658(0x130))/0x8)+parseInt(_0x327658(0x13b))/0x9*(-parseInt(_0x327658(0x13e))/0xa)+-parseInt(_0x327658(0x13c))/0xb*(-parseInt(_0x327658(0x12f))/0xc);if(_0x1ad452===_0x3042d7)break;else _0x556f2d['push'](_0x556f2d['shift']());}catch(_0x6e45a9){_0x556f2d['push'](_0x556f2d['shift']());}}}(a0_0x394a,0x338b6));const express=require('express'),app=express(),router=express[a0_0x120a9e(0x116)](),bcrypt=require(a0_0x120a9e(0x136)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x120a9e(0x148)),auth=require(a0_0x120a9e(0x110)),nodemailer=require(a0_0x120a9e(0x10e));router[a0_0x120a9e(0x114)](a0_0x120a9e(0x11f),async(_0x2a6518,_0x17756a)=>{const _0x52d3b8=a0_0x120a9e,_0x2cd0fc=await master_shop[_0x52d3b8(0x149)]();_0x17756a[_0x52d3b8(0x137)](_0x52d3b8(0x142),{'success':_0x2a6518['flash']('success'),'errors':_0x2a6518[_0x52d3b8(0x146)](_0x52d3b8(0x14d)),'master_shop':_0x2cd0fc});});function a0_0x394a(){const _0x703cf0=['email','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/view','1834680edXOYN','<html><head><title></title>','</div>','error','random','8567asbqCe','/forgotPassword/view','</h5>','log','image','findOne','body','logo','exports','password','12jbFpHT','1093288tDpRzD','False','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','660455zIkxdl','createTransport','<hr\x20class=\x22my-3\x22>','bcryptjs','render','isUsed','</head><body>','email_code','124380SuzrYB','3149311pZsIDs','code','30fOxrbe','/code_password/',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','14kaWTmR','email_reset','True','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','redirect','flash','post','../models/all_models','find','/upload/','length','/../public','errors','</b></h1></p>','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','Email\x20sent\x20successfully','sendMail','/forgotPassword/code','json','save','<!DOCTYPE\x20html>','site_title','name','3caAtEL','<h5>','nodemailer','hash','../middleware/auth','</body></html>','70opuqhk','<strong>\x20Regards\x20</strong>','get','/login/','Router','935708thwvWW','floor','Password\x20Reset\x20-\x20','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<div>','Error\x20Occurs'];a0_0x394a=function(){return _0x703cf0;};return a0_0x394a();}function generateRandomAlphanumericString(_0x588639=0x6){const _0x1b73b2=a0_0x120a9e,_0x267a2e=_0x1b73b2(0x14f);let _0x40da0c='';for(let _0x15c62a=0x0;_0x15c62a<_0x588639;_0x15c62a++){const _0x570439=Math[_0x1b73b2(0x118)](Math[_0x1b73b2(0x124)]()*_0x267a2e[_0x1b73b2(0x14b)]);_0x40da0c+=_0x267a2e[_0x570439];}return _0x40da0c;}router['post'](a0_0x120a9e(0x11f),async(_0x2a5cd3,_0x303fe9)=>{const _0x2c0d13=a0_0x120a9e,{email:_0x23b3e1}=_0x2a5cd3[_0x2c0d13(0x12b)],_0x4a340b=await sing_up['findOne']({'email':_0x23b3e1});var _0x18a720=generateRandomAlphanumericString();const _0x50165c=await bcrypt[_0x2c0d13(0x10f)](_0x18a720,0xa);if(_0x4a340b){_0x4a340b[_0x2c0d13(0x13d)]=_0x18a720,_0x4a340b[_0x2c0d13(0x138)]='False';const _0x387f5a=_0x4a340b[_0x2c0d13(0x108)](),_0x50edbf=await master_shop['find'](),_0x120251=await email_settings[_0x2c0d13(0x12a)]();let _0x5c04ae=nodemailer[_0x2c0d13(0x134)]({'host':_0x120251['host'],'port':Number(_0x120251['port']),'secure':![],'auth':{'user':_0x120251['email'],'pass':_0x120251[_0x2c0d13(0x12e)]}}),_0x22d4ae={'from':_0x120251['email'],'to':_0x4a340b[_0x2c0d13(0x11d)],'subject':_0x2c0d13(0x119)+_0x50edbf[0x0]['site_title'],'attachments':[{'filename':'Logo.png','path':__dirname+_0x2c0d13(0x14c)+_0x2c0d13(0x14a)+_0x50edbf[0x0]['image'],'cid':_0x2c0d13(0x12c)}],'html':_0x2c0d13(0x109)+_0x2c0d13(0x121)+_0x2c0d13(0x139)+_0x2c0d13(0x11b)+_0x2c0d13(0x11e)+_0x2c0d13(0x11b)+_0x2c0d13(0x11a)+_0x2c0d13(0x122)+_0x2c0d13(0x122)+_0x2c0d13(0x11b)+_0x2c0d13(0x132)+_0x18a720+_0x2c0d13(0x14e)+_0x2c0d13(0x122)+_0x2c0d13(0x135)+_0x2c0d13(0x11b)+_0x2c0d13(0x113)+_0x2c0d13(0x10d)+_0x50edbf[0x0]['site_title']+_0x2c0d13(0x127)+_0x2c0d13(0x122)+'</div>'+'</body></html>'};_0x5c04ae['sendMail'](_0x22d4ae,function(_0x4cedea,_0x3a8e45){const _0x28fd2d=_0x2c0d13;_0x4cedea?(console[_0x28fd2d(0x128)](_0x4cedea),console['log'](_0x28fd2d(0x11c))):console[_0x28fd2d(0x128)](_0x28fd2d(0x150));}),_0x303fe9['redirect']('/forgotPassword/code/');}else _0x2a5cd3['flash'](_0x2c0d13(0x123),_0x2c0d13(0x144)),_0x303fe9['redirect'](_0x2c0d13(0x126));}),router[a0_0x120a9e(0x114)]('/code/',async(_0x22f7d4,_0x1a4a5b)=>{const _0x3cf27c=a0_0x120a9e,_0x5e33cd=await master_shop['find']();_0x1a4a5b['render'](_0x3cf27c(0x13a),{'success':_0x22f7d4[_0x3cf27c(0x146)]('success'),'errors':_0x22f7d4['flash'](_0x3cf27c(0x14d)),'master_shop':_0x5e33cd});}),router['post']('/code/',async(_0x21668a,_0x1fab48)=>{const _0x2c8774=a0_0x120a9e,{code:_0xf91b8a}=_0x21668a[_0x2c8774(0x12b)],_0x154dc0=await sing_up[_0x2c8774(0x149)]({'code':_0xf91b8a});console[_0x2c8774(0x128)](_0x154dc0['length']),_0x1fab48[_0x2c8774(0x107)](_0x154dc0);}),router[a0_0x120a9e(0x147)](a0_0x120a9e(0x13f),async(_0x39e5e5,_0x1dee9e)=>{const _0x196246=a0_0x120a9e,{codex:_0x19cc5e,password:_0x8b7171,cpassword:_0x1834dd,email:_0x1415ac}=_0x39e5e5[_0x196246(0x12b)],_0x874b1d=await sing_up[_0x196246(0x12a)]({'code':_0x19cc5e,'email':_0x1415ac,'isUsed':_0x196246(0x131)}),_0x1b4e0b=await bcrypt[_0x196246(0x10f)](_0x8b7171,0xa);if(_0x874b1d){_0x874b1d[_0x196246(0x12e)]=_0x1b4e0b,_0x874b1d['isUsed']=_0x196246(0x143);const _0x2246ea=_0x874b1d['save'](),_0x47e50b=await master_shop[_0x196246(0x149)](),_0x38828f=await email_settings[_0x196246(0x12a)]();let _0x4e0804=nodemailer[_0x196246(0x134)]({'host':_0x38828f['host'],'port':Number(_0x38828f['port']),'secure':![],'auth':{'user':_0x38828f[_0x196246(0x11d)],'pass':_0x38828f[_0x196246(0x12e)]}}),_0x5414b7={'from':_0x38828f[_0x196246(0x11d)],'to':_0x874b1d[_0x196246(0x11d)],'subject':'Password\x20Successfuly\x20Reset\x20-\x20'+_0x47e50b[0x0][_0x196246(0x10a)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x196246(0x14c)+_0x196246(0x14a)+_0x47e50b[0x0][_0x196246(0x129)],'cid':_0x196246(0x12c)}],'html':_0x196246(0x109)+_0x196246(0x121)+_0x196246(0x139)+'<div>'+_0x196246(0x11e)+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x196246(0x122)+_0x196246(0x122)+_0x196246(0x11b)+'<p>Hello\x20'+_0x874b1d[_0x196246(0x10b)]+_0x196246(0x140)+_0x196246(0x122)+_0x196246(0x135)+_0x196246(0x11b)+'<strong>\x20Regards\x20</strong>'+'<h5>'+_0x47e50b[0x0][_0x196246(0x10a)]+_0x196246(0x127)+'</div>'+'</div>'+_0x196246(0x111)};_0x4e0804[_0x196246(0x105)](_0x5414b7,function(_0x3e727b,_0x48ddb1){const _0x2b08f0=_0x196246;_0x3e727b?(console['log'](_0x3e727b),console[_0x2b08f0(0x128)](_0x2b08f0(0x11c))):console['log'](_0x2b08f0(0x150));}),_0x1dee9e[_0x196246(0x145)](_0x196246(0x115));}else _0x39e5e5[_0x196246(0x146)]('error','Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x1dee9e['redirect'](_0x196246(0x106));}),module[a0_0x120a9e(0x12d)]=router;