function a0_0x29ae(){const _0x26617a=['flash','/forgotPassword/code/','8856xxfseu','hash','</div>','../models/all_models','577782YpQZcm','host','express','port','findOne','/view','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','/code/','nodemailer','error','exports','5630vViJOt','sendMail','name','/../public','success','/upload/','json','/login/','285yUDnzP','7997Pzegqq','333088byeZJX','16783lPmMpN','<p>Hello\x20','Email\x20sent\x20successfully','Logo.png','66764vRjXbN','errors','post','bcryptjs','createTransport','log','site_title','logo','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','19YOYHYM','</b></h1></p>','render','redirect','False','get','body','<!DOCTYPE\x20html>','</h5>','find','32ZmabNo','87KGAcmY','Password\x20Reset\x20-\x20','53846iSJYnG',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','random','password','email','<html><head><title></title>','/forgotPassword/view','code','length','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<div>','isUsed','/forgotPassword/code','image','Error\x20Occurs','</head><body>','<strong>\x20Regards\x20</strong>','save','<h5>','True','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','46338Ftjerc'];a0_0x29ae=function(){return _0x26617a;};return a0_0x29ae();}const a0_0x2a03f4=a0_0x18b7;(function(_0x1a29e6,_0x5338af){const _0x1c746d=a0_0x18b7,_0x3e68f2=_0x1a29e6();while(!![]){try{const _0x1ea42b=-parseInt(_0x1c746d(0x1cb))/0x1*(-parseInt(_0x1c746d(0x1d8))/0x2)+parseInt(_0x1c746d(0x1d6))/0x3*(-parseInt(_0x1c746d(0x1c2))/0x4)+parseInt(_0x1c746d(0x1bb))/0x5*(-parseInt(_0x1c746d(0x1ed))/0x6)+-parseInt(_0x1c746d(0x1bd))/0x7+parseInt(_0x1c746d(0x1d5))/0x8*(parseInt(_0x1c746d(0x1f4))/0x9)+-parseInt(_0x1c746d(0x1ff))/0xa*(parseInt(_0x1c746d(0x1bc))/0xb)+-parseInt(_0x1c746d(0x1f0))/0xc*(-parseInt(_0x1c746d(0x1be))/0xd);if(_0x1ea42b===_0x5338af)break;else _0x3e68f2['push'](_0x3e68f2['shift']());}catch(_0x3ccb3b){_0x3e68f2['push'](_0x3e68f2['shift']());}}}(a0_0x29ae,0x52ff0));const express=require(a0_0x2a03f4(0x1f6)),app=express(),router=express['Router'](),bcrypt=require(a0_0x2a03f4(0x1c5)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x2a03f4(0x1f3)),auth=require('../middleware/auth'),nodemailer=require(a0_0x2a03f4(0x1fc));function a0_0x18b7(_0x546e83,_0x50ca11){const _0x29ae2c=a0_0x29ae();return a0_0x18b7=function(_0x18b741,_0x173cf7){_0x18b741=_0x18b741-0x1b8;let _0x5a219f=_0x29ae2c[_0x18b741];return _0x5a219f;},a0_0x18b7(_0x546e83,_0x50ca11);}router['get'](a0_0x2a03f4(0x1f9),async(_0x2194f4,_0x3d924d)=>{const _0x1f15b9=a0_0x2a03f4,_0x21a39c=await master_shop[_0x1f15b9(0x1d4)]();_0x3d924d[_0x1f15b9(0x1cd)]('email_reset',{'success':_0x2194f4[_0x1f15b9(0x1ee)](_0x1f15b9(0x203)),'errors':_0x2194f4['flash']('errors'),'master_shop':_0x21a39c});});function generateRandomAlphanumericString(_0x4bf70d=0x6){const _0x19e73f=a0_0x2a03f4,_0x4d17b9='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x576671='';for(let _0x57814c=0x0;_0x57814c<_0x4bf70d;_0x57814c++){const _0x334ae9=Math['floor'](Math[_0x19e73f(0x1da)]()*_0x4d17b9[_0x19e73f(0x1e0)]);_0x576671+=_0x4d17b9[_0x334ae9];}return _0x576671;}router['post']('/view',async(_0x56d532,_0x44bd49)=>{const _0x2c4c41=a0_0x2a03f4,{email:_0x15a767}=_0x56d532['body'],_0x42f7ca=await sing_up[_0x2c4c41(0x1f8)]({'email':_0x15a767});var _0x45d578=generateRandomAlphanumericString();const _0xbeab75=await bcrypt[_0x2c4c41(0x1f1)](_0x45d578,0xa);if(_0x42f7ca){_0x42f7ca[_0x2c4c41(0x1df)]=_0x45d578,_0x42f7ca['isUsed']=_0x2c4c41(0x1cf);const _0x59ee50=_0x42f7ca['save'](),_0x30d20a=await master_shop[_0x2c4c41(0x1d4)](),_0xb3df38=await email_settings[_0x2c4c41(0x1f8)]();let _0x4f1a82=nodemailer['createTransport']({'host':_0xb3df38[_0x2c4c41(0x1f5)],'port':Number(_0xb3df38[_0x2c4c41(0x1f7)]),'secure':![],'auth':{'user':_0xb3df38[_0x2c4c41(0x1dc)],'pass':_0xb3df38[_0x2c4c41(0x1db)]}}),_0xf7ab84={'from':_0xb3df38[_0x2c4c41(0x1dc)],'to':_0x42f7ca[_0x2c4c41(0x1dc)],'subject':_0x2c4c41(0x1d7)+_0x30d20a[0x0][_0x2c4c41(0x1c8)],'attachments':[{'filename':_0x2c4c41(0x1c1),'path':__dirname+_0x2c4c41(0x202)+_0x2c4c41(0x1b8)+_0x30d20a[0x0][_0x2c4c41(0x1e5)],'cid':_0x2c4c41(0x1c9)}],'html':_0x2c4c41(0x1d2)+'<html><head><title></title>'+_0x2c4c41(0x1e7)+'<div>'+_0x2c4c41(0x1ec)+_0x2c4c41(0x1e2)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x2c4c41(0x1f2)+_0x2c4c41(0x1f2)+_0x2c4c41(0x1e2)+_0x2c4c41(0x1e1)+_0x45d578+_0x2c4c41(0x1cc)+_0x2c4c41(0x1f2)+'<hr\x20class=\x22my-3\x22>'+'<div>'+_0x2c4c41(0x1e8)+_0x2c4c41(0x1ea)+_0x30d20a[0x0][_0x2c4c41(0x1c8)]+'</h5>'+_0x2c4c41(0x1f2)+_0x2c4c41(0x1f2)+'</body></html>'};_0x4f1a82[_0x2c4c41(0x200)](_0xf7ab84,function(_0xc9d4d1,_0x464bad){const _0x50eddb=_0x2c4c41;_0xc9d4d1?(console[_0x50eddb(0x1c7)](_0xc9d4d1),console[_0x50eddb(0x1c7)](_0x50eddb(0x1e6))):console[_0x50eddb(0x1c7)](_0x50eddb(0x1c0));}),_0x44bd49[_0x2c4c41(0x1ce)](_0x2c4c41(0x1ef));}else _0x56d532[_0x2c4c41(0x1ee)]('error',_0x2c4c41(0x1fa)),_0x44bd49[_0x2c4c41(0x1ce)](_0x2c4c41(0x1de));}),router[a0_0x2a03f4(0x1d0)](a0_0x2a03f4(0x1fb),async(_0x597591,_0x408b23)=>{const _0x84e633=a0_0x2a03f4,_0x5d2bbc=await master_shop[_0x84e633(0x1d4)]();_0x408b23[_0x84e633(0x1cd)]('email_code',{'success':_0x597591[_0x84e633(0x1ee)](_0x84e633(0x203)),'errors':_0x597591[_0x84e633(0x1ee)](_0x84e633(0x1c3)),'master_shop':_0x5d2bbc});}),router[a0_0x2a03f4(0x1c4)]('/code/',async(_0x13df26,_0x4db857)=>{const _0x19ca7b=a0_0x2a03f4,{code:_0x10e0b0}=_0x13df26[_0x19ca7b(0x1d1)],_0x113b61=await sing_up['find']({'code':_0x10e0b0});console[_0x19ca7b(0x1c7)](_0x113b61[_0x19ca7b(0x1e0)]),_0x4db857[_0x19ca7b(0x1b9)](_0x113b61);}),router['post']('/code_password/',async(_0x37b998,_0x519fa2)=>{const _0x552015=a0_0x2a03f4,{codex:_0x52427d,password:_0x3a6d23,cpassword:_0x2f95d2,email:_0x30c735}=_0x37b998[_0x552015(0x1d1)],_0x4d01e1=await sing_up[_0x552015(0x1f8)]({'code':_0x52427d,'email':_0x30c735,'isUsed':_0x552015(0x1cf)}),_0x138403=await bcrypt[_0x552015(0x1f1)](_0x3a6d23,0xa);if(_0x4d01e1){_0x4d01e1['password']=_0x138403,_0x4d01e1[_0x552015(0x1e3)]=_0x552015(0x1eb);const _0x37c56b=_0x4d01e1[_0x552015(0x1e9)](),_0x43daf8=await master_shop[_0x552015(0x1d4)](),_0x174085=await email_settings[_0x552015(0x1f8)]();let _0x1c163b=nodemailer[_0x552015(0x1c6)]({'host':_0x174085[_0x552015(0x1f5)],'port':Number(_0x174085[_0x552015(0x1f7)]),'secure':![],'auth':{'user':_0x174085[_0x552015(0x1dc)],'pass':_0x174085[_0x552015(0x1db)]}}),_0x879bcf={'from':_0x174085['email'],'to':_0x4d01e1[_0x552015(0x1dc)],'subject':'Password\x20Successfuly\x20Reset\x20-\x20'+_0x43daf8[0x0][_0x552015(0x1c8)],'attachments':[{'filename':_0x552015(0x1c1),'path':__dirname+_0x552015(0x202)+_0x552015(0x1b8)+_0x43daf8[0x0][_0x552015(0x1e5)],'cid':_0x552015(0x1c9)}],'html':_0x552015(0x1d2)+_0x552015(0x1dd)+'</head><body>'+_0x552015(0x1e2)+_0x552015(0x1ec)+_0x552015(0x1e2)+_0x552015(0x1ca)+_0x552015(0x1f2)+_0x552015(0x1f2)+_0x552015(0x1e2)+_0x552015(0x1bf)+_0x4d01e1[_0x552015(0x201)]+_0x552015(0x1d9)+_0x552015(0x1f2)+'<hr\x20class=\x22my-3\x22>'+_0x552015(0x1e2)+_0x552015(0x1e8)+_0x552015(0x1ea)+_0x43daf8[0x0][_0x552015(0x1c8)]+_0x552015(0x1d3)+'</div>'+_0x552015(0x1f2)+'</body></html>'};_0x1c163b['sendMail'](_0x879bcf,function(_0x22ac3f,_0x14b761){const _0x5934dc=_0x552015;_0x22ac3f?(console['log'](_0x22ac3f),console[_0x5934dc(0x1c7)](_0x5934dc(0x1e6))):console[_0x5934dc(0x1c7)](_0x5934dc(0x1c0));}),_0x519fa2['redirect'](_0x552015(0x1ba));}else _0x37b998[_0x552015(0x1ee)](_0x552015(0x1fd),_0x552015(0x1fa)),_0x519fa2['redirect'](_0x552015(0x1e4));}),module[a0_0x2a03f4(0x1fe)]=router;