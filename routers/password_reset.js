function a0_0x4bd5(_0x55f4b4,_0x420ff8){const _0x35ba01=a0_0x35ba();return a0_0x4bd5=function(_0x4bd5fe,_0x450661){_0x4bd5fe=_0x4bd5fe-0x96;let _0xc29560=_0x35ba01[_0x4bd5fe];return _0xc29560;},a0_0x4bd5(_0x55f4b4,_0x420ff8);}const a0_0x2395d3=a0_0x4bd5;(function(_0xac40bf,_0x300d07){const _0x328a24=a0_0x4bd5,_0x10c238=_0xac40bf();while(!![]){try{const _0x1c292d=-parseInt(_0x328a24(0xc5))/0x1*(-parseInt(_0x328a24(0xe0))/0x2)+parseInt(_0x328a24(0xb2))/0x3+-parseInt(_0x328a24(0xd8))/0x4+parseInt(_0x328a24(0xbb))/0x5*(parseInt(_0x328a24(0xdd))/0x6)+parseInt(_0x328a24(0x9b))/0x7+parseInt(_0x328a24(0xbd))/0x8*(-parseInt(_0x328a24(0xab))/0x9)+-parseInt(_0x328a24(0xa6))/0xa*(parseInt(_0x328a24(0xdb))/0xb);if(_0x1c292d===_0x300d07)break;else _0x10c238['push'](_0x10c238['shift']());}catch(_0x531110){_0x10c238['push'](_0x10c238['shift']());}}}(a0_0x35ba,0x74f36));const express=require('express'),app=express(),router=express[a0_0x2395d3(0xa1)](),bcrypt=require(a0_0x2395d3(0xbf)),{sing_up,staff,profile,master_shop,email_settings}=require('../models/all_models'),auth=require('../middleware/auth'),nodemailer=require(a0_0x2395d3(0xa0));router[a0_0x2395d3(0xbe)](a0_0x2395d3(0xc2),async(_0x5a0ad6,_0x3a7004)=>{const _0x1b7e8c=a0_0x2395d3,_0x503110=await master_shop[_0x1b7e8c(0xd4)]();_0x3a7004[_0x1b7e8c(0xcd)](_0x1b7e8c(0x9d),{'success':_0x5a0ad6['flash'](_0x1b7e8c(0xe2)),'errors':_0x5a0ad6['flash']('errors'),'master_shop':_0x503110});});function generateRandomAlphanumericString(_0x4a73d7=0x6){const _0x409f23=a0_0x2395d3,_0x19780f=_0x409f23(0xca);let _0x16ab26='';for(let _0x3c570e=0x0;_0x3c570e<_0x4a73d7;_0x3c570e++){const _0x11b8f0=Math[_0x409f23(0xa2)](Math[_0x409f23(0xe1)]()*_0x19780f[_0x409f23(0xaa)]);_0x16ab26+=_0x19780f[_0x11b8f0];}return _0x16ab26;}router['post'](a0_0x2395d3(0xc2),async(_0x385362,_0x4d3cb3)=>{const _0x49e55a=a0_0x2395d3,{email:_0x210060}=_0x385362[_0x49e55a(0xb6)],_0x30de61=await sing_up[_0x49e55a(0xc6)]({'email':_0x210060});var _0x74fda1=generateRandomAlphanumericString();const _0x2a54a6=await bcrypt[_0x49e55a(0xce)](_0x74fda1,0xa);if(_0x30de61){_0x30de61[_0x49e55a(0xcc)]=_0x74fda1,_0x30de61[_0x49e55a(0xa5)]=_0x49e55a(0xd5);const _0x4fac15=_0x30de61[_0x49e55a(0xc9)](),_0x3054ce=await master_shop['find'](),_0x1d40eb=await email_settings[_0x49e55a(0xc6)]();let _0x5b6e60=nodemailer[_0x49e55a(0xd2)]({'host':_0x1d40eb[_0x49e55a(0xb1)],'port':Number(_0x1d40eb[_0x49e55a(0x9e)]),'secure':![],'auth':{'user':_0x1d40eb[_0x49e55a(0xb9)],'pass':_0x1d40eb[_0x49e55a(0xc1)]}}),_0x44e5d8={'from':_0x1d40eb[_0x49e55a(0xb9)],'to':_0x30de61[_0x49e55a(0xb9)],'subject':_0x49e55a(0xc4)+_0x3054ce[0x0][_0x49e55a(0xad)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x49e55a(0xa7)+_0x49e55a(0xdf)+_0x3054ce[0x0][_0x49e55a(0xcb)],'cid':_0x49e55a(0xba)}],'html':_0x49e55a(0xa9)+'<html><head><title></title>'+_0x49e55a(0xaf)+_0x49e55a(0xb8)+_0x49e55a(0xd0)+_0x49e55a(0xb8)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x49e55a(0xb7)+_0x49e55a(0xb7)+_0x49e55a(0xb8)+_0x49e55a(0xd1)+_0x74fda1+'</b></h1></p>'+_0x49e55a(0xb7)+'<hr\x20class=\x22my-3\x22>'+_0x49e55a(0xb8)+'<strong>\x20Regards\x20</strong>'+_0x49e55a(0xdc)+_0x3054ce[0x0][_0x49e55a(0xad)]+'</h5>'+'</div>'+_0x49e55a(0xb7)+'</body></html>'};_0x5b6e60[_0x49e55a(0xd3)](_0x44e5d8,function(_0xc06dd0,_0x1add0e){const _0x5a4de2=_0x49e55a;_0xc06dd0?(console['log'](_0xc06dd0),console[_0x5a4de2(0x96)](_0x5a4de2(0xb3))):console[_0x5a4de2(0x96)](_0x5a4de2(0x9a));}),_0x4d3cb3[_0x49e55a(0xc7)](_0x49e55a(0x9c));}else _0x385362[_0x49e55a(0xb0)](_0x49e55a(0x98),_0x49e55a(0xa8)),_0x4d3cb3[_0x49e55a(0xc7)](_0x49e55a(0xc8));}),router['get'](a0_0x2395d3(0xb5),async(_0x1bf6c6,_0x134bf0)=>{const _0x2295d6=a0_0x2395d3,_0x5f38da=await master_shop[_0x2295d6(0xd4)]();_0x134bf0['render'](_0x2295d6(0xac),{'success':_0x1bf6c6[_0x2295d6(0xb0)](_0x2295d6(0xe2)),'errors':_0x1bf6c6[_0x2295d6(0xb0)]('errors'),'master_shop':_0x5f38da});}),router[a0_0x2395d3(0xc0)](a0_0x2395d3(0xb5),async(_0x522d3c,_0x582eef)=>{const _0x46ebe6=a0_0x2395d3,{code:_0x39191e}=_0x522d3c['body'],_0xead000=await sing_up['find']({'code':_0x39191e});console[_0x46ebe6(0x96)](_0xead000[_0x46ebe6(0xaa)]),_0x582eef[_0x46ebe6(0xc3)](_0xead000);}),router[a0_0x2395d3(0xc0)](a0_0x2395d3(0xb4),async(_0x1acf70,_0x4e87b1)=>{const _0x49fc6a=a0_0x2395d3,{codex:_0x60b3ce,password:_0x4b028f,cpassword:_0x34cab1,email:_0x3d2ddc}=_0x1acf70[_0x49fc6a(0xb6)],_0x58e1fa=await sing_up['findOne']({'code':_0x60b3ce,'email':_0x3d2ddc,'isUsed':_0x49fc6a(0xd5)}),_0x538ed5=await bcrypt[_0x49fc6a(0xce)](_0x4b028f,0xa);if(_0x58e1fa){_0x58e1fa[_0x49fc6a(0xc1)]=_0x538ed5,_0x58e1fa['isUsed']=_0x49fc6a(0x9f);const _0x533d92=_0x58e1fa['save'](),_0x390c81=await master_shop['find'](),_0x2dccae=await email_settings['findOne']();let _0x45adfd=nodemailer[_0x49fc6a(0xd2)]({'host':_0x2dccae[_0x49fc6a(0xb1)],'port':Number(_0x2dccae[_0x49fc6a(0x9e)]),'secure':![],'auth':{'user':_0x2dccae[_0x49fc6a(0xb9)],'pass':_0x2dccae['password']}}),_0x349e6c={'from':_0x2dccae[_0x49fc6a(0xb9)],'to':_0x58e1fa[_0x49fc6a(0xb9)],'subject':_0x49fc6a(0xde)+_0x390c81[0x0]['site_title'],'attachments':[{'filename':_0x49fc6a(0x99),'path':__dirname+_0x49fc6a(0xa7)+'/upload/'+_0x390c81[0x0][_0x49fc6a(0xcb)],'cid':_0x49fc6a(0xba)}],'html':_0x49fc6a(0xa9)+_0x49fc6a(0xd6)+'</head><body>'+'<div>'+_0x49fc6a(0xd0)+_0x49fc6a(0xb8)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x49fc6a(0xb7)+_0x49fc6a(0xb7)+_0x49fc6a(0xb8)+_0x49fc6a(0xbc)+_0x58e1fa[_0x49fc6a(0x97)]+_0x49fc6a(0xcf)+'</div>'+_0x49fc6a(0xa3)+_0x49fc6a(0xb8)+_0x49fc6a(0xa4)+'<h5>'+_0x390c81[0x0]['site_title']+'</h5>'+'</div>'+_0x49fc6a(0xb7)+_0x49fc6a(0xd9)};_0x45adfd[_0x49fc6a(0xd3)](_0x349e6c,function(_0x2310da,_0x2329c1){const _0xce9700=_0x49fc6a;_0x2310da?(console[_0xce9700(0x96)](_0x2310da),console[_0xce9700(0x96)](_0xce9700(0xb3))):console['log'](_0xce9700(0x9a));}),_0x4e87b1['redirect'](_0x49fc6a(0xda));}else _0x1acf70[_0x49fc6a(0xb0)](_0x49fc6a(0x98),_0x49fc6a(0xa8)),_0x4e87b1[_0x49fc6a(0xc7)](_0x49fc6a(0xae));}),module[a0_0x2395d3(0xd7)]=router;function a0_0x35ba(){const _0x4e5e0d=['sendMail','find','False','<html><head><title></title>','exports','1982852EyoQYK','</body></html>','/login/','22JNDYZV','<h5>','327252AdRAYz','Password\x20Successfuly\x20Reset\x20-\x20','/upload/','2594xTKDMC','random','success','log','name','error','Logo.png','Email\x20sent\x20successfully','3235071ejpWhH','/forgotPassword/code/','email_reset','port','True','nodemailer','Router','floor','<hr\x20class=\x22my-3\x22>','<strong>\x20Regards\x20</strong>','isUsed','4209080dhFHsW','/../public','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<!DOCTYPE\x20html>','length','3123hKqQHM','email_code','site_title','/forgotPassword/code','</head><body>','flash','host','971424ILMrWe','Error\x20Occurs','/code_password/','/code/','body','</div>','<div>','email','logo','35cjoTta','<p>Hello\x20','4568GwfEtu','get','bcryptjs','post','password','/view','json','Password\x20Reset\x20-\x20','653RButld','findOne','redirect','/forgotPassword/view','save','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','image','code','render','hash',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','createTransport'];a0_0x35ba=function(){return _0x4e5e0d;};return a0_0x35ba();}