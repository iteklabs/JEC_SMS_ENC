const a0_0x1a1ebd=a0_0x5334;(function(_0x3bc730,_0x112fd9){const _0x32ff87=a0_0x5334,_0x3721c7=_0x3bc730();while(!![]){try{const _0xc980dc=parseInt(_0x32ff87(0xe7))/0x1+parseInt(_0x32ff87(0x114))/0x2*(parseInt(_0x32ff87(0x113))/0x3)+-parseInt(_0x32ff87(0x10e))/0x4*(parseInt(_0x32ff87(0x100))/0x5)+-parseInt(_0x32ff87(0xe8))/0x6+parseInt(_0x32ff87(0x122))/0x7*(parseInt(_0x32ff87(0x10b))/0x8)+parseInt(_0x32ff87(0x125))/0x9+parseInt(_0x32ff87(0x10a))/0xa*(-parseInt(_0x32ff87(0x111))/0xb);if(_0xc980dc===_0x112fd9)break;else _0x3721c7['push'](_0x3721c7['shift']());}catch(_0x582781){_0x3721c7['push'](_0x3721c7['shift']());}}}(a0_0x3e19,0x4ed83));const express=require('express'),app=express(),router=express[a0_0x1a1ebd(0xef)](),bcrypt=require(a0_0x1a1ebd(0xe6)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x1a1ebd(0x11b)),auth=require(a0_0x1a1ebd(0xf7)),nodemailer=require(a0_0x1a1ebd(0x118));router[a0_0x1a1ebd(0x119)](a0_0x1a1ebd(0x10c),async(_0x499402,_0x42c358)=>{const _0x58a27a=a0_0x1a1ebd,_0x41eae7=await master_shop[_0x58a27a(0x115)]();_0x42c358[_0x58a27a(0x105)](_0x58a27a(0xfb),{'success':_0x499402[_0x58a27a(0xec)](_0x58a27a(0xfd)),'errors':_0x499402[_0x58a27a(0xec)]('errors'),'master_shop':_0x41eae7});});function a0_0x3e19(){const _0x4d12b2=['length','<strong>\x20Regards\x20</strong>','nodemailer','get','/forgotPassword/view','../models/all_models','</b></h1></p>','<!DOCTYPE\x20html>','json','redirect','/forgotPassword/code','True','3241SRHtYF','Email\x20sent\x20successfully','port','4180914UKDATF','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<div>','/../public','random','image','email','password','Password\x20Reset\x20-\x20','/code_password/','errors','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','sendMail','code','isUsed','site_title','bcryptjs','558554hCjNWy','1282770shwQFu','<h5>','</head><body>','/code/','flash','/forgotPassword/code/','email_code','Router','exports','hash','False',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','log','</div>','<hr\x20class=\x22my-3\x22>','../middleware/auth','Error\x20Occurs','save','post','email_reset','</h5>','success','host','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','5KlEMGY','logo','/login/','<p>Hello\x20','body','render','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','Password\x20Successfuly\x20Reset\x20-\x20','createTransport','name','810QtKXXe','6760Wrqkrz','/view','</body></html>','1045300PVhpaC','error','findOne','110099ffvaau','Logo.png','583383pBHKGt','2mkszXE','find'];a0_0x3e19=function(){return _0x4d12b2;};return a0_0x3e19();}function generateRandomAlphanumericString(_0x491cea=0x6){const _0x50d47d=a0_0x1a1ebd,_0x416f65=_0x50d47d(0x106);let _0x320369='';for(let _0xfd4a40=0x0;_0xfd4a40<_0x491cea;_0xfd4a40++){const _0x4e6c09=Math['floor'](Math[_0x50d47d(0xda)]()*_0x416f65['length']);_0x320369+=_0x416f65[_0x4e6c09];}return _0x320369;}function a0_0x5334(_0x4f8fb3,_0x4646b4){const _0x3e1995=a0_0x3e19();return a0_0x5334=function(_0x5334e0,_0x1768b9){_0x5334e0=_0x5334e0-0xd7;let _0x41ec17=_0x3e1995[_0x5334e0];return _0x41ec17;},a0_0x5334(_0x4f8fb3,_0x4646b4);}router[a0_0x1a1ebd(0xfa)](a0_0x1a1ebd(0x10c),async(_0x236961,_0x2d3959)=>{const _0x1072d0=a0_0x1a1ebd,{email:_0x4ae4a0}=_0x236961[_0x1072d0(0x104)],_0x39bfec=await sing_up['findOne']({'email':_0x4ae4a0});var _0xecc6f5=generateRandomAlphanumericString();const _0x3e6466=await bcrypt[_0x1072d0(0xf1)](_0xecc6f5,0xa);if(_0x39bfec){_0x39bfec[_0x1072d0(0xe3)]=_0xecc6f5,_0x39bfec[_0x1072d0(0xe4)]=_0x1072d0(0xf2);const _0x2c4426=_0x39bfec[_0x1072d0(0xf9)](),_0x193328=await master_shop[_0x1072d0(0x115)](),_0x1a3501=await email_settings[_0x1072d0(0x110)]();let _0x308276=nodemailer[_0x1072d0(0x108)]({'host':_0x1a3501[_0x1072d0(0xfe)],'port':Number(_0x1a3501[_0x1072d0(0x124)]),'secure':![],'auth':{'user':_0x1a3501[_0x1072d0(0xdc)],'pass':_0x1a3501[_0x1072d0(0xdd)]}}),_0x4e0ddc={'from':_0x1a3501[_0x1072d0(0xdc)],'to':_0x39bfec[_0x1072d0(0xdc)],'subject':_0x1072d0(0xde)+_0x193328[0x0][_0x1072d0(0xe5)],'attachments':[{'filename':_0x1072d0(0x112),'path':__dirname+_0x1072d0(0xd9)+'/upload/'+_0x193328[0x0][_0x1072d0(0xdb)],'cid':_0x1072d0(0x101)}],'html':_0x1072d0(0x11d)+'<html><head><title></title>'+_0x1072d0(0xea)+_0x1072d0(0xd8)+_0x1072d0(0xff)+_0x1072d0(0xd8)+_0x1072d0(0xd7)+_0x1072d0(0xf5)+_0x1072d0(0xf5)+_0x1072d0(0xd8)+_0x1072d0(0xe1)+_0xecc6f5+_0x1072d0(0x11c)+_0x1072d0(0xf5)+_0x1072d0(0xf6)+_0x1072d0(0xd8)+_0x1072d0(0x117)+_0x1072d0(0xe9)+_0x193328[0x0][_0x1072d0(0xe5)]+_0x1072d0(0xfc)+_0x1072d0(0xf5)+_0x1072d0(0xf5)+'</body></html>'};_0x308276[_0x1072d0(0xe2)](_0x4e0ddc,function(_0x3eec90,_0x3856cc){const _0x17f68b=_0x1072d0;_0x3eec90?(console[_0x17f68b(0xf4)](_0x3eec90),console[_0x17f68b(0xf4)]('Error\x20Occurs')):console[_0x17f68b(0xf4)](_0x17f68b(0x123));}),_0x2d3959[_0x1072d0(0x11f)](_0x1072d0(0xed));}else _0x236961['flash'](_0x1072d0(0x10f),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x2d3959[_0x1072d0(0x11f)](_0x1072d0(0x11a));}),router['get']('/code/',async(_0x405bf6,_0x553513)=>{const _0x2f4046=a0_0x1a1ebd,_0x1fc36c=await master_shop[_0x2f4046(0x115)]();_0x553513[_0x2f4046(0x105)](_0x2f4046(0xee),{'success':_0x405bf6[_0x2f4046(0xec)]('success'),'errors':_0x405bf6['flash'](_0x2f4046(0xe0)),'master_shop':_0x1fc36c});}),router[a0_0x1a1ebd(0xfa)](a0_0x1a1ebd(0xeb),async(_0x5c5ca3,_0x5a0a1b)=>{const _0x1d988f=a0_0x1a1ebd,{code:_0x36a9c5}=_0x5c5ca3['body'],_0x4e2665=await sing_up[_0x1d988f(0x115)]({'code':_0x36a9c5});console['log'](_0x4e2665[_0x1d988f(0x116)]),_0x5a0a1b[_0x1d988f(0x11e)](_0x4e2665);}),router[a0_0x1a1ebd(0xfa)](a0_0x1a1ebd(0xdf),async(_0x4f4cfc,_0xca78ce)=>{const _0x3bbcc9=a0_0x1a1ebd,{codex:_0x18747a,password:_0x18e000,cpassword:_0x411699,email:_0x1eed32}=_0x4f4cfc[_0x3bbcc9(0x104)],_0x103984=await sing_up[_0x3bbcc9(0x110)]({'code':_0x18747a,'email':_0x1eed32,'isUsed':_0x3bbcc9(0xf2)}),_0x19aecc=await bcrypt[_0x3bbcc9(0xf1)](_0x18e000,0xa);if(_0x103984){_0x103984[_0x3bbcc9(0xdd)]=_0x19aecc,_0x103984[_0x3bbcc9(0xe4)]=_0x3bbcc9(0x121);const _0x5e2dae=_0x103984[_0x3bbcc9(0xf9)](),_0x2e01c8=await master_shop[_0x3bbcc9(0x115)](),_0x37f9a1=await email_settings[_0x3bbcc9(0x110)]();let _0x1d3d98=nodemailer['createTransport']({'host':_0x37f9a1[_0x3bbcc9(0xfe)],'port':Number(_0x37f9a1[_0x3bbcc9(0x124)]),'secure':![],'auth':{'user':_0x37f9a1['email'],'pass':_0x37f9a1[_0x3bbcc9(0xdd)]}}),_0xe9970c={'from':_0x37f9a1['email'],'to':_0x103984[_0x3bbcc9(0xdc)],'subject':_0x3bbcc9(0x107)+_0x2e01c8[0x0][_0x3bbcc9(0xe5)],'attachments':[{'filename':_0x3bbcc9(0x112),'path':__dirname+'/../public'+'/upload/'+_0x2e01c8[0x0][_0x3bbcc9(0xdb)],'cid':_0x3bbcc9(0x101)}],'html':_0x3bbcc9(0x11d)+'<html><head><title></title>'+_0x3bbcc9(0xea)+_0x3bbcc9(0xd8)+_0x3bbcc9(0xff)+_0x3bbcc9(0xd8)+_0x3bbcc9(0xd7)+_0x3bbcc9(0xf5)+_0x3bbcc9(0xf5)+_0x3bbcc9(0xd8)+_0x3bbcc9(0x103)+_0x103984[_0x3bbcc9(0x109)]+_0x3bbcc9(0xf3)+_0x3bbcc9(0xf5)+_0x3bbcc9(0xf6)+'<div>'+_0x3bbcc9(0x117)+_0x3bbcc9(0xe9)+_0x2e01c8[0x0][_0x3bbcc9(0xe5)]+'</h5>'+'</div>'+'</div>'+_0x3bbcc9(0x10d)};_0x1d3d98[_0x3bbcc9(0xe2)](_0xe9970c,function(_0xb0e6b3,_0x19b668){const _0x345fb8=_0x3bbcc9;_0xb0e6b3?(console[_0x345fb8(0xf4)](_0xb0e6b3),console['log'](_0x345fb8(0xf8))):console[_0x345fb8(0xf4)](_0x345fb8(0x123));}),_0xca78ce[_0x3bbcc9(0x11f)](_0x3bbcc9(0x102));}else _0x4f4cfc[_0x3bbcc9(0xec)](_0x3bbcc9(0x10f),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0xca78ce[_0x3bbcc9(0x11f)](_0x3bbcc9(0x120));}),module[a0_0x1a1ebd(0xf0)]=router;