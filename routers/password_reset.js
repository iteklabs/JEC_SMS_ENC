function a0_0x403a(){const _0x25d82b=['<strong>\x20Regards\x20</strong>','/../public','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','random','<div>','Logo.png','image','site_title','port','66763VBvxuM','express','/upload/','/view','length','<hr\x20class=\x22my-3\x22>','host','537144opuQNS','2490BpKZci','/forgotPassword/view','<!DOCTYPE\x20html>','../models/all_models','<h5>','success','errors','email_code','email','../middleware/auth','/code/','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','body','post','686784AOaBRf','get','/forgotPassword/code/','</head><body>','isUsed','/code_password/','Router','</div>','Password\x20Reset\x20-\x20','flash','1465eFwJie','createTransport','469947bKchDz','password','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','Password\x20Successfuly\x20Reset\x20-\x20','bcryptjs','<html><head><title></title>','exports','</b></h1></p>','2716144zdlami','email_reset','logo','save','find','render','log','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','hash','sendMail','redirect','1129450qoJfpi','error','<p>Hello\x20','Email\x20sent\x20successfully','</body></html>','Error\x20Occurs','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','json','True','findOne'];a0_0x403a=function(){return _0x25d82b;};return a0_0x403a();}const a0_0x3a4924=a0_0x5cde;(function(_0x273a04,_0x459a55){const _0x255df3=a0_0x5cde,_0x4e6750=_0x273a04();while(!![]){try{const _0x3bd5e9=-parseInt(_0x255df3(0x15b))/0x1+parseInt(_0x255df3(0x162))/0x2+parseInt(_0x255df3(0x17d))/0x3+parseInt(_0x255df3(0x171))/0x4+-parseInt(_0x255df3(0x17b))/0x5*(-parseInt(_0x255df3(0x163))/0x6)+-parseInt(_0x255df3(0x148))/0x7+-parseInt(_0x255df3(0x13d))/0x8;if(_0x3bd5e9===_0x459a55)break;else _0x4e6750['push'](_0x4e6750['shift']());}catch(_0x50c86d){_0x4e6750['push'](_0x4e6750['shift']());}}}(a0_0x403a,0x24d61));const express=require(a0_0x3a4924(0x15c)),app=express(),router=express[a0_0x3a4924(0x177)](),bcrypt=require(a0_0x3a4924(0x181)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x3a4924(0x166)),auth=require(a0_0x3a4924(0x16c)),nodemailer=require('nodemailer');router[a0_0x3a4924(0x172)](a0_0x3a4924(0x15e),async(_0x5ee757,_0x4e13e3)=>{const _0x5dc4a0=a0_0x3a4924,_0x401d08=await master_shop['find']();_0x4e13e3[_0x5dc4a0(0x142)](_0x5dc4a0(0x13e),{'success':_0x5ee757['flash'](_0x5dc4a0(0x168)),'errors':_0x5ee757[_0x5dc4a0(0x17a)](_0x5dc4a0(0x169)),'master_shop':_0x401d08});});function a0_0x5cde(_0xdf78d,_0x3a081f){const _0x403a00=a0_0x403a();return a0_0x5cde=function(_0x5cdea3,_0x1abf30){_0x5cdea3=_0x5cdea3-0x13c;let _0xe027b8=_0x403a00[_0x5cdea3];return _0xe027b8;},a0_0x5cde(_0xdf78d,_0x3a081f);}function generateRandomAlphanumericString(_0x20dd3f=0x6){const _0x497f99=a0_0x3a4924,_0x37a0f9=_0x497f99(0x17f);let _0x335cf5='';for(let _0x1421d0=0x0;_0x1421d0<_0x20dd3f;_0x1421d0++){const _0xfdd6c3=Math['floor'](Math[_0x497f99(0x155)]()*_0x37a0f9['length']);_0x335cf5+=_0x37a0f9[_0xfdd6c3];}return _0x335cf5;}router[a0_0x3a4924(0x170)](a0_0x3a4924(0x15e),async(_0x1307ad,_0x16c97f)=>{const _0x4ae611=a0_0x3a4924,{email:_0x1b2ba5}=_0x1307ad[_0x4ae611(0x16f)],_0x480093=await sing_up['findOne']({'email':_0x1b2ba5});var _0x4e941d=generateRandomAlphanumericString();const _0x4cccf8=await bcrypt[_0x4ae611(0x145)](_0x4e941d,0xa);if(_0x480093){_0x480093['code']=_0x4e941d,_0x480093[_0x4ae611(0x175)]='False';const _0x51ead1=_0x480093['save'](),_0x2d33a4=await master_shop[_0x4ae611(0x141)](),_0x5c4a21=await email_settings['findOne']();let _0x3e9726=nodemailer[_0x4ae611(0x17c)]({'host':_0x5c4a21[_0x4ae611(0x161)],'port':Number(_0x5c4a21[_0x4ae611(0x15a)]),'secure':![],'auth':{'user':_0x5c4a21[_0x4ae611(0x16b)],'pass':_0x5c4a21[_0x4ae611(0x17e)]}}),_0x541bbd={'from':_0x5c4a21['email'],'to':_0x480093[_0x4ae611(0x16b)],'subject':_0x4ae611(0x179)+_0x2d33a4[0x0]['site_title'],'attachments':[{'filename':_0x4ae611(0x157),'path':__dirname+_0x4ae611(0x153)+_0x4ae611(0x15d)+_0x2d33a4[0x0]['image'],'cid':_0x4ae611(0x13f)}],'html':'<!DOCTYPE\x20html>'+_0x4ae611(0x182)+_0x4ae611(0x174)+'<div>'+_0x4ae611(0x14e)+'<div>'+_0x4ae611(0x16e)+_0x4ae611(0x178)+_0x4ae611(0x178)+_0x4ae611(0x156)+_0x4ae611(0x144)+_0x4e941d+_0x4ae611(0x13c)+_0x4ae611(0x178)+_0x4ae611(0x160)+_0x4ae611(0x156)+'<strong>\x20Regards\x20</strong>'+'<h5>'+_0x2d33a4[0x0][_0x4ae611(0x159)]+'</h5>'+_0x4ae611(0x178)+_0x4ae611(0x178)+_0x4ae611(0x14c)};_0x3e9726[_0x4ae611(0x146)](_0x541bbd,function(_0x5688ff,_0x754e95){const _0x4e100e=_0x4ae611;_0x5688ff?(console[_0x4e100e(0x143)](_0x5688ff),console[_0x4e100e(0x143)]('Error\x20Occurs')):console['log'](_0x4e100e(0x14b));}),_0x16c97f[_0x4ae611(0x147)](_0x4ae611(0x173));}else _0x1307ad[_0x4ae611(0x17a)](_0x4ae611(0x149),_0x4ae611(0x154)),_0x16c97f['redirect'](_0x4ae611(0x164));}),router[a0_0x3a4924(0x172)](a0_0x3a4924(0x16d),async(_0x11a8c0,_0xd7031c)=>{const _0x1afd3f=a0_0x3a4924,_0xb5ecf9=await master_shop['find']();_0xd7031c[_0x1afd3f(0x142)](_0x1afd3f(0x16a),{'success':_0x11a8c0[_0x1afd3f(0x17a)](_0x1afd3f(0x168)),'errors':_0x11a8c0[_0x1afd3f(0x17a)](_0x1afd3f(0x169)),'master_shop':_0xb5ecf9});}),router[a0_0x3a4924(0x170)](a0_0x3a4924(0x16d),async(_0xd03467,_0x2b56ff)=>{const _0x32a38c=a0_0x3a4924,{code:_0x27e2bb}=_0xd03467['body'],_0x52720b=await sing_up[_0x32a38c(0x141)]({'code':_0x27e2bb});console[_0x32a38c(0x143)](_0x52720b[_0x32a38c(0x15f)]),_0x2b56ff[_0x32a38c(0x14f)](_0x52720b);}),router[a0_0x3a4924(0x170)](a0_0x3a4924(0x176),async(_0x273e38,_0x411229)=>{const _0x10cdb4=a0_0x3a4924,{codex:_0xb1f98,password:_0x4b062d,cpassword:_0x14742e,email:_0x3922c6}=_0x273e38[_0x10cdb4(0x16f)],_0x434667=await sing_up[_0x10cdb4(0x151)]({'code':_0xb1f98,'email':_0x3922c6,'isUsed':'False'}),_0x213901=await bcrypt[_0x10cdb4(0x145)](_0x4b062d,0xa);if(_0x434667){_0x434667[_0x10cdb4(0x17e)]=_0x213901,_0x434667[_0x10cdb4(0x175)]=_0x10cdb4(0x150);const _0x5d94c6=_0x434667[_0x10cdb4(0x140)](),_0x3442cc=await master_shop[_0x10cdb4(0x141)](),_0x4486bc=await email_settings[_0x10cdb4(0x151)]();let _0x55f66c=nodemailer[_0x10cdb4(0x17c)]({'host':_0x4486bc[_0x10cdb4(0x161)],'port':Number(_0x4486bc[_0x10cdb4(0x15a)]),'secure':![],'auth':{'user':_0x4486bc[_0x10cdb4(0x16b)],'pass':_0x4486bc[_0x10cdb4(0x17e)]}}),_0x54ec58={'from':_0x4486bc[_0x10cdb4(0x16b)],'to':_0x434667[_0x10cdb4(0x16b)],'subject':_0x10cdb4(0x180)+_0x3442cc[0x0][_0x10cdb4(0x159)],'attachments':[{'filename':_0x10cdb4(0x157),'path':__dirname+_0x10cdb4(0x153)+'/upload/'+_0x3442cc[0x0][_0x10cdb4(0x158)],'cid':_0x10cdb4(0x13f)}],'html':_0x10cdb4(0x165)+_0x10cdb4(0x182)+_0x10cdb4(0x174)+_0x10cdb4(0x156)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x10cdb4(0x156)+_0x10cdb4(0x16e)+_0x10cdb4(0x178)+_0x10cdb4(0x178)+'<div>'+_0x10cdb4(0x14a)+_0x434667['name']+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x10cdb4(0x178)+_0x10cdb4(0x160)+'<div>'+_0x10cdb4(0x152)+_0x10cdb4(0x167)+_0x3442cc[0x0][_0x10cdb4(0x159)]+'</h5>'+_0x10cdb4(0x178)+_0x10cdb4(0x178)+_0x10cdb4(0x14c)};_0x55f66c[_0x10cdb4(0x146)](_0x54ec58,function(_0x5131c6,_0x4dc1a4){const _0x598a6a=_0x10cdb4;_0x5131c6?(console[_0x598a6a(0x143)](_0x5131c6),console[_0x598a6a(0x143)](_0x598a6a(0x14d))):console['log']('Email\x20sent\x20successfully');}),_0x411229[_0x10cdb4(0x147)]('/login/');}else _0x273e38[_0x10cdb4(0x17a)](_0x10cdb4(0x149),_0x10cdb4(0x154)),_0x411229['redirect']('/forgotPassword/code');}),module[a0_0x3a4924(0x183)]=router;