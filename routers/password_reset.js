const a0_0x4f12e1=a0_0x1479;function a0_0x1479(_0x522bad,_0x3dbf3b){const _0x3e78bc=a0_0x3e78();return a0_0x1479=function(_0x14792e,_0x5d8ab2){_0x14792e=_0x14792e-0x1de;let _0x5342eb=_0x3e78bc[_0x14792e];return _0x5342eb;},a0_0x1479(_0x522bad,_0x3dbf3b);}(function(_0x5520e2,_0xf71ff4){const _0x449e22=a0_0x1479,_0x32d738=_0x5520e2();while(!![]){try{const _0x54b4c7=parseInt(_0x449e22(0x1f4))/0x1*(-parseInt(_0x449e22(0x20e))/0x2)+parseInt(_0x449e22(0x20d))/0x3*(parseInt(_0x449e22(0x214))/0x4)+-parseInt(_0x449e22(0x222))/0x5+-parseInt(_0x449e22(0x215))/0x6+-parseInt(_0x449e22(0x1ec))/0x7*(-parseInt(_0x449e22(0x229))/0x8)+parseInt(_0x449e22(0x213))/0x9*(parseInt(_0x449e22(0x211))/0xa)+parseInt(_0x449e22(0x200))/0xb*(parseInt(_0x449e22(0x228))/0xc);if(_0x54b4c7===_0xf71ff4)break;else _0x32d738['push'](_0x32d738['shift']());}catch(_0x2b7ec0){_0x32d738['push'](_0x32d738['shift']());}}}(a0_0x3e78,0xa0e21));const express=require('express'),app=express(),router=express[a0_0x4f12e1(0x1ed)](),bcrypt=require(a0_0x4f12e1(0x218)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x4f12e1(0x1de)),auth=require('../middleware/auth'),nodemailer=require(a0_0x4f12e1(0x204));function a0_0x3e78(){const _0x604af7=['email','hash','save','3603gOkrKS','2OsINhK','/forgotPassword/view','sendMail','522490JQbCvT','findOne','9xysCjE','712nXvipT','688308wXvTXL','length','body','bcryptjs','True','flash','</head><body>','/view','email_code','<hr\x20class=\x22my-3\x22>','Logo.png','/login/','createTransport','6493400IzGNtB','password','json','exports','log','<!DOCTYPE\x20html>','1164hQiFkD','14120SDDQlS','port','/code_password/','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','../models/all_models','/upload/','/forgotPassword/code/','Password\x20Reset\x20-\x20','Error\x20Occurs','find','/code/','</body></html>','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','name','logo','False','error','Email\x20sent\x20successfully','1869hdBnEM','Router','site_title','post','</div>','redirect',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','render','142217oVEjnn','</h5>','random','success','isUsed','Password\x20Successfuly\x20Reset\x20-\x20','/../public','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','errors','<html><head><title></title>','host','get','167530SKwgwL','email_reset','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<h5>','nodemailer','<strong>\x20Regards\x20</strong>','image','<div>','</b></h1></p>','/forgotPassword/code'];a0_0x3e78=function(){return _0x604af7;};return a0_0x3e78();}router[a0_0x4f12e1(0x1ff)]('/view',async(_0x49f040,_0x1c3778)=>{const _0x5643e4=a0_0x4f12e1,_0x354230=await master_shop['find']();_0x1c3778[_0x5643e4(0x1f3)](_0x5643e4(0x201),{'success':_0x49f040[_0x5643e4(0x21a)](_0x5643e4(0x1f7)),'errors':_0x49f040['flash'](_0x5643e4(0x1fc)),'master_shop':_0x354230});});function generateRandomAlphanumericString(_0x368545=0x6){const _0x2ba4a4=a0_0x4f12e1,_0x2c1e75=_0x2ba4a4(0x1e6);let _0x385ae6='';for(let _0x177542=0x0;_0x177542<_0x368545;_0x177542++){const _0x47dd50=Math['floor'](Math[_0x2ba4a4(0x1f6)]()*_0x2c1e75[_0x2ba4a4(0x216)]);_0x385ae6+=_0x2c1e75[_0x47dd50];}return _0x385ae6;}router[a0_0x4f12e1(0x1ef)](a0_0x4f12e1(0x21c),async(_0x3cab80,_0x495bcc)=>{const _0x57044a=a0_0x4f12e1,{email:_0x11c981}=_0x3cab80[_0x57044a(0x217)],_0x39b905=await sing_up[_0x57044a(0x212)]({'email':_0x11c981});var _0x34375f=generateRandomAlphanumericString();const _0x59ad6d=await bcrypt[_0x57044a(0x20b)](_0x34375f,0xa);if(_0x39b905){_0x39b905['code']=_0x34375f,_0x39b905[_0x57044a(0x1f8)]=_0x57044a(0x1e9);const _0x417e1f=_0x39b905[_0x57044a(0x20c)](),_0xfdc966=await master_shop[_0x57044a(0x1e3)](),_0x1a1c53=await email_settings['findOne']();let _0x2509ed=nodemailer[_0x57044a(0x221)]({'host':_0x1a1c53[_0x57044a(0x1fe)],'port':Number(_0x1a1c53['port']),'secure':![],'auth':{'user':_0x1a1c53['email'],'pass':_0x1a1c53['password']}}),_0x2e5584={'from':_0x1a1c53[_0x57044a(0x20a)],'to':_0x39b905[_0x57044a(0x20a)],'subject':_0x57044a(0x1e1)+_0xfdc966[0x0][_0x57044a(0x1ee)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x57044a(0x1fa)+'/upload/'+_0xfdc966[0x0][_0x57044a(0x206)],'cid':_0x57044a(0x1e8)}],'html':_0x57044a(0x227)+_0x57044a(0x1fd)+_0x57044a(0x21b)+'<div>'+_0x57044a(0x1fb)+_0x57044a(0x207)+_0x57044a(0x22c)+_0x57044a(0x1f0)+_0x57044a(0x1f0)+_0x57044a(0x207)+_0x57044a(0x202)+_0x34375f+_0x57044a(0x208)+_0x57044a(0x1f0)+'<hr\x20class=\x22my-3\x22>'+_0x57044a(0x207)+_0x57044a(0x205)+_0x57044a(0x203)+_0xfdc966[0x0][_0x57044a(0x1ee)]+_0x57044a(0x1f5)+'</div>'+_0x57044a(0x1f0)+_0x57044a(0x1e5)};_0x2509ed[_0x57044a(0x210)](_0x2e5584,function(_0x51d4bf,_0x5b39b0){const _0x1a4826=_0x57044a;_0x51d4bf?(console['log'](_0x51d4bf),console[_0x1a4826(0x226)](_0x1a4826(0x1e2))):console['log'](_0x1a4826(0x1eb));}),_0x495bcc['redirect'](_0x57044a(0x1e0));}else _0x3cab80[_0x57044a(0x21a)]('error',_0x57044a(0x22d)),_0x495bcc['redirect'](_0x57044a(0x20f));}),router[a0_0x4f12e1(0x1ff)](a0_0x4f12e1(0x1e4),async(_0x103b3e,_0x311d55)=>{const _0x491e41=a0_0x4f12e1,_0x35f75c=await master_shop[_0x491e41(0x1e3)]();_0x311d55[_0x491e41(0x1f3)](_0x491e41(0x21d),{'success':_0x103b3e['flash']('success'),'errors':_0x103b3e[_0x491e41(0x21a)]('errors'),'master_shop':_0x35f75c});}),router['post'](a0_0x4f12e1(0x1e4),async(_0xbf9779,_0x1d0919)=>{const _0x7184c9=a0_0x4f12e1,{code:_0x37617f}=_0xbf9779[_0x7184c9(0x217)],_0x49dd41=await sing_up[_0x7184c9(0x1e3)]({'code':_0x37617f});console['log'](_0x49dd41[_0x7184c9(0x216)]),_0x1d0919[_0x7184c9(0x224)](_0x49dd41);}),router[a0_0x4f12e1(0x1ef)](a0_0x4f12e1(0x22b),async(_0x1bccf6,_0x445b33)=>{const _0x63d289=a0_0x4f12e1,{codex:_0xa3298,password:_0xd2aa63,cpassword:_0x26d7d1,email:_0x4056c5}=_0x1bccf6[_0x63d289(0x217)],_0x17e05b=await sing_up[_0x63d289(0x212)]({'code':_0xa3298,'email':_0x4056c5,'isUsed':'False'}),_0x5d38c4=await bcrypt['hash'](_0xd2aa63,0xa);if(_0x17e05b){_0x17e05b[_0x63d289(0x223)]=_0x5d38c4,_0x17e05b[_0x63d289(0x1f8)]=_0x63d289(0x219);const _0xba00db=_0x17e05b[_0x63d289(0x20c)](),_0x2d4224=await master_shop['find'](),_0x39e98d=await email_settings[_0x63d289(0x212)]();let _0x11b542=nodemailer[_0x63d289(0x221)]({'host':_0x39e98d[_0x63d289(0x1fe)],'port':Number(_0x39e98d[_0x63d289(0x22a)]),'secure':![],'auth':{'user':_0x39e98d['email'],'pass':_0x39e98d['password']}}),_0x2e763f={'from':_0x39e98d[_0x63d289(0x20a)],'to':_0x17e05b[_0x63d289(0x20a)],'subject':_0x63d289(0x1f9)+_0x2d4224[0x0][_0x63d289(0x1ee)],'attachments':[{'filename':_0x63d289(0x21f),'path':__dirname+_0x63d289(0x1fa)+_0x63d289(0x1df)+_0x2d4224[0x0][_0x63d289(0x206)],'cid':'logo'}],'html':'<!DOCTYPE\x20html>'+_0x63d289(0x1fd)+'</head><body>'+_0x63d289(0x207)+_0x63d289(0x1fb)+'<div>'+_0x63d289(0x22c)+_0x63d289(0x1f0)+_0x63d289(0x1f0)+_0x63d289(0x207)+'<p>Hello\x20'+_0x17e05b[_0x63d289(0x1e7)]+_0x63d289(0x1f2)+_0x63d289(0x1f0)+_0x63d289(0x21e)+_0x63d289(0x207)+_0x63d289(0x205)+_0x63d289(0x203)+_0x2d4224[0x0][_0x63d289(0x1ee)]+_0x63d289(0x1f5)+_0x63d289(0x1f0)+_0x63d289(0x1f0)+_0x63d289(0x1e5)};_0x11b542[_0x63d289(0x210)](_0x2e763f,function(_0x20a92f,_0x102f78){const _0x3a3167=_0x63d289;_0x20a92f?(console[_0x3a3167(0x226)](_0x20a92f),console[_0x3a3167(0x226)](_0x3a3167(0x1e2))):console[_0x3a3167(0x226)](_0x3a3167(0x1eb));}),_0x445b33[_0x63d289(0x1f1)](_0x63d289(0x220));}else _0x1bccf6[_0x63d289(0x21a)](_0x63d289(0x1ea),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x445b33[_0x63d289(0x1f1)](_0x63d289(0x209));}),module[a0_0x4f12e1(0x225)]=router;