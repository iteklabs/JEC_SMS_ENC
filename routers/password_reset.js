function a0_0x3458(_0x597919,_0x291139){const _0x298314=a0_0x2983();return a0_0x3458=function(_0x345881,_0x171587){_0x345881=_0x345881-0x120;let _0x37a7e2=_0x298314[_0x345881];return _0x37a7e2;},a0_0x3458(_0x597919,_0x291139);}const a0_0x9f8bad=a0_0x3458;(function(_0x461398,_0x38adef){const _0x52477a=a0_0x3458,_0x66e611=_0x461398();while(!![]){try{const _0x32fd9d=parseInt(_0x52477a(0x126))/0x1*(parseInt(_0x52477a(0x155))/0x2)+-parseInt(_0x52477a(0x12a))/0x3+parseInt(_0x52477a(0x146))/0x4*(-parseInt(_0x52477a(0x14c))/0x5)+parseInt(_0x52477a(0x128))/0x6+-parseInt(_0x52477a(0x159))/0x7+-parseInt(_0x52477a(0x160))/0x8*(parseInt(_0x52477a(0x154))/0x9)+parseInt(_0x52477a(0x12d))/0xa;if(_0x32fd9d===_0x38adef)break;else _0x66e611['push'](_0x66e611['shift']());}catch(_0x2c9f98){_0x66e611['push'](_0x66e611['shift']());}}}(a0_0x2983,0x41baa));const express=require(a0_0x9f8bad(0x133)),app=express(),router=express['Router'](),bcrypt=require(a0_0x9f8bad(0x121)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x9f8bad(0x162)),auth=require('../middleware/auth'),nodemailer=require(a0_0x9f8bad(0x165));router[a0_0x9f8bad(0x14d)](a0_0x9f8bad(0x147),async(_0x21211a,_0x488c2e)=>{const _0x3c5412=a0_0x9f8bad,_0x2d47af=await master_shop[_0x3c5412(0x132)]();_0x488c2e['render']('email_reset',{'success':_0x21211a[_0x3c5412(0x151)]('success'),'errors':_0x21211a[_0x3c5412(0x151)](_0x3c5412(0x127)),'master_shop':_0x2d47af});});function a0_0x2983(){const _0x3e27eb=['bcryptjs','findOne','<html><head><title></title>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','success','1mSMIfF','errors','901668WEkuoZ','site_title','1043532LEqxco','port','/login/','8395230mnNdEj','code','exports','/forgotPassword/code/','length','find','express','email_code','createTransport','Password\x20Reset\x20-\x20','</div>','<h5>','/code_password/','Error\x20Occurs','image','/../public','post','<!DOCTYPE\x20html>','</body></html>','save','/forgotPassword/code','/code/','Email\x20sent\x20successfully','logo','hash','8eZZgIk','/view',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','<p>Hello\x20','</b></h1></p>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','240280VQLCgm','get','host','password','</h5>','flash','<div>','json','918ndzPzl','799768GFhLoO','sendMail','isUsed','body','2882691BMCuRk','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','False','redirect','</head><body>','True','render','20760oKZyty','Password\x20Successfuly\x20Reset\x20-\x20','../models/all_models','email','log','nodemailer','Logo.png','<hr\x20class=\x22my-3\x22>','<strong>\x20Regards\x20</strong>','floor'];a0_0x2983=function(){return _0x3e27eb;};return a0_0x2983();}function generateRandomAlphanumericString(_0x4bfdb4=0x6){const _0x10b7bc=a0_0x9f8bad,_0xcb4b58='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x31d597='';for(let _0x31ee95=0x0;_0x31ee95<_0x4bfdb4;_0x31ee95++){const _0x1cbc1d=Math[_0x10b7bc(0x120)](Math['random']()*_0xcb4b58[_0x10b7bc(0x131)]);_0x31d597+=_0xcb4b58[_0x1cbc1d];}return _0x31d597;}router[a0_0x9f8bad(0x13d)](a0_0x9f8bad(0x147),async(_0x24e7b1,_0x3774c7)=>{const _0x134d0b=a0_0x9f8bad,{email:_0x5e422f}=_0x24e7b1[_0x134d0b(0x158)],_0x1cd81f=await sing_up['findOne']({'email':_0x5e422f});var _0x598957=generateRandomAlphanumericString();const _0x13b558=await bcrypt['hash'](_0x598957,0xa);if(_0x1cd81f){_0x1cd81f[_0x134d0b(0x12e)]=_0x598957,_0x1cd81f[_0x134d0b(0x157)]='False';const _0x963fdc=_0x1cd81f['save'](),_0x843029=await master_shop[_0x134d0b(0x132)](),_0x19fb36=await email_settings[_0x134d0b(0x122)]();let _0x21f7ce=nodemailer[_0x134d0b(0x135)]({'host':_0x19fb36[_0x134d0b(0x14e)],'port':Number(_0x19fb36[_0x134d0b(0x12b)]),'secure':![],'auth':{'user':_0x19fb36[_0x134d0b(0x163)],'pass':_0x19fb36[_0x134d0b(0x14f)]}}),_0x5b3639={'from':_0x19fb36[_0x134d0b(0x163)],'to':_0x1cd81f['email'],'subject':_0x134d0b(0x136)+_0x843029[0x0][_0x134d0b(0x129)],'attachments':[{'filename':_0x134d0b(0x166),'path':__dirname+_0x134d0b(0x13c)+'/upload/'+_0x843029[0x0][_0x134d0b(0x13b)],'cid':'logo'}],'html':_0x134d0b(0x13e)+'<html><head><title></title>'+'</head><body>'+_0x134d0b(0x152)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x134d0b(0x152)+_0x134d0b(0x14b)+_0x134d0b(0x137)+_0x134d0b(0x137)+_0x134d0b(0x152)+_0x134d0b(0x124)+_0x598957+_0x134d0b(0x14a)+_0x134d0b(0x137)+_0x134d0b(0x167)+_0x134d0b(0x152)+_0x134d0b(0x168)+_0x134d0b(0x138)+_0x843029[0x0][_0x134d0b(0x129)]+'</h5>'+_0x134d0b(0x137)+_0x134d0b(0x137)+_0x134d0b(0x13f)};_0x21f7ce[_0x134d0b(0x156)](_0x5b3639,function(_0x31da77,_0x4d1d86){const _0x3e22ad=_0x134d0b;_0x31da77?(console[_0x3e22ad(0x164)](_0x31da77),console[_0x3e22ad(0x164)](_0x3e22ad(0x13a))):console[_0x3e22ad(0x164)](_0x3e22ad(0x143));}),_0x3774c7[_0x134d0b(0x15c)](_0x134d0b(0x130));}else _0x24e7b1[_0x134d0b(0x151)]('error',_0x134d0b(0x15a)),_0x3774c7[_0x134d0b(0x15c)]('/forgotPassword/view');}),router[a0_0x9f8bad(0x14d)](a0_0x9f8bad(0x142),async(_0x2456fc,_0xe69052)=>{const _0x3af6d2=a0_0x9f8bad,_0x5b75fa=await master_shop[_0x3af6d2(0x132)]();_0xe69052[_0x3af6d2(0x15f)](_0x3af6d2(0x134),{'success':_0x2456fc[_0x3af6d2(0x151)](_0x3af6d2(0x125)),'errors':_0x2456fc[_0x3af6d2(0x151)]('errors'),'master_shop':_0x5b75fa});}),router['post'](a0_0x9f8bad(0x142),async(_0x36067c,_0x979b18)=>{const _0x2ead78=a0_0x9f8bad,{code:_0x345b8c}=_0x36067c['body'],_0x1000cd=await sing_up[_0x2ead78(0x132)]({'code':_0x345b8c});console[_0x2ead78(0x164)](_0x1000cd['length']),_0x979b18[_0x2ead78(0x153)](_0x1000cd);}),router[a0_0x9f8bad(0x13d)](a0_0x9f8bad(0x139),async(_0x78e02a,_0x5e2304)=>{const _0x570935=a0_0x9f8bad,{codex:_0x45fa0e,password:_0x159ffd,cpassword:_0x3416f4,email:_0x359391}=_0x78e02a[_0x570935(0x158)],_0x56dd5f=await sing_up[_0x570935(0x122)]({'code':_0x45fa0e,'email':_0x359391,'isUsed':_0x570935(0x15b)}),_0x4ad69c=await bcrypt[_0x570935(0x145)](_0x159ffd,0xa);if(_0x56dd5f){_0x56dd5f[_0x570935(0x14f)]=_0x4ad69c,_0x56dd5f['isUsed']=_0x570935(0x15e);const _0x53e177=_0x56dd5f[_0x570935(0x140)](),_0x44d762=await master_shop[_0x570935(0x132)](),_0x43396c=await email_settings[_0x570935(0x122)]();let _0x5e35cd=nodemailer[_0x570935(0x135)]({'host':_0x43396c['host'],'port':Number(_0x43396c[_0x570935(0x12b)]),'secure':![],'auth':{'user':_0x43396c[_0x570935(0x163)],'pass':_0x43396c[_0x570935(0x14f)]}}),_0x1091f5={'from':_0x43396c[_0x570935(0x163)],'to':_0x56dd5f['email'],'subject':_0x570935(0x161)+_0x44d762[0x0][_0x570935(0x129)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x570935(0x13c)+'/upload/'+_0x44d762[0x0][_0x570935(0x13b)],'cid':_0x570935(0x144)}],'html':_0x570935(0x13e)+_0x570935(0x123)+_0x570935(0x15d)+_0x570935(0x152)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x570935(0x152)+_0x570935(0x14b)+_0x570935(0x137)+_0x570935(0x137)+_0x570935(0x152)+_0x570935(0x149)+_0x56dd5f['name']+_0x570935(0x148)+_0x570935(0x137)+_0x570935(0x167)+_0x570935(0x152)+_0x570935(0x168)+_0x570935(0x138)+_0x44d762[0x0][_0x570935(0x129)]+_0x570935(0x150)+_0x570935(0x137)+_0x570935(0x137)+_0x570935(0x13f)};_0x5e35cd['sendMail'](_0x1091f5,function(_0x482cb1,_0x55fa62){const _0x21e67e=_0x570935;_0x482cb1?(console[_0x21e67e(0x164)](_0x482cb1),console[_0x21e67e(0x164)](_0x21e67e(0x13a))):console[_0x21e67e(0x164)](_0x21e67e(0x143));}),_0x5e2304[_0x570935(0x15c)](_0x570935(0x12c));}else _0x78e02a[_0x570935(0x151)]('error',_0x570935(0x15a)),_0x5e2304[_0x570935(0x15c)](_0x570935(0x141));}),module[a0_0x9f8bad(0x12f)]=router;