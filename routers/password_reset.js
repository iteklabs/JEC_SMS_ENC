const a0_0x17c1ad=a0_0x1106;(function(_0x45eec0,_0x2ac002){const _0x267f63=a0_0x1106,_0x491413=_0x45eec0();while(!![]){try{const _0x5c1f2b=-parseInt(_0x267f63(0xc8))/0x1+parseInt(_0x267f63(0xcc))/0x2*(parseInt(_0x267f63(0xae))/0x3)+parseInt(_0x267f63(0xd4))/0x4+parseInt(_0x267f63(0xb7))/0x5+parseInt(_0x267f63(0xa9))/0x6+parseInt(_0x267f63(0xaa))/0x7*(parseInt(_0x267f63(0xd0))/0x8)+parseInt(_0x267f63(0xba))/0x9*(-parseInt(_0x267f63(0xca))/0xa);if(_0x5c1f2b===_0x2ac002)break;else _0x491413['push'](_0x491413['shift']());}catch(_0x33e5ef){_0x491413['push'](_0x491413['shift']());}}}(a0_0x1a93,0x438f7));function a0_0x1106(_0x46eb46,_0x350c0c){const _0x1a939b=a0_0x1a93();return a0_0x1106=function(_0x1106e9,_0x46f28c){_0x1106e9=_0x1106e9-0x90;let _0x45cea1=_0x1a939b[_0x1106e9];return _0x45cea1;},a0_0x1106(_0x46eb46,_0x350c0c);}const express=require(a0_0x17c1ad(0x99)),app=express(),router=express[a0_0x17c1ad(0x9a)](),bcrypt=require(a0_0x17c1ad(0xc1)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x17c1ad(0xa7)),auth=require(a0_0x17c1ad(0xcd)),nodemailer=require(a0_0x17c1ad(0xa4));function a0_0x1a93(){const _0xe8e298=['10NTgkHe','isUsed','238214vqnYHF','../middleware/auth','email','redirect','18400XLUeBs','/upload/','</body></html>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','1943364IpblnW','/../public','name','logo','/code_password/','port','error','site_title','get','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/view','json','random','Email\x20sent\x20successfully','flash','post','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','express','Router','success','body','findOne','Error\x20Occurs','Logo.png','False','<strong>\x20Regards\x20</strong>','/forgotPassword/code','code','nodemailer','render','createTransport','../models/all_models','floor','298848TpJzve','1442CMNLwO','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','</div>','/code/','9iFvoNY','<p>Hello\x20','True',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','password','<h5>','image','host','</h5>','2432780obsQLJ','</head><body>','sendMail','9991962EmUgJx','Password\x20Successfuly\x20Reset\x20-\x20','/forgotPassword/view','<!DOCTYPE\x20html>','<html><head><title></title>','log','errors','bcryptjs','<div>','/login/','exports','/forgotPassword/code/','length','save','466381PsEfHv','find'];a0_0x1a93=function(){return _0xe8e298;};return a0_0x1a93();}router[a0_0x17c1ad(0xdc)](a0_0x17c1ad(0x91),async(_0x1a0aec,_0x642e9)=>{const _0x61386e=a0_0x17c1ad,_0x4d1298=await master_shop[_0x61386e(0xc9)]();_0x642e9['render']('email_reset',{'success':_0x1a0aec[_0x61386e(0x95)](_0x61386e(0x9b)),'errors':_0x1a0aec[_0x61386e(0x95)]('errors'),'master_shop':_0x4d1298});});function generateRandomAlphanumericString(_0x4cfbbc=0x6){const _0x3d7440=a0_0x17c1ad,_0x1d025d=_0x3d7440(0x97);let _0x3f4a2a='';for(let _0x2fef9c=0x0;_0x2fef9c<_0x4cfbbc;_0x2fef9c++){const _0x5ce0ec=Math[_0x3d7440(0xa8)](Math[_0x3d7440(0x93)]()*_0x1d025d['length']);_0x3f4a2a+=_0x1d025d[_0x5ce0ec];}return _0x3f4a2a;}router[a0_0x17c1ad(0x96)](a0_0x17c1ad(0x91),async(_0x3216e8,_0x3324f2)=>{const _0x1330fd=a0_0x17c1ad,{email:_0x14ee64}=_0x3216e8['body'],_0xd0717a=await sing_up[_0x1330fd(0x9d)]({'email':_0x14ee64});var _0x182bd0=generateRandomAlphanumericString();const _0x237d4a=await bcrypt['hash'](_0x182bd0,0xa);if(_0xd0717a){_0xd0717a[_0x1330fd(0xa3)]=_0x182bd0,_0xd0717a[_0x1330fd(0xcb)]='False';const _0x45d48b=_0xd0717a[_0x1330fd(0xc7)](),_0x151337=await master_shop['find'](),_0x4f172c=await email_settings[_0x1330fd(0x9d)]();let _0xd2393f=nodemailer[_0x1330fd(0xa6)]({'host':_0x4f172c[_0x1330fd(0xb5)],'port':Number(_0x4f172c[_0x1330fd(0xd9)]),'secure':![],'auth':{'user':_0x4f172c[_0x1330fd(0xce)],'pass':_0x4f172c[_0x1330fd(0xb2)]}}),_0x58c316={'from':_0x4f172c[_0x1330fd(0xce)],'to':_0xd0717a[_0x1330fd(0xce)],'subject':'Password\x20Reset\x20-\x20'+_0x151337[0x0][_0x1330fd(0xdb)],'attachments':[{'filename':_0x1330fd(0x9f),'path':__dirname+_0x1330fd(0xd5)+_0x1330fd(0xd1)+_0x151337[0x0][_0x1330fd(0xb4)],'cid':_0x1330fd(0xd7)}],'html':_0x1330fd(0xbd)+_0x1330fd(0xbe)+_0x1330fd(0xb8)+_0x1330fd(0xc2)+_0x1330fd(0x90)+_0x1330fd(0xc2)+_0x1330fd(0xd3)+'</div>'+_0x1330fd(0xac)+_0x1330fd(0xc2)+_0x1330fd(0x98)+_0x182bd0+'</b></h1></p>'+_0x1330fd(0xac)+'<hr\x20class=\x22my-3\x22>'+_0x1330fd(0xc2)+_0x1330fd(0xa1)+_0x1330fd(0xb3)+_0x151337[0x0][_0x1330fd(0xdb)]+_0x1330fd(0xb6)+_0x1330fd(0xac)+_0x1330fd(0xac)+_0x1330fd(0xd2)};_0xd2393f[_0x1330fd(0xb9)](_0x58c316,function(_0x3ca25d,_0x2d6fda){const _0x4dbf93=_0x1330fd;_0x3ca25d?(console[_0x4dbf93(0xbf)](_0x3ca25d),console[_0x4dbf93(0xbf)](_0x4dbf93(0x9e))):console[_0x4dbf93(0xbf)](_0x4dbf93(0x94));}),_0x3324f2[_0x1330fd(0xcf)](_0x1330fd(0xc5));}else _0x3216e8[_0x1330fd(0x95)]('error',_0x1330fd(0xab)),_0x3324f2[_0x1330fd(0xcf)](_0x1330fd(0xbc));}),router[a0_0x17c1ad(0xdc)](a0_0x17c1ad(0xad),async(_0xa86d06,_0x7313e5)=>{const _0x1e9b8a=a0_0x17c1ad,_0x40e5ec=await master_shop[_0x1e9b8a(0xc9)]();_0x7313e5[_0x1e9b8a(0xa5)]('email_code',{'success':_0xa86d06[_0x1e9b8a(0x95)](_0x1e9b8a(0x9b)),'errors':_0xa86d06[_0x1e9b8a(0x95)](_0x1e9b8a(0xc0)),'master_shop':_0x40e5ec});}),router[a0_0x17c1ad(0x96)](a0_0x17c1ad(0xad),async(_0xe84dc3,_0x3d4806)=>{const _0x7a218b=a0_0x17c1ad,{code:_0x447e26}=_0xe84dc3[_0x7a218b(0x9c)],_0x3b9bc5=await sing_up[_0x7a218b(0xc9)]({'code':_0x447e26});console[_0x7a218b(0xbf)](_0x3b9bc5[_0x7a218b(0xc6)]),_0x3d4806[_0x7a218b(0x92)](_0x3b9bc5);}),router[a0_0x17c1ad(0x96)](a0_0x17c1ad(0xd8),async(_0x529a29,_0x29e5db)=>{const _0x464e7e=a0_0x17c1ad,{codex:_0x70a28c,password:_0x193824,cpassword:_0x3d2f1f,email:_0x3ed104}=_0x529a29[_0x464e7e(0x9c)],_0x3aebd0=await sing_up[_0x464e7e(0x9d)]({'code':_0x70a28c,'email':_0x3ed104,'isUsed':_0x464e7e(0xa0)}),_0x4fc9a0=await bcrypt['hash'](_0x193824,0xa);if(_0x3aebd0){_0x3aebd0[_0x464e7e(0xb2)]=_0x4fc9a0,_0x3aebd0[_0x464e7e(0xcb)]=_0x464e7e(0xb0);const _0x3d466d=_0x3aebd0[_0x464e7e(0xc7)](),_0x5de494=await master_shop['find'](),_0x2bd508=await email_settings[_0x464e7e(0x9d)]();let _0x1e566a=nodemailer[_0x464e7e(0xa6)]({'host':_0x2bd508['host'],'port':Number(_0x2bd508[_0x464e7e(0xd9)]),'secure':![],'auth':{'user':_0x2bd508['email'],'pass':_0x2bd508[_0x464e7e(0xb2)]}}),_0x17ba4d={'from':_0x2bd508[_0x464e7e(0xce)],'to':_0x3aebd0[_0x464e7e(0xce)],'subject':_0x464e7e(0xbb)+_0x5de494[0x0][_0x464e7e(0xdb)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x464e7e(0xd5)+_0x464e7e(0xd1)+_0x5de494[0x0]['image'],'cid':_0x464e7e(0xd7)}],'html':'<!DOCTYPE\x20html>'+_0x464e7e(0xbe)+_0x464e7e(0xb8)+_0x464e7e(0xc2)+_0x464e7e(0x90)+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x464e7e(0xac)+_0x464e7e(0xac)+'<div>'+_0x464e7e(0xaf)+_0x3aebd0[_0x464e7e(0xd6)]+_0x464e7e(0xb1)+'</div>'+'<hr\x20class=\x22my-3\x22>'+_0x464e7e(0xc2)+'<strong>\x20Regards\x20</strong>'+_0x464e7e(0xb3)+_0x5de494[0x0][_0x464e7e(0xdb)]+_0x464e7e(0xb6)+_0x464e7e(0xac)+'</div>'+_0x464e7e(0xd2)};_0x1e566a[_0x464e7e(0xb9)](_0x17ba4d,function(_0x5a13c1,_0x39fd40){const _0x2d7358=_0x464e7e;_0x5a13c1?(console[_0x2d7358(0xbf)](_0x5a13c1),console[_0x2d7358(0xbf)](_0x2d7358(0x9e))):console[_0x2d7358(0xbf)]('Email\x20sent\x20successfully');}),_0x29e5db[_0x464e7e(0xcf)](_0x464e7e(0xc3));}else _0x529a29[_0x464e7e(0x95)](_0x464e7e(0xda),_0x464e7e(0xab)),_0x29e5db[_0x464e7e(0xcf)](_0x464e7e(0xa2));}),module[a0_0x17c1ad(0xc4)]=router;