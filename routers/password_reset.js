function a0_0x1273(){const _0x305deb=['password','200uCmtzc','<div>','/view','<h5>','Password\x20Successfuly\x20Reset\x20-\x20','True','</div>','/forgotPassword/code','name','/../public','6HQSQOh','post','387710HsZpfz','<!DOCTYPE\x20html>','createTransport','findOne','Email\x20sent\x20successfully','/code_password/','site_title','email_reset','email','image','logo','<hr\x20class=\x22my-3\x22>','save','floor','2139886gePoRT','/forgotPassword/view','host','2037138TJIHeG','log','/login/','../middleware/auth','False','<strong>\x20Regards\x20</strong>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','find','<p>Hello\x20','code','success','30fsLieh','bcryptjs','flash','Error\x20Occurs','/forgotPassword/code/','Password\x20Reset\x20-\x20','25656iCpzaE','port','/code/','</h5>','hash','redirect','1565896YjiHih','body','</head><body>','errors','render','Logo.png','34497HOYztn','</body></html>','express','isUsed','11597810igKGKr',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','Router','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','nodemailer','../models/all_models','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<html><head><title></title>','/upload/'];a0_0x1273=function(){return _0x305deb;};return a0_0x1273();}const a0_0x552c98=a0_0x1e29;(function(_0x295483,_0xf476b6){const _0x19d7ab=a0_0x1e29,_0x4e1e80=_0x295483();while(!![]){try{const _0x7e41ba=parseInt(_0x19d7ab(0x18c))/0x1*(-parseInt(_0x19d7ab(0x186))/0x2)+parseInt(_0x19d7ab(0x168))/0x3*(-parseInt(_0x19d7ab(0x14a))/0x4)+-parseInt(_0x19d7ab(0x16a))/0x5+parseInt(_0x19d7ab(0x17b))/0x6+parseInt(_0x19d7ab(0x178))/0x7+-parseInt(_0x19d7ab(0x15e))/0x8*(parseInt(_0x19d7ab(0x150))/0x9)+parseInt(_0x19d7ab(0x154))/0xa;if(_0x7e41ba===_0xf476b6)break;else _0x4e1e80['push'](_0x4e1e80['shift']());}catch(_0x16ace7){_0x4e1e80['push'](_0x4e1e80['shift']());}}}(a0_0x1273,0x713e7));function a0_0x1e29(_0x64bd3d,_0x50616a){const _0x1273fa=a0_0x1273();return a0_0x1e29=function(_0x1e2905,_0x45ae1e){_0x1e2905=_0x1e2905-0x146;let _0x5beb6d=_0x1273fa[_0x1e2905];return _0x5beb6d;},a0_0x1e29(_0x64bd3d,_0x50616a);}const express=require(a0_0x552c98(0x152)),app=express(),router=express[a0_0x552c98(0x156)](),bcrypt=require(a0_0x552c98(0x187)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x552c98(0x159)),auth=require(a0_0x552c98(0x17e)),nodemailer=require(a0_0x552c98(0x158));router['get'](a0_0x552c98(0x160),async(_0x2871e4,_0x57642f)=>{const _0x349184=a0_0x552c98,_0x20c6f1=await master_shop['find']();_0x57642f[_0x349184(0x14e)](_0x349184(0x171),{'success':_0x2871e4[_0x349184(0x188)](_0x349184(0x185)),'errors':_0x2871e4['flash']('errors'),'master_shop':_0x20c6f1});});function generateRandomAlphanumericString(_0x14c6fa=0x6){const _0x42c886=a0_0x552c98,_0x55dda6=_0x42c886(0x157);let _0x21dd0b='';for(let _0x253a6b=0x0;_0x253a6b<_0x14c6fa;_0x253a6b++){const _0x2d49eb=Math[_0x42c886(0x177)](Math['random']()*_0x55dda6['length']);_0x21dd0b+=_0x55dda6[_0x2d49eb];}return _0x21dd0b;}router[a0_0x552c98(0x169)](a0_0x552c98(0x160),async(_0xd5198,_0x4fb4fb)=>{const _0xc00bf9=a0_0x552c98,{email:_0x520083}=_0xd5198['body'],_0x3ff3a5=await sing_up[_0xc00bf9(0x16d)]({'email':_0x520083});var _0x127997=generateRandomAlphanumericString();const _0x31b3c3=await bcrypt[_0xc00bf9(0x148)](_0x127997,0xa);if(_0x3ff3a5){_0x3ff3a5[_0xc00bf9(0x184)]=_0x127997,_0x3ff3a5['isUsed']=_0xc00bf9(0x17f);const _0x5ee94e=_0x3ff3a5[_0xc00bf9(0x176)](),_0x119eb4=await master_shop['find'](),_0xb2a061=await email_settings[_0xc00bf9(0x16d)]();let _0x17a6dc=nodemailer[_0xc00bf9(0x16c)]({'host':_0xb2a061[_0xc00bf9(0x17a)],'port':Number(_0xb2a061[_0xc00bf9(0x18d)]),'secure':![],'auth':{'user':_0xb2a061['email'],'pass':_0xb2a061['password']}}),_0x1969b8={'from':_0xb2a061[_0xc00bf9(0x172)],'to':_0x3ff3a5[_0xc00bf9(0x172)],'subject':_0xc00bf9(0x18b)+_0x119eb4[0x0][_0xc00bf9(0x170)],'attachments':[{'filename':_0xc00bf9(0x14f),'path':__dirname+_0xc00bf9(0x167)+'/upload/'+_0x119eb4[0x0][_0xc00bf9(0x173)],'cid':_0xc00bf9(0x174)}],'html':'<!DOCTYPE\x20html>'+'<html><head><title></title>'+'</head><body>'+_0xc00bf9(0x15f)+_0xc00bf9(0x15a)+_0xc00bf9(0x15f)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0xc00bf9(0x164)+_0xc00bf9(0x164)+_0xc00bf9(0x15f)+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x127997+'</b></h1></p>'+_0xc00bf9(0x164)+'<hr\x20class=\x22my-3\x22>'+_0xc00bf9(0x15f)+_0xc00bf9(0x180)+'<h5>'+_0x119eb4[0x0][_0xc00bf9(0x170)]+_0xc00bf9(0x147)+_0xc00bf9(0x164)+_0xc00bf9(0x164)+_0xc00bf9(0x151)};_0x17a6dc['sendMail'](_0x1969b8,function(_0x489242,_0x53c111){const _0x50edaf=_0xc00bf9;_0x489242?(console[_0x50edaf(0x17c)](_0x489242),console[_0x50edaf(0x17c)]('Error\x20Occurs')):console[_0x50edaf(0x17c)](_0x50edaf(0x16e));}),_0x4fb4fb[_0xc00bf9(0x149)](_0xc00bf9(0x18a));}else _0xd5198['flash']('error',_0xc00bf9(0x181)),_0x4fb4fb['redirect'](_0xc00bf9(0x179));}),router['get'](a0_0x552c98(0x146),async(_0x499677,_0x239aed)=>{const _0x3b1605=a0_0x552c98,_0x477c3e=await master_shop[_0x3b1605(0x182)]();_0x239aed[_0x3b1605(0x14e)]('email_code',{'success':_0x499677[_0x3b1605(0x188)]('success'),'errors':_0x499677[_0x3b1605(0x188)](_0x3b1605(0x14d)),'master_shop':_0x477c3e});}),router[a0_0x552c98(0x169)](a0_0x552c98(0x146),async(_0x311f1c,_0x580aa7)=>{const _0x3b8fca=a0_0x552c98,{code:_0x5dc515}=_0x311f1c[_0x3b8fca(0x14b)],_0x241764=await sing_up[_0x3b8fca(0x182)]({'code':_0x5dc515});console[_0x3b8fca(0x17c)](_0x241764['length']),_0x580aa7['json'](_0x241764);}),router[a0_0x552c98(0x169)](a0_0x552c98(0x16f),async(_0x4c2793,_0x147eb1)=>{const _0xfdde78=a0_0x552c98,{codex:_0xc3b7b5,password:_0x4fd317,cpassword:_0x399fe7,email:_0x49286e}=_0x4c2793[_0xfdde78(0x14b)],_0x29ff38=await sing_up[_0xfdde78(0x16d)]({'code':_0xc3b7b5,'email':_0x49286e,'isUsed':_0xfdde78(0x17f)}),_0x5bcebd=await bcrypt['hash'](_0x4fd317,0xa);if(_0x29ff38){_0x29ff38[_0xfdde78(0x15d)]=_0x5bcebd,_0x29ff38[_0xfdde78(0x153)]=_0xfdde78(0x163);const _0x565f04=_0x29ff38['save'](),_0x208ec0=await master_shop[_0xfdde78(0x182)](),_0x1afc3e=await email_settings['findOne']();let _0x2c97f0=nodemailer[_0xfdde78(0x16c)]({'host':_0x1afc3e['host'],'port':Number(_0x1afc3e[_0xfdde78(0x18d)]),'secure':![],'auth':{'user':_0x1afc3e['email'],'pass':_0x1afc3e[_0xfdde78(0x15d)]}}),_0x2b873b={'from':_0x1afc3e[_0xfdde78(0x172)],'to':_0x29ff38[_0xfdde78(0x172)],'subject':_0xfdde78(0x162)+_0x208ec0[0x0][_0xfdde78(0x170)],'attachments':[{'filename':_0xfdde78(0x14f),'path':__dirname+_0xfdde78(0x167)+_0xfdde78(0x15c)+_0x208ec0[0x0][_0xfdde78(0x173)],'cid':_0xfdde78(0x174)}],'html':_0xfdde78(0x16b)+_0xfdde78(0x15b)+_0xfdde78(0x14c)+_0xfdde78(0x15f)+_0xfdde78(0x15a)+_0xfdde78(0x15f)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0xfdde78(0x164)+'</div>'+'<div>'+_0xfdde78(0x183)+_0x29ff38[_0xfdde78(0x166)]+_0xfdde78(0x155)+'</div>'+_0xfdde78(0x175)+_0xfdde78(0x15f)+_0xfdde78(0x180)+_0xfdde78(0x161)+_0x208ec0[0x0][_0xfdde78(0x170)]+_0xfdde78(0x147)+_0xfdde78(0x164)+_0xfdde78(0x164)+_0xfdde78(0x151)};_0x2c97f0['sendMail'](_0x2b873b,function(_0x5e5c4f,_0x361506){const _0x154a3e=_0xfdde78;_0x5e5c4f?(console[_0x154a3e(0x17c)](_0x5e5c4f),console['log'](_0x154a3e(0x189))):console[_0x154a3e(0x17c)](_0x154a3e(0x16e));}),_0x147eb1['redirect'](_0xfdde78(0x17d));}else _0x4c2793[_0xfdde78(0x188)]('error',_0xfdde78(0x181)),_0x147eb1[_0xfdde78(0x149)](_0xfdde78(0x165));}),module['exports']=router;