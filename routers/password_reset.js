function a0_0xd8ff(_0x5935d8,_0x195f96){const _0x99d5fc=a0_0x99d5();return a0_0xd8ff=function(_0xd8fff1,_0x4856b4){_0xd8fff1=_0xd8fff1-0x1ca;let _0x66b880=_0x99d5fc[_0xd8fff1];return _0x66b880;},a0_0xd8ff(_0x5935d8,_0x195f96);}const a0_0x57f090=a0_0xd8ff;function a0_0x99d5(){const _0x35eab0=['<h5>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','582660BQmVOL','password','express','findOne','/code_password/','<div>','floor','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','<hr\x20class=\x22my-3\x22>','createTransport','8610Idztgm','email_reset','</head><body>','/code/','Email\x20sent\x20successfully','save','<!DOCTYPE\x20html>','code','/upload/','/login/','Logo.png','find','nodemailer','logo','body','redirect','</body></html>','<html><head><title></title>','</div>','host','get','3398856vmOCyN','error','port','log','isUsed','site_title','render','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','30GWLOcF','Password\x20Successfuly\x20Reset\x20-\x20','Router','1354542dCWyLM','/../public','/forgotPassword/view','flash','/view','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','email','Error\x20Occurs','410076PVyQTk','/forgotPassword/code/','1350srTyiB','<strong>\x20Regards\x20</strong>','post','../middleware/auth','False','image','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','hash','../models/all_models','sendMail','21827bUrSbv','length','7UDjxXt','695762vDPwsJ','errors','exports','Password\x20Reset\x20-\x20','</h5>','success'];a0_0x99d5=function(){return _0x35eab0;};return a0_0x99d5();}(function(_0x592410,_0x2c0b9d){const _0x58686d=a0_0xd8ff,_0x3205db=_0x592410();while(!![]){try{const _0x474b93=parseInt(_0x58686d(0x1de))/0x1+-parseInt(_0x58686d(0x1e1))/0x2+parseInt(_0x58686d(0x1ca))/0x3+-parseInt(_0x58686d(0x1d2))/0x4+-parseInt(_0x58686d(0x1d4))/0x5*(parseInt(_0x58686d(0x1f3))/0x6)+parseInt(_0x58686d(0x1e0))/0x7*(parseInt(_0x58686d(0x208))/0x8)+-parseInt(_0x58686d(0x1e9))/0x9*(-parseInt(_0x58686d(0x210))/0xa);if(_0x474b93===_0x2c0b9d)break;else _0x3205db['push'](_0x3205db['shift']());}catch(_0x24bde7){_0x3205db['push'](_0x3205db['shift']());}}}(a0_0x99d5,0x3e268));const express=require(a0_0x57f090(0x1eb)),app=express(),router=express[a0_0x57f090(0x212)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x57f090(0x1dc)),auth=require(a0_0x57f090(0x1d7)),nodemailer=require(a0_0x57f090(0x1ff));router[a0_0x57f090(0x207)](a0_0x57f090(0x1ce),async(_0xd01aeb,_0x38e5ea)=>{const _0x5db54d=a0_0x57f090,_0x21f1da=await master_shop['find']();_0x38e5ea['render'](_0x5db54d(0x1f4),{'success':_0xd01aeb['flash'](_0x5db54d(0x1e6)),'errors':_0xd01aeb[_0x5db54d(0x1cd)](_0x5db54d(0x1e2)),'master_shop':_0x21f1da});});function generateRandomAlphanumericString(_0x55d3e9=0x6){const _0x17d592=a0_0x57f090,_0x311a6e=_0x17d592(0x1f0);let _0xbfd803='';for(let _0x521057=0x0;_0x521057<_0x55d3e9;_0x521057++){const _0x5d1a15=Math[_0x17d592(0x1ef)](Math['random']()*_0x311a6e[_0x17d592(0x1df)]);_0xbfd803+=_0x311a6e[_0x5d1a15];}return _0xbfd803;}router['post'](a0_0x57f090(0x1ce),async(_0x179a25,_0x2ecc7a)=>{const _0xa95b83=a0_0x57f090,{email:_0x5a793a}=_0x179a25[_0xa95b83(0x201)],_0x39dfb4=await sing_up[_0xa95b83(0x1ec)]({'email':_0x5a793a});var _0x22bef2=generateRandomAlphanumericString();const _0x4746ad=await bcrypt[_0xa95b83(0x1db)](_0x22bef2,0xa);if(_0x39dfb4){_0x39dfb4[_0xa95b83(0x1fa)]=_0x22bef2,_0x39dfb4['isUsed']='False';const _0x35e5b1=_0x39dfb4[_0xa95b83(0x1f8)](),_0x41c92e=await master_shop[_0xa95b83(0x1fe)](),_0x13deae=await email_settings['findOne']();let _0x2a25ea=nodemailer['createTransport']({'host':_0x13deae[_0xa95b83(0x206)],'port':Number(_0x13deae[_0xa95b83(0x20a)]),'secure':![],'auth':{'user':_0x13deae[_0xa95b83(0x1d0)],'pass':_0x13deae[_0xa95b83(0x1ea)]}}),_0x5264b7={'from':_0x13deae['email'],'to':_0x39dfb4[_0xa95b83(0x1d0)],'subject':_0xa95b83(0x1e4)+_0x41c92e[0x0][_0xa95b83(0x20d)],'attachments':[{'filename':_0xa95b83(0x1fd),'path':__dirname+'/../public'+_0xa95b83(0x1fb)+_0x41c92e[0x0]['image'],'cid':_0xa95b83(0x200)}],'html':_0xa95b83(0x1f9)+_0xa95b83(0x204)+_0xa95b83(0x1f5)+'<div>'+_0xa95b83(0x20f)+_0xa95b83(0x1ee)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0xa95b83(0x205)+_0xa95b83(0x205)+'<div>'+_0xa95b83(0x1e8)+_0x22bef2+'</b></h1></p>'+_0xa95b83(0x205)+_0xa95b83(0x1f1)+'<div>'+_0xa95b83(0x1d5)+'<h5>'+_0x41c92e[0x0][_0xa95b83(0x20d)]+_0xa95b83(0x1e5)+'</div>'+_0xa95b83(0x205)+_0xa95b83(0x203)};_0x2a25ea[_0xa95b83(0x1dd)](_0x5264b7,function(_0x5b8b0a,_0x432950){const _0x2ee28e=_0xa95b83;_0x5b8b0a?(console['log'](_0x5b8b0a),console[_0x2ee28e(0x20b)](_0x2ee28e(0x1d1))):console['log'](_0x2ee28e(0x1f7));}),_0x2ecc7a[_0xa95b83(0x202)](_0xa95b83(0x1d3));}else _0x179a25[_0xa95b83(0x1cd)]('error',_0xa95b83(0x1cf)),_0x2ecc7a[_0xa95b83(0x202)](_0xa95b83(0x1cc));}),router[a0_0x57f090(0x207)]('/code/',async(_0xfbe4d5,_0x3280f4)=>{const _0x5996d3=a0_0x57f090,_0x2d5af6=await master_shop[_0x5996d3(0x1fe)]();_0x3280f4[_0x5996d3(0x20e)]('email_code',{'success':_0xfbe4d5[_0x5996d3(0x1cd)](_0x5996d3(0x1e6)),'errors':_0xfbe4d5[_0x5996d3(0x1cd)](_0x5996d3(0x1e2)),'master_shop':_0x2d5af6});}),router[a0_0x57f090(0x1d6)](a0_0x57f090(0x1f6),async(_0x2653eb,_0x20202e)=>{const _0x455f75=a0_0x57f090,{code:_0x1fd3fc}=_0x2653eb[_0x455f75(0x201)],_0x596a5d=await sing_up[_0x455f75(0x1fe)]({'code':_0x1fd3fc});console[_0x455f75(0x20b)](_0x596a5d[_0x455f75(0x1df)]),_0x20202e['json'](_0x596a5d);}),router['post'](a0_0x57f090(0x1ed),async(_0x406b79,_0x379116)=>{const _0x4d679f=a0_0x57f090,{codex:_0x5cda5b,password:_0x3352f9,cpassword:_0x198bff,email:_0x376d88}=_0x406b79[_0x4d679f(0x201)],_0x178eea=await sing_up['findOne']({'code':_0x5cda5b,'email':_0x376d88,'isUsed':_0x4d679f(0x1d8)}),_0x246776=await bcrypt[_0x4d679f(0x1db)](_0x3352f9,0xa);if(_0x178eea){_0x178eea[_0x4d679f(0x1ea)]=_0x246776,_0x178eea[_0x4d679f(0x20c)]='True';const _0x34f221=_0x178eea[_0x4d679f(0x1f8)](),_0x24d184=await master_shop[_0x4d679f(0x1fe)](),_0x5e6fe1=await email_settings[_0x4d679f(0x1ec)]();let _0x3abfab=nodemailer[_0x4d679f(0x1f2)]({'host':_0x5e6fe1[_0x4d679f(0x206)],'port':Number(_0x5e6fe1[_0x4d679f(0x20a)]),'secure':![],'auth':{'user':_0x5e6fe1[_0x4d679f(0x1d0)],'pass':_0x5e6fe1[_0x4d679f(0x1ea)]}}),_0x5198c9={'from':_0x5e6fe1[_0x4d679f(0x1d0)],'to':_0x178eea['email'],'subject':_0x4d679f(0x211)+_0x24d184[0x0][_0x4d679f(0x20d)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x4d679f(0x1cb)+_0x4d679f(0x1fb)+_0x24d184[0x0][_0x4d679f(0x1d9)],'cid':'logo'}],'html':_0x4d679f(0x1f9)+_0x4d679f(0x204)+'</head><body>'+_0x4d679f(0x1ee)+_0x4d679f(0x20f)+_0x4d679f(0x1ee)+_0x4d679f(0x1da)+_0x4d679f(0x205)+'</div>'+_0x4d679f(0x1ee)+'<p>Hello\x20'+_0x178eea['name']+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x4d679f(0x205)+_0x4d679f(0x1f1)+_0x4d679f(0x1ee)+'<strong>\x20Regards\x20</strong>'+_0x4d679f(0x1e7)+_0x24d184[0x0]['site_title']+_0x4d679f(0x1e5)+_0x4d679f(0x205)+_0x4d679f(0x205)+_0x4d679f(0x203)};_0x3abfab[_0x4d679f(0x1dd)](_0x5198c9,function(_0x1102c2,_0x4e48f1){const _0x4ac30b=_0x4d679f;_0x1102c2?(console['log'](_0x1102c2),console[_0x4ac30b(0x20b)](_0x4ac30b(0x1d1))):console[_0x4ac30b(0x20b)](_0x4ac30b(0x1f7));}),_0x379116['redirect'](_0x4d679f(0x1fc));}else _0x406b79[_0x4d679f(0x1cd)](_0x4d679f(0x209),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x379116[_0x4d679f(0x202)]('/forgotPassword/code');}),module[a0_0x57f090(0x1e3)]=router;