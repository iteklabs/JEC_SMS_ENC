function a0_0x5cbd(_0x232b61,_0x14132a){const _0x453f9d=a0_0x453f();return a0_0x5cbd=function(_0x5cbddd,_0x258c02){_0x5cbddd=_0x5cbddd-0xe7;let _0x995f7c=_0x453f9d[_0x5cbddd];return _0x995f7c;},a0_0x5cbd(_0x232b61,_0x14132a);}const a0_0x21c9c9=a0_0x5cbd;(function(_0x1d6683,_0x5f0486){const _0x5bdedb=a0_0x5cbd,_0x11bd31=_0x1d6683();while(!![]){try{const _0x294e6a=parseInt(_0x5bdedb(0xf8))/0x1+-parseInt(_0x5bdedb(0x108))/0x2*(-parseInt(_0x5bdedb(0xf7))/0x3)+parseInt(_0x5bdedb(0x10d))/0x4+-parseInt(_0x5bdedb(0x113))/0x5+-parseInt(_0x5bdedb(0x12a))/0x6+parseInt(_0x5bdedb(0x123))/0x7*(parseInt(_0x5bdedb(0x112))/0x8)+-parseInt(_0x5bdedb(0x10c))/0x9*(-parseInt(_0x5bdedb(0x10a))/0xa);if(_0x294e6a===_0x5f0486)break;else _0x11bd31['push'](_0x11bd31['shift']());}catch(_0x5a5479){_0x11bd31['push'](_0x11bd31['shift']());}}}(a0_0x453f,0xe3639));const express=require(a0_0x21c9c9(0xfc)),app=express(),router=express[a0_0x21c9c9(0x10f)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings,purchases_finished,sales_finished,adjustment_finished,transfers,transfers_finished,sales,adjustment}=require(a0_0x21c9c9(0x125));router[a0_0x21c9c9(0x11d)](a0_0x21c9c9(0xf6),async(_0x27334e,_0x51b79e)=>{const _0xc4400=a0_0x21c9c9;try{const _0xdaa899=await warehouse[_0xc4400(0x10b)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x51b79e[_0xc4400(0x109)]({'status':_0xdaa899[_0xc4400(0x114)]+_0xc4400(0xf9)});}catch(_0x2656e1){console[_0xc4400(0xed)](_0xc4400(0x12b),_0x2656e1),_0x51b79e[_0xc4400(0x11e)](0xc8)[_0xc4400(0x109)]({'message':_0x2656e1['message']});}}),router[a0_0x21c9c9(0x11d)](a0_0x21c9c9(0xf5),async(_0x522f87,_0x1b14d8)=>{const _0x19b8d2=a0_0x21c9c9;try{const _0x5d48e3=await warehouse[_0x19b8d2(0x11f)]([{'$unwind':_0x19b8d2(0xf3)},{'$match':{'product_details.invoice':'INCF-52068316','product_details.primary_code':_0x19b8d2(0x117)}},{'$group':{'_id':{'name':'$name','room':_0x19b8d2(0x111)},'products':{'$push':_0x19b8d2(0xf3)}}}]);_0x1b14d8[_0x19b8d2(0x109)](_0x5d48e3);}catch(_0x17e84a){console[_0x19b8d2(0xed)]('table\x20page',_0x17e84a),_0x1b14d8[_0x19b8d2(0x11e)](0xc8)[_0x19b8d2(0x109)]({'message':_0x17e84a[_0x19b8d2(0xea)]});}}),router[a0_0x21c9c9(0x11d)](a0_0x21c9c9(0x101),async(_0x539038,_0xb3ad64)=>{const _0x55788f=a0_0x21c9c9;_0xb3ad64['render'](_0x55788f(0x119),{'success':_0x539038[_0x55788f(0x11b)](_0x55788f(0xe7)),'errors':_0x539038[_0x55788f(0x11b)](_0x55788f(0xf0))});}),router['get'](a0_0x21c9c9(0xec),async(_0x488efa,_0x31ad69)=>{const _0x578660=a0_0x21c9c9;var _0x5aab2e=await purchases[_0x578660(0x11f)]([{'$lookup':{'from':'warehouses','let':{'invoice':_0x578660(0xef)},'pipeline':[{'$unwind':'$product_details'},{'$match':{'$expr':{'$eq':[_0x578660(0x12c),'$product_details.invoice']}}},{'$project':{'_id':_0x578660(0x10e),'product_name':_0x578660(0x128),'product_code':_0x578660(0x124),'quantity_available':'$product_details.product_stock','warehouse_name':_0x578660(0x103),'warehouse_room':_0x578660(0x111),'invoice':_0x578660(0x127)}}],'as':_0x578660(0xfa)}}]);_0x5aab2e[_0x578660(0x11a)]={},await Promise[_0x578660(0xf1)](_0x5aab2e[_0x578660(0xff)](async _0x542ca4=>{const _0x1437f6=_0x578660;_0x5aab2e[_0x1437f6(0x11a)][_0x542ca4[_0x1437f6(0x115)]]=[],await Promise[_0x1437f6(0xf1)](_0x542ca4[_0x1437f6(0xfa)][_0x1437f6(0xff)](async _0x3d159b=>{const _0x50842=_0x1437f6,_0x1532ac=await sales[_0x50842(0x11f)]([{'$unwind':_0x50842(0x126)},{'$match':{'sale_product.id_transaction_from':_0x3d159b[_0x50842(0x102)][_0x50842(0x110)](),'sale_product.invoice':_0x3d159b[_0x50842(0x115)]}},{'$project':{'_id':_0x50842(0x118),'product_name':_0x50842(0xfe),'product_code':'$sale_product.product_code','quantity_available':_0x50842(0xfb),'warehouse_name':_0x50842(0xee),'warehouse_room':'$sale_product.room_name','product_invoice':_0x50842(0x107),'invoice':_0x50842(0xef),'id_transaction_from':_0x50842(0x121)}}]);_0x1532ac['length']>0x0&&_0x5aab2e[_0x50842(0x11a)][_0x542ca4[_0x50842(0x115)]][_0x50842(0x11c)](..._0x1532ac);}));})),_0x5aab2e[_0x578660(0x11a)]=_0x5aab2e['data_sales'],_0x5aab2e[_0x578660(0x104)]={},await Promise[_0x578660(0xf1)](_0x5aab2e[_0x578660(0xff)](async _0x36c9f1=>{const _0x2eccc7=_0x578660;_0x5aab2e['data_adjustment'][_0x36c9f1[_0x2eccc7(0x115)]]=[],await Promise['all'](_0x36c9f1[_0x2eccc7(0xfa)]['map'](async _0x39e661=>{const _0x1e91b6=_0x2eccc7,_0x3ad834=await adjustment[_0x1e91b6(0x11f)]([{'$unwind':_0x1e91b6(0x122)},{'$match':{'product.id_transaction_from':_0x39e661['_id']['valueOf'](),'product.invoice':_0x39e661[_0x1e91b6(0x115)]}},{'$project':{'_id':_0x1e91b6(0xf2),'product_name':'$product.product_name','product_code':'$product.product_code','quantity_available':_0x1e91b6(0x120),'warehouse_name':'$warehouse_name','warehouse_room':_0x1e91b6(0x116),'product_invoice':_0x1e91b6(0xe8),'invoice':_0x1e91b6(0xef),'id_transaction_from':_0x1e91b6(0xf4)}}]);_0x3ad834[_0x1e91b6(0x106)]>0x0&&_0x5aab2e['data_adjustment'][_0x36c9f1[_0x1e91b6(0x115)]]['push'](..._0x3ad834);}));})),_0x5aab2e[_0x578660(0xe9)]={},await Promise[_0x578660(0xf1)](_0x5aab2e[_0x578660(0xff)](async _0x13903c=>{const _0x220600=_0x578660;_0x5aab2e[_0x220600(0xe9)][_0x13903c['invoice']]=[],await Promise[_0x220600(0xf1)](_0x13903c[_0x220600(0xfa)]['map'](async _0x3b6b3b=>{const _0x26168e=_0x220600,_0x369616=await transfers[_0x26168e(0x11f)]([{'$unwind':_0x26168e(0x122)},{'$match':{'product.id_transaction_id':_0x3b6b3b['_id'][_0x26168e(0x110)](),'product.To_invoice':_0x3b6b3b[_0x26168e(0x115)]}},{'$project':{'_id':_0x26168e(0xf2),'product_name':_0x26168e(0x100),'product_code':'$product.product_code','quantity_available':'$product.to_quantity','warehouse_name':_0x26168e(0x105),'warehouse_room':'$product.room_names','product_invoice':_0x26168e(0xeb),'invoice':_0x26168e(0xef),'id_transaction_id':_0x26168e(0x129)}}]);console[_0x26168e(0xed)](_0x369616),_0x369616[_0x26168e(0x106)]>0x0&&_0x5aab2e[_0x26168e(0xe9)][_0x13903c['invoice']]['push'](..._0x369616);}));})),_0x31ad69[_0x578660(0x109)]({'purchases_warehouse':_0x5aab2e,'data_sales':_0x5aab2e[_0x578660(0x11a)],'data_adjustment':_0x5aab2e['data_adjustment'],'data_transfer':_0x5aab2e[_0x578660(0xe9)]});}),module[a0_0x21c9c9(0xfd)]=router;function a0_0x453f(){const _0x48c641=['/join','log','$warehouse_name','$invoice','errors','all','$product._id','$product_details','$product.id_transaction_from','/checking','/negative','44694DRAOEb','84993OgpSLk','\x20documents\x20updated','warehouse_data','$sale_product.quantity','express','exports','$sale_product.product_name','map','$product.product_name','/warehouse_monitor','_id','$name','data_adjustment','$to_warehouse','length','$sale_product.invoice','12nYjGoC','json','10gpNiiR','updateMany','30262419bZipzK','843048cNVRbb','$product_details._id','Router','valueOf','$room','8zQJoel','9114165iizIFE','modifiedCount','invoice','$product.room_names','14800005047429','$sale_product._id','monitor','data_sales','flash','push','get','status','aggregate','$product.new_adjust_qty','$sale_product.id_transaction_from','$product','1567636ByXoEA','$product_details.product_code','../../models/all_models','$sale_product','$product_details.invoice','$product_details.product_name','$product.id_transaction_id','7304184reBGbX','table\x20page','$$invoice','success','$product.invoice','data_transfer','message','$product.to_room_name'];a0_0x453f=function(){return _0x48c641;};return a0_0x453f();}