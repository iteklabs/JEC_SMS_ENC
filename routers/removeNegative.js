function a0_0x14ce(){const _0x4dff4b=['$product_details.product_stock','length','$sale_product','_id','exports','$product._id','$product.id_transaction_id','success','data_adjustment','render','updateMany','$product.id_transaction_from','11LpLXLA','$sale_product.quantity','$product.room_names','aggregate','data_sales','$product.product_code','$product_details.invoice','9GxmbBL','invoice','$product.new_adjust_qty','$room','712984votkNj','462rCnpjI','$$invoice','message','get','54107oibvwc','map','json','status','push','log','table\x20page','/join','24SDYTZi','$warehouse_name','$product.to_quantity','modifiedCount','$product.invoice','data_transfer','warehouses','INCF-52068316','$name','13437970bLNNaG','$product.to_room_name','flash','../../models/all_models','$product_details.product_code','21028vKGhfD','monitor','/warehouse_monitor','$product.product_name','/negative','warehouse_data','all','14800005047429','express','errors','$product_details','629760yAecpS','2021700EINMbi','$invoice','278005ejnJyj','$sale_product._id','$product','$sale_product.product_name','valueOf'];a0_0x14ce=function(){return _0x4dff4b;};return a0_0x14ce();}function a0_0x2dc8(_0x13de3d,_0x135fae){const _0x14ce49=a0_0x14ce();return a0_0x2dc8=function(_0x2dc859,_0x145f1b){_0x2dc859=_0x2dc859-0x19e;let _0x233a13=_0x14ce49[_0x2dc859];return _0x233a13;},a0_0x2dc8(_0x13de3d,_0x135fae);}const a0_0x35616b=a0_0x2dc8;(function(_0x23a9e8,_0x59ef4b){const _0x12ff11=a0_0x2dc8,_0x2f9efb=_0x23a9e8();while(!![]){try{const _0x3b08cd=parseInt(_0x12ff11(0x1a5))/0x1+parseInt(_0x12ff11(0x1c6))/0x2+-parseInt(_0x12ff11(0x1c7))/0x3+-parseInt(_0x12ff11(0x1ad))/0x4*(parseInt(_0x12ff11(0x1c9))/0x5)+-parseInt(_0x12ff11(0x1a1))/0x6*(parseInt(_0x12ff11(0x1bb))/0x7)+-parseInt(_0x12ff11(0x1a0))/0x8*(parseInt(_0x12ff11(0x1e1))/0x9)+-parseInt(_0x12ff11(0x1b6))/0xa*(-parseInt(_0x12ff11(0x1da))/0xb);if(_0x3b08cd===_0x59ef4b)break;else _0x2f9efb['push'](_0x2f9efb['shift']());}catch(_0x2cb584){_0x2f9efb['push'](_0x2f9efb['shift']());}}}(a0_0x14ce,0x5df4f));const express=require(a0_0x35616b(0x1c3)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings,purchases_finished,sales_finished,adjustment_finished,transfers,transfers_finished,sales,adjustment}=require(a0_0x35616b(0x1b9));router[a0_0x35616b(0x1a4)](a0_0x35616b(0x1bf),async(_0x4eb6ab,_0x5f2ec9)=>{const _0x353d0b=a0_0x35616b;try{const _0x48c142=await warehouse[_0x353d0b(0x1d8)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x5f2ec9['json']({'status':_0x48c142[_0x353d0b(0x1b0)]+'\x20documents\x20updated'});}catch(_0x15e3ff){console['log'](_0x353d0b(0x1ab),_0x15e3ff),_0x5f2ec9['status'](0xc8)['json']({'message':_0x15e3ff[_0x353d0b(0x1a3)]});}}),router[a0_0x35616b(0x1a4)]('/checking',async(_0x4734fd,_0x5a7ec8)=>{const _0x1397bd=a0_0x35616b;try{const _0x1297e8=await warehouse['aggregate']([{'$unwind':_0x1397bd(0x1c5)},{'$match':{'product_details.invoice':_0x1397bd(0x1b4),'product_details.primary_code':_0x1397bd(0x1c2)}},{'$group':{'_id':{'name':_0x1397bd(0x1b5),'room':_0x1397bd(0x19f)},'products':{'$push':_0x1397bd(0x1c5)}}}]);_0x5a7ec8[_0x1397bd(0x1a7)](_0x1297e8);}catch(_0x3a0fe2){console['log'](_0x1397bd(0x1ab),_0x3a0fe2),_0x5a7ec8[_0x1397bd(0x1a8)](0xc8)[_0x1397bd(0x1a7)]({'message':_0x3a0fe2['message']});}}),router[a0_0x35616b(0x1a4)](a0_0x35616b(0x1bd),async(_0x11a8c5,_0x27e25d)=>{const _0x2f1052=a0_0x35616b;_0x27e25d[_0x2f1052(0x1d7)](_0x2f1052(0x1bc),{'success':_0x11a8c5[_0x2f1052(0x1b8)](_0x2f1052(0x1d5)),'errors':_0x11a8c5[_0x2f1052(0x1b8)](_0x2f1052(0x1c4))});}),router[a0_0x35616b(0x1a4)](a0_0x35616b(0x1ac),async(_0x206925,_0xda3ba1)=>{const _0x28b4ec=a0_0x35616b;var _0x258f9b=await purchases[_0x28b4ec(0x1dd)]([{'$lookup':{'from':_0x28b4ec(0x1b3),'let':{'invoice':_0x28b4ec(0x1c8)},'pipeline':[{'$unwind':_0x28b4ec(0x1c5)},{'$match':{'$expr':{'$eq':[_0x28b4ec(0x1a2),_0x28b4ec(0x1e0)]}}},{'$project':{'_id':'$product_details._id','product_name':'$product_details.product_name','product_code':_0x28b4ec(0x1ba),'quantity_available':_0x28b4ec(0x1ce),'warehouse_name':_0x28b4ec(0x1b5),'warehouse_room':'$room','invoice':_0x28b4ec(0x1e0)}}],'as':_0x28b4ec(0x1c0)}}]);_0x258f9b['data_sales']={},await Promise[_0x28b4ec(0x1c1)](_0x258f9b['map'](async _0x14cb76=>{const _0x6dc948=_0x28b4ec;_0x258f9b[_0x6dc948(0x1de)][_0x14cb76[_0x6dc948(0x1e2)]]=[],await Promise[_0x6dc948(0x1c1)](_0x14cb76[_0x6dc948(0x1c0)][_0x6dc948(0x1a6)](async _0x2efece=>{const _0x40f0eb=_0x6dc948,_0x1dd337=await sales[_0x40f0eb(0x1dd)]([{'$unwind':_0x40f0eb(0x1d0)},{'$match':{'sale_product.id_transaction_from':_0x2efece[_0x40f0eb(0x1d1)]['valueOf'](),'sale_product.invoice':_0x2efece[_0x40f0eb(0x1e2)]}},{'$project':{'_id':_0x40f0eb(0x1ca),'product_name':_0x40f0eb(0x1cc),'product_code':'$sale_product.product_code','quantity_available':_0x40f0eb(0x1db),'warehouse_name':_0x40f0eb(0x1ae),'warehouse_room':'$sale_product.room_name','product_invoice':'$sale_product.invoice','invoice':_0x40f0eb(0x1c8),'id_transaction_from':'$sale_product.id_transaction_from'}}]);_0x1dd337[_0x40f0eb(0x1cf)]>0x0&&_0x258f9b[_0x40f0eb(0x1de)][_0x14cb76['invoice']]['push'](..._0x1dd337);}));})),_0x258f9b[_0x28b4ec(0x1de)]=_0x258f9b[_0x28b4ec(0x1de)],_0x258f9b[_0x28b4ec(0x1d6)]={},await Promise[_0x28b4ec(0x1c1)](_0x258f9b[_0x28b4ec(0x1a6)](async _0x3f0897=>{const _0x2527fe=_0x28b4ec;_0x258f9b[_0x2527fe(0x1d6)][_0x3f0897[_0x2527fe(0x1e2)]]=[],await Promise[_0x2527fe(0x1c1)](_0x3f0897[_0x2527fe(0x1c0)]['map'](async _0x2c7d8b=>{const _0xf1399=_0x2527fe,_0x3df088=await adjustment['aggregate']([{'$unwind':_0xf1399(0x1cb)},{'$match':{'product.id_transaction_from':_0x2c7d8b[_0xf1399(0x1d1)]['valueOf'](),'product.invoice':_0x2c7d8b[_0xf1399(0x1e2)]}},{'$project':{'_id':_0xf1399(0x1d3),'product_name':_0xf1399(0x1be),'product_code':_0xf1399(0x1df),'quantity_available':_0xf1399(0x19e),'warehouse_name':_0xf1399(0x1ae),'warehouse_room':'$product.room_names','product_invoice':_0xf1399(0x1b1),'invoice':_0xf1399(0x1c8),'id_transaction_from':_0xf1399(0x1d9)}}]);_0x3df088[_0xf1399(0x1cf)]>0x0&&_0x258f9b[_0xf1399(0x1d6)][_0x3f0897[_0xf1399(0x1e2)]][_0xf1399(0x1a9)](..._0x3df088);}));})),_0x258f9b[_0x28b4ec(0x1b2)]={},await Promise[_0x28b4ec(0x1c1)](_0x258f9b[_0x28b4ec(0x1a6)](async _0x3129ef=>{const _0x1de1fe=_0x28b4ec;_0x258f9b['data_transfer'][_0x3129ef[_0x1de1fe(0x1e2)]]=[],await Promise[_0x1de1fe(0x1c1)](_0x3129ef[_0x1de1fe(0x1c0)][_0x1de1fe(0x1a6)](async _0x3db8ca=>{const _0x305d04=_0x1de1fe,_0x2f23f3=await transfers['aggregate']([{'$unwind':_0x305d04(0x1cb)},{'$match':{'product.id_transaction_id':_0x3db8ca['_id'][_0x305d04(0x1cd)](),'product.To_invoice':_0x3db8ca[_0x305d04(0x1e2)]}},{'$project':{'_id':_0x305d04(0x1d3),'product_name':_0x305d04(0x1be),'product_code':_0x305d04(0x1df),'quantity_available':_0x305d04(0x1af),'warehouse_name':'$to_warehouse','warehouse_room':_0x305d04(0x1dc),'product_invoice':_0x305d04(0x1b7),'invoice':_0x305d04(0x1c8),'id_transaction_id':_0x305d04(0x1d4)}}]);console[_0x305d04(0x1aa)](_0x2f23f3),_0x2f23f3['length']>0x0&&_0x258f9b['data_transfer'][_0x3129ef[_0x305d04(0x1e2)]][_0x305d04(0x1a9)](..._0x2f23f3);}));})),_0xda3ba1['json']({'purchases_warehouse':_0x258f9b,'data_sales':_0x258f9b[_0x28b4ec(0x1de)],'data_adjustment':_0x258f9b[_0x28b4ec(0x1d6)],'data_transfer':_0x258f9b['data_transfer']});}),module[a0_0x35616b(0x1d2)]=router;