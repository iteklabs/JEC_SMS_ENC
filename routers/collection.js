function a0_0xf8c6(_0x45404e,_0xb94933){var _0x164d86=a0_0x164d();return a0_0xf8c6=function(_0xf8c632,_0xdf185c){_0xf8c632=_0xf8c632-0x1d2;var _0x55d9ed=_0x164d86[_0xf8c632];return _0x55d9ed;},a0_0xf8c6(_0x45404e,_0xb94933);}var a0_0x5c14a4=a0_0xf8c6;(function(_0x2bdb02,_0x26caab){var _0x21c9a1=a0_0xf8c6,_0x3cfd6d=_0x2bdb02();while(!![]){try{var _0x18267f=parseInt(_0x21c9a1(0x21a))/0x1+-parseInt(_0x21c9a1(0x1da))/0x2+-parseInt(_0x21c9a1(0x20c))/0x3+-parseInt(_0x21c9a1(0x1ea))/0x4*(-parseInt(_0x21c9a1(0x220))/0x5)+-parseInt(_0x21c9a1(0x1d8))/0x6*(-parseInt(_0x21c9a1(0x224))/0x7)+parseInt(_0x21c9a1(0x1db))/0x8+-parseInt(_0x21c9a1(0x1f7))/0x9;if(_0x18267f===_0x26caab)break;else _0x3cfd6d['push'](_0x3cfd6d['shift']());}catch(_0x2535af){_0x3cfd6d['push'](_0x3cfd6d['shift']());}}}(a0_0x164d,0x4d38c));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_sa,sales_order}=require(a0_0x5c14a4(0x200)),auth=require(a0_0x5c14a4(0x1df)),users=require(a0_0x5c14a4(0x21c)),excelJS=require(a0_0x5c14a4(0x206)),xlsx=require(a0_0x5c14a4(0x20b)),multer=require(a0_0x5c14a4(0x1d7)),mongoose=require(a0_0x5c14a4(0x1de));function a0_0x164d(){var _0x2ead6d=['spwp','ewt','Portuguese\x20(BR)','type_of_payment','success','json','148564jXCiam','English','totalcollection','paid','Portuguese','totalNewPrice','vol_deals','bo_disc','/view_sox/:id','post','cash_date','collectionnumber','ObjectId','6652494AtIYDu','French','English\x20(US)','typeofprocess','view_collections_xt','fin_disc','Arabic','language','/view_so_xt/:id','../models/all_models','find','render','Types','string','id_detl','exceljs','exports','collection_price','redirect','body','xlsx','34737lUSDly','/view_xt/:id','/x_so','/view','Hindi','view_collections_sox','Chinese','Collection\x20Update\x20successfully','view_collections','_id','/view/:id','valueOf','user','updateOne','127534YcBMzV','findOne','../public/language/languages.json','map','German','True','50IhnJDk','flash','collection_sox','params','173894xuPdbQ','/collection/view/','log','forEach','errors','get','save','/so_x','findById','multer','102QpyBrl','Arabic\x20(ae)','237228gUpaRE','2115208TpOpuQ','/collection/view_so_xt/','collection','mongoose','../middleware/auth','Spanish','length','email','collection_so_xt'];a0_0x164d=function(){return _0x2ead6d;};return a0_0x164d();}router[a0_0x5c14a4(0x1d3)](a0_0x5c14a4(0x20f),auth,async(_0x2bdf77,_0x544979)=>{var _0x435b36=a0_0x5c14a4;try{const _0x35411e=await master_shop[_0x435b36(0x201)](),_0x3130e6=_0x2bdf77[_0x435b36(0x218)],_0x46f8b8=await profile[_0x435b36(0x21b)]({'email':_0x3130e6[_0x435b36(0x1e2)]}),_0x3e983a=await staff[_0x435b36(0x21b)]({'email':_0x3130e6[_0x435b36(0x1e2)],'type_of_acc_cat':'2'});let _0x3cac14=[];_0x3e983a!=null&&(_0x3cac14=await sales_order[_0x435b36(0x201)]({'sales_staff_id':_0x3e983a['_id']}));if(_0x35411e[0x0][_0x435b36(0x1fe)]==_0x435b36(0x1f9))var _0x1e2eff=users[_0x435b36(0x1eb)];else{if(_0x35411e[0x0][_0x435b36(0x1fe)]==_0x435b36(0x210))var _0x1e2eff=users[_0x435b36(0x210)];else{if(_0x35411e[0x0]['language']==_0x435b36(0x21e))var _0x1e2eff=users[_0x435b36(0x21e)];else{if(_0x35411e[0x0][_0x435b36(0x1fe)]==_0x435b36(0x1e0))var _0x1e2eff=users[_0x435b36(0x1e0)];else{if(_0x35411e[0x0][_0x435b36(0x1fe)]==_0x435b36(0x1f8))var _0x1e2eff=users['French'];else{if(_0x35411e[0x0]['language']=='Portuguese\x20(BR)')var _0x1e2eff=users[_0x435b36(0x1ee)];else{if(_0x35411e[0x0][_0x435b36(0x1fe)]==_0x435b36(0x212))var _0x1e2eff=users[_0x435b36(0x212)];else{if(_0x35411e[0x0][_0x435b36(0x1fe)]=='Arabic\x20(ae)')var _0x1e2eff=users[_0x435b36(0x1fd)];}}}}}}}_0x544979['render'](_0x435b36(0x1dd),{'success':_0x2bdf77[_0x435b36(0x221)](_0x435b36(0x1e8)),'errors':_0x2bdf77[_0x435b36(0x221)](_0x435b36(0x1d2)),'master_shop':_0x35411e,'profile':_0x46f8b8,'role':_0x3130e6,'language':_0x1e2eff,'sales_mine':_0x3cac14,'staff_arr':_0x3e983a});}catch(_0x3256f8){console[_0x435b36(0x226)](_0x3256f8);}}),router[a0_0x5c14a4(0x1d3)]('/view/:id',auth,async(_0x22e919,_0x17765d)=>{var _0x3bc085=a0_0x5c14a4;try{const _0x36ba8b=await master_shop[_0x3bc085(0x201)](),_0xbee8cc=_0x22e919[_0x3bc085(0x218)],_0x53689a=await profile['findOne']({'email':_0xbee8cc[_0x3bc085(0x1e2)]}),_0x390bb7=await staff[_0x3bc085(0x21b)]({'email':_0xbee8cc[_0x3bc085(0x1e2)]}),_0x493579=await customer[_0x3bc085(0x201)]({'agent_id':_0x390bb7[_0x3bc085(0x215)]}),_0xc13e9a=_0x22e919[_0x3bc085(0x223)]['id'],_0xbffa9f=await sales_sa[_0x3bc085(0x1d6)](_0xc13e9a);if(_0x36ba8b[0x0][_0x3bc085(0x1fe)]==_0x3bc085(0x1f9))var _0x456e4f=users[_0x3bc085(0x1eb)];else{if(_0x36ba8b[0x0][_0x3bc085(0x1fe)]=='Hindi')var _0x456e4f=users[_0x3bc085(0x210)];else{if(_0x36ba8b[0x0][_0x3bc085(0x1fe)]==_0x3bc085(0x21e))var _0x456e4f=users[_0x3bc085(0x21e)];else{if(_0x36ba8b[0x0]['language']==_0x3bc085(0x1e0))var _0x456e4f=users[_0x3bc085(0x1e0)];else{if(_0x36ba8b[0x0]['language']==_0x3bc085(0x1f8))var _0x456e4f=users[_0x3bc085(0x1f8)];else{if(_0x36ba8b[0x0]['language']==_0x3bc085(0x1e6))var _0x456e4f=users[_0x3bc085(0x1ee)];else{if(_0x36ba8b[0x0]['language']==_0x3bc085(0x212))var _0x456e4f=users[_0x3bc085(0x212)];else{if(_0x36ba8b[0x0][_0x3bc085(0x1fe)]==_0x3bc085(0x1d9))var _0x456e4f=users[_0x3bc085(0x1fd)];}}}}}}}_0x17765d[_0x3bc085(0x202)](_0x3bc085(0x214),{'success':_0x22e919[_0x3bc085(0x221)](_0x3bc085(0x1e8)),'errors':_0x22e919[_0x3bc085(0x221)](_0x3bc085(0x1d2)),'master_shop':_0x36ba8b,'profile':_0x53689a,'role':_0xbee8cc,'language':_0x456e4f,'customer':_0x493579,'sales_sa':_0xbffa9f,'staff_arr':_0x390bb7});}catch(_0x8ec4d6){console['log'](_0x8ec4d6);}}),router['post'](a0_0x5c14a4(0x216),auth,async(_0x1fd80c,_0x576e54)=>{var _0x538fb8=a0_0x5c14a4;try{const _0x515cdd=_0x1fd80c['params']['id'],_0xc414db=await sales_sa['findById'](_0x515cdd),{collection:_0x4b3c83,invoicemoney:_0x37e7da,collectionnumber:_0x1be564,typeofpayment:_0x4f16be,cashdate:_0x4d19ce,id_detl:_0xdfd18f}=_0x1fd80c[_0x538fb8(0x20a)];_0x576e54[_0x538fb8(0x1e9)](_0xc414db);return;if(typeof _0xdfd18f==_0x538fb8(0x204))var _0x1c4588=[_0x1fd80c['body']['id_detl']],_0x257b4f=[_0x1fd80c[_0x538fb8(0x20a)][_0x538fb8(0x1e5)]],_0x4b3fd4=[_0x1fd80c[_0x538fb8(0x20a)][_0x538fb8(0x1e4)]],_0x49863d=[_0x1fd80c[_0x538fb8(0x20a)]['fin_disc']],_0x2d770d=[_0x1fd80c['body'][_0x538fb8(0x1f0)]],_0x8e2f93=[_0x1fd80c[_0x538fb8(0x20a)]['bo_disc']],_0x18e8fd=[_0x1fd80c[_0x538fb8(0x20a)][_0x538fb8(0x1ef)]];else var _0x1c4588=[..._0x1fd80c['body'][_0x538fb8(0x205)]],_0x257b4f=[..._0x1fd80c[_0x538fb8(0x20a)][_0x538fb8(0x1e5)]],_0x4b3fd4=[..._0x1fd80c[_0x538fb8(0x20a)]['spwp']],_0x49863d=[..._0x1fd80c[_0x538fb8(0x20a)]['fin_disc']],_0x2d770d=[..._0x1fd80c['body']['vol_deals']],_0x8e2f93=[..._0x1fd80c[_0x538fb8(0x20a)][_0x538fb8(0x1f1)]],_0x18e8fd=[..._0x1fd80c['body'][_0x538fb8(0x1ef)]];const _0x3c4ad6=_0x1c4588[_0x538fb8(0x21d)](_0x2200d6=>{return _0x2200d6={'id_detl':_0x2200d6};});_0x257b4f[_0x538fb8(0x227)]((_0x28d46f,_0x393f2e)=>{var _0x45747f=_0x538fb8;_0x3c4ad6[_0x393f2e][_0x45747f(0x1e5)]=_0x28d46f;}),_0x4b3fd4['forEach']((_0x2ac4db,_0x32ca8a)=>{var _0x156000=_0x538fb8;_0x3c4ad6[_0x32ca8a][_0x156000(0x1e4)]=_0x2ac4db;}),_0x49863d[_0x538fb8(0x227)]((_0x5443de,_0xf7f85f)=>{var _0x5ce283=_0x538fb8;_0x3c4ad6[_0xf7f85f][_0x5ce283(0x1fc)]=_0x5443de;}),_0x2d770d[_0x538fb8(0x227)]((_0x197efb,_0x2c922c)=>{var _0x13b0e9=_0x538fb8;_0x3c4ad6[_0x2c922c][_0x13b0e9(0x1f0)]=_0x197efb;}),_0x8e2f93[_0x538fb8(0x227)]((_0x31611a,_0x4128c2)=>{var _0x2d6bee=_0x538fb8;_0x3c4ad6[_0x4128c2][_0x2d6bee(0x1f1)]=_0x31611a;}),_0x18e8fd[_0x538fb8(0x227)]((_0x266502,_0x56bc63)=>{var _0x3e2552=_0x538fb8;_0x3c4ad6[_0x56bc63][_0x3e2552(0x1ec)]=_0x266502;}),_0xc414db[_0x538fb8(0x208)]=_0x4b3c83,_0xc414db[_0x538fb8(0x1f5)]=_0x1be564,_0xc414db[_0x538fb8(0x1e7)]=_0x4f16be,_0xc414db[_0x538fb8(0x1f4)]=_0x4d19ce,_0xc414db[_0x538fb8(0x1ed)]=_0x538fb8(0x21f);const _0x5356ac=await _0xc414db['save']();if(_0x5356ac[_0x538fb8(0x1ed)]==_0x538fb8(0x21f))for(let _0x3ec1a3=0x0;_0x3ec1a3<=_0x3c4ad6[_0x538fb8(0x1e1)]-0x1;_0x3ec1a3++){const _0x480663=_0x3c4ad6[_0x3ec1a3],_0x5d0091=mongoose[_0x538fb8(0x203)][_0x538fb8(0x1f6)];console[_0x538fb8(0x226)](_0x480663);const _0x5a9706=await sales_sa[_0x538fb8(0x219)]({'_id':_0x5d0091(_0x515cdd['valueOf']()),'sale_product._id':_0x5d0091(_0x480663[_0x538fb8(0x205)][_0x538fb8(0x217)]())},{'$set':{'sale_product.$.ewt':_0x480663[_0x538fb8(0x1e5)],'sale_product.$.spwp':_0x480663[_0x538fb8(0x1e4)],'sale_product.$.fin_disc':_0x480663[_0x538fb8(0x1fc)],'sale_product.$.vol_deals':_0x480663['vol_deals'],'sale_product.$.bo_disc':_0x480663[_0x538fb8(0x1f1)],'sale_product.$.totalprice':parseFloat(_0x480663[_0x538fb8(0x1ec)])}});}_0x1fd80c[_0x538fb8(0x221)]('success',_0x538fb8(0x213)),_0x576e54[_0x538fb8(0x209)](_0x538fb8(0x225)+_0x515cdd);}catch(_0x5d3b31){console['log'](_0x5d3b31);}}),router['get'](a0_0x5c14a4(0x20e),auth,async(_0x392c40,_0x3b9740)=>{var _0x35f29c=a0_0x5c14a4;try{const _0x53f11b=await master_shop['find'](),_0x301186=_0x392c40[_0x35f29c(0x218)],_0x26b3a4=await profile[_0x35f29c(0x21b)]({'email':_0x301186[_0x35f29c(0x1e2)]}),_0x17707d=await staff[_0x35f29c(0x21b)]({'email':_0x301186[_0x35f29c(0x1e2)],'type_of_acc_cat':'2'});let _0x55e13b=[];_0x17707d!=null&&(_0x55e13b=await sales_order[_0x35f29c(0x201)]({'sales_staff_id':_0x17707d[_0x35f29c(0x215)]}));console[_0x35f29c(0x226)](_0x55e13b);if(_0x53f11b[0x0][_0x35f29c(0x1fe)]==_0x35f29c(0x1f9))var _0x4a1b50=users['English'];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]==_0x35f29c(0x210))var _0x4a1b50=users['Hindi'];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]==_0x35f29c(0x21e))var _0x4a1b50=users[_0x35f29c(0x21e)];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]==_0x35f29c(0x1e0))var _0x4a1b50=users[_0x35f29c(0x1e0)];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]==_0x35f29c(0x1f8))var _0x4a1b50=users[_0x35f29c(0x1f8)];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]==_0x35f29c(0x1e6))var _0x4a1b50=users[_0x35f29c(0x1ee)];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]=='Chinese')var _0x4a1b50=users[_0x35f29c(0x212)];else{if(_0x53f11b[0x0][_0x35f29c(0x1fe)]=='Arabic\x20(ae)')var _0x4a1b50=users[_0x35f29c(0x1fd)];}}}}}}}_0x3b9740[_0x35f29c(0x202)](_0x35f29c(0x222),{'success':_0x392c40[_0x35f29c(0x221)](_0x35f29c(0x1e8)),'errors':_0x392c40[_0x35f29c(0x221)](_0x35f29c(0x1d2)),'master_shop':_0x53f11b,'profile':_0x26b3a4,'role':_0x301186,'language':_0x4a1b50,'sales_mine':_0x55e13b,'staff_arr':_0x17707d});}catch(_0x20ce5f){console['log'](_0x20ce5f);}}),router['get'](a0_0x5c14a4(0x1f2),auth,async(_0x525733,_0x22521a)=>{var _0x5bc476=a0_0x5c14a4;try{const _0x43dc9d=await master_shop[_0x5bc476(0x201)](),_0x37455f=_0x525733[_0x5bc476(0x218)],_0x55dbbb=await profile[_0x5bc476(0x21b)]({'email':_0x37455f[_0x5bc476(0x1e2)]}),_0x53cb1d=await staff[_0x5bc476(0x21b)]({'email':_0x37455f[_0x5bc476(0x1e2)]}),_0x142d18=await customer['find']({'agent_id':_0x53cb1d['_id']}),_0x2c5061=_0x525733[_0x5bc476(0x223)]['id'],_0x1afc10=await sales_order[_0x5bc476(0x1d6)](_0x2c5061);if(_0x43dc9d[0x0][_0x5bc476(0x1fe)]==_0x5bc476(0x1f9))var _0x2cecab=users[_0x5bc476(0x1eb)];else{if(_0x43dc9d[0x0][_0x5bc476(0x1fe)]==_0x5bc476(0x210))var _0x2cecab=users[_0x5bc476(0x210)];else{if(_0x43dc9d[0x0][_0x5bc476(0x1fe)]==_0x5bc476(0x21e))var _0x2cecab=users[_0x5bc476(0x21e)];else{if(_0x43dc9d[0x0]['language']==_0x5bc476(0x1e0))var _0x2cecab=users[_0x5bc476(0x1e0)];else{if(_0x43dc9d[0x0][_0x5bc476(0x1fe)]=='French')var _0x2cecab=users[_0x5bc476(0x1f8)];else{if(_0x43dc9d[0x0]['language']==_0x5bc476(0x1e6))var _0x2cecab=users[_0x5bc476(0x1ee)];else{if(_0x43dc9d[0x0][_0x5bc476(0x1fe)]==_0x5bc476(0x212))var _0x2cecab=users[_0x5bc476(0x212)];else{if(_0x43dc9d[0x0][_0x5bc476(0x1fe)]==_0x5bc476(0x1d9))var _0x2cecab=users[_0x5bc476(0x1fd)];}}}}}}}_0x22521a[_0x5bc476(0x202)](_0x5bc476(0x211),{'success':_0x525733[_0x5bc476(0x221)](_0x5bc476(0x1e8)),'errors':_0x525733[_0x5bc476(0x221)](_0x5bc476(0x1d2)),'master_shop':_0x43dc9d,'profile':_0x55dbbb,'role':_0x37455f,'language':_0x2cecab,'customer':_0x142d18,'sales_sa':_0x1afc10});}catch(_0x4f56be){console[_0x5bc476(0x226)](_0x4f56be);}}),router['get']('/view_x',auth,async(_0x214112,_0x2a7f10)=>{var _0x442c7b=a0_0x5c14a4;try{const _0x3b5975=await master_shop[_0x442c7b(0x201)](),_0x50b738=_0x214112['user'],_0x4741ff=await profile[_0x442c7b(0x21b)]({'email':_0x50b738[_0x442c7b(0x1e2)]}),_0x5d3d87=await staff['findOne']({'email':_0x50b738[_0x442c7b(0x1e2)],'type_of_acc_cat':'1'});let _0x119c60=[];_0x5d3d87!=null&&(_0x119c60=await sales_sa[_0x442c7b(0x201)]({'sales_staff_id':_0x5d3d87[_0x442c7b(0x215)]}));if(_0x3b5975[0x0][_0x442c7b(0x1fe)]==_0x442c7b(0x1f9))var _0x53f21f=users[_0x442c7b(0x1eb)];else{if(_0x3b5975[0x0]['language']=='Hindi')var _0x53f21f=users[_0x442c7b(0x210)];else{if(_0x3b5975[0x0][_0x442c7b(0x1fe)]==_0x442c7b(0x21e))var _0x53f21f=users['German'];else{if(_0x3b5975[0x0]['language']=='Spanish')var _0x53f21f=users[_0x442c7b(0x1e0)];else{if(_0x3b5975[0x0][_0x442c7b(0x1fe)]=='French')var _0x53f21f=users[_0x442c7b(0x1f8)];else{if(_0x3b5975[0x0][_0x442c7b(0x1fe)]==_0x442c7b(0x1e6))var _0x53f21f=users[_0x442c7b(0x1ee)];else{if(_0x3b5975[0x0][_0x442c7b(0x1fe)]==_0x442c7b(0x212))var _0x53f21f=users[_0x442c7b(0x212)];else{if(_0x3b5975[0x0]['language']=='Arabic\x20(ae)')var _0x53f21f=users[_0x442c7b(0x1fd)];}}}}}}}_0x2a7f10['render']('collection_xt',{'success':_0x214112[_0x442c7b(0x221)](_0x442c7b(0x1e8)),'errors':_0x214112[_0x442c7b(0x221)](_0x442c7b(0x1d2)),'master_shop':_0x3b5975,'profile':_0x4741ff,'role':_0x50b738,'language':_0x53f21f,'sales_mine':_0x119c60,'staff_arr':_0x5d3d87});}catch(_0x3e8aba){console[_0x442c7b(0x226)](_0x3e8aba);}}),router[a0_0x5c14a4(0x1d3)](a0_0x5c14a4(0x20d),auth,async(_0x28a33d,_0x1fc374)=>{var _0x20050b=a0_0x5c14a4;try{const _0x375969=await master_shop[_0x20050b(0x201)](),_0x56367c=_0x28a33d[_0x20050b(0x218)],_0x33153f=await profile['findOne']({'email':_0x56367c[_0x20050b(0x1e2)]}),_0x25a64f=await staff[_0x20050b(0x21b)]({'email':_0x56367c['email']}),_0x43db72=await customer[_0x20050b(0x201)]({'agent_id':_0x25a64f[_0x20050b(0x215)]}),_0x201dfe=_0x28a33d[_0x20050b(0x223)]['id'],_0x10276b=await sales_sa[_0x20050b(0x1d6)](_0x201dfe);if(_0x375969[0x0][_0x20050b(0x1fe)]==_0x20050b(0x1f9))var _0x19e7a9=users[_0x20050b(0x1eb)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]=='Hindi')var _0x19e7a9=users[_0x20050b(0x210)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]==_0x20050b(0x21e))var _0x19e7a9=users[_0x20050b(0x21e)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]=='Spanish')var _0x19e7a9=users[_0x20050b(0x1e0)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]==_0x20050b(0x1f8))var _0x19e7a9=users[_0x20050b(0x1f8)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]==_0x20050b(0x1e6))var _0x19e7a9=users[_0x20050b(0x1ee)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]==_0x20050b(0x212))var _0x19e7a9=users[_0x20050b(0x212)];else{if(_0x375969[0x0][_0x20050b(0x1fe)]==_0x20050b(0x1d9))var _0x19e7a9=users[_0x20050b(0x1fd)];}}}}}}}_0x1fc374['render'](_0x20050b(0x1fb),{'success':_0x28a33d[_0x20050b(0x221)](_0x20050b(0x1e8)),'errors':_0x28a33d[_0x20050b(0x221)](_0x20050b(0x1d2)),'master_shop':_0x375969,'profile':_0x33153f,'role':_0x56367c,'language':_0x19e7a9,'customer':_0x43db72,'sales_sa':_0x10276b,'staff_arr':_0x25a64f});}catch(_0x28d827){console[_0x20050b(0x226)](_0x28d827);}}),router[a0_0x5c14a4(0x1f3)](a0_0x5c14a4(0x20d),auth,async(_0x45eb5b,_0x4a0493)=>{var _0x1a3b6e=a0_0x5c14a4;try{const _0x139f90=_0x45eb5b['params']['id'],_0x546538=await sales_sa[_0x1a3b6e(0x1d6)](_0x139f90),{collection:_0x32251a,invoicemoney:_0x25e5c3,collectionnumber:_0x4092a3,typeofpayment:_0x7b7c8,cashdate:_0x1edd58,id_detl:_0x513023}=_0x45eb5b[_0x1a3b6e(0x20a)];if(typeof _0x513023==_0x1a3b6e(0x204))var _0x36876a=[_0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x205)]],_0xd0f337=[_0x45eb5b[_0x1a3b6e(0x20a)]['ewt']],_0xfae119=[_0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1e4)]],_0x4d245b=[_0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1fc)]],_0x33934b=[_0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1f0)]],_0x18ca0a=[_0x45eb5b[_0x1a3b6e(0x20a)]['bo_disc']],_0x16a125=[_0x45eb5b[_0x1a3b6e(0x20a)]['totalNewPrice']];else var _0x36876a=[..._0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x205)]],_0xd0f337=[..._0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1e5)]],_0xfae119=[..._0x45eb5b['body'][_0x1a3b6e(0x1e4)]],_0x4d245b=[..._0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1fc)]],_0x33934b=[..._0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1f0)]],_0x18ca0a=[..._0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1f1)]],_0x16a125=[..._0x45eb5b[_0x1a3b6e(0x20a)][_0x1a3b6e(0x1ef)]];const _0x347140=_0x36876a[_0x1a3b6e(0x21d)](_0x2f892a=>{return _0x2f892a={'id_detl':_0x2f892a};});_0xd0f337[_0x1a3b6e(0x227)]((_0x2d370b,_0x2ae1d9)=>{var _0x2fa0a1=_0x1a3b6e;_0x347140[_0x2ae1d9][_0x2fa0a1(0x1e5)]=_0x2d370b;}),_0xfae119[_0x1a3b6e(0x227)]((_0x57837e,_0x56f809)=>{_0x347140[_0x56f809]['spwp']=_0x57837e;}),_0x4d245b[_0x1a3b6e(0x227)]((_0x285b1c,_0x4be575)=>{var _0x3532c2=_0x1a3b6e;_0x347140[_0x4be575][_0x3532c2(0x1fc)]=_0x285b1c;}),_0x33934b['forEach']((_0x11a878,_0x3fd643)=>{_0x347140[_0x3fd643]['vol_deals']=_0x11a878;}),_0x18ca0a['forEach']((_0x160a5f,_0x1fb9a4)=>{var _0x4c6315=_0x1a3b6e;_0x347140[_0x1fb9a4][_0x4c6315(0x1f1)]=_0x160a5f;}),_0x16a125[_0x1a3b6e(0x227)]((_0x47c411,_0x14bff1)=>{_0x347140[_0x14bff1]['totalcollection']=_0x47c411;}),_0x546538[_0x1a3b6e(0x208)]=_0x32251a,_0x546538[_0x1a3b6e(0x1f5)]=_0x4092a3,_0x546538[_0x1a3b6e(0x1e7)]=_0x7b7c8,_0x546538[_0x1a3b6e(0x1f4)]=_0x1edd58,_0x546538[_0x1a3b6e(0x1ed)]=_0x1a3b6e(0x21f),_0x546538[_0x1a3b6e(0x1fa)]='1';const _0x53cbe3=await _0x546538[_0x1a3b6e(0x1d4)]();if(_0x53cbe3[_0x1a3b6e(0x1ed)]==_0x1a3b6e(0x21f))for(let _0x4f1bc1=0x0;_0x4f1bc1<=_0x347140[_0x1a3b6e(0x1e1)]-0x1;_0x4f1bc1++){const _0x1d88f7=_0x347140[_0x4f1bc1],_0x191aa4=mongoose['Types'][_0x1a3b6e(0x1f6)];console[_0x1a3b6e(0x226)](_0x1d88f7);const _0x4f33d1=await sales_sa[_0x1a3b6e(0x219)]({'_id':_0x191aa4(_0x139f90[_0x1a3b6e(0x217)]()),'sale_product._id':_0x191aa4(_0x1d88f7[_0x1a3b6e(0x205)]['valueOf']())},{'$set':{'sale_product.$.ewt':_0x1d88f7[_0x1a3b6e(0x1e5)],'sale_product.$.spwp':_0x1d88f7['spwp'],'sale_product.$.fin_disc':_0x1d88f7[_0x1a3b6e(0x1fc)],'sale_product.$.vol_deals':_0x1d88f7[_0x1a3b6e(0x1f0)],'sale_product.$.bo_disc':_0x1d88f7['bo_disc'],'sale_product.$.totalprice':parseFloat(_0x1d88f7['totalcollection'])}});}_0x45eb5b[_0x1a3b6e(0x221)](_0x1a3b6e(0x1e8),_0x1a3b6e(0x213)),_0x4a0493[_0x1a3b6e(0x209)](_0x1a3b6e(0x225)+_0x139f90);}catch(_0x1cd418){console['log'](_0x1cd418);}}),router[a0_0x5c14a4(0x1d3)](a0_0x5c14a4(0x1d5),auth,async(_0xb53a88,_0x24409a)=>{var _0x34027c=a0_0x5c14a4;try{const _0x36f3f8=await master_shop[_0x34027c(0x201)](),_0x42e5ca=_0xb53a88[_0x34027c(0x218)],_0x39d70b=await profile[_0x34027c(0x21b)]({'email':_0x42e5ca[_0x34027c(0x1e2)]}),_0x234d52=await staff[_0x34027c(0x21b)]({'email':_0x42e5ca['email'],'type_of_acc_cat':'1'});let _0x468ea8=[];_0x234d52!=null&&(_0x468ea8=await sales_order[_0x34027c(0x201)]({'sales_staff_id':_0x234d52[_0x34027c(0x215)]}));if(_0x36f3f8[0x0]['language']==_0x34027c(0x1f9))var _0x40fcd1=users[_0x34027c(0x1eb)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]==_0x34027c(0x210))var _0x40fcd1=users[_0x34027c(0x210)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]=='German')var _0x40fcd1=users[_0x34027c(0x21e)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]=='Spanish')var _0x40fcd1=users[_0x34027c(0x1e0)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]=='French')var _0x40fcd1=users[_0x34027c(0x1f8)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]=='Portuguese\x20(BR)')var _0x40fcd1=users[_0x34027c(0x1ee)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]==_0x34027c(0x212))var _0x40fcd1=users[_0x34027c(0x212)];else{if(_0x36f3f8[0x0][_0x34027c(0x1fe)]=='Arabic\x20(ae)')var _0x40fcd1=users['Arabic'];}}}}}}}_0x24409a[_0x34027c(0x202)](_0x34027c(0x1e3),{'success':_0xb53a88[_0x34027c(0x221)](_0x34027c(0x1e8)),'errors':_0xb53a88['flash'](_0x34027c(0x1d2)),'master_shop':_0x36f3f8,'profile':_0x39d70b,'role':_0x42e5ca,'language':_0x40fcd1,'sales_mine':_0x468ea8,'staff_arr':_0x234d52});}catch(_0x115126){console['log'](_0x115126);}}),router[a0_0x5c14a4(0x1d3)](a0_0x5c14a4(0x1ff),auth,async(_0x2ba522,_0x4e96dd)=>{var _0x4f0c53=a0_0x5c14a4;try{const _0x3e51c9=await master_shop[_0x4f0c53(0x201)](),_0x584bc3=_0x2ba522[_0x4f0c53(0x218)],_0x45d8db=await profile[_0x4f0c53(0x21b)]({'email':_0x584bc3[_0x4f0c53(0x1e2)]}),_0x490b16=await staff[_0x4f0c53(0x21b)]({'email':_0x584bc3[_0x4f0c53(0x1e2)]}),_0xfdadbe=await customer[_0x4f0c53(0x201)]({'agent_id':_0x490b16[_0x4f0c53(0x215)]}),_0x3e19ce=_0x2ba522[_0x4f0c53(0x223)]['id'],_0x673419=await sales_order[_0x4f0c53(0x1d6)](_0x3e19ce);if(_0x3e51c9[0x0][_0x4f0c53(0x1fe)]==_0x4f0c53(0x1f9))var _0x16af95=users[_0x4f0c53(0x1eb)];else{if(_0x3e51c9[0x0][_0x4f0c53(0x1fe)]==_0x4f0c53(0x210))var _0x16af95=users['Hindi'];else{if(_0x3e51c9[0x0]['language']==_0x4f0c53(0x21e))var _0x16af95=users[_0x4f0c53(0x21e)];else{if(_0x3e51c9[0x0][_0x4f0c53(0x1fe)]=='Spanish')var _0x16af95=users[_0x4f0c53(0x1e0)];else{if(_0x3e51c9[0x0][_0x4f0c53(0x1fe)]==_0x4f0c53(0x1f8))var _0x16af95=users[_0x4f0c53(0x1f8)];else{if(_0x3e51c9[0x0][_0x4f0c53(0x1fe)]==_0x4f0c53(0x1e6))var _0x16af95=users['Portuguese'];else{if(_0x3e51c9[0x0]['language']=='Chinese')var _0x16af95=users[_0x4f0c53(0x212)];else{if(_0x3e51c9[0x0][_0x4f0c53(0x1fe)]=='Arabic\x20(ae)')var _0x16af95=users[_0x4f0c53(0x1fd)];}}}}}}}_0x4e96dd[_0x4f0c53(0x202)]('view_collections_so_xt',{'success':_0x2ba522[_0x4f0c53(0x221)](_0x4f0c53(0x1e8)),'errors':_0x2ba522['flash']('errors'),'master_shop':_0x3e51c9,'profile':_0x45d8db,'role':_0x584bc3,'language':_0x16af95,'customer':_0xfdadbe,'sales_sa':_0x673419,'staff_arr':_0x490b16});}catch(_0x4f1887){console['log'](_0x4f1887);}}),router[a0_0x5c14a4(0x1f3)](a0_0x5c14a4(0x1ff),auth,async(_0x4e6218,_0x20c60c)=>{var _0x484a2c=a0_0x5c14a4;try{const _0x4967bd=_0x4e6218[_0x484a2c(0x223)]['id'],_0x848cbc=await sales_order['findById'](_0x4967bd),{collection:_0x67ab30,invoicemoney:_0x2498c0,collectionnumber:_0x3f74fb,typeofpayment:_0x36b94d,cashdate:_0x5634cc,id_detl:_0x3aae4e}=_0x4e6218[_0x484a2c(0x20a)];_0x848cbc['collection_price']=_0x67ab30,_0x848cbc['type_of_payment']=_0x36b94d,_0x848cbc[_0x484a2c(0x1f4)]=_0x5634cc,_0x848cbc[_0x484a2c(0x1ed)]=_0x484a2c(0x21f),_0x848cbc['typeofprocess']='1';const _0x4a7afb=await _0x848cbc[_0x484a2c(0x1d4)]();_0x4e6218['flash'](_0x484a2c(0x1e8),'Collection\x20Update\x20successfully'),_0x20c60c[_0x484a2c(0x209)](_0x484a2c(0x1dc)+_0x4967bd);}catch(_0x319189){console[_0x484a2c(0x226)](_0x319189);}}),module[a0_0x5c14a4(0x207)]=router;