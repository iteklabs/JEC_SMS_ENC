var a0_0x5a8879=a0_0x15aa;function a0_0x15aa(_0x52d13b,_0x351c01){var _0x2c3d87=a0_0x2c3d();return a0_0x15aa=function(_0x15aad3,_0x407688){_0x15aad3=_0x15aad3-0x12b;var _0x1870e5=_0x2c3d87[_0x15aad3];return _0x1870e5;},a0_0x15aa(_0x52d13b,_0x351c01);}(function(_0x241952,_0x5a172){var _0x1093f0=a0_0x15aa,_0x332b19=_0x241952();while(!![]){try{var _0x698717=-parseInt(_0x1093f0(0x133))/0x1+parseInt(_0x1093f0(0x177))/0x2+-parseInt(_0x1093f0(0x153))/0x3*(parseInt(_0x1093f0(0x171))/0x4)+parseInt(_0x1093f0(0x157))/0x5+parseInt(_0x1093f0(0x17e))/0x6+-parseInt(_0x1093f0(0x130))/0x7+parseInt(_0x1093f0(0x173))/0x8*(parseInt(_0x1093f0(0x135))/0x9);if(_0x698717===_0x5a172)break;else _0x332b19['push'](_0x332b19['shift']());}catch(_0x38f037){_0x332b19['push'](_0x332b19['shift']());}}}(a0_0x2c3d,0x85e63));function a0_0x2c3d(){var _0x101058=['Chinese','/view/:id','/x_so','render','Hindi','totalNewPrice','updateOne','ewt','French','/view_sox/:id','/view_so_xt/:id','spwp','typeofprocess','1855965gmrXGA','user','Types','exports','1997080SUMgjN','save','email','Arabic','find','view_collections_so_xt','ObjectId','flash','string','xlsx','/view_x','type_of_payment','/view','English','fin_disc','totalcollection','/collection/view/','collectionnumber','vol_deals','multer','Router','English\x20(US)','True','Portuguese\x20(BR)','valueOf','exceljs','4sWUCDW','view_collections_sox','99992OYHlKQ','../models/all_models','../middleware/auth','errors','1379650zskqnZ','German','/view_xt/:id','length','collection_price','findById','_id','3622242lAAweB','success','mongoose','forEach','body','map','Collection\x20Update\x20successfully','2157148DGLUFh','params','../public/language/languages.json','1080109bEDEpZ','paid','621xOUSfb','express','view_collections','post','Spanish','Portuguese','redirect','bo_disc','view_collections_xt','findOne','Arabic\x20(ae)','log','/collection/view_so_xt/','cash_date','language','get','id_detl'];a0_0x2c3d=function(){return _0x101058;};return a0_0x2c3d();}const express=require(a0_0x5a8879(0x136)),app=express(),router=express[a0_0x5a8879(0x16b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_sa,sales_order}=require(a0_0x5a8879(0x174)),auth=require(a0_0x5a8879(0x175)),users=require(a0_0x5a8879(0x132)),excelJS=require(a0_0x5a8879(0x170)),xlsx=require(a0_0x5a8879(0x160)),multer=require(a0_0x5a8879(0x16a)),mongoose=require(a0_0x5a8879(0x12b));router[a0_0x5a8879(0x144)](a0_0x5a8879(0x163),auth,async(_0x5cf4b2,_0x5e8dae)=>{var _0x2db5ff=a0_0x5a8879;try{const _0x46dac3=await master_shop[_0x2db5ff(0x15b)](),_0x1967eb=_0x5cf4b2[_0x2db5ff(0x154)],_0xd8f9f5=await profile[_0x2db5ff(0x13e)]({'email':_0x1967eb[_0x2db5ff(0x159)]}),_0x1b3482=await staff[_0x2db5ff(0x13e)]({'email':_0x1967eb[_0x2db5ff(0x159)],'type_of_acc_cat':'2'});let _0x1926a0=[];_0x1b3482!=null&&(_0x1926a0=await sales_order[_0x2db5ff(0x15b)]({'sales_staff_id':_0x1b3482[_0x2db5ff(0x17d)]}));if(_0x46dac3[0x0][_0x2db5ff(0x143)]==_0x2db5ff(0x16c))var _0x3a5587=users[_0x2db5ff(0x164)];else{if(_0x46dac3[0x0][_0x2db5ff(0x143)]==_0x2db5ff(0x14a))var _0x3a5587=users[_0x2db5ff(0x14a)];else{if(_0x46dac3[0x0][_0x2db5ff(0x143)]==_0x2db5ff(0x178))var _0x3a5587=users['German'];else{if(_0x46dac3[0x0][_0x2db5ff(0x143)]=='Spanish')var _0x3a5587=users[_0x2db5ff(0x139)];else{if(_0x46dac3[0x0]['language']==_0x2db5ff(0x14e))var _0x3a5587=users[_0x2db5ff(0x14e)];else{if(_0x46dac3[0x0][_0x2db5ff(0x143)]==_0x2db5ff(0x16e))var _0x3a5587=users['Portuguese'];else{if(_0x46dac3[0x0]['language']==_0x2db5ff(0x146))var _0x3a5587=users['Chinese'];else{if(_0x46dac3[0x0][_0x2db5ff(0x143)]==_0x2db5ff(0x13f))var _0x3a5587=users['Arabic'];}}}}}}}_0x5e8dae[_0x2db5ff(0x149)]('collection',{'success':_0x5cf4b2['flash'](_0x2db5ff(0x17f)),'errors':_0x5cf4b2[_0x2db5ff(0x15e)](_0x2db5ff(0x176)),'master_shop':_0x46dac3,'profile':_0xd8f9f5,'role':_0x1967eb,'language':_0x3a5587,'sales_mine':_0x1926a0,'staff_arr':_0x1b3482});}catch(_0x5b4f30){console[_0x2db5ff(0x140)](_0x5b4f30);}}),router['get'](a0_0x5a8879(0x147),auth,async(_0x255977,_0x2a2b6c)=>{var _0x11dd94=a0_0x5a8879;try{const _0x48386e=await master_shop['find'](),_0x1bc578=_0x255977[_0x11dd94(0x154)],_0x180b04=await profile[_0x11dd94(0x13e)]({'email':_0x1bc578[_0x11dd94(0x159)]}),_0x1ff851=await staff[_0x11dd94(0x13e)]({'email':_0x1bc578[_0x11dd94(0x159)]}),_0x31e200=await customer[_0x11dd94(0x15b)]({'agent_id':_0x1ff851['_id']}),_0x1315ea=_0x255977[_0x11dd94(0x131)]['id'],_0x2e8083=await sales_sa[_0x11dd94(0x17c)](_0x1315ea);if(_0x48386e[0x0][_0x11dd94(0x143)]=='English\x20(US)')var _0x1ef6df=users[_0x11dd94(0x164)];else{if(_0x48386e[0x0][_0x11dd94(0x143)]=='Hindi')var _0x1ef6df=users['Hindi'];else{if(_0x48386e[0x0][_0x11dd94(0x143)]==_0x11dd94(0x178))var _0x1ef6df=users[_0x11dd94(0x178)];else{if(_0x48386e[0x0][_0x11dd94(0x143)]==_0x11dd94(0x139))var _0x1ef6df=users[_0x11dd94(0x139)];else{if(_0x48386e[0x0][_0x11dd94(0x143)]=='French')var _0x1ef6df=users[_0x11dd94(0x14e)];else{if(_0x48386e[0x0][_0x11dd94(0x143)]=='Portuguese\x20(BR)')var _0x1ef6df=users[_0x11dd94(0x13a)];else{if(_0x48386e[0x0][_0x11dd94(0x143)]==_0x11dd94(0x146))var _0x1ef6df=users['Chinese'];else{if(_0x48386e[0x0][_0x11dd94(0x143)]==_0x11dd94(0x13f))var _0x1ef6df=users[_0x11dd94(0x15a)];}}}}}}}_0x2a2b6c[_0x11dd94(0x149)](_0x11dd94(0x137),{'success':_0x255977['flash'](_0x11dd94(0x17f)),'errors':_0x255977['flash'](_0x11dd94(0x176)),'master_shop':_0x48386e,'profile':_0x180b04,'role':_0x1bc578,'language':_0x1ef6df,'customer':_0x31e200,'sales_sa':_0x2e8083,'staff_arr':_0x1ff851});}catch(_0x1e66b2){console['log'](_0x1e66b2);}}),router[a0_0x5a8879(0x138)](a0_0x5a8879(0x147),auth,async(_0x3cdae7,_0xd47e91)=>{var _0x484521=a0_0x5a8879;try{const _0x1cc11e=_0x3cdae7['params']['id'],_0x23bcdd=await sales_sa[_0x484521(0x17c)](_0x1cc11e),{collection:_0x28b8e0,invoicemoney:_0x15b96f,collectionnumber:_0x4a5170,typeofpayment:_0x1fd3a8,cashdate:_0x8ce113,id_detl:_0x3d2946}=_0x3cdae7['body'];_0xd47e91['json'](_0x23bcdd);return;if(typeof _0x3d2946==_0x484521(0x15f))var _0x5e9cac=[_0x3cdae7['body'][_0x484521(0x145)]],_0x1876b4=[_0x3cdae7[_0x484521(0x12d)][_0x484521(0x14d)]],_0x56a22b=[_0x3cdae7[_0x484521(0x12d)][_0x484521(0x151)]],_0x5af6a4=[_0x3cdae7[_0x484521(0x12d)]['fin_disc']],_0x49bee9=[_0x3cdae7[_0x484521(0x12d)][_0x484521(0x169)]],_0x1f587a=[_0x3cdae7[_0x484521(0x12d)][_0x484521(0x13c)]],_0x12e5de=[_0x3cdae7[_0x484521(0x12d)][_0x484521(0x14b)]];else var _0x5e9cac=[..._0x3cdae7[_0x484521(0x12d)][_0x484521(0x145)]],_0x1876b4=[..._0x3cdae7[_0x484521(0x12d)][_0x484521(0x14d)]],_0x56a22b=[..._0x3cdae7['body'][_0x484521(0x151)]],_0x5af6a4=[..._0x3cdae7[_0x484521(0x12d)][_0x484521(0x165)]],_0x49bee9=[..._0x3cdae7[_0x484521(0x12d)]['vol_deals']],_0x1f587a=[..._0x3cdae7[_0x484521(0x12d)][_0x484521(0x13c)]],_0x12e5de=[..._0x3cdae7[_0x484521(0x12d)][_0x484521(0x14b)]];const _0x58a949=_0x5e9cac[_0x484521(0x12e)](_0x14c25a=>{return _0x14c25a={'id_detl':_0x14c25a};});_0x1876b4[_0x484521(0x12c)]((_0x348544,_0x94141f)=>{var _0x53d7a0=_0x484521;_0x58a949[_0x94141f][_0x53d7a0(0x14d)]=_0x348544;}),_0x56a22b[_0x484521(0x12c)]((_0x3fc5db,_0x6153d2)=>{var _0x173b34=_0x484521;_0x58a949[_0x6153d2][_0x173b34(0x151)]=_0x3fc5db;}),_0x5af6a4['forEach']((_0x195033,_0x1def31)=>{_0x58a949[_0x1def31]['fin_disc']=_0x195033;}),_0x49bee9[_0x484521(0x12c)]((_0x1677f,_0x123eb0)=>{_0x58a949[_0x123eb0]['vol_deals']=_0x1677f;}),_0x1f587a[_0x484521(0x12c)]((_0x4e85cc,_0x430fff)=>{var _0x19582e=_0x484521;_0x58a949[_0x430fff][_0x19582e(0x13c)]=_0x4e85cc;}),_0x12e5de[_0x484521(0x12c)]((_0x381830,_0x2cab98)=>{var _0x1432a0=_0x484521;_0x58a949[_0x2cab98][_0x1432a0(0x166)]=_0x381830;}),_0x23bcdd[_0x484521(0x17b)]=_0x28b8e0,_0x23bcdd[_0x484521(0x168)]=_0x4a5170,_0x23bcdd[_0x484521(0x162)]=_0x1fd3a8,_0x23bcdd[_0x484521(0x142)]=_0x8ce113,_0x23bcdd[_0x484521(0x134)]=_0x484521(0x16d);const _0x42afb9=await _0x23bcdd[_0x484521(0x158)]();if(_0x42afb9[_0x484521(0x134)]=='True')for(let _0x15f464=0x0;_0x15f464<=_0x58a949['length']-0x1;_0x15f464++){const _0x183444=_0x58a949[_0x15f464],_0x23a860=mongoose[_0x484521(0x155)][_0x484521(0x15d)];console['log'](_0x183444);const _0x1c5a6f=await sales_sa[_0x484521(0x14c)]({'_id':_0x23a860(_0x1cc11e[_0x484521(0x16f)]()),'sale_product._id':_0x23a860(_0x183444[_0x484521(0x145)][_0x484521(0x16f)]())},{'$set':{'sale_product.$.ewt':_0x183444[_0x484521(0x14d)],'sale_product.$.spwp':_0x183444[_0x484521(0x151)],'sale_product.$.fin_disc':_0x183444[_0x484521(0x165)],'sale_product.$.vol_deals':_0x183444[_0x484521(0x169)],'sale_product.$.bo_disc':_0x183444[_0x484521(0x13c)],'sale_product.$.totalprice':parseFloat(_0x183444[_0x484521(0x166)])}});}_0x3cdae7[_0x484521(0x15e)](_0x484521(0x17f),_0x484521(0x12f)),_0xd47e91[_0x484521(0x13b)](_0x484521(0x167)+_0x1cc11e);}catch(_0x4e5569){console[_0x484521(0x140)](_0x4e5569);}}),router[a0_0x5a8879(0x144)](a0_0x5a8879(0x148),auth,async(_0x5b5e86,_0x27f440)=>{var _0x38e7b6=a0_0x5a8879;try{const _0x3f29e5=await master_shop[_0x38e7b6(0x15b)](),_0x1b9f31=_0x5b5e86[_0x38e7b6(0x154)],_0x76d569=await profile['findOne']({'email':_0x1b9f31[_0x38e7b6(0x159)]}),_0x412bfe=await staff['findOne']({'email':_0x1b9f31[_0x38e7b6(0x159)],'type_of_acc_cat':'2'});let _0xea56b9=[];_0x412bfe!=null&&(_0xea56b9=await sales_order[_0x38e7b6(0x15b)]({'sales_staff_id':_0x412bfe['_id']}));console[_0x38e7b6(0x140)](_0xea56b9);if(_0x3f29e5[0x0][_0x38e7b6(0x143)]=='English\x20(US)')var _0x1f9d72=users[_0x38e7b6(0x164)];else{if(_0x3f29e5[0x0][_0x38e7b6(0x143)]=='Hindi')var _0x1f9d72=users[_0x38e7b6(0x14a)];else{if(_0x3f29e5[0x0]['language']==_0x38e7b6(0x178))var _0x1f9d72=users['German'];else{if(_0x3f29e5[0x0]['language']==_0x38e7b6(0x139))var _0x1f9d72=users[_0x38e7b6(0x139)];else{if(_0x3f29e5[0x0]['language']==_0x38e7b6(0x14e))var _0x1f9d72=users[_0x38e7b6(0x14e)];else{if(_0x3f29e5[0x0][_0x38e7b6(0x143)]==_0x38e7b6(0x16e))var _0x1f9d72=users[_0x38e7b6(0x13a)];else{if(_0x3f29e5[0x0][_0x38e7b6(0x143)]==_0x38e7b6(0x146))var _0x1f9d72=users[_0x38e7b6(0x146)];else{if(_0x3f29e5[0x0][_0x38e7b6(0x143)]==_0x38e7b6(0x13f))var _0x1f9d72=users[_0x38e7b6(0x15a)];}}}}}}}_0x27f440['render']('collection_sox',{'success':_0x5b5e86[_0x38e7b6(0x15e)]('success'),'errors':_0x5b5e86['flash'](_0x38e7b6(0x176)),'master_shop':_0x3f29e5,'profile':_0x76d569,'role':_0x1b9f31,'language':_0x1f9d72,'sales_mine':_0xea56b9,'staff_arr':_0x412bfe});}catch(_0x578cf0){console['log'](_0x578cf0);}}),router['get'](a0_0x5a8879(0x14f),auth,async(_0x55937a,_0x588893)=>{var _0x1b371c=a0_0x5a8879;try{const _0xa77e4d=await master_shop[_0x1b371c(0x15b)](),_0x54d7a0=_0x55937a['user'],_0x162f32=await profile[_0x1b371c(0x13e)]({'email':_0x54d7a0[_0x1b371c(0x159)]}),_0x1bfa5a=await staff[_0x1b371c(0x13e)]({'email':_0x54d7a0[_0x1b371c(0x159)]}),_0x5c89b5=await customer[_0x1b371c(0x15b)]({'agent_id':_0x1bfa5a[_0x1b371c(0x17d)]}),_0x3bf170=_0x55937a[_0x1b371c(0x131)]['id'],_0x39db84=await sales_order[_0x1b371c(0x17c)](_0x3bf170);if(_0xa77e4d[0x0]['language']==_0x1b371c(0x16c))var _0x445e28=users[_0x1b371c(0x164)];else{if(_0xa77e4d[0x0][_0x1b371c(0x143)]=='Hindi')var _0x445e28=users[_0x1b371c(0x14a)];else{if(_0xa77e4d[0x0][_0x1b371c(0x143)]==_0x1b371c(0x178))var _0x445e28=users['German'];else{if(_0xa77e4d[0x0]['language']=='Spanish')var _0x445e28=users[_0x1b371c(0x139)];else{if(_0xa77e4d[0x0]['language']==_0x1b371c(0x14e))var _0x445e28=users[_0x1b371c(0x14e)];else{if(_0xa77e4d[0x0]['language']==_0x1b371c(0x16e))var _0x445e28=users[_0x1b371c(0x13a)];else{if(_0xa77e4d[0x0][_0x1b371c(0x143)]==_0x1b371c(0x146))var _0x445e28=users['Chinese'];else{if(_0xa77e4d[0x0][_0x1b371c(0x143)]==_0x1b371c(0x13f))var _0x445e28=users[_0x1b371c(0x15a)];}}}}}}}_0x588893[_0x1b371c(0x149)](_0x1b371c(0x172),{'success':_0x55937a['flash'](_0x1b371c(0x17f)),'errors':_0x55937a[_0x1b371c(0x15e)](_0x1b371c(0x176)),'master_shop':_0xa77e4d,'profile':_0x162f32,'role':_0x54d7a0,'language':_0x445e28,'customer':_0x5c89b5,'sales_sa':_0x39db84});}catch(_0x1fd83d){console[_0x1b371c(0x140)](_0x1fd83d);}}),router[a0_0x5a8879(0x144)](a0_0x5a8879(0x161),auth,async(_0x54abbb,_0x4c51a)=>{var _0x534a42=a0_0x5a8879;try{const _0x297380=await master_shop[_0x534a42(0x15b)](),_0x2fc805=_0x54abbb[_0x534a42(0x154)],_0x41d89f=await profile[_0x534a42(0x13e)]({'email':_0x2fc805[_0x534a42(0x159)]}),_0x3dc85a=await staff[_0x534a42(0x13e)]({'email':_0x2fc805[_0x534a42(0x159)],'type_of_acc_cat':'1'});let _0x317411=[];_0x3dc85a!=null&&(_0x317411=await sales_sa['find']({'sales_staff_id':_0x3dc85a[_0x534a42(0x17d)]}));if(_0x297380[0x0]['language']==_0x534a42(0x16c))var _0x59abec=users[_0x534a42(0x164)];else{if(_0x297380[0x0][_0x534a42(0x143)]=='Hindi')var _0x59abec=users['Hindi'];else{if(_0x297380[0x0][_0x534a42(0x143)]=='German')var _0x59abec=users[_0x534a42(0x178)];else{if(_0x297380[0x0][_0x534a42(0x143)]=='Spanish')var _0x59abec=users[_0x534a42(0x139)];else{if(_0x297380[0x0][_0x534a42(0x143)]==_0x534a42(0x14e))var _0x59abec=users['French'];else{if(_0x297380[0x0][_0x534a42(0x143)]==_0x534a42(0x16e))var _0x59abec=users[_0x534a42(0x13a)];else{if(_0x297380[0x0]['language']==_0x534a42(0x146))var _0x59abec=users[_0x534a42(0x146)];else{if(_0x297380[0x0]['language']==_0x534a42(0x13f))var _0x59abec=users[_0x534a42(0x15a)];}}}}}}}_0x4c51a['render']('collection_xt',{'success':_0x54abbb[_0x534a42(0x15e)](_0x534a42(0x17f)),'errors':_0x54abbb[_0x534a42(0x15e)](_0x534a42(0x176)),'master_shop':_0x297380,'profile':_0x41d89f,'role':_0x2fc805,'language':_0x59abec,'sales_mine':_0x317411,'staff_arr':_0x3dc85a});}catch(_0x139c57){console['log'](_0x139c57);}}),router['get'](a0_0x5a8879(0x179),auth,async(_0x37a61c,_0x3a4e09)=>{var _0xe10bac=a0_0x5a8879;try{const _0x30658c=await master_shop[_0xe10bac(0x15b)](),_0x294c98=_0x37a61c[_0xe10bac(0x154)],_0x1e85f3=await profile[_0xe10bac(0x13e)]({'email':_0x294c98[_0xe10bac(0x159)]}),_0x5dcd57=await staff[_0xe10bac(0x13e)]({'email':_0x294c98[_0xe10bac(0x159)]}),_0x118527=await customer[_0xe10bac(0x15b)]({'agent_id':_0x5dcd57['_id']}),_0x286ab0=_0x37a61c['params']['id'],_0xa38399=await sales_sa[_0xe10bac(0x17c)](_0x286ab0);if(_0x30658c[0x0][_0xe10bac(0x143)]==_0xe10bac(0x16c))var _0x159f64=users['English'];else{if(_0x30658c[0x0][_0xe10bac(0x143)]==_0xe10bac(0x14a))var _0x159f64=users[_0xe10bac(0x14a)];else{if(_0x30658c[0x0]['language']==_0xe10bac(0x178))var _0x159f64=users[_0xe10bac(0x178)];else{if(_0x30658c[0x0][_0xe10bac(0x143)]==_0xe10bac(0x139))var _0x159f64=users[_0xe10bac(0x139)];else{if(_0x30658c[0x0][_0xe10bac(0x143)]==_0xe10bac(0x14e))var _0x159f64=users[_0xe10bac(0x14e)];else{if(_0x30658c[0x0]['language']=='Portuguese\x20(BR)')var _0x159f64=users[_0xe10bac(0x13a)];else{if(_0x30658c[0x0][_0xe10bac(0x143)]==_0xe10bac(0x146))var _0x159f64=users['Chinese'];else{if(_0x30658c[0x0][_0xe10bac(0x143)]==_0xe10bac(0x13f))var _0x159f64=users[_0xe10bac(0x15a)];}}}}}}}_0x3a4e09[_0xe10bac(0x149)](_0xe10bac(0x13d),{'success':_0x37a61c[_0xe10bac(0x15e)](_0xe10bac(0x17f)),'errors':_0x37a61c[_0xe10bac(0x15e)](_0xe10bac(0x176)),'master_shop':_0x30658c,'profile':_0x1e85f3,'role':_0x294c98,'language':_0x159f64,'customer':_0x118527,'sales_sa':_0xa38399,'staff_arr':_0x5dcd57});}catch(_0x23ae4f){console['log'](_0x23ae4f);}}),router['post'](a0_0x5a8879(0x179),auth,async(_0x723323,_0x2218fc)=>{var _0x3d859f=a0_0x5a8879;try{const _0x5d0851=_0x723323[_0x3d859f(0x131)]['id'],_0x4db7fa=await sales_sa[_0x3d859f(0x17c)](_0x5d0851),{collection:_0x332fd0,invoicemoney:_0x5c299f,collectionnumber:_0x3c7ec2,typeofpayment:_0x189f8a,cashdate:_0x1220b2,id_detl:_0x483457}=_0x723323['body'];if(typeof _0x483457==_0x3d859f(0x15f))var _0x56ecdf=[_0x723323[_0x3d859f(0x12d)][_0x3d859f(0x145)]],_0x513c42=[_0x723323[_0x3d859f(0x12d)][_0x3d859f(0x14d)]],_0x12c025=[_0x723323[_0x3d859f(0x12d)][_0x3d859f(0x151)]],_0x41083f=[_0x723323[_0x3d859f(0x12d)][_0x3d859f(0x165)]],_0x5638b5=[_0x723323['body'][_0x3d859f(0x169)]],_0x3f572d=[_0x723323[_0x3d859f(0x12d)][_0x3d859f(0x13c)]],_0x5b3ab8=[_0x723323[_0x3d859f(0x12d)][_0x3d859f(0x14b)]];else var _0x56ecdf=[..._0x723323[_0x3d859f(0x12d)]['id_detl']],_0x513c42=[..._0x723323['body'][_0x3d859f(0x14d)]],_0x12c025=[..._0x723323[_0x3d859f(0x12d)][_0x3d859f(0x151)]],_0x41083f=[..._0x723323['body'][_0x3d859f(0x165)]],_0x5638b5=[..._0x723323[_0x3d859f(0x12d)]['vol_deals']],_0x3f572d=[..._0x723323[_0x3d859f(0x12d)][_0x3d859f(0x13c)]],_0x5b3ab8=[..._0x723323[_0x3d859f(0x12d)][_0x3d859f(0x14b)]];const _0x467d50=_0x56ecdf[_0x3d859f(0x12e)](_0x934db7=>{return _0x934db7={'id_detl':_0x934db7};});_0x513c42[_0x3d859f(0x12c)]((_0x5d846f,_0x3efba7)=>{var _0x2fff77=_0x3d859f;_0x467d50[_0x3efba7][_0x2fff77(0x14d)]=_0x5d846f;}),_0x12c025[_0x3d859f(0x12c)]((_0x28659d,_0x20a66c)=>{var _0x22cf54=_0x3d859f;_0x467d50[_0x20a66c][_0x22cf54(0x151)]=_0x28659d;}),_0x41083f['forEach']((_0x5fda01,_0x58b64b)=>{var _0x541c5b=_0x3d859f;_0x467d50[_0x58b64b][_0x541c5b(0x165)]=_0x5fda01;}),_0x5638b5['forEach']((_0x469df3,_0x39a46f)=>{var _0x166b71=_0x3d859f;_0x467d50[_0x39a46f][_0x166b71(0x169)]=_0x469df3;}),_0x3f572d['forEach']((_0x1a5df9,_0x110273)=>{var _0x2fd7c8=_0x3d859f;_0x467d50[_0x110273][_0x2fd7c8(0x13c)]=_0x1a5df9;}),_0x5b3ab8['forEach']((_0x374c23,_0x3b0228)=>{var _0xe51c85=_0x3d859f;_0x467d50[_0x3b0228][_0xe51c85(0x166)]=_0x374c23;}),_0x4db7fa['collection_price']=_0x332fd0,_0x4db7fa['collectionnumber']=_0x3c7ec2,_0x4db7fa[_0x3d859f(0x162)]=_0x189f8a,_0x4db7fa[_0x3d859f(0x142)]=_0x1220b2,_0x4db7fa[_0x3d859f(0x134)]=_0x3d859f(0x16d),_0x4db7fa[_0x3d859f(0x152)]='1';const _0x224204=await _0x4db7fa[_0x3d859f(0x158)]();if(_0x224204[_0x3d859f(0x134)]==_0x3d859f(0x16d))for(let _0x3ade21=0x0;_0x3ade21<=_0x467d50[_0x3d859f(0x17a)]-0x1;_0x3ade21++){const _0x5789d3=_0x467d50[_0x3ade21],_0x568bca=mongoose['Types'][_0x3d859f(0x15d)];console['log'](_0x5789d3);const _0x42f82d=await sales_sa[_0x3d859f(0x14c)]({'_id':_0x568bca(_0x5d0851[_0x3d859f(0x16f)]()),'sale_product._id':_0x568bca(_0x5789d3[_0x3d859f(0x145)][_0x3d859f(0x16f)]())},{'$set':{'sale_product.$.ewt':_0x5789d3['ewt'],'sale_product.$.spwp':_0x5789d3[_0x3d859f(0x151)],'sale_product.$.fin_disc':_0x5789d3[_0x3d859f(0x165)],'sale_product.$.vol_deals':_0x5789d3[_0x3d859f(0x169)],'sale_product.$.bo_disc':_0x5789d3[_0x3d859f(0x13c)],'sale_product.$.totalprice':parseFloat(_0x5789d3[_0x3d859f(0x166)])}});}_0x723323[_0x3d859f(0x15e)](_0x3d859f(0x17f),_0x3d859f(0x12f)),_0x2218fc[_0x3d859f(0x13b)](_0x3d859f(0x167)+_0x5d0851);}catch(_0xd91a3c){console['log'](_0xd91a3c);}}),router[a0_0x5a8879(0x144)]('/so_x',auth,async(_0x4252ed,_0x59ba26)=>{var _0x2d13b0=a0_0x5a8879;try{const _0x57a2b8=await master_shop[_0x2d13b0(0x15b)](),_0xe3c32e=_0x4252ed[_0x2d13b0(0x154)],_0x2ce3fb=await profile[_0x2d13b0(0x13e)]({'email':_0xe3c32e['email']}),_0x556716=await staff[_0x2d13b0(0x13e)]({'email':_0xe3c32e[_0x2d13b0(0x159)],'type_of_acc_cat':'1'});let _0x2b82ac=[];_0x556716!=null&&(_0x2b82ac=await sales_order[_0x2d13b0(0x15b)]({'sales_staff_id':_0x556716[_0x2d13b0(0x17d)]}));if(_0x57a2b8[0x0]['language']=='English\x20(US)')var _0x4b9e0a=users['English'];else{if(_0x57a2b8[0x0][_0x2d13b0(0x143)]==_0x2d13b0(0x14a))var _0x4b9e0a=users[_0x2d13b0(0x14a)];else{if(_0x57a2b8[0x0][_0x2d13b0(0x143)]=='German')var _0x4b9e0a=users[_0x2d13b0(0x178)];else{if(_0x57a2b8[0x0]['language']==_0x2d13b0(0x139))var _0x4b9e0a=users['Spanish'];else{if(_0x57a2b8[0x0][_0x2d13b0(0x143)]==_0x2d13b0(0x14e))var _0x4b9e0a=users[_0x2d13b0(0x14e)];else{if(_0x57a2b8[0x0][_0x2d13b0(0x143)]==_0x2d13b0(0x16e))var _0x4b9e0a=users[_0x2d13b0(0x13a)];else{if(_0x57a2b8[0x0][_0x2d13b0(0x143)]==_0x2d13b0(0x146))var _0x4b9e0a=users[_0x2d13b0(0x146)];else{if(_0x57a2b8[0x0][_0x2d13b0(0x143)]=='Arabic\x20(ae)')var _0x4b9e0a=users['Arabic'];}}}}}}}_0x59ba26['render']('collection_so_xt',{'success':_0x4252ed[_0x2d13b0(0x15e)]('success'),'errors':_0x4252ed[_0x2d13b0(0x15e)]('errors'),'master_shop':_0x57a2b8,'profile':_0x2ce3fb,'role':_0xe3c32e,'language':_0x4b9e0a,'sales_mine':_0x2b82ac,'staff_arr':_0x556716});}catch(_0x11de33){console[_0x2d13b0(0x140)](_0x11de33);}}),router['get'](a0_0x5a8879(0x150),auth,async(_0x445da3,_0xfefae)=>{var _0x301349=a0_0x5a8879;try{const _0x3628f5=await master_shop[_0x301349(0x15b)](),_0x2c95d6=_0x445da3[_0x301349(0x154)],_0x2392c6=await profile['findOne']({'email':_0x2c95d6['email']}),_0x599b26=await staff['findOne']({'email':_0x2c95d6[_0x301349(0x159)]}),_0x2f7703=await customer[_0x301349(0x15b)]({'agent_id':_0x599b26['_id']}),_0x5b3b12=_0x445da3[_0x301349(0x131)]['id'],_0x1899b8=await sales_order['findById'](_0x5b3b12);if(_0x3628f5[0x0]['language']=='English\x20(US)')var _0x4fbd95=users[_0x301349(0x164)];else{if(_0x3628f5[0x0][_0x301349(0x143)]=='Hindi')var _0x4fbd95=users[_0x301349(0x14a)];else{if(_0x3628f5[0x0][_0x301349(0x143)]==_0x301349(0x178))var _0x4fbd95=users[_0x301349(0x178)];else{if(_0x3628f5[0x0][_0x301349(0x143)]=='Spanish')var _0x4fbd95=users[_0x301349(0x139)];else{if(_0x3628f5[0x0][_0x301349(0x143)]==_0x301349(0x14e))var _0x4fbd95=users[_0x301349(0x14e)];else{if(_0x3628f5[0x0][_0x301349(0x143)]==_0x301349(0x16e))var _0x4fbd95=users[_0x301349(0x13a)];else{if(_0x3628f5[0x0][_0x301349(0x143)]==_0x301349(0x146))var _0x4fbd95=users['Chinese'];else{if(_0x3628f5[0x0][_0x301349(0x143)]==_0x301349(0x13f))var _0x4fbd95=users[_0x301349(0x15a)];}}}}}}}_0xfefae[_0x301349(0x149)](_0x301349(0x15c),{'success':_0x445da3[_0x301349(0x15e)](_0x301349(0x17f)),'errors':_0x445da3['flash'](_0x301349(0x176)),'master_shop':_0x3628f5,'profile':_0x2392c6,'role':_0x2c95d6,'language':_0x4fbd95,'customer':_0x2f7703,'sales_sa':_0x1899b8,'staff_arr':_0x599b26});}catch(_0x56c43a){console[_0x301349(0x140)](_0x56c43a);}}),router[a0_0x5a8879(0x138)]('/view_so_xt/:id',auth,async(_0x1588d9,_0x499e30)=>{var _0x1f63fa=a0_0x5a8879;try{const _0x1462f8=_0x1588d9[_0x1f63fa(0x131)]['id'],_0x1e306e=await sales_order[_0x1f63fa(0x17c)](_0x1462f8),{collection:_0x25e1bc,invoicemoney:_0x296b61,collectionnumber:_0x2ecc3e,typeofpayment:_0x5685ca,cashdate:_0xdc3734,id_detl:_0x1de317}=_0x1588d9['body'];_0x1e306e['collection_price']=_0x25e1bc,_0x1e306e[_0x1f63fa(0x162)]=_0x5685ca,_0x1e306e[_0x1f63fa(0x142)]=_0xdc3734,_0x1e306e[_0x1f63fa(0x134)]=_0x1f63fa(0x16d),_0x1e306e[_0x1f63fa(0x152)]='1';const _0x229042=await _0x1e306e['save']();_0x1588d9[_0x1f63fa(0x15e)]('success','Collection\x20Update\x20successfully'),_0x499e30[_0x1f63fa(0x13b)](_0x1f63fa(0x141)+_0x1462f8);}catch(_0x4828cf){console[_0x1f63fa(0x140)](_0x4828cf);}}),module[a0_0x5a8879(0x156)]=router;