var a0_0x1a03b2=a0_0x259e;(function(_0x15316f,_0xdbb428){var _0x3f2db5=a0_0x259e,_0x4bd868=_0x15316f();while(!![]){try{var _0x1b7e09=parseInt(_0x3f2db5(0x1dd))/0x1+parseInt(_0x3f2db5(0x194))/0x2*(-parseInt(_0x3f2db5(0x191))/0x3)+-parseInt(_0x3f2db5(0x1ae))/0x4*(parseInt(_0x3f2db5(0x199))/0x5)+-parseInt(_0x3f2db5(0x1c2))/0x6*(-parseInt(_0x3f2db5(0x1c3))/0x7)+-parseInt(_0x3f2db5(0x1bd))/0x8*(parseInt(_0x3f2db5(0x1c9))/0x9)+parseInt(_0x3f2db5(0x1c5))/0xa*(parseInt(_0x3f2db5(0x1a5))/0xb)+parseInt(_0x3f2db5(0x1d4))/0xc;if(_0x1b7e09===_0xdbb428)break;else _0x4bd868['push'](_0x4bd868['shift']());}catch(_0x542f5e){_0x4bd868['push'](_0x4bd868['shift']());}}}(a0_0x131b,0x7d2a1));function a0_0x131b(){var _0x5bcb23=['Arabic','/view_xt/:id','exports','Hindi','196493DFkvHv','/collection/view_so_xt/','redirect','ewt','Arabic\x20(ae)','spwp','../models/all_models','cash_date','True','229624ndBQhZ','get','user','vol_deals','totalcollection','Router','/view_sox/:id','language','find','multer','express','save','_id','id_detl','/view_x','16vMKhDG','findOne','view_collections_so_xt','/view_so_xt/:id','ObjectId','18MZGLRq','854273UXeTpk','paid','550siumVa','fin_disc','collection_price','/view/:id','2563389UCgXVk','bo_disc','post','English','flash','French','params','view_collections','length','Portuguese','Portuguese\x20(BR)','1310784KeFGKP','totalNewPrice','exceljs','../public/language/languages.json','updateOne','map','render','Types','valueOf','116097aAwfBF','log','/x_so','type_of_payment','body','string','English\x20(US)','email','view_collections_xt','13788oYBOFN','/collection/view/','Spanish','114GvPysi','xlsx','forEach','Collection\x20Update\x20successfully','success','20YMkjix','mongoose','Chinese','findById','errors','German','view_collections_sox','collectionnumber'];a0_0x131b=function(){return _0x5bcb23;};return a0_0x131b();}function a0_0x259e(_0x234df6,_0x1c2a9d){var _0x131bb4=a0_0x131b();return a0_0x259e=function(_0x259e4c,_0x3fb57e){_0x259e4c=_0x259e4c-0x189;var _0x171dd6=_0x131bb4[_0x259e4c];return _0x171dd6;},a0_0x259e(_0x234df6,_0x1c2a9d);}const express=require(a0_0x1a03b2(0x1b8)),app=express(),router=express[a0_0x1a03b2(0x1b3)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_sa,sales_order}=require(a0_0x1a03b2(0x1ab)),auth=require('../middleware/auth'),users=require(a0_0x1a03b2(0x1d7)),excelJS=require(a0_0x1a03b2(0x1d6)),xlsx=require(a0_0x1a03b2(0x195)),multer=require(a0_0x1a03b2(0x1b7)),mongoose=require(a0_0x1a03b2(0x19a));router[a0_0x1a03b2(0x1af)]('/view',auth,async(_0x1e3430,_0xa0d608)=>{var _0x4a25a2=a0_0x1a03b2;try{const _0x505bd2=await master_shop[_0x4a25a2(0x1b6)](),_0xa775d7=_0x1e3430['user'],_0x499f75=await profile[_0x4a25a2(0x1be)]({'email':_0xa775d7[_0x4a25a2(0x18f)]}),_0x225c4f=await staff[_0x4a25a2(0x1be)]({'email':_0xa775d7[_0x4a25a2(0x18f)],'type_of_acc_cat':'2'});let _0x4513d9=[];_0x225c4f!=null&&(_0x4513d9=await sales_order[_0x4a25a2(0x1b6)]({'sales_staff_id':_0x225c4f[_0x4a25a2(0x1ba)]}));if(_0x505bd2[0x0][_0x4a25a2(0x1b5)]==_0x4a25a2(0x18e))var _0x6e9aa8=users[_0x4a25a2(0x1cc)];else{if(_0x505bd2[0x0][_0x4a25a2(0x1b5)]==_0x4a25a2(0x1a4))var _0x6e9aa8=users[_0x4a25a2(0x1a4)];else{if(_0x505bd2[0x0]['language']=='German')var _0x6e9aa8=users[_0x4a25a2(0x19e)];else{if(_0x505bd2[0x0][_0x4a25a2(0x1b5)]==_0x4a25a2(0x193))var _0x6e9aa8=users[_0x4a25a2(0x193)];else{if(_0x505bd2[0x0]['language']==_0x4a25a2(0x1ce))var _0x6e9aa8=users[_0x4a25a2(0x1ce)];else{if(_0x505bd2[0x0][_0x4a25a2(0x1b5)]==_0x4a25a2(0x1d3))var _0x6e9aa8=users[_0x4a25a2(0x1d2)];else{if(_0x505bd2[0x0][_0x4a25a2(0x1b5)]==_0x4a25a2(0x19b))var _0x6e9aa8=users[_0x4a25a2(0x19b)];else{if(_0x505bd2[0x0][_0x4a25a2(0x1b5)]==_0x4a25a2(0x1a9))var _0x6e9aa8=users[_0x4a25a2(0x1a1)];}}}}}}}_0xa0d608['render']('collection',{'success':_0x1e3430[_0x4a25a2(0x1cd)](_0x4a25a2(0x198)),'errors':_0x1e3430[_0x4a25a2(0x1cd)](_0x4a25a2(0x19d)),'master_shop':_0x505bd2,'profile':_0x499f75,'role':_0xa775d7,'language':_0x6e9aa8,'sales_mine':_0x4513d9,'staff_arr':_0x225c4f});}catch(_0x5116c0){console[_0x4a25a2(0x189)](_0x5116c0);}}),router[a0_0x1a03b2(0x1af)](a0_0x1a03b2(0x1c8),auth,async(_0x1d848f,_0x172fba)=>{var _0x5d5370=a0_0x1a03b2;try{const _0x5893d1=await master_shop['find'](),_0x200ae8=_0x1d848f['user'],_0x2b9321=await profile['findOne']({'email':_0x200ae8[_0x5d5370(0x18f)]}),_0x85a15a=await staff[_0x5d5370(0x1be)]({'email':_0x200ae8[_0x5d5370(0x18f)]}),_0xe9f692=await customer[_0x5d5370(0x1b6)]({'agent_id':_0x85a15a[_0x5d5370(0x1ba)]}),_0x535c00=_0x1d848f[_0x5d5370(0x1cf)]['id'],_0xd182ff=await sales_sa[_0x5d5370(0x19c)](_0x535c00);if(_0x5893d1[0x0][_0x5d5370(0x1b5)]==_0x5d5370(0x18e))var _0x55b1f8=users[_0x5d5370(0x1cc)];else{if(_0x5893d1[0x0][_0x5d5370(0x1b5)]==_0x5d5370(0x1a4))var _0x55b1f8=users['Hindi'];else{if(_0x5893d1[0x0]['language']=='German')var _0x55b1f8=users[_0x5d5370(0x19e)];else{if(_0x5893d1[0x0]['language']=='Spanish')var _0x55b1f8=users['Spanish'];else{if(_0x5893d1[0x0]['language']==_0x5d5370(0x1ce))var _0x55b1f8=users[_0x5d5370(0x1ce)];else{if(_0x5893d1[0x0]['language']==_0x5d5370(0x1d3))var _0x55b1f8=users[_0x5d5370(0x1d2)];else{if(_0x5893d1[0x0][_0x5d5370(0x1b5)]==_0x5d5370(0x19b))var _0x55b1f8=users[_0x5d5370(0x19b)];else{if(_0x5893d1[0x0][_0x5d5370(0x1b5)]==_0x5d5370(0x1a9))var _0x55b1f8=users[_0x5d5370(0x1a1)];}}}}}}}_0x172fba[_0x5d5370(0x1da)](_0x5d5370(0x1d0),{'success':_0x1d848f['flash'](_0x5d5370(0x198)),'errors':_0x1d848f[_0x5d5370(0x1cd)](_0x5d5370(0x19d)),'master_shop':_0x5893d1,'profile':_0x2b9321,'role':_0x200ae8,'language':_0x55b1f8,'customer':_0xe9f692,'sales_sa':_0xd182ff,'staff_arr':_0x85a15a});}catch(_0x1b79d0){console[_0x5d5370(0x189)](_0x1b79d0);}}),router[a0_0x1a03b2(0x1cb)](a0_0x1a03b2(0x1c8),auth,async(_0x56b9f0,_0x1e0aa3)=>{var _0x927ee6=a0_0x1a03b2;try{const _0x19c7fb=_0x56b9f0[_0x927ee6(0x1cf)]['id'],_0x37994c=await sales_sa[_0x927ee6(0x19c)](_0x19c7fb),{collection:_0x4e80a4,invoicemoney:_0x56a676,collectionnumber:_0x3623c2,typeofpayment:_0x4cd514,cashdate:_0x2ac29e,id_detl:_0x97886a}=_0x56b9f0[_0x927ee6(0x18c)];_0x1e0aa3['json'](_0x37994c);return;if(typeof _0x97886a=='string')var _0x51ca48=[_0x56b9f0['body']['id_detl']],_0x5d3266=[_0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1a8)]],_0x2b8f53=[_0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1aa)]],_0x5244a7=[_0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1c6)]],_0x28133e=[_0x56b9f0['body']['vol_deals']],_0x14a30b=[_0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1ca)]],_0x2b8ea0=[_0x56b9f0['body'][_0x927ee6(0x1d5)]];else var _0x51ca48=[..._0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1bb)]],_0x5d3266=[..._0x56b9f0[_0x927ee6(0x18c)]['ewt']],_0x2b8f53=[..._0x56b9f0['body']['spwp']],_0x5244a7=[..._0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1c6)]],_0x28133e=[..._0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1b1)]],_0x14a30b=[..._0x56b9f0[_0x927ee6(0x18c)][_0x927ee6(0x1ca)]],_0x2b8ea0=[..._0x56b9f0['body'][_0x927ee6(0x1d5)]];const _0x2f8b31=_0x51ca48[_0x927ee6(0x1d9)](_0x21b788=>{return _0x21b788={'id_detl':_0x21b788};});_0x5d3266[_0x927ee6(0x196)]((_0x1d80c2,_0x3968a8)=>{var _0x4bf7b=_0x927ee6;_0x2f8b31[_0x3968a8][_0x4bf7b(0x1a8)]=_0x1d80c2;}),_0x2b8f53['forEach']((_0x42dd73,_0x11f448)=>{var _0x13fd03=_0x927ee6;_0x2f8b31[_0x11f448][_0x13fd03(0x1aa)]=_0x42dd73;}),_0x5244a7[_0x927ee6(0x196)]((_0x4b5212,_0x2bbd92)=>{var _0x1d0ba7=_0x927ee6;_0x2f8b31[_0x2bbd92][_0x1d0ba7(0x1c6)]=_0x4b5212;}),_0x28133e[_0x927ee6(0x196)]((_0x491000,_0xa6808c)=>{_0x2f8b31[_0xa6808c]['vol_deals']=_0x491000;}),_0x14a30b[_0x927ee6(0x196)]((_0x15f32b,_0x281579)=>{_0x2f8b31[_0x281579]['bo_disc']=_0x15f32b;}),_0x2b8ea0[_0x927ee6(0x196)]((_0x36638d,_0x3eeba7)=>{_0x2f8b31[_0x3eeba7]['totalcollection']=_0x36638d;}),_0x37994c[_0x927ee6(0x1c7)]=_0x4e80a4,_0x37994c[_0x927ee6(0x1a0)]=_0x3623c2,_0x37994c[_0x927ee6(0x18b)]=_0x4cd514,_0x37994c[_0x927ee6(0x1ac)]=_0x2ac29e,_0x37994c[_0x927ee6(0x1c4)]=_0x927ee6(0x1ad);const _0x6f4e57=await _0x37994c[_0x927ee6(0x1b9)]();if(_0x6f4e57['paid']==_0x927ee6(0x1ad))for(let _0x26e75d=0x0;_0x26e75d<=_0x2f8b31['length']-0x1;_0x26e75d++){const _0x3abe52=_0x2f8b31[_0x26e75d],_0xa00f1d=mongoose['Types'][_0x927ee6(0x1c1)];console['log'](_0x3abe52);const _0x1ef455=await sales_sa[_0x927ee6(0x1d8)]({'_id':_0xa00f1d(_0x19c7fb[_0x927ee6(0x1dc)]()),'sale_product._id':_0xa00f1d(_0x3abe52[_0x927ee6(0x1bb)][_0x927ee6(0x1dc)]())},{'$set':{'sale_product.$.ewt':_0x3abe52[_0x927ee6(0x1a8)],'sale_product.$.spwp':_0x3abe52[_0x927ee6(0x1aa)],'sale_product.$.fin_disc':_0x3abe52['fin_disc'],'sale_product.$.vol_deals':_0x3abe52[_0x927ee6(0x1b1)],'sale_product.$.bo_disc':_0x3abe52[_0x927ee6(0x1ca)],'sale_product.$.totalprice':parseFloat(_0x3abe52[_0x927ee6(0x1b2)])}});}_0x56b9f0[_0x927ee6(0x1cd)](_0x927ee6(0x198),_0x927ee6(0x197)),_0x1e0aa3[_0x927ee6(0x1a7)]('/collection/view/'+_0x19c7fb);}catch(_0x2956d1){console[_0x927ee6(0x189)](_0x2956d1);}}),router['get'](a0_0x1a03b2(0x18a),auth,async(_0x1665a4,_0x8ce57e)=>{var _0xab1c02=a0_0x1a03b2;try{const _0x58c7c9=await master_shop['find'](),_0x9504b5=_0x1665a4[_0xab1c02(0x1b0)],_0x3b9891=await profile[_0xab1c02(0x1be)]({'email':_0x9504b5[_0xab1c02(0x18f)]}),_0x328c43=await staff[_0xab1c02(0x1be)]({'email':_0x9504b5[_0xab1c02(0x18f)],'type_of_acc_cat':'2'});let _0x473826=[];_0x328c43!=null&&(_0x473826=await sales_order['find']({'sales_staff_id':_0x328c43[_0xab1c02(0x1ba)]}));console[_0xab1c02(0x189)](_0x473826);if(_0x58c7c9[0x0][_0xab1c02(0x1b5)]==_0xab1c02(0x18e))var _0x5958e4=users[_0xab1c02(0x1cc)];else{if(_0x58c7c9[0x0][_0xab1c02(0x1b5)]==_0xab1c02(0x1a4))var _0x5958e4=users['Hindi'];else{if(_0x58c7c9[0x0]['language']==_0xab1c02(0x19e))var _0x5958e4=users['German'];else{if(_0x58c7c9[0x0][_0xab1c02(0x1b5)]==_0xab1c02(0x193))var _0x5958e4=users['Spanish'];else{if(_0x58c7c9[0x0]['language']=='French')var _0x5958e4=users[_0xab1c02(0x1ce)];else{if(_0x58c7c9[0x0][_0xab1c02(0x1b5)]==_0xab1c02(0x1d3))var _0x5958e4=users[_0xab1c02(0x1d2)];else{if(_0x58c7c9[0x0][_0xab1c02(0x1b5)]==_0xab1c02(0x19b))var _0x5958e4=users[_0xab1c02(0x19b)];else{if(_0x58c7c9[0x0][_0xab1c02(0x1b5)]=='Arabic\x20(ae)')var _0x5958e4=users[_0xab1c02(0x1a1)];}}}}}}}_0x8ce57e[_0xab1c02(0x1da)]('collection_sox',{'success':_0x1665a4['flash'](_0xab1c02(0x198)),'errors':_0x1665a4['flash'](_0xab1c02(0x19d)),'master_shop':_0x58c7c9,'profile':_0x3b9891,'role':_0x9504b5,'language':_0x5958e4,'sales_mine':_0x473826,'staff_arr':_0x328c43});}catch(_0x2bafdc){console['log'](_0x2bafdc);}}),router[a0_0x1a03b2(0x1af)](a0_0x1a03b2(0x1b4),auth,async(_0x58ecd4,_0x2e0ca6)=>{var _0x6de675=a0_0x1a03b2;try{const _0x4ef216=await master_shop['find'](),_0x28e77f=_0x58ecd4[_0x6de675(0x1b0)],_0x428f5e=await profile[_0x6de675(0x1be)]({'email':_0x28e77f[_0x6de675(0x18f)]}),_0x1ef474=await staff['findOne']({'email':_0x28e77f['email']}),_0x51660c=await customer['find']({'agent_id':_0x1ef474[_0x6de675(0x1ba)]}),_0x3249dd=_0x58ecd4[_0x6de675(0x1cf)]['id'],_0x5db941=await sales_order[_0x6de675(0x19c)](_0x3249dd);if(_0x4ef216[0x0][_0x6de675(0x1b5)]==_0x6de675(0x18e))var _0x118fef=users[_0x6de675(0x1cc)];else{if(_0x4ef216[0x0][_0x6de675(0x1b5)]=='Hindi')var _0x118fef=users[_0x6de675(0x1a4)];else{if(_0x4ef216[0x0]['language']==_0x6de675(0x19e))var _0x118fef=users['German'];else{if(_0x4ef216[0x0][_0x6de675(0x1b5)]==_0x6de675(0x193))var _0x118fef=users[_0x6de675(0x193)];else{if(_0x4ef216[0x0][_0x6de675(0x1b5)]==_0x6de675(0x1ce))var _0x118fef=users[_0x6de675(0x1ce)];else{if(_0x4ef216[0x0][_0x6de675(0x1b5)]==_0x6de675(0x1d3))var _0x118fef=users[_0x6de675(0x1d2)];else{if(_0x4ef216[0x0][_0x6de675(0x1b5)]==_0x6de675(0x19b))var _0x118fef=users[_0x6de675(0x19b)];else{if(_0x4ef216[0x0][_0x6de675(0x1b5)]==_0x6de675(0x1a9))var _0x118fef=users[_0x6de675(0x1a1)];}}}}}}}_0x2e0ca6['render'](_0x6de675(0x19f),{'success':_0x58ecd4[_0x6de675(0x1cd)](_0x6de675(0x198)),'errors':_0x58ecd4['flash'](_0x6de675(0x19d)),'master_shop':_0x4ef216,'profile':_0x428f5e,'role':_0x28e77f,'language':_0x118fef,'customer':_0x51660c,'sales_sa':_0x5db941});}catch(_0x169a1d){console['log'](_0x169a1d);}}),router['get'](a0_0x1a03b2(0x1bc),auth,async(_0x33e430,_0x5477e9)=>{var _0xb4feea=a0_0x1a03b2;try{const _0x4465b7=await master_shop[_0xb4feea(0x1b6)](),_0x122afd=_0x33e430[_0xb4feea(0x1b0)],_0x1c4f0e=await profile[_0xb4feea(0x1be)]({'email':_0x122afd['email']}),_0x11bf76=await staff['findOne']({'email':_0x122afd['email'],'type_of_acc_cat':'1'});let _0x2c86a0=[];_0x11bf76!=null&&(_0x2c86a0=await sales_sa[_0xb4feea(0x1b6)]({'sales_staff_id':_0x11bf76['_id']}));if(_0x4465b7[0x0][_0xb4feea(0x1b5)]=='English\x20(US)')var _0x442d02=users['English'];else{if(_0x4465b7[0x0][_0xb4feea(0x1b5)]==_0xb4feea(0x1a4))var _0x442d02=users[_0xb4feea(0x1a4)];else{if(_0x4465b7[0x0][_0xb4feea(0x1b5)]==_0xb4feea(0x19e))var _0x442d02=users[_0xb4feea(0x19e)];else{if(_0x4465b7[0x0]['language']==_0xb4feea(0x193))var _0x442d02=users['Spanish'];else{if(_0x4465b7[0x0][_0xb4feea(0x1b5)]=='French')var _0x442d02=users['French'];else{if(_0x4465b7[0x0]['language']=='Portuguese\x20(BR)')var _0x442d02=users[_0xb4feea(0x1d2)];else{if(_0x4465b7[0x0][_0xb4feea(0x1b5)]==_0xb4feea(0x19b))var _0x442d02=users[_0xb4feea(0x19b)];else{if(_0x4465b7[0x0][_0xb4feea(0x1b5)]==_0xb4feea(0x1a9))var _0x442d02=users[_0xb4feea(0x1a1)];}}}}}}}_0x5477e9[_0xb4feea(0x1da)]('collection_xt',{'success':_0x33e430[_0xb4feea(0x1cd)](_0xb4feea(0x198)),'errors':_0x33e430[_0xb4feea(0x1cd)](_0xb4feea(0x19d)),'master_shop':_0x4465b7,'profile':_0x1c4f0e,'role':_0x122afd,'language':_0x442d02,'sales_mine':_0x2c86a0,'staff_arr':_0x11bf76});}catch(_0x1964c6){console[_0xb4feea(0x189)](_0x1964c6);}}),router[a0_0x1a03b2(0x1af)](a0_0x1a03b2(0x1a2),auth,async(_0x52850c,_0x5c9ada)=>{var _0x359cdc=a0_0x1a03b2;try{const _0x5252c1=await master_shop['find'](),_0x1663e1=_0x52850c['user'],_0xdc3eb0=await profile['findOne']({'email':_0x1663e1[_0x359cdc(0x18f)]}),_0xee2da8=await staff[_0x359cdc(0x1be)]({'email':_0x1663e1[_0x359cdc(0x18f)]}),_0x3eaec5=await customer['find']({'agent_id':_0xee2da8[_0x359cdc(0x1ba)]}),_0x3ed2dd=_0x52850c['params']['id'],_0x5b9633=await sales_sa[_0x359cdc(0x19c)](_0x3ed2dd);if(_0x5252c1[0x0][_0x359cdc(0x1b5)]==_0x359cdc(0x18e))var _0x4e9978=users[_0x359cdc(0x1cc)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]==_0x359cdc(0x1a4))var _0x4e9978=users[_0x359cdc(0x1a4)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]==_0x359cdc(0x19e))var _0x4e9978=users[_0x359cdc(0x19e)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]==_0x359cdc(0x193))var _0x4e9978=users[_0x359cdc(0x193)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]==_0x359cdc(0x1ce))var _0x4e9978=users[_0x359cdc(0x1ce)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]=='Portuguese\x20(BR)')var _0x4e9978=users[_0x359cdc(0x1d2)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]==_0x359cdc(0x19b))var _0x4e9978=users[_0x359cdc(0x19b)];else{if(_0x5252c1[0x0][_0x359cdc(0x1b5)]=='Arabic\x20(ae)')var _0x4e9978=users[_0x359cdc(0x1a1)];}}}}}}}_0x5c9ada[_0x359cdc(0x1da)](_0x359cdc(0x190),{'success':_0x52850c[_0x359cdc(0x1cd)]('success'),'errors':_0x52850c[_0x359cdc(0x1cd)](_0x359cdc(0x19d)),'master_shop':_0x5252c1,'profile':_0xdc3eb0,'role':_0x1663e1,'language':_0x4e9978,'customer':_0x3eaec5,'sales_sa':_0x5b9633,'staff_arr':_0xee2da8});}catch(_0x46e7a7){console[_0x359cdc(0x189)](_0x46e7a7);}}),router[a0_0x1a03b2(0x1cb)](a0_0x1a03b2(0x1a2),auth,async(_0x35b819,_0x553bf1)=>{var _0x58b60c=a0_0x1a03b2;try{const _0x390b9f=_0x35b819[_0x58b60c(0x1cf)]['id'],_0x655937=await sales_sa['findById'](_0x390b9f),{collection:_0x451e08,invoicemoney:_0x2aadea,collectionnumber:_0x58600a,typeofpayment:_0x367fb2,cashdate:_0xdc1d00,id_detl:_0xc322d}=_0x35b819[_0x58b60c(0x18c)];if(typeof _0xc322d==_0x58b60c(0x18d))var _0x5f50fc=[_0x35b819['body'][_0x58b60c(0x1bb)]],_0x4ed2a4=[_0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1a8)]],_0x2e7358=[_0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1aa)]],_0x1c7723=[_0x35b819['body'][_0x58b60c(0x1c6)]],_0x1bd860=[_0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1b1)]],_0x11eec1=[_0x35b819[_0x58b60c(0x18c)]['bo_disc']],_0x76c4a=[_0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1d5)]];else var _0x5f50fc=[..._0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1bb)]],_0x4ed2a4=[..._0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1a8)]],_0x2e7358=[..._0x35b819['body'][_0x58b60c(0x1aa)]],_0x1c7723=[..._0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1c6)]],_0x1bd860=[..._0x35b819['body']['vol_deals']],_0x11eec1=[..._0x35b819[_0x58b60c(0x18c)][_0x58b60c(0x1ca)]],_0x76c4a=[..._0x35b819[_0x58b60c(0x18c)]['totalNewPrice']];const _0x5013f6=_0x5f50fc[_0x58b60c(0x1d9)](_0x2c3311=>{return _0x2c3311={'id_detl':_0x2c3311};});_0x4ed2a4[_0x58b60c(0x196)]((_0x14695f,_0x1f0352)=>{_0x5013f6[_0x1f0352]['ewt']=_0x14695f;}),_0x2e7358[_0x58b60c(0x196)]((_0x5e01b4,_0x12adc4)=>{var _0x13542b=_0x58b60c;_0x5013f6[_0x12adc4][_0x13542b(0x1aa)]=_0x5e01b4;}),_0x1c7723[_0x58b60c(0x196)]((_0x3e08a8,_0x54b62d)=>{var _0x17169f=_0x58b60c;_0x5013f6[_0x54b62d][_0x17169f(0x1c6)]=_0x3e08a8;}),_0x1bd860[_0x58b60c(0x196)]((_0x495548,_0xbabcf5)=>{var _0x3dd2eb=_0x58b60c;_0x5013f6[_0xbabcf5][_0x3dd2eb(0x1b1)]=_0x495548;}),_0x11eec1[_0x58b60c(0x196)]((_0x4a2f59,_0x5d69a2)=>{var _0x1248eb=_0x58b60c;_0x5013f6[_0x5d69a2][_0x1248eb(0x1ca)]=_0x4a2f59;}),_0x76c4a[_0x58b60c(0x196)]((_0xd37658,_0x69de62)=>{var _0x5999c0=_0x58b60c;_0x5013f6[_0x69de62][_0x5999c0(0x1b2)]=_0xd37658;}),_0x655937[_0x58b60c(0x1c7)]=_0x451e08,_0x655937['collectionnumber']=_0x58600a,_0x655937[_0x58b60c(0x18b)]=_0x367fb2,_0x655937['cash_date']=_0xdc1d00,_0x655937[_0x58b60c(0x1c4)]=_0x58b60c(0x1ad),_0x655937['typeofprocess']='1';const _0x3e0e89=await _0x655937['save']();if(_0x3e0e89[_0x58b60c(0x1c4)]==_0x58b60c(0x1ad))for(let _0x3ade57=0x0;_0x3ade57<=_0x5013f6[_0x58b60c(0x1d1)]-0x1;_0x3ade57++){const _0x1ba4b7=_0x5013f6[_0x3ade57],_0x157251=mongoose[_0x58b60c(0x1db)]['ObjectId'];console[_0x58b60c(0x189)](_0x1ba4b7);const _0x355574=await sales_sa[_0x58b60c(0x1d8)]({'_id':_0x157251(_0x390b9f[_0x58b60c(0x1dc)]()),'sale_product._id':_0x157251(_0x1ba4b7[_0x58b60c(0x1bb)][_0x58b60c(0x1dc)]())},{'$set':{'sale_product.$.ewt':_0x1ba4b7['ewt'],'sale_product.$.spwp':_0x1ba4b7[_0x58b60c(0x1aa)],'sale_product.$.fin_disc':_0x1ba4b7['fin_disc'],'sale_product.$.vol_deals':_0x1ba4b7[_0x58b60c(0x1b1)],'sale_product.$.bo_disc':_0x1ba4b7[_0x58b60c(0x1ca)],'sale_product.$.totalprice':parseFloat(_0x1ba4b7[_0x58b60c(0x1b2)])}});}_0x35b819['flash'](_0x58b60c(0x198),_0x58b60c(0x197)),_0x553bf1[_0x58b60c(0x1a7)](_0x58b60c(0x192)+_0x390b9f);}catch(_0x34bb66){console[_0x58b60c(0x189)](_0x34bb66);}}),router['get']('/so_x',auth,async(_0x2a4082,_0x5c5c94)=>{var _0x15af3d=a0_0x1a03b2;try{const _0x173af1=await master_shop[_0x15af3d(0x1b6)](),_0x39d005=_0x2a4082[_0x15af3d(0x1b0)],_0x148101=await profile['findOne']({'email':_0x39d005['email']}),_0x5c1a47=await staff['findOne']({'email':_0x39d005[_0x15af3d(0x18f)],'type_of_acc_cat':'1'});let _0x56fd9f=[];_0x5c1a47!=null&&(_0x56fd9f=await sales_order['find']({'sales_staff_id':_0x5c1a47['_id']}));if(_0x173af1[0x0][_0x15af3d(0x1b5)]==_0x15af3d(0x18e))var _0x56a151=users['English'];else{if(_0x173af1[0x0]['language']==_0x15af3d(0x1a4))var _0x56a151=users['Hindi'];else{if(_0x173af1[0x0][_0x15af3d(0x1b5)]=='German')var _0x56a151=users['German'];else{if(_0x173af1[0x0]['language']=='Spanish')var _0x56a151=users[_0x15af3d(0x193)];else{if(_0x173af1[0x0][_0x15af3d(0x1b5)]=='French')var _0x56a151=users[_0x15af3d(0x1ce)];else{if(_0x173af1[0x0][_0x15af3d(0x1b5)]==_0x15af3d(0x1d3))var _0x56a151=users[_0x15af3d(0x1d2)];else{if(_0x173af1[0x0][_0x15af3d(0x1b5)]=='Chinese')var _0x56a151=users['Chinese'];else{if(_0x173af1[0x0][_0x15af3d(0x1b5)]=='Arabic\x20(ae)')var _0x56a151=users[_0x15af3d(0x1a1)];}}}}}}}_0x5c5c94[_0x15af3d(0x1da)]('collection_so_xt',{'success':_0x2a4082['flash'](_0x15af3d(0x198)),'errors':_0x2a4082[_0x15af3d(0x1cd)]('errors'),'master_shop':_0x173af1,'profile':_0x148101,'role':_0x39d005,'language':_0x56a151,'sales_mine':_0x56fd9f,'staff_arr':_0x5c1a47});}catch(_0x110a8b){console[_0x15af3d(0x189)](_0x110a8b);}}),router['get']('/view_so_xt/:id',auth,async(_0x1bbdd6,_0x197267)=>{var _0xe4ddde=a0_0x1a03b2;try{const _0x29acc6=await master_shop[_0xe4ddde(0x1b6)](),_0xd8f68a=_0x1bbdd6['user'],_0x1ba44b=await profile[_0xe4ddde(0x1be)]({'email':_0xd8f68a[_0xe4ddde(0x18f)]}),_0x544311=await staff[_0xe4ddde(0x1be)]({'email':_0xd8f68a[_0xe4ddde(0x18f)]}),_0x44f259=await customer[_0xe4ddde(0x1b6)]({'agent_id':_0x544311[_0xe4ddde(0x1ba)]}),_0x4ff8e7=_0x1bbdd6[_0xe4ddde(0x1cf)]['id'],_0x1e9a73=await sales_order[_0xe4ddde(0x19c)](_0x4ff8e7);if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]==_0xe4ddde(0x18e))var _0x33a740=users[_0xe4ddde(0x1cc)];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]==_0xe4ddde(0x1a4))var _0x33a740=users[_0xe4ddde(0x1a4)];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]=='German')var _0x33a740=users[_0xe4ddde(0x19e)];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]==_0xe4ddde(0x193))var _0x33a740=users[_0xe4ddde(0x193)];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]==_0xe4ddde(0x1ce))var _0x33a740=users[_0xe4ddde(0x1ce)];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]=='Portuguese\x20(BR)')var _0x33a740=users[_0xe4ddde(0x1d2)];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]==_0xe4ddde(0x19b))var _0x33a740=users['Chinese'];else{if(_0x29acc6[0x0][_0xe4ddde(0x1b5)]=='Arabic\x20(ae)')var _0x33a740=users[_0xe4ddde(0x1a1)];}}}}}}}_0x197267[_0xe4ddde(0x1da)](_0xe4ddde(0x1bf),{'success':_0x1bbdd6[_0xe4ddde(0x1cd)]('success'),'errors':_0x1bbdd6[_0xe4ddde(0x1cd)]('errors'),'master_shop':_0x29acc6,'profile':_0x1ba44b,'role':_0xd8f68a,'language':_0x33a740,'customer':_0x44f259,'sales_sa':_0x1e9a73,'staff_arr':_0x544311});}catch(_0x446832){console[_0xe4ddde(0x189)](_0x446832);}}),router[a0_0x1a03b2(0x1cb)](a0_0x1a03b2(0x1c0),auth,async(_0xd5e8a9,_0x1df6ed)=>{var _0x170006=a0_0x1a03b2;try{const _0x2d75dc=_0xd5e8a9[_0x170006(0x1cf)]['id'],_0x5a4297=await sales_order[_0x170006(0x19c)](_0x2d75dc),{collection:_0x1993ce,invoicemoney:_0x531ba7,collectionnumber:_0x1108d6,typeofpayment:_0x47eca5,cashdate:_0x4692f7,id_detl:_0x25adcb}=_0xd5e8a9['body'];_0x5a4297[_0x170006(0x1c7)]=_0x1993ce,_0x5a4297[_0x170006(0x18b)]=_0x47eca5,_0x5a4297[_0x170006(0x1ac)]=_0x4692f7,_0x5a4297['paid']=_0x170006(0x1ad),_0x5a4297['typeofprocess']='1';const _0x450e62=await _0x5a4297[_0x170006(0x1b9)]();_0xd5e8a9[_0x170006(0x1cd)](_0x170006(0x198),_0x170006(0x197)),_0x1df6ed[_0x170006(0x1a7)](_0x170006(0x1a6)+_0x2d75dc);}catch(_0x4580b4){console['log'](_0x4580b4);}}),module[a0_0x1a03b2(0x1a3)]=router;