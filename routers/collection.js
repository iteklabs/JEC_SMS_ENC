var a0_0x4e9a25=a0_0x3839;(function(_0x14003d,_0x2306a2){var _0x4a083d=a0_0x3839,_0x55e6b9=_0x14003d();while(!![]){try{var _0x23bc93=parseInt(_0x4a083d(0x1ea))/0x1*(-parseInt(_0x4a083d(0x1eb))/0x2)+-parseInt(_0x4a083d(0x203))/0x3*(-parseInt(_0x4a083d(0x1fd))/0x4)+parseInt(_0x4a083d(0x1c6))/0x5+parseInt(_0x4a083d(0x1f9))/0x6+-parseInt(_0x4a083d(0x1bf))/0x7*(-parseInt(_0x4a083d(0x1f4))/0x8)+parseInt(_0x4a083d(0x1f0))/0x9+-parseInt(_0x4a083d(0x1b4))/0xa;if(_0x23bc93===_0x2306a2)break;else _0x55e6b9['push'](_0x55e6b9['shift']());}catch(_0x553c7f){_0x55e6b9['push'](_0x55e6b9['shift']());}}}(a0_0x280e,0x40093));function a0_0x3839(_0x4551f2,_0x1fd2bd){var _0x280ee8=a0_0x280e();return a0_0x3839=function(_0x383900,_0x50a447){_0x383900=_0x383900-0x1b3;var _0x4e078c=_0x280ee8[_0x383900];return _0x4e078c;},a0_0x3839(_0x4551f2,_0x1fd2bd);}function a0_0x280e(){var _0x4e4034=['string','type_of_payment','flash','findById','Hindi','updateOne','bo_disc','valueOf','success','English\x20(US)','findOne','/collection/view/','../middleware/auth','redirect','get','fin_disc','cash_date','collection_so_xt','length','log','Arabic','Portuguese','German','mongoose','email','/view/:id','19415rwHepF','34aBxioG','spwp','French','view_collections_sox','forEach','1501497Oztvvn','/view_sox/:id','body','ObjectId','16HJqagy','vol_deals','id_detl','view_collections_xt','params','94134XTJuhh','Portuguese\x20(BR)','/so_x','Types','4560SMxmga','/x_so','typeofprocess','totalcollection','view_collections','_id','825dftbcv','True','exports','render','6056830wPLmbu','find','language','/view','collection_price','json','errors','English','Collection\x20Update\x20successfully','totalNewPrice','paid','1653316eNipqD','../models/all_models','multer','/view_x','/view_xt/:id','Chinese','collectionnumber','1148155DYjVbQ','ewt','post','view_collections_so_xt','save','/view_so_xt/:id','Arabic\x20(ae)','user','map','Spanish'];a0_0x280e=function(){return _0x4e4034;};return a0_0x280e();}const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_sa,sales_order}=require(a0_0x4e9a25(0x1c0)),auth=require(a0_0x4e9a25(0x1dc)),users=require('../public/language/languages.json'),excelJS=require('exceljs'),xlsx=require('xlsx'),multer=require(a0_0x4e9a25(0x1c1)),mongoose=require(a0_0x4e9a25(0x1e7));router[a0_0x4e9a25(0x1de)](a0_0x4e9a25(0x1b7),auth,async(_0x108e41,_0x2fee6b)=>{var _0x2e57b3=a0_0x4e9a25;try{const _0x544312=await master_shop[_0x2e57b3(0x1b5)](),_0xf3d91c=_0x108e41[_0x2e57b3(0x1cd)],_0x597cc2=await profile[_0x2e57b3(0x1da)]({'email':_0xf3d91c[_0x2e57b3(0x1e8)]}),_0x4bf7b0=await staff['findOne']({'email':_0xf3d91c[_0x2e57b3(0x1e8)],'type_of_acc_cat':'2'});let _0x4db50e=[];_0x4bf7b0!=null&&(_0x4db50e=await sales_order['find']({'sales_staff_id':_0x4bf7b0['_id']}));if(_0x544312[0x0][_0x2e57b3(0x1b6)]==_0x2e57b3(0x1d9))var _0x4849ea=users[_0x2e57b3(0x1bb)];else{if(_0x544312[0x0]['language']==_0x2e57b3(0x1d4))var _0x4849ea=users['Hindi'];else{if(_0x544312[0x0][_0x2e57b3(0x1b6)]=='German')var _0x4849ea=users['German'];else{if(_0x544312[0x0][_0x2e57b3(0x1b6)]==_0x2e57b3(0x1cf))var _0x4849ea=users[_0x2e57b3(0x1cf)];else{if(_0x544312[0x0]['language']==_0x2e57b3(0x1ed))var _0x4849ea=users[_0x2e57b3(0x1ed)];else{if(_0x544312[0x0]['language']==_0x2e57b3(0x1fa))var _0x4849ea=users['Portuguese'];else{if(_0x544312[0x0][_0x2e57b3(0x1b6)]=='Chinese')var _0x4849ea=users[_0x2e57b3(0x1c4)];else{if(_0x544312[0x0]['language']==_0x2e57b3(0x1cc))var _0x4849ea=users['Arabic'];}}}}}}}_0x2fee6b[_0x2e57b3(0x1b3)]('collection',{'success':_0x108e41[_0x2e57b3(0x1d2)](_0x2e57b3(0x1d8)),'errors':_0x108e41[_0x2e57b3(0x1d2)](_0x2e57b3(0x1ba)),'master_shop':_0x544312,'profile':_0x597cc2,'role':_0xf3d91c,'language':_0x4849ea,'sales_mine':_0x4db50e,'staff_arr':_0x4bf7b0});}catch(_0x68873c){console[_0x2e57b3(0x1e3)](_0x68873c);}}),router[a0_0x4e9a25(0x1de)]('/view/:id',auth,async(_0x506237,_0x56ed68)=>{var _0x4eebc0=a0_0x4e9a25;try{const _0x4e53e5=await master_shop[_0x4eebc0(0x1b5)](),_0x1c7660=_0x506237['user'],_0x23580c=await profile[_0x4eebc0(0x1da)]({'email':_0x1c7660[_0x4eebc0(0x1e8)]}),_0x285a7a=await staff[_0x4eebc0(0x1da)]({'email':_0x1c7660['email']}),_0x5cfb74=await customer['find']({'agent_id':_0x285a7a[_0x4eebc0(0x202)]}),_0x22f15e=_0x506237[_0x4eebc0(0x1f8)]['id'],_0x315163=await sales_sa[_0x4eebc0(0x1d3)](_0x22f15e);if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]==_0x4eebc0(0x1d9))var _0x3524b7=users['English'];else{if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]==_0x4eebc0(0x1d4))var _0x3524b7=users['Hindi'];else{if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]=='German')var _0x3524b7=users['German'];else{if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]==_0x4eebc0(0x1cf))var _0x3524b7=users[_0x4eebc0(0x1cf)];else{if(_0x4e53e5[0x0]['language']=='French')var _0x3524b7=users[_0x4eebc0(0x1ed)];else{if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]==_0x4eebc0(0x1fa))var _0x3524b7=users[_0x4eebc0(0x1e5)];else{if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]==_0x4eebc0(0x1c4))var _0x3524b7=users[_0x4eebc0(0x1c4)];else{if(_0x4e53e5[0x0][_0x4eebc0(0x1b6)]=='Arabic\x20(ae)')var _0x3524b7=users[_0x4eebc0(0x1e4)];}}}}}}}_0x56ed68[_0x4eebc0(0x1b3)](_0x4eebc0(0x201),{'success':_0x506237['flash'](_0x4eebc0(0x1d8)),'errors':_0x506237[_0x4eebc0(0x1d2)](_0x4eebc0(0x1ba)),'master_shop':_0x4e53e5,'profile':_0x23580c,'role':_0x1c7660,'language':_0x3524b7,'customer':_0x5cfb74,'sales_sa':_0x315163,'staff_arr':_0x285a7a});}catch(_0x5c067e){console['log'](_0x5c067e);}}),router[a0_0x4e9a25(0x1c8)](a0_0x4e9a25(0x1e9),auth,async(_0x390c2b,_0x47fc3b)=>{var _0x3c1397=a0_0x4e9a25;try{const _0x37e3fd=_0x390c2b[_0x3c1397(0x1f8)]['id'],_0x585fd9=await sales_sa[_0x3c1397(0x1d3)](_0x37e3fd),{collection:_0x6e0802,invoicemoney:_0x4e8ebf,collectionnumber:_0x4b6ceb,typeofpayment:_0x346dfa,cashdate:_0x1f045f,id_detl:_0x58a7d5}=_0x390c2b[_0x3c1397(0x1f2)];_0x47fc3b[_0x3c1397(0x1b9)](_0x585fd9);return;if(typeof _0x58a7d5=='string')var _0x208084=[_0x390c2b['body'][_0x3c1397(0x1f6)]],_0x399630=[_0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1c7)]],_0x560ff8=[_0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1ec)]],_0x425417=[_0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1df)]],_0x2da407=[_0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1f5)]],_0x1cc8f9=[_0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1d6)]],_0x452a6e=[_0x390c2b[_0x3c1397(0x1f2)]['totalNewPrice']];else var _0x208084=[..._0x390c2b[_0x3c1397(0x1f2)]['id_detl']],_0x399630=[..._0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1c7)]],_0x560ff8=[..._0x390c2b[_0x3c1397(0x1f2)]['spwp']],_0x425417=[..._0x390c2b['body'][_0x3c1397(0x1df)]],_0x2da407=[..._0x390c2b[_0x3c1397(0x1f2)][_0x3c1397(0x1f5)]],_0x1cc8f9=[..._0x390c2b['body'][_0x3c1397(0x1d6)]],_0x452a6e=[..._0x390c2b[_0x3c1397(0x1f2)]['totalNewPrice']];const _0x3ac87e=_0x208084[_0x3c1397(0x1ce)](_0x4afebb=>{return _0x4afebb={'id_detl':_0x4afebb};});_0x399630[_0x3c1397(0x1ef)]((_0x599cf1,_0x40ef5b)=>{_0x3ac87e[_0x40ef5b]['ewt']=_0x599cf1;}),_0x560ff8[_0x3c1397(0x1ef)]((_0x4553e3,_0x3f764b)=>{_0x3ac87e[_0x3f764b]['spwp']=_0x4553e3;}),_0x425417[_0x3c1397(0x1ef)]((_0x32d54f,_0x936bdc)=>{var _0x105e75=_0x3c1397;_0x3ac87e[_0x936bdc][_0x105e75(0x1df)]=_0x32d54f;}),_0x2da407[_0x3c1397(0x1ef)]((_0x5e49b0,_0x2b4a3b)=>{var _0x303be8=_0x3c1397;_0x3ac87e[_0x2b4a3b][_0x303be8(0x1f5)]=_0x5e49b0;}),_0x1cc8f9['forEach']((_0x6c9932,_0x2ca618)=>{var _0x31dfd9=_0x3c1397;_0x3ac87e[_0x2ca618][_0x31dfd9(0x1d6)]=_0x6c9932;}),_0x452a6e['forEach']((_0xf3c5fb,_0x505c9f)=>{var _0x464ee5=_0x3c1397;_0x3ac87e[_0x505c9f][_0x464ee5(0x200)]=_0xf3c5fb;}),_0x585fd9[_0x3c1397(0x1b8)]=_0x6e0802,_0x585fd9[_0x3c1397(0x1c5)]=_0x4b6ceb,_0x585fd9[_0x3c1397(0x1d1)]=_0x346dfa,_0x585fd9[_0x3c1397(0x1e0)]=_0x1f045f,_0x585fd9['paid']=_0x3c1397(0x204);const _0x5860ec=await _0x585fd9['save']();if(_0x5860ec[_0x3c1397(0x1be)]==_0x3c1397(0x204))for(let _0x4fa0e1=0x0;_0x4fa0e1<=_0x3ac87e[_0x3c1397(0x1e2)]-0x1;_0x4fa0e1++){const _0x3987aa=_0x3ac87e[_0x4fa0e1],_0x57f865=mongoose['Types']['ObjectId'];console[_0x3c1397(0x1e3)](_0x3987aa);const _0x202350=await sales_sa['updateOne']({'_id':_0x57f865(_0x37e3fd[_0x3c1397(0x1d7)]()),'sale_product._id':_0x57f865(_0x3987aa[_0x3c1397(0x1f6)][_0x3c1397(0x1d7)]())},{'$set':{'sale_product.$.ewt':_0x3987aa['ewt'],'sale_product.$.spwp':_0x3987aa['spwp'],'sale_product.$.fin_disc':_0x3987aa[_0x3c1397(0x1df)],'sale_product.$.vol_deals':_0x3987aa[_0x3c1397(0x1f5)],'sale_product.$.bo_disc':_0x3987aa[_0x3c1397(0x1d6)],'sale_product.$.totalprice':parseFloat(_0x3987aa[_0x3c1397(0x200)])}});}_0x390c2b[_0x3c1397(0x1d2)](_0x3c1397(0x1d8),'Collection\x20Update\x20successfully'),_0x47fc3b[_0x3c1397(0x1dd)](_0x3c1397(0x1db)+_0x37e3fd);}catch(_0x4a0717){console[_0x3c1397(0x1e3)](_0x4a0717);}}),router[a0_0x4e9a25(0x1de)](a0_0x4e9a25(0x1fe),auth,async(_0x1b2729,_0xb3222a)=>{var _0x2940fd=a0_0x4e9a25;try{const _0x141075=await master_shop[_0x2940fd(0x1b5)](),_0x10ab8b=_0x1b2729['user'],_0x1cd14b=await profile['findOne']({'email':_0x10ab8b[_0x2940fd(0x1e8)]}),_0x1c05d0=await staff['findOne']({'email':_0x10ab8b[_0x2940fd(0x1e8)],'type_of_acc_cat':'2'});let _0x332184=[];_0x1c05d0!=null&&(_0x332184=await sales_order[_0x2940fd(0x1b5)]({'sales_staff_id':_0x1c05d0[_0x2940fd(0x202)]}));console[_0x2940fd(0x1e3)](_0x332184);if(_0x141075[0x0][_0x2940fd(0x1b6)]==_0x2940fd(0x1d9))var _0x261653=users[_0x2940fd(0x1bb)];else{if(_0x141075[0x0][_0x2940fd(0x1b6)]==_0x2940fd(0x1d4))var _0x261653=users[_0x2940fd(0x1d4)];else{if(_0x141075[0x0]['language']==_0x2940fd(0x1e6))var _0x261653=users['German'];else{if(_0x141075[0x0]['language']==_0x2940fd(0x1cf))var _0x261653=users[_0x2940fd(0x1cf)];else{if(_0x141075[0x0]['language']==_0x2940fd(0x1ed))var _0x261653=users[_0x2940fd(0x1ed)];else{if(_0x141075[0x0][_0x2940fd(0x1b6)]==_0x2940fd(0x1fa))var _0x261653=users[_0x2940fd(0x1e5)];else{if(_0x141075[0x0]['language']==_0x2940fd(0x1c4))var _0x261653=users[_0x2940fd(0x1c4)];else{if(_0x141075[0x0][_0x2940fd(0x1b6)]=='Arabic\x20(ae)')var _0x261653=users[_0x2940fd(0x1e4)];}}}}}}}_0xb3222a[_0x2940fd(0x1b3)]('collection_sox',{'success':_0x1b2729['flash'](_0x2940fd(0x1d8)),'errors':_0x1b2729['flash'](_0x2940fd(0x1ba)),'master_shop':_0x141075,'profile':_0x1cd14b,'role':_0x10ab8b,'language':_0x261653,'sales_mine':_0x332184,'staff_arr':_0x1c05d0});}catch(_0x2e7d01){console['log'](_0x2e7d01);}}),router[a0_0x4e9a25(0x1de)](a0_0x4e9a25(0x1f1),auth,async(_0x1f1d15,_0x3c2018)=>{var _0x5a033a=a0_0x4e9a25;try{const _0xd01468=await master_shop[_0x5a033a(0x1b5)](),_0x38b9c6=_0x1f1d15[_0x5a033a(0x1cd)],_0x5f1647=await profile[_0x5a033a(0x1da)]({'email':_0x38b9c6[_0x5a033a(0x1e8)]}),_0x39a285=await staff[_0x5a033a(0x1da)]({'email':_0x38b9c6[_0x5a033a(0x1e8)]}),_0x1ad88c=await customer[_0x5a033a(0x1b5)]({'agent_id':_0x39a285[_0x5a033a(0x202)]}),_0x38d7b0=_0x1f1d15[_0x5a033a(0x1f8)]['id'],_0x2c6e46=await sales_order[_0x5a033a(0x1d3)](_0x38d7b0);if(_0xd01468[0x0][_0x5a033a(0x1b6)]==_0x5a033a(0x1d9))var _0x4cd273=users[_0x5a033a(0x1bb)];else{if(_0xd01468[0x0][_0x5a033a(0x1b6)]==_0x5a033a(0x1d4))var _0x4cd273=users[_0x5a033a(0x1d4)];else{if(_0xd01468[0x0]['language']==_0x5a033a(0x1e6))var _0x4cd273=users['German'];else{if(_0xd01468[0x0][_0x5a033a(0x1b6)]==_0x5a033a(0x1cf))var _0x4cd273=users['Spanish'];else{if(_0xd01468[0x0][_0x5a033a(0x1b6)]==_0x5a033a(0x1ed))var _0x4cd273=users[_0x5a033a(0x1ed)];else{if(_0xd01468[0x0][_0x5a033a(0x1b6)]=='Portuguese\x20(BR)')var _0x4cd273=users['Portuguese'];else{if(_0xd01468[0x0]['language']==_0x5a033a(0x1c4))var _0x4cd273=users[_0x5a033a(0x1c4)];else{if(_0xd01468[0x0][_0x5a033a(0x1b6)]==_0x5a033a(0x1cc))var _0x4cd273=users[_0x5a033a(0x1e4)];}}}}}}}_0x3c2018[_0x5a033a(0x1b3)](_0x5a033a(0x1ee),{'success':_0x1f1d15[_0x5a033a(0x1d2)](_0x5a033a(0x1d8)),'errors':_0x1f1d15[_0x5a033a(0x1d2)](_0x5a033a(0x1ba)),'master_shop':_0xd01468,'profile':_0x5f1647,'role':_0x38b9c6,'language':_0x4cd273,'customer':_0x1ad88c,'sales_sa':_0x2c6e46});}catch(_0x4a9f3c){console[_0x5a033a(0x1e3)](_0x4a9f3c);}}),router['get'](a0_0x4e9a25(0x1c2),auth,async(_0x3673ab,_0x5bdefa)=>{var _0x1b4c64=a0_0x4e9a25;try{const _0x3ae94b=await master_shop[_0x1b4c64(0x1b5)](),_0x155fb5=_0x3673ab[_0x1b4c64(0x1cd)],_0x3391e6=await profile[_0x1b4c64(0x1da)]({'email':_0x155fb5[_0x1b4c64(0x1e8)]}),_0x1ea95e=await staff[_0x1b4c64(0x1da)]({'email':_0x155fb5[_0x1b4c64(0x1e8)],'type_of_acc_cat':'1'});let _0x2c4d61=[];_0x1ea95e!=null&&(_0x2c4d61=await sales_sa[_0x1b4c64(0x1b5)]({'sales_staff_id':_0x1ea95e[_0x1b4c64(0x202)]}));if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]=='English\x20(US)')var _0x4d127e=users[_0x1b4c64(0x1bb)];else{if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]==_0x1b4c64(0x1d4))var _0x4d127e=users['Hindi'];else{if(_0x3ae94b[0x0]['language']==_0x1b4c64(0x1e6))var _0x4d127e=users[_0x1b4c64(0x1e6)];else{if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]=='Spanish')var _0x4d127e=users[_0x1b4c64(0x1cf)];else{if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]=='French')var _0x4d127e=users[_0x1b4c64(0x1ed)];else{if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]==_0x1b4c64(0x1fa))var _0x4d127e=users[_0x1b4c64(0x1e5)];else{if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]=='Chinese')var _0x4d127e=users['Chinese'];else{if(_0x3ae94b[0x0][_0x1b4c64(0x1b6)]==_0x1b4c64(0x1cc))var _0x4d127e=users[_0x1b4c64(0x1e4)];}}}}}}}_0x5bdefa[_0x1b4c64(0x1b3)]('collection_xt',{'success':_0x3673ab[_0x1b4c64(0x1d2)](_0x1b4c64(0x1d8)),'errors':_0x3673ab[_0x1b4c64(0x1d2)](_0x1b4c64(0x1ba)),'master_shop':_0x3ae94b,'profile':_0x3391e6,'role':_0x155fb5,'language':_0x4d127e,'sales_mine':_0x2c4d61,'staff_arr':_0x1ea95e});}catch(_0x2ac614){console[_0x1b4c64(0x1e3)](_0x2ac614);}}),router[a0_0x4e9a25(0x1de)]('/view_xt/:id',auth,async(_0x1d5766,_0x56ff89)=>{var _0x1a0bd0=a0_0x4e9a25;try{const _0x4314e2=await master_shop['find'](),_0x5344f2=_0x1d5766[_0x1a0bd0(0x1cd)],_0x4e2e3b=await profile[_0x1a0bd0(0x1da)]({'email':_0x5344f2['email']}),_0x1893f1=await staff[_0x1a0bd0(0x1da)]({'email':_0x5344f2[_0x1a0bd0(0x1e8)]}),_0x42a404=await customer[_0x1a0bd0(0x1b5)]({'agent_id':_0x1893f1[_0x1a0bd0(0x202)]}),_0x155f37=_0x1d5766[_0x1a0bd0(0x1f8)]['id'],_0x371749=await sales_sa[_0x1a0bd0(0x1d3)](_0x155f37);if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1d9))var _0x27026f=users[_0x1a0bd0(0x1bb)];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1d4))var _0x27026f=users[_0x1a0bd0(0x1d4)];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1e6))var _0x27026f=users[_0x1a0bd0(0x1e6)];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1cf))var _0x27026f=users['Spanish'];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1ed))var _0x27026f=users[_0x1a0bd0(0x1ed)];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1fa))var _0x27026f=users[_0x1a0bd0(0x1e5)];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1c4))var _0x27026f=users['Chinese'];else{if(_0x4314e2[0x0][_0x1a0bd0(0x1b6)]==_0x1a0bd0(0x1cc))var _0x27026f=users[_0x1a0bd0(0x1e4)];}}}}}}}_0x56ff89[_0x1a0bd0(0x1b3)](_0x1a0bd0(0x1f7),{'success':_0x1d5766[_0x1a0bd0(0x1d2)](_0x1a0bd0(0x1d8)),'errors':_0x1d5766[_0x1a0bd0(0x1d2)](_0x1a0bd0(0x1ba)),'master_shop':_0x4314e2,'profile':_0x4e2e3b,'role':_0x5344f2,'language':_0x27026f,'customer':_0x42a404,'sales_sa':_0x371749,'staff_arr':_0x1893f1});}catch(_0x2d7285){console['log'](_0x2d7285);}}),router['post'](a0_0x4e9a25(0x1c3),auth,async(_0x2c1d33,_0x3da8b5)=>{var _0x3ec155=a0_0x4e9a25;try{const _0x18a8e3=_0x2c1d33[_0x3ec155(0x1f8)]['id'],_0x54ece6=await sales_sa[_0x3ec155(0x1d3)](_0x18a8e3),{collection:_0x2d4953,invoicemoney:_0x2ba513,collectionnumber:_0xb1363e,typeofpayment:_0x47ef72,cashdate:_0x4fb9c5,id_detl:_0x1cd87e}=_0x2c1d33['body'];if(typeof _0x1cd87e==_0x3ec155(0x1d0))var _0x54be9d=[_0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1f6)]],_0x237efe=[_0x2c1d33['body']['ewt']],_0x516ecb=[_0x2c1d33[_0x3ec155(0x1f2)]['spwp']],_0x247aeb=[_0x2c1d33[_0x3ec155(0x1f2)]['fin_disc']],_0x3554b0=[_0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1f5)]],_0x5f587c=[_0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1d6)]],_0x31868e=[_0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1bd)]];else var _0x54be9d=[..._0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1f6)]],_0x237efe=[..._0x2c1d33['body'][_0x3ec155(0x1c7)]],_0x516ecb=[..._0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1ec)]],_0x247aeb=[..._0x2c1d33['body'][_0x3ec155(0x1df)]],_0x3554b0=[..._0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1f5)]],_0x5f587c=[..._0x2c1d33['body'][_0x3ec155(0x1d6)]],_0x31868e=[..._0x2c1d33[_0x3ec155(0x1f2)][_0x3ec155(0x1bd)]];const _0x5d026b=_0x54be9d[_0x3ec155(0x1ce)](_0x219c3e=>{return _0x219c3e={'id_detl':_0x219c3e};});_0x237efe[_0x3ec155(0x1ef)]((_0x50440c,_0x1acf21)=>{var _0x29dbb0=_0x3ec155;_0x5d026b[_0x1acf21][_0x29dbb0(0x1c7)]=_0x50440c;}),_0x516ecb[_0x3ec155(0x1ef)]((_0x443cc0,_0x5548ef)=>{var _0x1ff96d=_0x3ec155;_0x5d026b[_0x5548ef][_0x1ff96d(0x1ec)]=_0x443cc0;}),_0x247aeb[_0x3ec155(0x1ef)]((_0x59ff3c,_0x119985)=>{var _0x5d3f8c=_0x3ec155;_0x5d026b[_0x119985][_0x5d3f8c(0x1df)]=_0x59ff3c;}),_0x3554b0[_0x3ec155(0x1ef)]((_0x5549f8,_0x5c6eaf)=>{var _0x3b12dd=_0x3ec155;_0x5d026b[_0x5c6eaf][_0x3b12dd(0x1f5)]=_0x5549f8;}),_0x5f587c['forEach']((_0x374d84,_0x2fcdf8)=>{var _0x56d514=_0x3ec155;_0x5d026b[_0x2fcdf8][_0x56d514(0x1d6)]=_0x374d84;}),_0x31868e['forEach']((_0x4183e5,_0x204554)=>{_0x5d026b[_0x204554]['totalcollection']=_0x4183e5;}),_0x54ece6['collection_price']=_0x2d4953,_0x54ece6[_0x3ec155(0x1c5)]=_0xb1363e,_0x54ece6[_0x3ec155(0x1d1)]=_0x47ef72,_0x54ece6[_0x3ec155(0x1e0)]=_0x4fb9c5,_0x54ece6[_0x3ec155(0x1be)]=_0x3ec155(0x204),_0x54ece6[_0x3ec155(0x1ff)]='1';const _0x19075b=await _0x54ece6[_0x3ec155(0x1ca)]();if(_0x19075b['paid']==_0x3ec155(0x204))for(let _0x2feefd=0x0;_0x2feefd<=_0x5d026b[_0x3ec155(0x1e2)]-0x1;_0x2feefd++){const _0x5f2eea=_0x5d026b[_0x2feefd],_0x2acb9c=mongoose[_0x3ec155(0x1fc)][_0x3ec155(0x1f3)];console[_0x3ec155(0x1e3)](_0x5f2eea);const _0x4ed29f=await sales_sa[_0x3ec155(0x1d5)]({'_id':_0x2acb9c(_0x18a8e3[_0x3ec155(0x1d7)]()),'sale_product._id':_0x2acb9c(_0x5f2eea[_0x3ec155(0x1f6)]['valueOf']())},{'$set':{'sale_product.$.ewt':_0x5f2eea['ewt'],'sale_product.$.spwp':_0x5f2eea[_0x3ec155(0x1ec)],'sale_product.$.fin_disc':_0x5f2eea[_0x3ec155(0x1df)],'sale_product.$.vol_deals':_0x5f2eea['vol_deals'],'sale_product.$.bo_disc':_0x5f2eea['bo_disc'],'sale_product.$.totalprice':parseFloat(_0x5f2eea[_0x3ec155(0x200)])}});}_0x2c1d33[_0x3ec155(0x1d2)](_0x3ec155(0x1d8),_0x3ec155(0x1bc)),_0x3da8b5[_0x3ec155(0x1dd)]('/collection/view/'+_0x18a8e3);}catch(_0x49eb4a){console[_0x3ec155(0x1e3)](_0x49eb4a);}}),router[a0_0x4e9a25(0x1de)](a0_0x4e9a25(0x1fb),auth,async(_0x514e3b,_0x5de988)=>{var _0x13b195=a0_0x4e9a25;try{const _0x3ba8d9=await master_shop[_0x13b195(0x1b5)](),_0x1eec70=_0x514e3b[_0x13b195(0x1cd)],_0x306389=await profile[_0x13b195(0x1da)]({'email':_0x1eec70[_0x13b195(0x1e8)]}),_0x77c318=await staff[_0x13b195(0x1da)]({'email':_0x1eec70['email'],'type_of_acc_cat':'1'});let _0x573dda=[];_0x77c318!=null&&(_0x573dda=await sales_order[_0x13b195(0x1b5)]({'sales_staff_id':_0x77c318[_0x13b195(0x202)]}));if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]==_0x13b195(0x1d9))var _0x4f01f3=users['English'];else{if(_0x3ba8d9[0x0]['language']=='Hindi')var _0x4f01f3=users[_0x13b195(0x1d4)];else{if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]=='German')var _0x4f01f3=users['German'];else{if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]==_0x13b195(0x1cf))var _0x4f01f3=users[_0x13b195(0x1cf)];else{if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]==_0x13b195(0x1ed))var _0x4f01f3=users[_0x13b195(0x1ed)];else{if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]==_0x13b195(0x1fa))var _0x4f01f3=users[_0x13b195(0x1e5)];else{if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]==_0x13b195(0x1c4))var _0x4f01f3=users[_0x13b195(0x1c4)];else{if(_0x3ba8d9[0x0][_0x13b195(0x1b6)]==_0x13b195(0x1cc))var _0x4f01f3=users['Arabic'];}}}}}}}_0x5de988[_0x13b195(0x1b3)](_0x13b195(0x1e1),{'success':_0x514e3b[_0x13b195(0x1d2)]('success'),'errors':_0x514e3b[_0x13b195(0x1d2)](_0x13b195(0x1ba)),'master_shop':_0x3ba8d9,'profile':_0x306389,'role':_0x1eec70,'language':_0x4f01f3,'sales_mine':_0x573dda,'staff_arr':_0x77c318});}catch(_0x121fb0){console[_0x13b195(0x1e3)](_0x121fb0);}}),router[a0_0x4e9a25(0x1de)](a0_0x4e9a25(0x1cb),auth,async(_0x1f52a6,_0x1e0be8)=>{var _0x495246=a0_0x4e9a25;try{const _0x4af14d=await master_shop['find'](),_0x134c5c=_0x1f52a6[_0x495246(0x1cd)],_0x2f2a74=await profile[_0x495246(0x1da)]({'email':_0x134c5c[_0x495246(0x1e8)]}),_0x364719=await staff[_0x495246(0x1da)]({'email':_0x134c5c['email']}),_0x39eecf=await customer[_0x495246(0x1b5)]({'agent_id':_0x364719[_0x495246(0x202)]}),_0x340c97=_0x1f52a6[_0x495246(0x1f8)]['id'],_0x5d5da6=await sales_order[_0x495246(0x1d3)](_0x340c97);if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1d9))var _0x4af69e=users[_0x495246(0x1bb)];else{if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1d4))var _0x4af69e=users[_0x495246(0x1d4)];else{if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1e6))var _0x4af69e=users['German'];else{if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1cf))var _0x4af69e=users[_0x495246(0x1cf)];else{if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1ed))var _0x4af69e=users['French'];else{if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1fa))var _0x4af69e=users[_0x495246(0x1e5)];else{if(_0x4af14d[0x0][_0x495246(0x1b6)]==_0x495246(0x1c4))var _0x4af69e=users[_0x495246(0x1c4)];else{if(_0x4af14d[0x0]['language']=='Arabic\x20(ae)')var _0x4af69e=users['Arabic'];}}}}}}}_0x1e0be8['render'](_0x495246(0x1c9),{'success':_0x1f52a6['flash'](_0x495246(0x1d8)),'errors':_0x1f52a6[_0x495246(0x1d2)](_0x495246(0x1ba)),'master_shop':_0x4af14d,'profile':_0x2f2a74,'role':_0x134c5c,'language':_0x4af69e,'customer':_0x39eecf,'sales_sa':_0x5d5da6,'staff_arr':_0x364719});}catch(_0x4998bc){console[_0x495246(0x1e3)](_0x4998bc);}}),router[a0_0x4e9a25(0x1c8)](a0_0x4e9a25(0x1cb),auth,async(_0x5be502,_0x264995)=>{var _0x17f25a=a0_0x4e9a25;try{const _0x1dada9=_0x5be502[_0x17f25a(0x1f8)]['id'],_0x3ea63d=await sales_order[_0x17f25a(0x1d3)](_0x1dada9),{collection:_0x412963,invoicemoney:_0x3dc266,collectionnumber:_0x2fc9f1,typeofpayment:_0x4da799,cashdate:_0x416615,id_detl:_0x360fb5}=_0x5be502[_0x17f25a(0x1f2)];_0x3ea63d[_0x17f25a(0x1b8)]=_0x412963,_0x3ea63d[_0x17f25a(0x1d1)]=_0x4da799,_0x3ea63d[_0x17f25a(0x1e0)]=_0x416615,_0x3ea63d['paid']=_0x17f25a(0x204),_0x3ea63d[_0x17f25a(0x1ff)]='1';const _0x31b1c3=await _0x3ea63d[_0x17f25a(0x1ca)]();_0x5be502[_0x17f25a(0x1d2)](_0x17f25a(0x1d8),_0x17f25a(0x1bc)),_0x264995[_0x17f25a(0x1dd)]('/collection/view_so_xt/'+_0x1dada9);}catch(_0x4620f7){console[_0x17f25a(0x1e3)](_0x4620f7);}}),module[a0_0x4e9a25(0x205)]=router;