var a0_0x3c50b7=a0_0x1477;function a0_0x4317(){var _0x40a032=['map','/view_sox/:id','flash','1897951yBuRsF','5543128JXBLmm','params','Arabic','forEach','language','1169451JaRmHW','express','email','Spanish','12ooOKoD','12qCatZh','spwp','save','errors','findOne','updateOne','/view_so_xt/:id','view_collections_xt','view_collections_sox','type_of_payment','2870084oEoPUp','6nBbMrA','64710zjMvDE','German','Hindi','body','totalcollection','exports','collection_price','/collection/view_so_xt/','5531935KvdoWB','/view/:id','../models/all_models','172792jxPEfP','/x_so','14kHmeiV','mongoose','French','Router','collection_xt','True','get','post','find','1830fMoivo','findById','view_collections','length','valueOf','log','Arabic\x20(ae)','vol_deals','../public/language/languages.json','ObjectId','user','bo_disc','collection','render','_id','paid','2fDncjC','totalNewPrice','id_detl','English\x20(US)','redirect','/so_x','json','Types','xlsx','collection_sox','collectionnumber','/view','Collection\x20Update\x20successfully','fin_disc','string','English','cash_date','exceljs','../middleware/auth','Portuguese\x20(BR)','/view_xt/:id','typeofprocess','Chinese','Portuguese','104WwCRCp','ewt','multer','success','view_collections_so_xt','collection_so_xt','/collection/view/'];a0_0x4317=function(){return _0x40a032;};return a0_0x4317();}function a0_0x1477(_0x3a39d0,_0x5ca859){var _0x431776=a0_0x4317();return a0_0x1477=function(_0x14772f,_0x5b2dfd){_0x14772f=_0x14772f-0x14a;var _0x522285=_0x431776[_0x14772f];return _0x522285;},a0_0x1477(_0x3a39d0,_0x5ca859);}(function(_0x460955,_0x5434c2){var _0x41a858=a0_0x1477,_0x3b9cfe=_0x460955();while(!![]){try{var _0xaaa0f3=-parseInt(_0x41a858(0x19d))/0x1*(parseInt(_0x41a858(0x159))/0x2)+-parseInt(_0x41a858(0x181))/0x3*(-parseInt(_0x41a858(0x186))/0x4)+-parseInt(_0x41a858(0x19a))/0x5*(-parseInt(_0x41a858(0x191))/0x6)+parseInt(_0x41a858(0x19f))/0x7*(parseInt(_0x41a858(0x17c))/0x8)+parseInt(_0x41a858(0x192))/0x9*(-parseInt(_0x41a858(0x1a8))/0xa)+-parseInt(_0x41a858(0x17b))/0xb*(-parseInt(_0x41a858(0x185))/0xc)+-parseInt(_0x41a858(0x171))/0xd*(parseInt(_0x41a858(0x190))/0xe);if(_0xaaa0f3===_0x5434c2)break;else _0x3b9cfe['push'](_0x3b9cfe['shift']());}catch(_0x4c25c9){_0x3b9cfe['push'](_0x3b9cfe['shift']());}}}(a0_0x4317,0xac40f));const express=require(a0_0x3c50b7(0x182)),app=express(),router=express[a0_0x3c50b7(0x1a2)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_sa,sales_order}=require(a0_0x3c50b7(0x19c)),auth=require(a0_0x3c50b7(0x16b)),users=require(a0_0x3c50b7(0x151)),excelJS=require(a0_0x3c50b7(0x16a)),xlsx=require(a0_0x3c50b7(0x161)),multer=require(a0_0x3c50b7(0x173)),mongoose=require(a0_0x3c50b7(0x1a0));router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x164),auth,async(_0x51e9f2,_0x19f6a8)=>{var _0x57c415=a0_0x3c50b7;try{const _0x3229b3=await master_shop[_0x57c415(0x1a7)](),_0x126c7c=_0x51e9f2[_0x57c415(0x153)],_0x34bb59=await profile[_0x57c415(0x18a)]({'email':_0x126c7c[_0x57c415(0x183)]}),_0x596414=await staff['findOne']({'email':_0x126c7c[_0x57c415(0x183)],'type_of_acc_cat':'2'});let _0x17a9c0=[];_0x596414!=null&&(_0x17a9c0=await sales_order[_0x57c415(0x1a7)]({'sales_staff_id':_0x596414[_0x57c415(0x157)]}));if(_0x3229b3[0x0]['language']==_0x57c415(0x15c))var _0x4df484=users[_0x57c415(0x168)];else{if(_0x3229b3[0x0]['language']=='Hindi')var _0x4df484=users[_0x57c415(0x194)];else{if(_0x3229b3[0x0][_0x57c415(0x180)]=='German')var _0x4df484=users[_0x57c415(0x193)];else{if(_0x3229b3[0x0][_0x57c415(0x180)]==_0x57c415(0x184))var _0x4df484=users[_0x57c415(0x184)];else{if(_0x3229b3[0x0]['language']==_0x57c415(0x1a1))var _0x4df484=users[_0x57c415(0x1a1)];else{if(_0x3229b3[0x0][_0x57c415(0x180)]==_0x57c415(0x16c))var _0x4df484=users[_0x57c415(0x170)];else{if(_0x3229b3[0x0][_0x57c415(0x180)]=='Chinese')var _0x4df484=users['Chinese'];else{if(_0x3229b3[0x0][_0x57c415(0x180)]==_0x57c415(0x14f))var _0x4df484=users[_0x57c415(0x17e)];}}}}}}}_0x19f6a8[_0x57c415(0x156)](_0x57c415(0x155),{'success':_0x51e9f2['flash']('success'),'errors':_0x51e9f2[_0x57c415(0x17a)](_0x57c415(0x189)),'master_shop':_0x3229b3,'profile':_0x34bb59,'role':_0x126c7c,'language':_0x4df484,'sales_mine':_0x17a9c0,'staff_arr':_0x596414});}catch(_0x49693b){console[_0x57c415(0x14e)](_0x49693b);}}),router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x19b),auth,async(_0x896981,_0x5e95a9)=>{var _0x4dde0c=a0_0x3c50b7;try{const _0x2d3e37=await master_shop['find'](),_0x1ed3d1=_0x896981[_0x4dde0c(0x153)],_0x342c5f=await profile[_0x4dde0c(0x18a)]({'email':_0x1ed3d1[_0x4dde0c(0x183)]}),_0x3f4dc4=await staff[_0x4dde0c(0x18a)]({'email':_0x1ed3d1[_0x4dde0c(0x183)]}),_0x611557=await customer[_0x4dde0c(0x1a7)]({'agent_id':_0x3f4dc4['_id']}),_0x598fb3=_0x896981[_0x4dde0c(0x17d)]['id'],_0x503c12=await sales_sa[_0x4dde0c(0x14a)](_0x598fb3);if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x15c))var _0x2ce247=users['English'];else{if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x194))var _0x2ce247=users[_0x4dde0c(0x194)];else{if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x193))var _0x2ce247=users[_0x4dde0c(0x193)];else{if(_0x2d3e37[0x0]['language']=='Spanish')var _0x2ce247=users[_0x4dde0c(0x184)];else{if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x1a1))var _0x2ce247=users[_0x4dde0c(0x1a1)];else{if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x16c))var _0x2ce247=users[_0x4dde0c(0x170)];else{if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x16f))var _0x2ce247=users['Chinese'];else{if(_0x2d3e37[0x0][_0x4dde0c(0x180)]==_0x4dde0c(0x14f))var _0x2ce247=users[_0x4dde0c(0x17e)];}}}}}}}_0x5e95a9['render'](_0x4dde0c(0x14b),{'success':_0x896981[_0x4dde0c(0x17a)](_0x4dde0c(0x174)),'errors':_0x896981[_0x4dde0c(0x17a)](_0x4dde0c(0x189)),'master_shop':_0x2d3e37,'profile':_0x342c5f,'role':_0x1ed3d1,'language':_0x2ce247,'customer':_0x611557,'sales_sa':_0x503c12,'staff_arr':_0x3f4dc4});}catch(_0x510c1a){console[_0x4dde0c(0x14e)](_0x510c1a);}}),router['post'](a0_0x3c50b7(0x19b),auth,async(_0x5ba002,_0x263f83)=>{var _0x305841=a0_0x3c50b7;try{const _0x3f7454=_0x5ba002[_0x305841(0x17d)]['id'],_0x26a3ef=await sales_sa[_0x305841(0x14a)](_0x3f7454),{collection:_0x8c67c,invoicemoney:_0x5178ae,collectionnumber:_0x37f17b,typeofpayment:_0x3fbd46,cashdate:_0x4b32c3,id_detl:_0x198502}=_0x5ba002[_0x305841(0x195)];_0x263f83[_0x305841(0x15f)](_0x26a3ef);return;if(typeof _0x198502=='string')var _0x350d11=[_0x5ba002[_0x305841(0x195)]['id_detl']],_0x4e610c=[_0x5ba002[_0x305841(0x195)][_0x305841(0x172)]],_0x2ad566=[_0x5ba002[_0x305841(0x195)][_0x305841(0x187)]],_0x42ef77=[_0x5ba002[_0x305841(0x195)]['fin_disc']],_0x1a599a=[_0x5ba002['body'][_0x305841(0x150)]],_0x2c36e2=[_0x5ba002[_0x305841(0x195)][_0x305841(0x154)]],_0x1cd834=[_0x5ba002[_0x305841(0x195)][_0x305841(0x15a)]];else var _0x350d11=[..._0x5ba002[_0x305841(0x195)][_0x305841(0x15b)]],_0x4e610c=[..._0x5ba002[_0x305841(0x195)][_0x305841(0x172)]],_0x2ad566=[..._0x5ba002['body'][_0x305841(0x187)]],_0x42ef77=[..._0x5ba002[_0x305841(0x195)][_0x305841(0x166)]],_0x1a599a=[..._0x5ba002['body'][_0x305841(0x150)]],_0x2c36e2=[..._0x5ba002[_0x305841(0x195)][_0x305841(0x154)]],_0x1cd834=[..._0x5ba002[_0x305841(0x195)][_0x305841(0x15a)]];const _0xb44ba9=_0x350d11[_0x305841(0x178)](_0x111c48=>{return _0x111c48={'id_detl':_0x111c48};});_0x4e610c[_0x305841(0x17f)]((_0x4cd009,_0x16f980)=>{var _0x1190fd=_0x305841;_0xb44ba9[_0x16f980][_0x1190fd(0x172)]=_0x4cd009;}),_0x2ad566[_0x305841(0x17f)]((_0x32ad0f,_0x5fa444)=>{var _0x407bee=_0x305841;_0xb44ba9[_0x5fa444][_0x407bee(0x187)]=_0x32ad0f;}),_0x42ef77[_0x305841(0x17f)]((_0x2c4691,_0x52f274)=>{_0xb44ba9[_0x52f274]['fin_disc']=_0x2c4691;}),_0x1a599a[_0x305841(0x17f)]((_0x1d2ac1,_0x1c7855)=>{var _0x163318=_0x305841;_0xb44ba9[_0x1c7855][_0x163318(0x150)]=_0x1d2ac1;}),_0x2c36e2[_0x305841(0x17f)]((_0x3a8040,_0x197f42)=>{var _0x23c976=_0x305841;_0xb44ba9[_0x197f42][_0x23c976(0x154)]=_0x3a8040;}),_0x1cd834[_0x305841(0x17f)]((_0x59c1a1,_0x200838)=>{_0xb44ba9[_0x200838]['totalcollection']=_0x59c1a1;}),_0x26a3ef[_0x305841(0x198)]=_0x8c67c,_0x26a3ef[_0x305841(0x163)]=_0x37f17b,_0x26a3ef[_0x305841(0x18f)]=_0x3fbd46,_0x26a3ef[_0x305841(0x169)]=_0x4b32c3,_0x26a3ef[_0x305841(0x158)]=_0x305841(0x1a4);const _0xb0b85c=await _0x26a3ef[_0x305841(0x188)]();if(_0xb0b85c[_0x305841(0x158)]==_0x305841(0x1a4))for(let _0xb5afa3=0x0;_0xb5afa3<=_0xb44ba9[_0x305841(0x14c)]-0x1;_0xb5afa3++){const _0x2e0192=_0xb44ba9[_0xb5afa3],_0x7bddc0=mongoose[_0x305841(0x160)]['ObjectId'];console[_0x305841(0x14e)](_0x2e0192);const _0x359dbe=await sales_sa[_0x305841(0x18b)]({'_id':_0x7bddc0(_0x3f7454[_0x305841(0x14d)]()),'sale_product._id':_0x7bddc0(_0x2e0192['id_detl']['valueOf']())},{'$set':{'sale_product.$.ewt':_0x2e0192[_0x305841(0x172)],'sale_product.$.spwp':_0x2e0192[_0x305841(0x187)],'sale_product.$.fin_disc':_0x2e0192[_0x305841(0x166)],'sale_product.$.vol_deals':_0x2e0192['vol_deals'],'sale_product.$.bo_disc':_0x2e0192['bo_disc'],'sale_product.$.totalprice':parseFloat(_0x2e0192[_0x305841(0x196)])}});}_0x5ba002[_0x305841(0x17a)](_0x305841(0x174),'Collection\x20Update\x20successfully'),_0x263f83[_0x305841(0x15d)](_0x305841(0x177)+_0x3f7454);}catch(_0x2b0828){console['log'](_0x2b0828);}}),router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x19e),auth,async(_0x32f49c,_0x6b9a14)=>{var _0x371d65=a0_0x3c50b7;try{const _0x3fb105=await master_shop[_0x371d65(0x1a7)](),_0x4891a0=_0x32f49c[_0x371d65(0x153)],_0x4fde10=await profile['findOne']({'email':_0x4891a0['email']}),_0x3a2b46=await staff[_0x371d65(0x18a)]({'email':_0x4891a0[_0x371d65(0x183)],'type_of_acc_cat':'2'});let _0x25b012=[];_0x3a2b46!=null&&(_0x25b012=await sales_order[_0x371d65(0x1a7)]({'sales_staff_id':_0x3a2b46[_0x371d65(0x157)]}));console[_0x371d65(0x14e)](_0x25b012);if(_0x3fb105[0x0]['language']==_0x371d65(0x15c))var _0x473455=users[_0x371d65(0x168)];else{if(_0x3fb105[0x0][_0x371d65(0x180)]=='Hindi')var _0x473455=users['Hindi'];else{if(_0x3fb105[0x0][_0x371d65(0x180)]=='German')var _0x473455=users[_0x371d65(0x193)];else{if(_0x3fb105[0x0][_0x371d65(0x180)]==_0x371d65(0x184))var _0x473455=users[_0x371d65(0x184)];else{if(_0x3fb105[0x0]['language']==_0x371d65(0x1a1))var _0x473455=users[_0x371d65(0x1a1)];else{if(_0x3fb105[0x0][_0x371d65(0x180)]==_0x371d65(0x16c))var _0x473455=users['Portuguese'];else{if(_0x3fb105[0x0]['language']=='Chinese')var _0x473455=users['Chinese'];else{if(_0x3fb105[0x0][_0x371d65(0x180)]==_0x371d65(0x14f))var _0x473455=users[_0x371d65(0x17e)];}}}}}}}_0x6b9a14[_0x371d65(0x156)](_0x371d65(0x162),{'success':_0x32f49c['flash'](_0x371d65(0x174)),'errors':_0x32f49c['flash'](_0x371d65(0x189)),'master_shop':_0x3fb105,'profile':_0x4fde10,'role':_0x4891a0,'language':_0x473455,'sales_mine':_0x25b012,'staff_arr':_0x3a2b46});}catch(_0x985c8a){console[_0x371d65(0x14e)](_0x985c8a);}}),router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x179),auth,async(_0x5270e1,_0x19d2da)=>{var _0x58725e=a0_0x3c50b7;try{const _0x4aeee0=await master_shop[_0x58725e(0x1a7)](),_0x581301=_0x5270e1['user'],_0x1b3234=await profile[_0x58725e(0x18a)]({'email':_0x581301[_0x58725e(0x183)]}),_0x402d0c=await staff[_0x58725e(0x18a)]({'email':_0x581301[_0x58725e(0x183)]}),_0xa28ac1=await customer['find']({'agent_id':_0x402d0c[_0x58725e(0x157)]}),_0xe7d845=_0x5270e1['params']['id'],_0x545c48=await sales_order[_0x58725e(0x14a)](_0xe7d845);if(_0x4aeee0[0x0][_0x58725e(0x180)]=='English\x20(US)')var _0x3a1a4a=users[_0x58725e(0x168)];else{if(_0x4aeee0[0x0]['language']==_0x58725e(0x194))var _0x3a1a4a=users[_0x58725e(0x194)];else{if(_0x4aeee0[0x0][_0x58725e(0x180)]==_0x58725e(0x193))var _0x3a1a4a=users[_0x58725e(0x193)];else{if(_0x4aeee0[0x0][_0x58725e(0x180)]=='Spanish')var _0x3a1a4a=users[_0x58725e(0x184)];else{if(_0x4aeee0[0x0][_0x58725e(0x180)]=='French')var _0x3a1a4a=users[_0x58725e(0x1a1)];else{if(_0x4aeee0[0x0]['language']==_0x58725e(0x16c))var _0x3a1a4a=users[_0x58725e(0x170)];else{if(_0x4aeee0[0x0]['language']==_0x58725e(0x16f))var _0x3a1a4a=users[_0x58725e(0x16f)];else{if(_0x4aeee0[0x0][_0x58725e(0x180)]==_0x58725e(0x14f))var _0x3a1a4a=users[_0x58725e(0x17e)];}}}}}}}_0x19d2da[_0x58725e(0x156)](_0x58725e(0x18e),{'success':_0x5270e1['flash'](_0x58725e(0x174)),'errors':_0x5270e1['flash']('errors'),'master_shop':_0x4aeee0,'profile':_0x1b3234,'role':_0x581301,'language':_0x3a1a4a,'customer':_0xa28ac1,'sales_sa':_0x545c48});}catch(_0x15e74e){console[_0x58725e(0x14e)](_0x15e74e);}}),router[a0_0x3c50b7(0x1a5)]('/view_x',auth,async(_0x75fa23,_0x2e9237)=>{var _0x36772a=a0_0x3c50b7;try{const _0x5771a5=await master_shop[_0x36772a(0x1a7)](),_0x9dd46b=_0x75fa23[_0x36772a(0x153)],_0x5df010=await profile['findOne']({'email':_0x9dd46b[_0x36772a(0x183)]}),_0x333cdc=await staff[_0x36772a(0x18a)]({'email':_0x9dd46b[_0x36772a(0x183)],'type_of_acc_cat':'1'});let _0x13ccd2=[];_0x333cdc!=null&&(_0x13ccd2=await sales_sa[_0x36772a(0x1a7)]({'sales_staff_id':_0x333cdc[_0x36772a(0x157)]}));if(_0x5771a5[0x0][_0x36772a(0x180)]==_0x36772a(0x15c))var _0xbae0ea=users['English'];else{if(_0x5771a5[0x0][_0x36772a(0x180)]==_0x36772a(0x194))var _0xbae0ea=users['Hindi'];else{if(_0x5771a5[0x0]['language']==_0x36772a(0x193))var _0xbae0ea=users[_0x36772a(0x193)];else{if(_0x5771a5[0x0]['language']==_0x36772a(0x184))var _0xbae0ea=users['Spanish'];else{if(_0x5771a5[0x0][_0x36772a(0x180)]==_0x36772a(0x1a1))var _0xbae0ea=users[_0x36772a(0x1a1)];else{if(_0x5771a5[0x0]['language']==_0x36772a(0x16c))var _0xbae0ea=users[_0x36772a(0x170)];else{if(_0x5771a5[0x0][_0x36772a(0x180)]==_0x36772a(0x16f))var _0xbae0ea=users[_0x36772a(0x16f)];else{if(_0x5771a5[0x0][_0x36772a(0x180)]==_0x36772a(0x14f))var _0xbae0ea=users[_0x36772a(0x17e)];}}}}}}}_0x2e9237[_0x36772a(0x156)](_0x36772a(0x1a3),{'success':_0x75fa23[_0x36772a(0x17a)]('success'),'errors':_0x75fa23[_0x36772a(0x17a)](_0x36772a(0x189)),'master_shop':_0x5771a5,'profile':_0x5df010,'role':_0x9dd46b,'language':_0xbae0ea,'sales_mine':_0x13ccd2,'staff_arr':_0x333cdc});}catch(_0x3d1d34){console[_0x36772a(0x14e)](_0x3d1d34);}}),router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x16d),auth,async(_0x59879a,_0x4b9daf)=>{var _0x1a5a2a=a0_0x3c50b7;try{const _0x38973a=await master_shop[_0x1a5a2a(0x1a7)](),_0x1dd1d6=_0x59879a[_0x1a5a2a(0x153)],_0xd90af6=await profile[_0x1a5a2a(0x18a)]({'email':_0x1dd1d6[_0x1a5a2a(0x183)]}),_0x1e63c3=await staff['findOne']({'email':_0x1dd1d6['email']}),_0x30f550=await customer[_0x1a5a2a(0x1a7)]({'agent_id':_0x1e63c3[_0x1a5a2a(0x157)]}),_0x5785c6=_0x59879a[_0x1a5a2a(0x17d)]['id'],_0x493277=await sales_sa[_0x1a5a2a(0x14a)](_0x5785c6);if(_0x38973a[0x0][_0x1a5a2a(0x180)]==_0x1a5a2a(0x15c))var _0x5f4345=users[_0x1a5a2a(0x168)];else{if(_0x38973a[0x0]['language']==_0x1a5a2a(0x194))var _0x5f4345=users[_0x1a5a2a(0x194)];else{if(_0x38973a[0x0][_0x1a5a2a(0x180)]==_0x1a5a2a(0x193))var _0x5f4345=users[_0x1a5a2a(0x193)];else{if(_0x38973a[0x0][_0x1a5a2a(0x180)]==_0x1a5a2a(0x184))var _0x5f4345=users[_0x1a5a2a(0x184)];else{if(_0x38973a[0x0][_0x1a5a2a(0x180)]==_0x1a5a2a(0x1a1))var _0x5f4345=users[_0x1a5a2a(0x1a1)];else{if(_0x38973a[0x0][_0x1a5a2a(0x180)]==_0x1a5a2a(0x16c))var _0x5f4345=users[_0x1a5a2a(0x170)];else{if(_0x38973a[0x0][_0x1a5a2a(0x180)]==_0x1a5a2a(0x16f))var _0x5f4345=users[_0x1a5a2a(0x16f)];else{if(_0x38973a[0x0]['language']==_0x1a5a2a(0x14f))var _0x5f4345=users['Arabic'];}}}}}}}_0x4b9daf[_0x1a5a2a(0x156)](_0x1a5a2a(0x18d),{'success':_0x59879a['flash'](_0x1a5a2a(0x174)),'errors':_0x59879a[_0x1a5a2a(0x17a)]('errors'),'master_shop':_0x38973a,'profile':_0xd90af6,'role':_0x1dd1d6,'language':_0x5f4345,'customer':_0x30f550,'sales_sa':_0x493277,'staff_arr':_0x1e63c3});}catch(_0x3cb803){console[_0x1a5a2a(0x14e)](_0x3cb803);}}),router['post']('/view_xt/:id',auth,async(_0x4e65ee,_0x3d5555)=>{var _0x3237cf=a0_0x3c50b7;try{const _0x480a90=_0x4e65ee['params']['id'],_0x222640=await sales_sa[_0x3237cf(0x14a)](_0x480a90),{collection:_0x44f9b0,invoicemoney:_0x390e0c,collectionnumber:_0x5e2581,typeofpayment:_0x133af0,cashdate:_0xb0dadd,id_detl:_0x2069c1}=_0x4e65ee[_0x3237cf(0x195)];if(typeof _0x2069c1==_0x3237cf(0x167))var _0x342be9=[_0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x15b)]],_0x5a237a=[_0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x172)]],_0x20dad4=[_0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x187)]],_0x4454c6=[_0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x166)]],_0x30bb88=[_0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x150)]],_0x2ec978=[_0x4e65ee['body'][_0x3237cf(0x154)]],_0x54dd63=[_0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x15a)]];else var _0x342be9=[..._0x4e65ee['body']['id_detl']],_0x5a237a=[..._0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x172)]],_0x20dad4=[..._0x4e65ee[_0x3237cf(0x195)]['spwp']],_0x4454c6=[..._0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x166)]],_0x30bb88=[..._0x4e65ee['body'][_0x3237cf(0x150)]],_0x2ec978=[..._0x4e65ee['body'][_0x3237cf(0x154)]],_0x54dd63=[..._0x4e65ee[_0x3237cf(0x195)][_0x3237cf(0x15a)]];const _0x56ed94=_0x342be9['map'](_0x589605=>{return _0x589605={'id_detl':_0x589605};});_0x5a237a[_0x3237cf(0x17f)]((_0x263f23,_0x2eecbe)=>{var _0x13268e=_0x3237cf;_0x56ed94[_0x2eecbe][_0x13268e(0x172)]=_0x263f23;}),_0x20dad4[_0x3237cf(0x17f)]((_0xd30e0d,_0x3d0f07)=>{var _0x5c1634=_0x3237cf;_0x56ed94[_0x3d0f07][_0x5c1634(0x187)]=_0xd30e0d;}),_0x4454c6['forEach']((_0x2502fb,_0x4062be)=>{var _0x89a993=_0x3237cf;_0x56ed94[_0x4062be][_0x89a993(0x166)]=_0x2502fb;}),_0x30bb88[_0x3237cf(0x17f)]((_0x4cd43a,_0x157b7d)=>{var _0x18307a=_0x3237cf;_0x56ed94[_0x157b7d][_0x18307a(0x150)]=_0x4cd43a;}),_0x2ec978[_0x3237cf(0x17f)]((_0x588bab,_0x143187)=>{var _0x1bf233=_0x3237cf;_0x56ed94[_0x143187][_0x1bf233(0x154)]=_0x588bab;}),_0x54dd63[_0x3237cf(0x17f)]((_0xe6d80e,_0x250687)=>{var _0x41021f=_0x3237cf;_0x56ed94[_0x250687][_0x41021f(0x196)]=_0xe6d80e;}),_0x222640[_0x3237cf(0x198)]=_0x44f9b0,_0x222640[_0x3237cf(0x163)]=_0x5e2581,_0x222640[_0x3237cf(0x18f)]=_0x133af0,_0x222640[_0x3237cf(0x169)]=_0xb0dadd,_0x222640[_0x3237cf(0x158)]='True',_0x222640[_0x3237cf(0x16e)]='1';const _0x34ef54=await _0x222640['save']();if(_0x34ef54[_0x3237cf(0x158)]==_0x3237cf(0x1a4))for(let _0x1a4a8f=0x0;_0x1a4a8f<=_0x56ed94[_0x3237cf(0x14c)]-0x1;_0x1a4a8f++){const _0x3ef86b=_0x56ed94[_0x1a4a8f],_0x5e111f=mongoose[_0x3237cf(0x160)][_0x3237cf(0x152)];console['log'](_0x3ef86b);const _0x455f2e=await sales_sa['updateOne']({'_id':_0x5e111f(_0x480a90['valueOf']()),'sale_product._id':_0x5e111f(_0x3ef86b[_0x3237cf(0x15b)][_0x3237cf(0x14d)]())},{'$set':{'sale_product.$.ewt':_0x3ef86b[_0x3237cf(0x172)],'sale_product.$.spwp':_0x3ef86b[_0x3237cf(0x187)],'sale_product.$.fin_disc':_0x3ef86b[_0x3237cf(0x166)],'sale_product.$.vol_deals':_0x3ef86b[_0x3237cf(0x150)],'sale_product.$.bo_disc':_0x3ef86b[_0x3237cf(0x154)],'sale_product.$.totalprice':parseFloat(_0x3ef86b[_0x3237cf(0x196)])}});}_0x4e65ee['flash'](_0x3237cf(0x174),_0x3237cf(0x165)),_0x3d5555[_0x3237cf(0x15d)](_0x3237cf(0x177)+_0x480a90);}catch(_0x56d40a){console['log'](_0x56d40a);}}),router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x15e),auth,async(_0x4b953d,_0x47a500)=>{var _0x44789e=a0_0x3c50b7;try{const _0x1e5d7c=await master_shop[_0x44789e(0x1a7)](),_0x27747d=_0x4b953d['user'],_0x5a7245=await profile[_0x44789e(0x18a)]({'email':_0x27747d[_0x44789e(0x183)]}),_0x30d2ce=await staff[_0x44789e(0x18a)]({'email':_0x27747d[_0x44789e(0x183)],'type_of_acc_cat':'1'});let _0x58a671=[];_0x30d2ce!=null&&(_0x58a671=await sales_order[_0x44789e(0x1a7)]({'sales_staff_id':_0x30d2ce[_0x44789e(0x157)]}));if(_0x1e5d7c[0x0][_0x44789e(0x180)]==_0x44789e(0x15c))var _0x2acede=users[_0x44789e(0x168)];else{if(_0x1e5d7c[0x0][_0x44789e(0x180)]==_0x44789e(0x194))var _0x2acede=users[_0x44789e(0x194)];else{if(_0x1e5d7c[0x0][_0x44789e(0x180)]==_0x44789e(0x193))var _0x2acede=users[_0x44789e(0x193)];else{if(_0x1e5d7c[0x0]['language']==_0x44789e(0x184))var _0x2acede=users[_0x44789e(0x184)];else{if(_0x1e5d7c[0x0]['language']=='French')var _0x2acede=users[_0x44789e(0x1a1)];else{if(_0x1e5d7c[0x0][_0x44789e(0x180)]==_0x44789e(0x16c))var _0x2acede=users['Portuguese'];else{if(_0x1e5d7c[0x0]['language']==_0x44789e(0x16f))var _0x2acede=users[_0x44789e(0x16f)];else{if(_0x1e5d7c[0x0][_0x44789e(0x180)]==_0x44789e(0x14f))var _0x2acede=users[_0x44789e(0x17e)];}}}}}}}_0x47a500[_0x44789e(0x156)](_0x44789e(0x176),{'success':_0x4b953d[_0x44789e(0x17a)]('success'),'errors':_0x4b953d[_0x44789e(0x17a)](_0x44789e(0x189)),'master_shop':_0x1e5d7c,'profile':_0x5a7245,'role':_0x27747d,'language':_0x2acede,'sales_mine':_0x58a671,'staff_arr':_0x30d2ce});}catch(_0x460d69){console['log'](_0x460d69);}}),router[a0_0x3c50b7(0x1a5)](a0_0x3c50b7(0x18c),auth,async(_0x64a71a,_0xc0f3a7)=>{var _0x3fc6dc=a0_0x3c50b7;try{const _0x428cf6=await master_shop[_0x3fc6dc(0x1a7)](),_0x2ef821=_0x64a71a[_0x3fc6dc(0x153)],_0x5670fa=await profile[_0x3fc6dc(0x18a)]({'email':_0x2ef821[_0x3fc6dc(0x183)]}),_0x3a0d10=await staff[_0x3fc6dc(0x18a)]({'email':_0x2ef821[_0x3fc6dc(0x183)]}),_0x5ac161=await customer[_0x3fc6dc(0x1a7)]({'agent_id':_0x3a0d10[_0x3fc6dc(0x157)]}),_0x430182=_0x64a71a['params']['id'],_0x3a34c5=await sales_order[_0x3fc6dc(0x14a)](_0x430182);if(_0x428cf6[0x0][_0x3fc6dc(0x180)]==_0x3fc6dc(0x15c))var _0xcc9d7c=users[_0x3fc6dc(0x168)];else{if(_0x428cf6[0x0][_0x3fc6dc(0x180)]==_0x3fc6dc(0x194))var _0xcc9d7c=users[_0x3fc6dc(0x194)];else{if(_0x428cf6[0x0]['language']=='German')var _0xcc9d7c=users[_0x3fc6dc(0x193)];else{if(_0x428cf6[0x0]['language']==_0x3fc6dc(0x184))var _0xcc9d7c=users[_0x3fc6dc(0x184)];else{if(_0x428cf6[0x0][_0x3fc6dc(0x180)]==_0x3fc6dc(0x1a1))var _0xcc9d7c=users[_0x3fc6dc(0x1a1)];else{if(_0x428cf6[0x0]['language']==_0x3fc6dc(0x16c))var _0xcc9d7c=users[_0x3fc6dc(0x170)];else{if(_0x428cf6[0x0]['language']==_0x3fc6dc(0x16f))var _0xcc9d7c=users['Chinese'];else{if(_0x428cf6[0x0][_0x3fc6dc(0x180)]==_0x3fc6dc(0x14f))var _0xcc9d7c=users[_0x3fc6dc(0x17e)];}}}}}}}_0xc0f3a7['render'](_0x3fc6dc(0x175),{'success':_0x64a71a[_0x3fc6dc(0x17a)](_0x3fc6dc(0x174)),'errors':_0x64a71a[_0x3fc6dc(0x17a)](_0x3fc6dc(0x189)),'master_shop':_0x428cf6,'profile':_0x5670fa,'role':_0x2ef821,'language':_0xcc9d7c,'customer':_0x5ac161,'sales_sa':_0x3a34c5,'staff_arr':_0x3a0d10});}catch(_0x55c370){console[_0x3fc6dc(0x14e)](_0x55c370);}}),router[a0_0x3c50b7(0x1a6)](a0_0x3c50b7(0x18c),auth,async(_0x50c0f4,_0x2ff5cf)=>{var _0x275406=a0_0x3c50b7;try{const _0x271403=_0x50c0f4[_0x275406(0x17d)]['id'],_0x169602=await sales_order[_0x275406(0x14a)](_0x271403),{collection:_0x193864,invoicemoney:_0xed0185,collectionnumber:_0x12148e,typeofpayment:_0xfe8423,cashdate:_0x29ddf2,id_detl:_0x46d6ac}=_0x50c0f4[_0x275406(0x195)];_0x169602[_0x275406(0x198)]=_0x193864,_0x169602[_0x275406(0x18f)]=_0xfe8423,_0x169602[_0x275406(0x169)]=_0x29ddf2,_0x169602[_0x275406(0x158)]=_0x275406(0x1a4),_0x169602[_0x275406(0x16e)]='1';const _0x4fd030=await _0x169602[_0x275406(0x188)]();_0x50c0f4[_0x275406(0x17a)](_0x275406(0x174),'Collection\x20Update\x20successfully'),_0x2ff5cf[_0x275406(0x15d)](_0x275406(0x199)+_0x271403);}catch(_0x5d1bcd){console['log'](_0x5d1bcd);}}),module[a0_0x3c50b7(0x197)]=router;