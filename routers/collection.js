function a0_0xc6f4(_0x4a11f9,_0x2b9641){var _0x5bd6f4=a0_0x5bd6();return a0_0xc6f4=function(_0xc6f4d9,_0x5f2ac0){_0xc6f4d9=_0xc6f4d9-0x1b7;var _0x36baac=_0x5bd6f4[_0xc6f4d9];return _0x36baac;},a0_0xc6f4(_0x4a11f9,_0x2b9641);}function a0_0x5bd6(){var _0x57adbe=['language','12neiQTA','length','/view','redirect','ewt','204728yKLCHf','../models/all_models','Portuguese','167832LErHpQ','Types','/view_so_xt/:id','spwp','body','totalNewPrice','totalcollection','/view_x','success','typeofprocess','Router','cash_date','findOne','/view_xt/:id','exports','save','3154545SDfQYI','Hindi','German','Portuguese\x20(BR)','Arabic','mongoose','log','collection_so_xt','/x_so','type_of_payment','view_collections_so_xt','ObjectId','string','findById','user','True','post','/collection/view_so_xt/','8RIwbYD','email','forEach','Spanish','render','updateOne','flash','/view/:id','paid','/view_sox/:id','481878FSRyMS','Arabic\x20(ae)','view_collections_sox','errors','find','5ilUGCL','Chinese','bo_disc','English\x20(US)','collection','French','get','params','308952qcGOdQ','English','/collection/view/','fin_disc','view_collections','map','valueOf','express','4244900WXolOc','/so_x','Collection\x20Update\x20successfully','collection_price','id_detl','_id','vol_deals','multer','330098bSZkwZ'];a0_0x5bd6=function(){return _0x57adbe;};return a0_0x5bd6();}var a0_0x16565e=a0_0xc6f4;(function(_0x1da394,_0x2a3986){var _0x589556=a0_0xc6f4,_0x45d6fb=_0x1da394();while(!![]){try{var _0x573bd1=-parseInt(_0x589556(0x1ff))/0x1+parseInt(_0x589556(0x206))/0x2*(parseInt(_0x589556(0x201))/0x3)+parseInt(_0x589556(0x209))/0x4+parseInt(_0x589556(0x1e7))/0x5*(parseInt(_0x589556(0x1e2))/0x6)+-parseInt(_0x589556(0x1ef))/0x7+parseInt(_0x589556(0x1d8))/0x8*(-parseInt(_0x589556(0x1c6))/0x9)+parseInt(_0x589556(0x1f7))/0xa;if(_0x573bd1===_0x2a3986)break;else _0x45d6fb['push'](_0x45d6fb['shift']());}catch(_0x1b3bb2){_0x45d6fb['push'](_0x45d6fb['shift']());}}}(a0_0x5bd6,0x38836));const express=require(a0_0x16565e(0x1f6)),app=express(),router=express[a0_0x16565e(0x1c0)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,customer_payment,c_payment_data,sales_sa,sales_order}=require(a0_0x16565e(0x207)),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require('exceljs'),xlsx=require('xlsx'),multer=require(a0_0x16565e(0x1fe)),mongoose=require(a0_0x16565e(0x1cb));router['get'](a0_0x16565e(0x203),auth,async(_0x1d8743,_0x31ac79)=>{var _0x1cedf7=a0_0x16565e;try{const _0x2ca40a=await master_shop[_0x1cedf7(0x1e6)](),_0x5d2b7e=_0x1d8743[_0x1cedf7(0x1d4)],_0x11b8d8=await profile[_0x1cedf7(0x1c2)]({'email':_0x5d2b7e[_0x1cedf7(0x1d9)]}),_0x444349=await staff[_0x1cedf7(0x1c2)]({'email':_0x5d2b7e[_0x1cedf7(0x1d9)],'type_of_acc_cat':'2'});let _0x1272fe=[];_0x444349!=null&&(_0x1272fe=await sales_order[_0x1cedf7(0x1e6)]({'sales_staff_id':_0x444349['_id']}));if(_0x2ca40a[0x0][_0x1cedf7(0x200)]==_0x1cedf7(0x1ea))var _0x41143=users[_0x1cedf7(0x1f0)];else{if(_0x2ca40a[0x0][_0x1cedf7(0x200)]==_0x1cedf7(0x1c7))var _0x41143=users[_0x1cedf7(0x1c7)];else{if(_0x2ca40a[0x0]['language']==_0x1cedf7(0x1c8))var _0x41143=users['German'];else{if(_0x2ca40a[0x0][_0x1cedf7(0x200)]==_0x1cedf7(0x1db))var _0x41143=users[_0x1cedf7(0x1db)];else{if(_0x2ca40a[0x0][_0x1cedf7(0x200)]==_0x1cedf7(0x1ec))var _0x41143=users[_0x1cedf7(0x1ec)];else{if(_0x2ca40a[0x0][_0x1cedf7(0x200)]==_0x1cedf7(0x1c9))var _0x41143=users[_0x1cedf7(0x208)];else{if(_0x2ca40a[0x0][_0x1cedf7(0x200)]=='Chinese')var _0x41143=users[_0x1cedf7(0x1e8)];else{if(_0x2ca40a[0x0][_0x1cedf7(0x200)]==_0x1cedf7(0x1e3))var _0x41143=users['Arabic'];}}}}}}}_0x31ac79[_0x1cedf7(0x1dc)](_0x1cedf7(0x1eb),{'success':_0x1d8743[_0x1cedf7(0x1de)](_0x1cedf7(0x1be)),'errors':_0x1d8743['flash']('errors'),'master_shop':_0x2ca40a,'profile':_0x11b8d8,'role':_0x5d2b7e,'language':_0x41143,'sales_mine':_0x1272fe,'staff_arr':_0x444349});}catch(_0x4e8c02){console[_0x1cedf7(0x1cc)](_0x4e8c02);}}),router[a0_0x16565e(0x1ed)](a0_0x16565e(0x1df),auth,async(_0x32ea34,_0xb2b50d)=>{var _0x3077ff=a0_0x16565e;try{const _0x2a073b=await master_shop[_0x3077ff(0x1e6)](),_0x1cadc4=_0x32ea34[_0x3077ff(0x1d4)],_0x2d5dda=await profile[_0x3077ff(0x1c2)]({'email':_0x1cadc4[_0x3077ff(0x1d9)]}),_0x2b47bb=await staff[_0x3077ff(0x1c2)]({'email':_0x1cadc4[_0x3077ff(0x1d9)]}),_0x45ff44=await customer['find']({'agent_id':_0x2b47bb['_id']}),_0x556a4d=_0x32ea34['params']['id'],_0x4bd125=await sales_sa[_0x3077ff(0x1d3)](_0x556a4d);if(_0x2a073b[0x0]['language']==_0x3077ff(0x1ea))var _0xdee177=users['English'];else{if(_0x2a073b[0x0][_0x3077ff(0x200)]=='Hindi')var _0xdee177=users[_0x3077ff(0x1c7)];else{if(_0x2a073b[0x0]['language']=='German')var _0xdee177=users[_0x3077ff(0x1c8)];else{if(_0x2a073b[0x0][_0x3077ff(0x200)]==_0x3077ff(0x1db))var _0xdee177=users['Spanish'];else{if(_0x2a073b[0x0]['language']=='French')var _0xdee177=users[_0x3077ff(0x1ec)];else{if(_0x2a073b[0x0][_0x3077ff(0x200)]==_0x3077ff(0x1c9))var _0xdee177=users[_0x3077ff(0x208)];else{if(_0x2a073b[0x0][_0x3077ff(0x200)]==_0x3077ff(0x1e8))var _0xdee177=users[_0x3077ff(0x1e8)];else{if(_0x2a073b[0x0]['language']==_0x3077ff(0x1e3))var _0xdee177=users['Arabic'];}}}}}}}_0xb2b50d[_0x3077ff(0x1dc)](_0x3077ff(0x1f3),{'success':_0x32ea34[_0x3077ff(0x1de)](_0x3077ff(0x1be)),'errors':_0x32ea34[_0x3077ff(0x1de)](_0x3077ff(0x1e5)),'master_shop':_0x2a073b,'profile':_0x2d5dda,'role':_0x1cadc4,'language':_0xdee177,'customer':_0x45ff44,'sales_sa':_0x4bd125,'staff_arr':_0x2b47bb});}catch(_0x4e63a3){console[_0x3077ff(0x1cc)](_0x4e63a3);}}),router[a0_0x16565e(0x1d6)](a0_0x16565e(0x1df),auth,async(_0x3e1c8f,_0xd8fa0d)=>{var _0x44d6ab=a0_0x16565e;try{const _0x30c787=_0x3e1c8f[_0x44d6ab(0x1ee)]['id'],_0x2009f6=await sales_sa[_0x44d6ab(0x1d3)](_0x30c787),{collection:_0x24cfd2,invoicemoney:_0x1367ce,collectionnumber:_0xfbb879,typeofpayment:_0x5332d0,cashdate:_0x51f27e,id_detl:_0x521ade}=_0x3e1c8f[_0x44d6ab(0x1ba)];_0xd8fa0d['json'](_0x2009f6);return;if(typeof _0x521ade==_0x44d6ab(0x1d2))var _0x1e3cb1=[_0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1fb)]],_0xbb91cc=[_0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x205)]],_0x4087fd=[_0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1b9)]],_0x5c9e3f=[_0x3e1c8f['body']['fin_disc']],_0x517fe1=[_0x3e1c8f['body'][_0x44d6ab(0x1fd)]],_0x169b06=[_0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1e9)]],_0x3d74d9=[_0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1bb)]];else var _0x1e3cb1=[..._0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1fb)]],_0xbb91cc=[..._0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x205)]],_0x4087fd=[..._0x3e1c8f[_0x44d6ab(0x1ba)]['spwp']],_0x5c9e3f=[..._0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1f2)]],_0x517fe1=[..._0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1fd)]],_0x169b06=[..._0x3e1c8f[_0x44d6ab(0x1ba)][_0x44d6ab(0x1e9)]],_0x3d74d9=[..._0x3e1c8f['body']['totalNewPrice']];const _0x3f286f=_0x1e3cb1['map'](_0x2ee230=>{return _0x2ee230={'id_detl':_0x2ee230};});_0xbb91cc[_0x44d6ab(0x1da)]((_0x46d36c,_0x1a822f)=>{var _0x3139aa=_0x44d6ab;_0x3f286f[_0x1a822f][_0x3139aa(0x205)]=_0x46d36c;}),_0x4087fd['forEach']((_0x2d6b8d,_0x54c435)=>{var _0x369cff=_0x44d6ab;_0x3f286f[_0x54c435][_0x369cff(0x1b9)]=_0x2d6b8d;}),_0x5c9e3f['forEach']((_0x3893ab,_0x3d0fe3)=>{var _0x305ea6=_0x44d6ab;_0x3f286f[_0x3d0fe3][_0x305ea6(0x1f2)]=_0x3893ab;}),_0x517fe1[_0x44d6ab(0x1da)]((_0x564e3a,_0x4484a9)=>{var _0x27bfb2=_0x44d6ab;_0x3f286f[_0x4484a9][_0x27bfb2(0x1fd)]=_0x564e3a;}),_0x169b06['forEach']((_0x245084,_0x417a54)=>{var _0x2efb72=_0x44d6ab;_0x3f286f[_0x417a54][_0x2efb72(0x1e9)]=_0x245084;}),_0x3d74d9['forEach']((_0x32877d,_0x20853a)=>{var _0x5cab7c=_0x44d6ab;_0x3f286f[_0x20853a][_0x5cab7c(0x1bc)]=_0x32877d;}),_0x2009f6[_0x44d6ab(0x1fa)]=_0x24cfd2,_0x2009f6['collectionnumber']=_0xfbb879,_0x2009f6['type_of_payment']=_0x5332d0,_0x2009f6[_0x44d6ab(0x1c1)]=_0x51f27e,_0x2009f6[_0x44d6ab(0x1e0)]=_0x44d6ab(0x1d5);const _0x5c1393=await _0x2009f6['save']();if(_0x5c1393[_0x44d6ab(0x1e0)]=='True')for(let _0x280f75=0x0;_0x280f75<=_0x3f286f[_0x44d6ab(0x202)]-0x1;_0x280f75++){const _0x4acaa4=_0x3f286f[_0x280f75],_0x3ff041=mongoose['Types'][_0x44d6ab(0x1d1)];console['log'](_0x4acaa4);const _0x38d784=await sales_sa['updateOne']({'_id':_0x3ff041(_0x30c787[_0x44d6ab(0x1f5)]()),'sale_product._id':_0x3ff041(_0x4acaa4[_0x44d6ab(0x1fb)][_0x44d6ab(0x1f5)]())},{'$set':{'sale_product.$.ewt':_0x4acaa4[_0x44d6ab(0x205)],'sale_product.$.spwp':_0x4acaa4['spwp'],'sale_product.$.fin_disc':_0x4acaa4['fin_disc'],'sale_product.$.vol_deals':_0x4acaa4[_0x44d6ab(0x1fd)],'sale_product.$.bo_disc':_0x4acaa4[_0x44d6ab(0x1e9)],'sale_product.$.totalprice':parseFloat(_0x4acaa4[_0x44d6ab(0x1bc)])}});}_0x3e1c8f[_0x44d6ab(0x1de)](_0x44d6ab(0x1be),_0x44d6ab(0x1f9)),_0xd8fa0d[_0x44d6ab(0x204)]('/collection/view/'+_0x30c787);}catch(_0x49feb4){console[_0x44d6ab(0x1cc)](_0x49feb4);}}),router[a0_0x16565e(0x1ed)](a0_0x16565e(0x1ce),auth,async(_0x386530,_0x1c91b3)=>{var _0x1972b4=a0_0x16565e;try{const _0x11eb66=await master_shop[_0x1972b4(0x1e6)](),_0x280a7f=_0x386530['user'],_0x625de0=await profile['findOne']({'email':_0x280a7f['email']}),_0x6c50d6=await staff[_0x1972b4(0x1c2)]({'email':_0x280a7f[_0x1972b4(0x1d9)],'type_of_acc_cat':'2'});let _0x44d3ac=[];_0x6c50d6!=null&&(_0x44d3ac=await sales_order[_0x1972b4(0x1e6)]({'sales_staff_id':_0x6c50d6[_0x1972b4(0x1fc)]}));console[_0x1972b4(0x1cc)](_0x44d3ac);if(_0x11eb66[0x0]['language']==_0x1972b4(0x1ea))var _0x4a0c5b=users[_0x1972b4(0x1f0)];else{if(_0x11eb66[0x0][_0x1972b4(0x200)]=='Hindi')var _0x4a0c5b=users[_0x1972b4(0x1c7)];else{if(_0x11eb66[0x0]['language']=='German')var _0x4a0c5b=users[_0x1972b4(0x1c8)];else{if(_0x11eb66[0x0][_0x1972b4(0x200)]==_0x1972b4(0x1db))var _0x4a0c5b=users[_0x1972b4(0x1db)];else{if(_0x11eb66[0x0][_0x1972b4(0x200)]==_0x1972b4(0x1ec))var _0x4a0c5b=users[_0x1972b4(0x1ec)];else{if(_0x11eb66[0x0]['language']==_0x1972b4(0x1c9))var _0x4a0c5b=users[_0x1972b4(0x208)];else{if(_0x11eb66[0x0][_0x1972b4(0x200)]==_0x1972b4(0x1e8))var _0x4a0c5b=users['Chinese'];else{if(_0x11eb66[0x0][_0x1972b4(0x200)]==_0x1972b4(0x1e3))var _0x4a0c5b=users[_0x1972b4(0x1ca)];}}}}}}}_0x1c91b3[_0x1972b4(0x1dc)]('collection_sox',{'success':_0x386530[_0x1972b4(0x1de)](_0x1972b4(0x1be)),'errors':_0x386530[_0x1972b4(0x1de)](_0x1972b4(0x1e5)),'master_shop':_0x11eb66,'profile':_0x625de0,'role':_0x280a7f,'language':_0x4a0c5b,'sales_mine':_0x44d3ac,'staff_arr':_0x6c50d6});}catch(_0x5cea92){console['log'](_0x5cea92);}}),router['get'](a0_0x16565e(0x1e1),auth,async(_0xc3287e,_0x186551)=>{var _0x8ad1e0=a0_0x16565e;try{const _0x151a6f=await master_shop[_0x8ad1e0(0x1e6)](),_0x4d88f3=_0xc3287e[_0x8ad1e0(0x1d4)],_0x45fca4=await profile[_0x8ad1e0(0x1c2)]({'email':_0x4d88f3[_0x8ad1e0(0x1d9)]}),_0x21cfe1=await staff['findOne']({'email':_0x4d88f3[_0x8ad1e0(0x1d9)]}),_0x32acd1=await customer[_0x8ad1e0(0x1e6)]({'agent_id':_0x21cfe1['_id']}),_0x2e63ae=_0xc3287e[_0x8ad1e0(0x1ee)]['id'],_0x50bf92=await sales_order[_0x8ad1e0(0x1d3)](_0x2e63ae);if(_0x151a6f[0x0][_0x8ad1e0(0x200)]==_0x8ad1e0(0x1ea))var _0x56c106=users[_0x8ad1e0(0x1f0)];else{if(_0x151a6f[0x0][_0x8ad1e0(0x200)]==_0x8ad1e0(0x1c7))var _0x56c106=users[_0x8ad1e0(0x1c7)];else{if(_0x151a6f[0x0][_0x8ad1e0(0x200)]=='German')var _0x56c106=users[_0x8ad1e0(0x1c8)];else{if(_0x151a6f[0x0]['language']==_0x8ad1e0(0x1db))var _0x56c106=users[_0x8ad1e0(0x1db)];else{if(_0x151a6f[0x0]['language']==_0x8ad1e0(0x1ec))var _0x56c106=users[_0x8ad1e0(0x1ec)];else{if(_0x151a6f[0x0]['language']==_0x8ad1e0(0x1c9))var _0x56c106=users[_0x8ad1e0(0x208)];else{if(_0x151a6f[0x0][_0x8ad1e0(0x200)]==_0x8ad1e0(0x1e8))var _0x56c106=users[_0x8ad1e0(0x1e8)];else{if(_0x151a6f[0x0][_0x8ad1e0(0x200)]==_0x8ad1e0(0x1e3))var _0x56c106=users[_0x8ad1e0(0x1ca)];}}}}}}}_0x186551[_0x8ad1e0(0x1dc)](_0x8ad1e0(0x1e4),{'success':_0xc3287e[_0x8ad1e0(0x1de)]('success'),'errors':_0xc3287e[_0x8ad1e0(0x1de)]('errors'),'master_shop':_0x151a6f,'profile':_0x45fca4,'role':_0x4d88f3,'language':_0x56c106,'customer':_0x32acd1,'sales_sa':_0x50bf92});}catch(_0xf04b02){console[_0x8ad1e0(0x1cc)](_0xf04b02);}}),router[a0_0x16565e(0x1ed)](a0_0x16565e(0x1bd),auth,async(_0x4ef381,_0x50ff3f)=>{var _0x4e9e5d=a0_0x16565e;try{const _0x325de5=await master_shop[_0x4e9e5d(0x1e6)](),_0x5ec1af=_0x4ef381['user'],_0x252bfa=await profile[_0x4e9e5d(0x1c2)]({'email':_0x5ec1af[_0x4e9e5d(0x1d9)]}),_0x33d658=await staff[_0x4e9e5d(0x1c2)]({'email':_0x5ec1af['email'],'type_of_acc_cat':'1'});let _0x1d40c8=[];_0x33d658!=null&&(_0x1d40c8=await sales_sa[_0x4e9e5d(0x1e6)]({'sales_staff_id':_0x33d658[_0x4e9e5d(0x1fc)]}));if(_0x325de5[0x0][_0x4e9e5d(0x200)]==_0x4e9e5d(0x1ea))var _0x4236b4=users[_0x4e9e5d(0x1f0)];else{if(_0x325de5[0x0][_0x4e9e5d(0x200)]=='Hindi')var _0x4236b4=users[_0x4e9e5d(0x1c7)];else{if(_0x325de5[0x0][_0x4e9e5d(0x200)]=='German')var _0x4236b4=users[_0x4e9e5d(0x1c8)];else{if(_0x325de5[0x0][_0x4e9e5d(0x200)]=='Spanish')var _0x4236b4=users['Spanish'];else{if(_0x325de5[0x0][_0x4e9e5d(0x200)]==_0x4e9e5d(0x1ec))var _0x4236b4=users[_0x4e9e5d(0x1ec)];else{if(_0x325de5[0x0][_0x4e9e5d(0x200)]==_0x4e9e5d(0x1c9))var _0x4236b4=users[_0x4e9e5d(0x208)];else{if(_0x325de5[0x0]['language']==_0x4e9e5d(0x1e8))var _0x4236b4=users[_0x4e9e5d(0x1e8)];else{if(_0x325de5[0x0]['language']==_0x4e9e5d(0x1e3))var _0x4236b4=users[_0x4e9e5d(0x1ca)];}}}}}}}_0x50ff3f[_0x4e9e5d(0x1dc)]('collection_xt',{'success':_0x4ef381[_0x4e9e5d(0x1de)]('success'),'errors':_0x4ef381[_0x4e9e5d(0x1de)](_0x4e9e5d(0x1e5)),'master_shop':_0x325de5,'profile':_0x252bfa,'role':_0x5ec1af,'language':_0x4236b4,'sales_mine':_0x1d40c8,'staff_arr':_0x33d658});}catch(_0x24f83d){console['log'](_0x24f83d);}}),router[a0_0x16565e(0x1ed)]('/view_xt/:id',auth,async(_0x4e7aa1,_0x512102)=>{var _0x4b6485=a0_0x16565e;try{const _0x266709=await master_shop[_0x4b6485(0x1e6)](),_0x18f6e0=_0x4e7aa1[_0x4b6485(0x1d4)],_0x3aab7a=await profile[_0x4b6485(0x1c2)]({'email':_0x18f6e0[_0x4b6485(0x1d9)]}),_0x1b3a52=await staff[_0x4b6485(0x1c2)]({'email':_0x18f6e0[_0x4b6485(0x1d9)]}),_0x4ac757=await customer[_0x4b6485(0x1e6)]({'agent_id':_0x1b3a52['_id']}),_0xe318cf=_0x4e7aa1['params']['id'],_0x3382ee=await sales_sa['findById'](_0xe318cf);if(_0x266709[0x0][_0x4b6485(0x200)]=='English\x20(US)')var _0x2bc9ed=users[_0x4b6485(0x1f0)];else{if(_0x266709[0x0][_0x4b6485(0x200)]==_0x4b6485(0x1c7))var _0x2bc9ed=users['Hindi'];else{if(_0x266709[0x0]['language']==_0x4b6485(0x1c8))var _0x2bc9ed=users[_0x4b6485(0x1c8)];else{if(_0x266709[0x0]['language']==_0x4b6485(0x1db))var _0x2bc9ed=users[_0x4b6485(0x1db)];else{if(_0x266709[0x0][_0x4b6485(0x200)]=='French')var _0x2bc9ed=users[_0x4b6485(0x1ec)];else{if(_0x266709[0x0][_0x4b6485(0x200)]=='Portuguese\x20(BR)')var _0x2bc9ed=users[_0x4b6485(0x208)];else{if(_0x266709[0x0][_0x4b6485(0x200)]==_0x4b6485(0x1e8))var _0x2bc9ed=users['Chinese'];else{if(_0x266709[0x0]['language']==_0x4b6485(0x1e3))var _0x2bc9ed=users[_0x4b6485(0x1ca)];}}}}}}}_0x512102['render']('view_collections_xt',{'success':_0x4e7aa1[_0x4b6485(0x1de)](_0x4b6485(0x1be)),'errors':_0x4e7aa1[_0x4b6485(0x1de)](_0x4b6485(0x1e5)),'master_shop':_0x266709,'profile':_0x3aab7a,'role':_0x18f6e0,'language':_0x2bc9ed,'customer':_0x4ac757,'sales_sa':_0x3382ee,'staff_arr':_0x1b3a52});}catch(_0x11c6b2){console[_0x4b6485(0x1cc)](_0x11c6b2);}}),router[a0_0x16565e(0x1d6)](a0_0x16565e(0x1c3),auth,async(_0xcedda6,_0x487a9f)=>{var _0x597083=a0_0x16565e;try{const _0x694f4f=_0xcedda6[_0x597083(0x1ee)]['id'],_0x4ea7e6=await sales_sa[_0x597083(0x1d3)](_0x694f4f),{collection:_0x3919df,invoicemoney:_0x317fa8,collectionnumber:_0x27e11f,typeofpayment:_0x2d18ba,cashdate:_0x1a7f80,id_detl:_0xe75852}=_0xcedda6[_0x597083(0x1ba)];if(typeof _0xe75852=='string')var _0x792d72=[_0xcedda6[_0x597083(0x1ba)][_0x597083(0x1fb)]],_0x4871f7=[_0xcedda6[_0x597083(0x1ba)][_0x597083(0x205)]],_0x56558b=[_0xcedda6[_0x597083(0x1ba)][_0x597083(0x1b9)]],_0x5cc65d=[_0xcedda6[_0x597083(0x1ba)][_0x597083(0x1f2)]],_0x55f95f=[_0xcedda6[_0x597083(0x1ba)]['vol_deals']],_0x538fdf=[_0xcedda6[_0x597083(0x1ba)][_0x597083(0x1e9)]],_0x235e52=[_0xcedda6[_0x597083(0x1ba)][_0x597083(0x1bb)]];else var _0x792d72=[..._0xcedda6['body'][_0x597083(0x1fb)]],_0x4871f7=[..._0xcedda6[_0x597083(0x1ba)][_0x597083(0x205)]],_0x56558b=[..._0xcedda6[_0x597083(0x1ba)][_0x597083(0x1b9)]],_0x5cc65d=[..._0xcedda6[_0x597083(0x1ba)]['fin_disc']],_0x55f95f=[..._0xcedda6[_0x597083(0x1ba)][_0x597083(0x1fd)]],_0x538fdf=[..._0xcedda6[_0x597083(0x1ba)][_0x597083(0x1e9)]],_0x235e52=[..._0xcedda6[_0x597083(0x1ba)][_0x597083(0x1bb)]];const _0x4857a8=_0x792d72[_0x597083(0x1f4)](_0x3b5955=>{return _0x3b5955={'id_detl':_0x3b5955};});_0x4871f7[_0x597083(0x1da)]((_0x1dace1,_0x59f74b)=>{var _0x1c3473=_0x597083;_0x4857a8[_0x59f74b][_0x1c3473(0x205)]=_0x1dace1;}),_0x56558b['forEach']((_0x33592e,_0x5ea5ea)=>{var _0x529c23=_0x597083;_0x4857a8[_0x5ea5ea][_0x529c23(0x1b9)]=_0x33592e;}),_0x5cc65d[_0x597083(0x1da)]((_0x4dd357,_0x22b455)=>{var _0x5d3383=_0x597083;_0x4857a8[_0x22b455][_0x5d3383(0x1f2)]=_0x4dd357;}),_0x55f95f[_0x597083(0x1da)]((_0x405385,_0x284a49)=>{var _0xa8aa92=_0x597083;_0x4857a8[_0x284a49][_0xa8aa92(0x1fd)]=_0x405385;}),_0x538fdf['forEach']((_0x21129b,_0x4598fb)=>{_0x4857a8[_0x4598fb]['bo_disc']=_0x21129b;}),_0x235e52['forEach']((_0x246cbf,_0x4f35b5)=>{var _0x335348=_0x597083;_0x4857a8[_0x4f35b5][_0x335348(0x1bc)]=_0x246cbf;}),_0x4ea7e6['collection_price']=_0x3919df,_0x4ea7e6['collectionnumber']=_0x27e11f,_0x4ea7e6[_0x597083(0x1cf)]=_0x2d18ba,_0x4ea7e6[_0x597083(0x1c1)]=_0x1a7f80,_0x4ea7e6[_0x597083(0x1e0)]=_0x597083(0x1d5),_0x4ea7e6[_0x597083(0x1bf)]='1';const _0x561f40=await _0x4ea7e6[_0x597083(0x1c5)]();if(_0x561f40['paid']==_0x597083(0x1d5))for(let _0x163791=0x0;_0x163791<=_0x4857a8[_0x597083(0x202)]-0x1;_0x163791++){const _0x345edd=_0x4857a8[_0x163791],_0x48dcc0=mongoose[_0x597083(0x1b7)][_0x597083(0x1d1)];console['log'](_0x345edd);const _0x3c4d93=await sales_sa[_0x597083(0x1dd)]({'_id':_0x48dcc0(_0x694f4f[_0x597083(0x1f5)]()),'sale_product._id':_0x48dcc0(_0x345edd['id_detl'][_0x597083(0x1f5)]())},{'$set':{'sale_product.$.ewt':_0x345edd[_0x597083(0x205)],'sale_product.$.spwp':_0x345edd[_0x597083(0x1b9)],'sale_product.$.fin_disc':_0x345edd['fin_disc'],'sale_product.$.vol_deals':_0x345edd[_0x597083(0x1fd)],'sale_product.$.bo_disc':_0x345edd[_0x597083(0x1e9)],'sale_product.$.totalprice':parseFloat(_0x345edd[_0x597083(0x1bc)])}});}_0xcedda6[_0x597083(0x1de)](_0x597083(0x1be),_0x597083(0x1f9)),_0x487a9f[_0x597083(0x204)](_0x597083(0x1f1)+_0x694f4f);}catch(_0x8e83f2){console[_0x597083(0x1cc)](_0x8e83f2);}}),router[a0_0x16565e(0x1ed)](a0_0x16565e(0x1f8),auth,async(_0x429884,_0x4f2def)=>{var _0x4342e0=a0_0x16565e;try{const _0x1ee637=await master_shop[_0x4342e0(0x1e6)](),_0xf47601=_0x429884['user'],_0x259296=await profile[_0x4342e0(0x1c2)]({'email':_0xf47601[_0x4342e0(0x1d9)]}),_0x163f34=await staff[_0x4342e0(0x1c2)]({'email':_0xf47601[_0x4342e0(0x1d9)],'type_of_acc_cat':'1'});let _0x5b66b3=[];_0x163f34!=null&&(_0x5b66b3=await sales_order['find']({'sales_staff_id':_0x163f34[_0x4342e0(0x1fc)]}));if(_0x1ee637[0x0]['language']==_0x4342e0(0x1ea))var _0x1d0a41=users['English'];else{if(_0x1ee637[0x0]['language']==_0x4342e0(0x1c7))var _0x1d0a41=users[_0x4342e0(0x1c7)];else{if(_0x1ee637[0x0][_0x4342e0(0x200)]==_0x4342e0(0x1c8))var _0x1d0a41=users['German'];else{if(_0x1ee637[0x0]['language']==_0x4342e0(0x1db))var _0x1d0a41=users['Spanish'];else{if(_0x1ee637[0x0][_0x4342e0(0x200)]==_0x4342e0(0x1ec))var _0x1d0a41=users['French'];else{if(_0x1ee637[0x0][_0x4342e0(0x200)]=='Portuguese\x20(BR)')var _0x1d0a41=users[_0x4342e0(0x208)];else{if(_0x1ee637[0x0][_0x4342e0(0x200)]==_0x4342e0(0x1e8))var _0x1d0a41=users[_0x4342e0(0x1e8)];else{if(_0x1ee637[0x0][_0x4342e0(0x200)]==_0x4342e0(0x1e3))var _0x1d0a41=users[_0x4342e0(0x1ca)];}}}}}}}_0x4f2def[_0x4342e0(0x1dc)](_0x4342e0(0x1cd),{'success':_0x429884['flash'](_0x4342e0(0x1be)),'errors':_0x429884[_0x4342e0(0x1de)](_0x4342e0(0x1e5)),'master_shop':_0x1ee637,'profile':_0x259296,'role':_0xf47601,'language':_0x1d0a41,'sales_mine':_0x5b66b3,'staff_arr':_0x163f34});}catch(_0x1ea425){console[_0x4342e0(0x1cc)](_0x1ea425);}}),router[a0_0x16565e(0x1ed)](a0_0x16565e(0x1b8),auth,async(_0x11788b,_0x17dc1b)=>{var _0x202d8e=a0_0x16565e;try{const _0x2a292d=await master_shop[_0x202d8e(0x1e6)](),_0x16d26e=_0x11788b[_0x202d8e(0x1d4)],_0x3df003=await profile[_0x202d8e(0x1c2)]({'email':_0x16d26e['email']}),_0x426ec3=await staff[_0x202d8e(0x1c2)]({'email':_0x16d26e['email']}),_0x203c94=await customer[_0x202d8e(0x1e6)]({'agent_id':_0x426ec3[_0x202d8e(0x1fc)]}),_0x2bf849=_0x11788b['params']['id'],_0x490040=await sales_order[_0x202d8e(0x1d3)](_0x2bf849);if(_0x2a292d[0x0]['language']==_0x202d8e(0x1ea))var _0x552faa=users['English'];else{if(_0x2a292d[0x0][_0x202d8e(0x200)]==_0x202d8e(0x1c7))var _0x552faa=users['Hindi'];else{if(_0x2a292d[0x0]['language']==_0x202d8e(0x1c8))var _0x552faa=users['German'];else{if(_0x2a292d[0x0][_0x202d8e(0x200)]==_0x202d8e(0x1db))var _0x552faa=users[_0x202d8e(0x1db)];else{if(_0x2a292d[0x0]['language']==_0x202d8e(0x1ec))var _0x552faa=users[_0x202d8e(0x1ec)];else{if(_0x2a292d[0x0][_0x202d8e(0x200)]==_0x202d8e(0x1c9))var _0x552faa=users['Portuguese'];else{if(_0x2a292d[0x0][_0x202d8e(0x200)]==_0x202d8e(0x1e8))var _0x552faa=users[_0x202d8e(0x1e8)];else{if(_0x2a292d[0x0][_0x202d8e(0x200)]==_0x202d8e(0x1e3))var _0x552faa=users[_0x202d8e(0x1ca)];}}}}}}}_0x17dc1b['render'](_0x202d8e(0x1d0),{'success':_0x11788b[_0x202d8e(0x1de)](_0x202d8e(0x1be)),'errors':_0x11788b['flash']('errors'),'master_shop':_0x2a292d,'profile':_0x3df003,'role':_0x16d26e,'language':_0x552faa,'customer':_0x203c94,'sales_sa':_0x490040,'staff_arr':_0x426ec3});}catch(_0x14a84f){console[_0x202d8e(0x1cc)](_0x14a84f);}}),router['post'](a0_0x16565e(0x1b8),auth,async(_0x32a8c2,_0x2d133a)=>{var _0x19aaca=a0_0x16565e;try{const _0x5596ef=_0x32a8c2[_0x19aaca(0x1ee)]['id'],_0x4492ce=await sales_order[_0x19aaca(0x1d3)](_0x5596ef),{collection:_0x1c0011,invoicemoney:_0x5e3863,collectionnumber:_0x464c54,typeofpayment:_0xa207b,cashdate:_0x37f483,id_detl:_0x1dc6f1}=_0x32a8c2[_0x19aaca(0x1ba)];_0x4492ce[_0x19aaca(0x1fa)]=_0x1c0011,_0x4492ce[_0x19aaca(0x1cf)]=_0xa207b,_0x4492ce[_0x19aaca(0x1c1)]=_0x37f483,_0x4492ce[_0x19aaca(0x1e0)]='True',_0x4492ce[_0x19aaca(0x1bf)]='1';const _0x4d88ca=await _0x4492ce[_0x19aaca(0x1c5)]();_0x32a8c2[_0x19aaca(0x1de)](_0x19aaca(0x1be),_0x19aaca(0x1f9)),_0x2d133a['redirect'](_0x19aaca(0x1d7)+_0x5596ef);}catch(_0x1a72a5){console[_0x19aaca(0x1cc)](_0x1a72a5);}}),module[a0_0x16565e(0x1c4)]=router;